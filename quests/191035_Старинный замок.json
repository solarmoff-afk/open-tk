[
  {
    "id": 1,
    "text": "Автор: Инко313 (Алексей Б.)\n\nСтаринный замок полон секретов и тайн. Множество ужасных слухов ходит о нём. Но что из них правда — узнают немногие, а цена знаний окажется слишком высока...\n",
    "answers": [
      {
        "id": 26,
        "text": "Начать",
        "var_str_set": [
          "global background",
          "http://188.120.236.127/castle/img13.jpg"
        ],
        "var_set": [
          "global invert text color",
          1
        ]
      },
      {
        "id": 50,
        "text": "От автора"
      },
      {
        "id": 1,
        "text": "",
        "pageImg": "http://a.radikal.ru/a39/1911/5f/8990d58a05ae.jpg",
        "system": true
      }
    ]
  },
  {
    "id": 2,
    "text": "\n\"Группа из двух парней и двух девушек увлекалась поиском интересных мест и  связанных с ними историй. Раскопав много противоречивых и загадочных сведений об одном старинном замке на острове, они решили изучить это место.\n\nВзяв в аренду небольшое судно, искатели добрались до острова. Остров был потрясающим — со всех сторон окружённый скалами, кроме одной песчанной бухты с пирсом. Невообразимое разнообразие деревьев и красочных цветов повсюду... Как только это место осталось нетронутым, было загадкой.\n\nИ последним невероятным штрихом оказался небольшой, но тем не менее величественный старинный замок в самом центре острова. Замок был пустым, но не выглядел заброшенным. Однако, поиски хозяев результата не принесли.\"\n",
    "answers": [
      {
        "id": 6,
        "text": "Слушать дальше",
        "var_equal": [
          "hero1",
          1
        ]
      },
      {
        "id": 6,
        "text": "Рассказывать дальше",
        "var_equal": [
          "hero2",
          1
        ]
      }
    ]
  },
  {
    "id": 3,
    "text": "\nГлубокая ночь... Тёмный коридор... Шум дождя... Тени от редких всполохов молний...\n\nКурносая девушка с двумя чёрными косичками нервно оглядывалась по сторонам, медленно продвигаясь по длинному коридору, с одной стороны — окна, с другой — картины и двери. В её руках догорал огарок свечи, почти не давая никакого света. В тусклом свете луны, выглянувшей из-за туч, лицо девушки выглядело мертвенно-бледным, а широкие глаза придавали милому личику жутковатости. За окном вовсю бушевала гроза. Частые капли стучали в окна, а молнии то и дело озаряли коридор, предвещая скорые раскаты грома. \n\nСилуэт широкоплечего громилы тихо вынырнул из мрака одной из комнат, и некто медленно стал приближатся к ничего не подозревающей девушке. Грянул гром. Гигант уже потянул руку к ней, но его взгляд скользнул в сторону окна, по которому медленно сползали тёмные капли... будто капли крови... Очередная вспышка озарила заплывшее лицо с броским шрамом на переносице. И перед его глазами пронеслась недавняя сцена. \n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://c.radikal.ru/c40/1911/2e/9a07f681d8c0.png"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "text": "Вспомнить",
        "id": 70
      },
      {
        "id": 3,
        "text": "sb",
        "url": "http://188.120.236.127/castle/img29.png"
      },
      {
        "id": 3,
        "text": "kb",
        "url": "http://188.120.236.127/castle/img16.png"
      },
      {
        "id": 3,
        "text": "kk",
        "url": "http://188.120.236.127/castle/img8.png"
      },
      {
        "id": 3,
        "text": "sk",
        "url": "http://188.120.236.127/castle/img11.png"
      },
      {
        "id": 26,
        "text": "moln1",
        "url": "http://a.radikal.ru/a34/1911/fb/3f8cb3a22ea4.png"
      },
      {
        "id": 3,
        "text": "moln2",
        "url": "http://a.radikal.ru/a01/1911/1b/76152781a932.png"
      },
      {
        "id": 3,
        "text": "moln3",
        "url": "http://a.radikal.ru/a19/1911/db/2d8974d30dbf.png"
      },
      {
        "id": 3,
        "text": "okno",
        "url": "http://c.radikal.ru/c36/1911/f8/22db1cf6f8fc.png"
      },
      {
        "id": 3,
        "text": "okno2",
        "url": "http://a.radikal.ru/a00/1911/88/f994ff24778c.png"
      },
      {
        "id": 3,
        "text": "fiolet",
        "url": "http://a.radikal.ru/a33/1911/88/63213dffd795.jpg"
      },
      {
        "id": 3,
        "text": "les",
        "url": "http://d.radikal.ru/d13/1911/03/b00c2ff17ebd.png"
      },
      {
        "id": 3,
        "text": "dojd",
        "url": "http://b.radikal.ru/b23/1911/8e/7b08775b7902.png"
      },
      {
        "id": 3,
        "text": "dojd2",
        "url": "http://d.radikal.ru/d38/1911/22/b60410a8290e.png"
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nfor key, val in pairs(images) do\n    val.isVisible = false\nend\nlocal tuh1 = display.newImage(images.tuha1.url)\nlocal tuh2 = display.newImage(images.tuha1.url)\nlocal tuh3 = display.newImage(images.tuha1.url)\nlocal tuh4 = display.newImage(images.tuha1.url)\nlocal molny1 = display.newImage(images.moln1.url)\nlocal molny2 = display.newImage(images.moln2.url)\nlocal molny3 = display.newImage(images.moln3.url)\nlocal doj = display.newImage(images.dojd2.url)\nlocal okn2 = display.newImage(images.okno2.url)\nlocal okn = display.newImage(images.okno.url)\nmolny1.width = canvas.width/1.6\nmolny1.height = canvas.width/1.7\nmolny1.x = canvas.width/3\nmolny1.y=canvas.width/5\nmolny2.width = canvas.width/1.2\nmolny2.height = canvas.width/1.2\nmolny2.x = canvas.width/2.5\nmolny2.y=canvas.width/7\nmolny3.width = canvas.width/1.6\nmolny3.height = canvas.width/1.7\nmolny3.x = canvas.width/1.7\nmolny3.y=canvas.width/4\ntuh1.width = canvas.width/1.3\ntuh1.height = canvas.width/1.3\ntuh1.x = canvas.width/4\ntuh1.y=canvas.width/5\ntuh2.width = canvas.width/0.7\ntuh2.height = canvas.width/0.9\ntuh2.x = canvas.width/2\ntuh2.y=canvas.width/2.3\ntuh3.width = canvas.width/1.3\ntuh3.height = canvas.width/1.3\ntuh3.x = canvas.width/1.3\ntuh3.y=canvas.width/3.8\ntuh4.width = canvas.width/1.1\ntuh4.height = canvas.width/1.5\ntuh4.x = canvas.width/2.3\ntuh4.y=canvas.width/3.9\nokn.width = canvas.width/1\nokn.height = canvas.width/1.3\nokn.x = canvas.width/2\nokn.y=canvas.width/4.6\nokn2.width = canvas.width/1\nokn2.height = canvas.width/1.3\nokn2.x = canvas.width/2\nokn2.y=canvas.width/4.6\ndoj.width = canvas.width/1\ndoj.height = canvas.width/1\ndoj.x = canvas.width/2\ndoj.y=canvas.width/4\nmolny1.alpha = 0   molny2.alpha = 0\nmolny3.alpha = 0   tuh1.alpha = 0\ntuh2.alpha = 0        tuh3.alpha = 0\ntuh4.alpha = 0\n    local i = 1000   local k = 1\n    while k < 20 do\ntransition.fadeIn(molny1, {time = 300, delay = i<plus>1000, transition=easing.inOutBounce })\ntransition.fadeOut(molny1, {time = 500, delay = i <plus> 1800, transition=easing.inBounce })\ntransition.fadeIn(molny2, {time = 400, delay = i<plus>7000, transition=easing.inOutBounce })\ntransition.fadeOut(molny2, {time = 600, delay = i <plus> 8000,  transition=easing.inBounce })\ntransition.fadeIn(molny3, {time = 300, delay = i<plus>14000, transition=easing.inOutBounce })\ntransition.fadeOut(molny3, {time = 500, delay = i <plus> 14800, transition=easing.inBounce })\ntransition.fadeIn(tuh1, {time = 2000, delay = i})\ntransition.fadeOut(tuh1, {time = 2000, delay = i <plus> 2000})\ntransition.fadeIn(tuh2, {time = 2500, delay = i<plus>6000})\ntransition.fadeOut(tuh2, {time = 3000, delay = i <plus> 9000})\ntransition.fadeIn(tuh3, {time = 2000, delay = i<plus>13000})\ntransition.fadeOut(tuh3, {time = 2000, delay = i <plus> 15000})\ntransition.fadeIn(tuh4, {time = 2000, delay = i<plus>5900})\ntransition.fadeOut(tuh4, {time = 2000, delay = i <plus> 9000})\ntransition.fadeIn(okn, {time = 400, delay = i<plus>1100})\ntransition.fadeOut(okn, {time = 400, delay = i <plus> 1900})\ntransition.fadeIn(okn, {time = 500, delay = i<plus>7100})\ntransition.fadeOut(okn, {time = 500, delay = i <plus> 8100})\ntransition.fadeIn(okn, {time = 400, delay = i<plus>14100})\ntransition.fadeOut(okn, {time = 400, delay = i <plus> 14900})\n        k = k <plus> 1\n        i = i <plus> 18000\n    end\nlocal f = 1   local g = 300\n   while f < 360 do\ntransition.moveBy( doj, { x=-20, y=250, time=1000, delay = g } )\ntransition.moveBy( doj, { x=20, y=-250,  time= 0, delay = g <plus> 1000 } )\n    f = f <plus> 1\n    g = g <plus> 1000\n   end\nend",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 26
      },
      {
        "id": 3,
        "text": "tuha1",
        "url": "http://188.120.236.127/castle/img14.png"
      }
    ]
  },
  {
    "id": 4,
    "text": "\n— Тихо, Кэт, это я. Знаю, ты меня недолюбливаешь, но сейчас нам лучше держатся вместе. Тут творится что-то странное... Где Алекс?\n\nКэт смотрела на парня полными ужаса глазами, и он, наконец, заметил, что так и держит зажатым рот девушки. Кэт часто задышала. После чего резко вцепилась в тяжёлую руку, которая только что зажимала ей рот. Отдышавшись, она начала быстро говорить шёпотом, едва сдерживая себя, чтоб не разрыдаться:\n\n— Дэн, я не знаю, Алекс ушёл вниз, но его долго нет. Мне страшно. Я что-то видела. Там. И что вообще происходит?\n\nГлаза девушки налились слезами. Дэн постарался успоить её, но получилось не очень. Она сильно напугана. Оба напуганы. Сухим и ломким голосом Дэн выдавил из себя лишь два слова:\n\n— Держись рядом.\n\nКэт кивнула. А парень постарался собраться с мыслями и успокоиться, глубоко вдохнув.\n",
    "answers": [
      {
        "id": 7,
        "text": "Успокоиться",
        "bg_color": [
          0.7,
          0,
          0
        ]
      }
    ]
  },
  {
    "id": 5,
    "text": "\nРезко оглянувшись, парень едва заметил какое-то движение в дальнем конце коридора, но не успел об этом подумать — девушка схватила его за руку и тихо начала говорить:\n\n— Дэн, ты напугал меня... Ты... Ты тоже это видел там? Мне страшно. Я не знаю, куда пропал Алекс. И что ты тут делаешь? Что вообще здесь происходит? \n\nДэн посмотрел в глаза девушки, в которых уже наворачивались слёзы, и постарался успокоить её, а заодно и себя:\n\n— Мы обязательно найдём Алекса. Будь рядом, Кэт. Не отходи от меня.\n\nНа близком расстоянии лицо Кэт уже не было таким жутким, каким казалось раньше. Напуганное, с резкими чертами, но не бледное, живое. Лицо, пленившее сердце его друга Алекса. И похоже чувства были взаимны. Но вот Дэн почему-то недолюбливал Кэт. И это тоже было взаимно. Вот только сейчас их обоюдная антипатия не имела значения. Поэтому Дэн взял девчонку за руки, и глубоко вздохнул. Он понимал, что для начала надо успокоиться и собраться с мыслями.\n",
    "answers": [
      {
        "id": 7,
        "text": "Успокоиться",
        "bg_color": [
          0.7,
          0,
          0
        ]
      }
    ]
  },
  {
    "id": 6,
    "text": "\n\"Решив, что приступят к более детальному осмотру замка завтра, молодые люди исследовали окрестности, купались в море, наткнулись на удивительные древние раковины, одну из которых взяли с собой для изучения, и лишь под вечер вернулись к стенам замка. Недолгие сомнения группы по поводу того, что вламываться вот так без приглашения не стоило бы, всё же победил трезвый расчёт — глупо оставаться под открытым небом, когда есть возможность заночевать под крышей на удобной кровати. Тем более что на горизонте уже сгустились тучи. А ближе к ночи началась гроза.\n\nОтрезанные от мира, они даже не сразу поняли, что оказались в ловушке, и за их беззаботным отдыхом давно уже наблюдают...\"\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://188.120.236.127/castle/img28.jpg"
        ],
        "blackout": true,
        "id": 3,
        "text": "Далее",
        "var_set": [
          "global invert text color",
          1
        ]
      }
    ]
  },
  {
    "id": 7,
    "text": "\nДэн перевёл дыхание и более-менее пришёл в норму. Кэт тоже немного успокоилась, поправила волосы и двинулась по коридору.\n\n— Нам нужно разбудить Тину, нельзя её оставлять одну, раз тут творится что-то непонятное.\n\nОбретённое спокойствие продлилось недолго. Дэн не знал, как сказать Кэт, что Тина, милая Тина, чья улыбка смогла растопить его чёрствое сердце, лежала в своей комнате без признаков жизни, когда он пришёл к ней.\n",
    "answers": [
      {
        "id": 8,
        "text": "Рассказать всё Кэт",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "pravda",
          1
        ]
      },
      {
        "id": 9,
        "text": "Молча идти",
        "bg_color": [
          0.7,
          0,
          0
        ]
      }
    ]
  },
  {
    "id": 8,
    "text": "\nДэн сбивчиво стал рассказывать Кэт, что произошло до встречи с ней. Та с ужасом посмотрела на Дэна. После чего рванула от него к комнате Тины. Дэн побежал следом. Замерев на пороге, он увидел, что тела нет, только капли крови указывали на то, что он не сошёл с ума. \n\nКэт уже вовсю рыдала и тряслась, усевшись на краешек кровати. Всполохи молний изредка озаряли комнату через единственное окно, делая пространство ещё темней, когда свет ярких вспышек угасал. В раскатах грома Дэн услышал грубый мужской голос со стороны парадной лестницы. Он уже решил быстрее зайти в комнату, чтобы обдумать дальнейшие действия, как краем глаза уловил движение в коридоре, откуда они только что пришли.\n",
    "answers": [
      {
        "id": 10,
        "text": "Быстро зайти и запереть дверь",
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b03/1911/2b/f860532fc441.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 17,
        "text": "   ",
        "comment": true,
        "text_color": [
          1,
          0,
          0
        ]
      },
      {
        "instant": true,
        "lua_do": "function lua_do()\n   dialog({\n   header = \"Подсказка\", \n   text = \"<s>\n Бабочки могут иногда указать на возможные последствия выбора. Синие — на благоприятные, красные — на неблагоприятные. <s>\n\",\n   fontSizeForHeader = 1.1,\n   fontSizeForBody = 0.9,\n   visibility = 0.7,\n   background = { 0.2, 0.2, 0.2 },\n   textColorForHeader = { 0.7, 0.7, 0.7 },\n   textColorForBody = { 1, 0, 0 },\n   answers = \n{\n   {\n   text = \"Закрыть\",   \n   fontSize = 1.1,\n   textColor = { 0.7, 0.7, 0.7 },\n   background = { 0.1, 0.1, 0.1 },\n   pressListener = function()\n   hideDialog() end\n    }\n  }\n}\n)\nend",
        "text": "Подсказка",
        "id": 8,
        "middle_answer": true
      },
      {
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\n    blueCircle = {}\n    for i = 1, 4 do\n        blueCircle[i] = display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\n        blueCircle[i].width = canvas.width / 100\n        blueCircle[i].height = canvas.width / 100\n        blueCircle[i].x = canvas.width / 1.15\n        blueCircle[i].y = canvas.width / 11\n        blueCircle[i].alpha = 0.8\n    end\n\n    blueButterflies = {}\n    local step = 0\n    for i = 1, 7 do\n        blueButterflies[i] = display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\n        blueButterflies[i].width = canvas.width / (6.5 <plus> step)\n        blueButterflies[i].height = canvas.width / 8\n        blueButterflies[i].x = canvas.width / 1.15\n        blueButterflies[i].y = canvas.width / 11\n        blueButterflies[i].alpha=0\n        step = step <plus> 0.5\n    end\n\n    transition.fadeIn(blueButterflies[1], { time=2600 })\n\n    function Butterfly(event)\n        transition.fadeOut(blueButterflies[1], { time = 800, delay = 100 })\n\n        local bbd1 = 150\n        for i = 2, 6 do\n            transition.fadeIn(blueButterflies[i], { time = 60, delay = bbd1 })\n            transition.fadeOut(blueButterflies[i] , { time = 800, delay = bbd1 <plus> 50 })\n            bbd1 = bbd1 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[7], { time = 60, delay = 650})\n        transition.fadeOut(blueButterflies[7], { time = 600, delay = 750 })\n\n        local bbd2 = 850\n        for i = 6, 2, -1 do\n            transition.fadeIn(blueButterflies[i], { time=300, delay = bbd2 })\n            transition.fadeOut(blueButterflies[i], { time=1300, delay=bbd2 <plus> 50 })\n            bbd2 = bbd2 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[1], { time = 300, delay = 1350}) \n    end\n\n    timer.performWithDelay(3000, Butterfly, 3)\n    transition.fadeOut(blueButterflies[1], { time = 3000, delay = 12200 })\n    local bcd = 3500\n    for i = 1, 4 do\n        transition.scaleBy(blueCircle[i] , { xScale = 30, yScale = 30, time = 5000, delay = bcd})\n        transition.fadeOut(blueCircle[i] , { time = 5000, delay = bcd <plus> 200}) \n        bcd = bcd <plus> 1600\n    end\nend",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 9,
    "text": "\nДэн не смог выдавить из себя и слова. Да и поверит ли она его словам? Вдруг она испугается его и сбежит? А разделяться сейчас никак нельзя. Тина мертва, Алекс, возможно, тоже. Кто? Почему? В голове Дэна вертелись гипотезы одна страшней другой. Однако, мысль ускользала от него, а Кэт уже приблизилась к комнате Тины. Открыв дверь, она бросилась внутрь. Дэн пошёл следом, ожидая услышать крик, но подойдя к порогу увидел, что тела Тины нет, а Кэт смотрит на кровать. Только несколько капель крови... \n\nКэт с ужасом в глазах посмотрела на Дэна и осела на пол. После чего тихо заплакала. Дэн уже собрался зайти, как вдруг за раскатами грома отчётливо услышал грубый мужской голос со стороны парадной лестницы. А в коридоре, откуда они только что пришли, уловил чьё-то движение.\n",
    "answers": [
      {
        "id": 10,
        "text": "Зайти и запереть дверь",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b03/1911/2b/f860532fc441.jpg"
        ]
      },
      {
        "id": 17,
        "text": "   ",
        "comment": true,
        "text_color": [
          1,
          0,
          0
        ]
      },
      {
        "instant": true,
        "middle_answer": true,
        "text": "Подсказка",
        "id": 9,
        "lua_do": "function lua_do()\n   dialog({\n   header = \"Подсказка\", \n   text = \"<s>\n Бабочки могут иногда указать на возможные последствия выбора. Синие — на благоприятные, красные — на неблагоприятные. <s>\n\",\n   fontSizeForHeader = 1.1,\n   fontSizeForBody = 0.9,\n   visibility = 0.7,\n   background = { 0.2, 0.2, 0.2 },\n   textColorForHeader = { 0.7, 0.7, 0.7 },\n   textColorForBody = { 1, 0, 0 },\n   answers = \n{\n   {\n   text = \"Закрыть\",   \n   fontSize = 1.1,\n   textColor = { 0.7, 0.7, 0.7 },\n   background = { 0.1, 0.1, 0.1 },\n   pressListener = function()\n   hideDialog() end\n    }\n  }\n}\n)\nend"
      },
      {
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 10,
    "text": "\nДверной замок звонко щёлкнул в затянувшейся тишине между раскатами грома. Кэт обернулась к Дэну с выражением непонимания на опухшем от слёз лице.\n\n—  Кэт, я слышал чей-то голос. И это не Алекс. Мы не одни на острове. И кто бы там ни был, непохоже, что у него добрые намеренья. Надо выбираться и бежать к шхуне!\n\nКэт начала медленно подниматься.\n\n— Дэн, а как же Алекс? Нам нужно...\n\nВ коридоре за дверью послышались звуки, похожие на скрежет. Ручка двери задёргалась. Кэт тут же умолкла и посмотрела в сторону источника шума. Дэн быстрыми шагами прошёл через комнату, открыл окно и выглянул наружу. Ветер с брызгами дождя обдал хмурое лицо. За окном оказался карниз, а дальше, как ни вглядывайся, лишь полная тьма. До земли метров пять, может больше. Спрыгнуть и не сломать ноги не получится.\n",
    "answers": [
      {
        "id": 12,
        "text": "Открыть дверь",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 13,
        "text": "Поискать в комнате",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "prost",
          2
        ]
      },
      {
        "id": 11,
        "text": "Привязать простынь к карнизу за окном",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "prost",
          1
        ]
      }
    ]
  },
  {
    "id": 11,
    "text": "\nВзяв простыню с кровати и наскоро перевязав в нескольких местах, Дэн решил, что этого скорее всего хватит, чтобы стать неким подобием каната, держась за который можно спуститься. Один конец он надёжно привязал к выступающему элементу карниза, а второй спустил в темноту. Осталось лишь выбрать, кто полезет первым.\n",
    "answers": [
      {
        "id": 16,
        "text": "Отправить первым Дэна",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "Den1",
          1,
          "Ket1",
          2
        ]
      },
      {
        "id": 17,
        "text": "Отправить первой Кэт",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "Ket1",
          1,
          "Den1",
          2
        ]
      },
      {
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 12,
    "text": "\nДэн собрался открыть дверь и наброситься на того, кто находится за ней, но Кэт стала умолять его не делать этого. Действительно, что если бандит не один, а несколько. С одним Дэн может и справится, но с двумя или больше, без оружия... Даже несмотря на своё военное прошлое, а может и благодаря ему, Дэн понимал, что не имея информации о противнике лезть в бой не стоит. Нужно искать другой выход из ситуации.\n",
    "answers": [
      {
        "id": 11,
        "text": "Привязать простыню к карнизу за окном",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "prost",
          1
        ]
      },
      {
        "id": 13,
        "text": "Поискать в комнате",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "prost",
          2
        ]
      }
    ]
  },
  {
    "id": 13,
    "text": "\nДэн спешно стал обыскивать комнату. Из того, что могло сейчас пригодиться, нашлась лишь ещё одна простыня. Впрочем, две простынки лучше одной. Кэт смотрела со страхом на дверь, периодически оглядываясь на Дэна, который наскоро связав две простыни, прикрепил один край к выступающему элементу карниза, а второй скинул в темноту за окном. Осталось теперь спуститься по этому подобию каната. \n",
    "answers": [
      {
        "id": 16,
        "text": "Первым лезет Дэн",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "Den1",
          1,
          "Ket1",
          2
        ]
      },
      {
        "id": 17,
        "text": "Первой лезет Кэт",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "Ket1",
          1,
          "Den1",
          2
        ]
      },
      {
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\n    blueCircle = {}\n    for i = 1, 4 do\n        blueCircle[i] = display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\n        blueCircle[i].width = canvas.width / 100\n        blueCircle[i].height = canvas.width / 100\n        blueCircle[i].x = canvas.width / 1.15\n        blueCircle[i].y = canvas.width / 11\n        blueCircle[i].alpha = 0.8\n    end\n\n    blueButterflies = {}\n    local step = 0\n    for i = 1, 7 do\n        blueButterflies[i] = display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\n        blueButterflies[i].width = canvas.width / (6.5 <plus> step)\n        blueButterflies[i].height = canvas.width / 8\n        blueButterflies[i].x = canvas.width / 1.15\n        blueButterflies[i].y = canvas.width / 11\n        blueButterflies[i].alpha=0\n        step = step <plus> 0.5\n    end\n\n    transition.fadeIn(blueButterflies[1], { time=2600 })\n\n    function Butterfly(event)\n        transition.fadeOut(blueButterflies[1], { time = 800, delay = 100 })\n\n        local bbd1 = 150\n        for i = 2, 6 do\n            transition.fadeIn(blueButterflies[i], { time = 60, delay = bbd1 })\n            transition.fadeOut(blueButterflies[i] , { time = 800, delay = bbd1 <plus> 50 })\n            bbd1 = bbd1 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[7], { time = 60, delay = 650})\n        transition.fadeOut(blueButterflies[7], { time = 600, delay = 750 })\n\n        local bbd2 = 850\n        for i = 6, 2, -1 do\n            transition.fadeIn(blueButterflies[i], { time=300, delay = bbd2 })\n            transition.fadeOut(blueButterflies[i], { time=1300, delay=bbd2 <plus> 50 })\n            bbd2 = bbd2 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[1], { time = 300, delay = 1350}) \n    end\n\n    timer.performWithDelay(3000, Butterfly, 3)\n    transition.fadeOut(blueButterflies[1], { time = 3000, delay = 12200 })\n    local bcd = 3500\n    for i = 1, 4 do\n        transition.scaleBy(blueCircle[i] , { xScale = 30, yScale = 30, time = 5000, delay = bcd})\n        transition.fadeOut(blueCircle[i] , { time = 5000, delay = bcd <plus> 200}) \n        bcd = bcd <plus> 1600\n    end\nend",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 14,
    "text": "— Чёртова птица!\n\nДэн медленно пробирался сквозь непогоду. Не хватало ещё в спешке наломать дров. Тем более, что вскоре он услышал голоса. Дэн заполз в кустарники возле дороги, стараясь не ломать веток, чтобы не привлечь внимания. Излишняя предосторожность при такой-то погоде, но кто знает... \n\nВыглянув из своего укрытия, он обнаружил троих вооруженных людей, стоявших неподалеку от парадного входа. Расслышать, о чём они говорят, было затруднительно даже с такого небольшого расстояния — мешали шум дождя и раскаты грома. Впрочем, они же помогали оставаться незамеченным.\n",
    "answers": [
      {
        "id": 14,
        "var_not": [
          "palka",
          1
        ],
        "text": "\nДэн увидел рядом крепкую палку и взял в руки. \n",
        "merge": true
      },
      {
        "id": 29,
        "text": "Составить план действий",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 14,
        "text": "sova",
        "url": "http://a.radikal.ru/a14/1911/1e/a7014bb894ec.png"
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\n\nimages.sova.isVisible = false\n\nsov = display.newImage(images.sova.url)\n\nsov.width = canvas.width/70\nsov.height = canvas.width/70\nsov.x = canvas.width/1.5\nsov.y=canvas.width/2.5\n\ntransition.scaleBy( sov, { xScale=200.0, yScale=200.0, time=1500, delay = 800, transition=easing.inCirc } )\n\ntransition.moveBy( sov, { x= -1800, y= -200, time=2700, delay = 800, transition= easing.inOutBack } )\n\n\nend",
        "text": "Новый ответ. введите текст",
        "id": 26,
        "calculate": false
      },
      {
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 15,
    "text": "\nВы наблюдаете, как светловолосый молодой парень неожиданно подсаживается к угрюмым мужчинам, держа в руке увесистую кружку с пивом. Искренняя улыбка, не сходящая с его лица, и дружелюбный взгляд синих глаз никак не вяжутся с произнесёнными ледяным тоном словами:\n\n— Откажитесь! Иначе пожалеете. Остров не принимает больше гостей.\n\nМужчины в недоумении смотрят на парня, который уже наполовину опустошил свою кружку. В затянувшейся паузе, один из них не выдерживает и громко произносит:\n\n— Какого черта? Ты ещё кто такой? Что тебе нужно?\n\nПарень внимательно смотрит на говорившего:\n\n— Как много вопросов... Пожалуй, расскажу вам одну историю, которую, уверен, вы не слышали...\n",
    "answers": [
      {
        "id": 2,
        "text": "Послушать историю"
      }
    ]
  },
  {
    "id": 16,
    "text": "\nДэн подозвал Кэт к себе. За дверью наступило затишье.\n\n— Так, я полезу первым, ты следом за мной. Обхватываешь ногами, перебираешь руками. Поняла?\n\nКэт кивнула. И Дэн, не теряя времени, перелез карниз, схватившись за ткань простыни. Как назло, ветер начал усиливаться.\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://a.radikal.ru/a03/1911/c7/13208efaf3e6.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "id": 18,
        "text": "Начать спуск*",
        "var_set": [
          "counter",
          6,
          "veter",
          1
        ]
      },
      {
        "id": 17,
        "text": "/*Далее начнётся мини-игра в реальном времени. Важно быстро принимать правильные решения, иначе последствия могут быть печальными.",
        "comment": true,
        "text_color": [
          1,
          0,
          0
        ]
      },
      {
        "instant": true,
        "lua_do": "function lua_do()\n   dialog({\n   header = \"Подсказка\", \n   text = \"<s>\n Следите за силой ветра. Если ветер усиливается, следует держатся крепче, чтобы не упасть и не разбиться. Спускаться стоит исключительно при слабом ветре.<s>\n\",\n   fontSizeForHeader = 1.1,\n   fontSizeForBody = 0.9,\n   visibility = 0.7,\n   background = { 0.15, 0.15, 0.15 },\n   textColorForHeader = { 0.7, 0.7, 0.7 },\n   textColorForBody = { 1, 0, 0 },\n   answers = \n{\n   {\n   text = \"Закрыть\",   \n   fontSize = 1.1,\n   textColor = { 0.7, 0.7, 0.7 },\n   background = { 0.1, 0.1, 0.1 },\n   pressListener = function()\n   hideDialog() end\n    }\n  }\n}\n)\nend",
        "text": "Подсказка",
        "id": 16,
        "middle_answer": true
      }
    ]
  },
  {
    "id": 17,
    "text": "\nКэт неуверенно подошла к окну, когда Дэн подозвал её. За дверью наступило затишье. Дэн положил руку на плечо девушки.\n\n— Крепко обхвати ногами и перебирай руками. Ты справишься!\n\nКэт некоторое время сомневалась, но в итоге молча кивнула и начала перебираться через карниз, поддерживаемая Дэном. Опустив ноги вниз и схватившись за ткань руками, Кэт дала понять, что начинает спускаться. В этот момент произошла цепь событий: в дверь начали ломиться, сверкнула молния и налетел сильный порыв ветра. Дэн лишь на секунду отвлекся, как услышал пронзительный крик Кэт, которая не удержалась. За спиной Дэна дверь уже начала трещать, поэтому без размышлений Дэн перескочил карниз, вцепился в простынь и приготовился спускаться.\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://a.radikal.ru/a03/1911/c7/13208efaf3e6.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "id": 18,
        "text": "Начать спуск*",
        "var_set": [
          "counter",
          6,
          "veter",
          1
        ]
      },
      {
        "id": 17,
        "text": "/*Далее начнется мини-игра в реальном времени. Важно быстро принимать правильные решения, иначе последствия могут быть печальными.",
        "comment": true,
        "text_color": [
          1,
          0,
          0
        ]
      },
      {
        "instant": true,
        "middle_answer": true,
        "text": "Подсказка",
        "id": 16,
        "lua_do": "function lua_do()\n   dialog({\n   header = \"Подсказка\", \n   text = \"<s>\n Следите за силой ветра. Если ветер усиливается, следует держатся крепче, чтобы не упасть и не разбиться. Спускаться стоит исключительно при слабом ветре.<s>\n\",\n   fontSizeForHeader = 1.0,\n   fontSizeForBody = 0.7,\n   visibility = 0.7,\n   background = { 0.2, 0.2, 0.2 },\n   textColorForHeader = { 0.7, 0.7, 0.7 },\n   textColorForBody = { 1, 0, 0 },\n   answers = \n{\n   {\n   text = \"Закрыть\",   \n   fontSize = 1.0,\n   textColor = { 0.7, 0.7, 0.7 },\n   background = { 0.1, 0.1, 0.1 },\n   pressListener = function()\n   hideDialog() end\n    }\n  }\n}\n)\nend"
      }
    ]
  },
  {
    "id": 18,
    "text": "   \n",
    "answers": [
      {
        "var_equal": [
          "veter",
          3
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "text": "Нужно переждать порыв сильного ветра.",
        "merge": true
      },
      {
        "var_equal": [
          "veter",
          2
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "text": "Опасность сорваться.",
        "merge": true
      },
      {
        "var_equal": [
          "veter",
          1
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "text": "Пора спускаться.",
        "merge": true
      },
      {
        "id": 18,
        "text": "Дэн не удержался под сильным порывом ветра и соскользнул вниз, едва успев зацепиться. Наверху ещё не так сильно качает, но чем ниже, тем сложнее будет не сорваться...",
        "var_equal": [
          "counter",
          0
        ],
        "merge": true
      },
      {
        "comment": true,
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "update": [
          5
        ],
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d39/1911/81/a9ae17f4c1c9.jpg"
        ],
        "var_equal": [
          "veter",
          1
        ],
        "text": "   ",
        "instant": true,
        "var_set": [
          "veter",
          2
        ]
      },
      {
        "var_show": [
          "counter",
          "сек."
        ],
        "comment": true,
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "update": [
          1,
          6
        ],
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d21/1911/ed/df3370a4c71f.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "instant": true,
        "var_sub": [
          "counter",
          1
        ],
        "text": "Осталось: "
      },
      {
        "comment": true,
        "id": 18,
        "instant": true,
        "update": [
          4
        ],
        "var_str_set": [
          "global background",
          "http://a.radikal.ru/a03/1911/c7/13208efaf3e6.jpg"
        ],
        "var_equal": [
          "veter",
          3
        ],
        "var_need": [
          "counter",
          1
        ],
        "text": "   ",
        "var_set": [
          "veter",
          1
        ]
      },
      {
        "shadow_color": [
          0,
          0.2,
          0
        ],
        "text": "Дует слабый ветер\n",
        "comment": true,
        "var_equal": [
          "veter",
          1
        ],
        "middle_answer": true,
        "instant": true,
        "id": 18,
        "text_color": [
          0.5,
          1,
          0.2
        ]
      },
      {
        "text_color": [
          1,
          1,
          0.5
        ],
        "text": "Ветер усиливается\n",
        "comment": true,
        "var_equal": [
          "veter",
          2
        ],
        "middle_answer": true,
        "instant": true,
        "id": 18,
        "shadow_color": [
          1,
          0.3,
          0
        ]
      },
      {
        "text_color": [
          1,
          0.5,
          0
        ],
        "text": "Дует сильный ветер\n",
        "comment": true,
        "var_equal": [
          "veter",
          3
        ],
        "middle_answer": true,
        "instant": true,
        "id": 18,
        "shadow_color": [
          0.3,
          0,
          0
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d21/1911/ed/df3370a4c71f.png"
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "text": "Держаться крепче",
        "middle_answer": true,
        "instant": true,
        "var_set": [
          "veter",
          3,
          "counter",
          6
        ]
      },
      {
        "comment": true,
        "text_color": [
          0.5,
          0.5,
          0.5
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "var_not": [
          "veter",
          2
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b11/1911/20/089e4d8e87ee.png"
        ],
        "middle_answer": true,
        "text": "Держаться покрепче",
        "instant": true
      },
      {
        "comment": true,
        "var_need": [
          "counter",
          1
        ],
        "id": 18,
        "instant": true,
        "text": "   ",
        "middle_answer": true
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 19,
        "text": "Спускаться",
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d21/1911/ed/df3370a4c71f.png"
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          1
        ],
        "middle_answer": true,
        "instant": true,
        "var_set": [
          "veter",
          3,
          "counter",
          6
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "middle_answer": true,
        "text": "Спускаться",
        "instant": true,
        "var_set": [
          "counter",
          0
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          3
        ],
        "middle_answer": true,
        "instant": true,
        "text": "Спускаться",
        "var_set": [
          "counter",
          0
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d21/1911/ed/df3370a4c71f.png"
        ],
        "var_equal": [
          "counter",
          0
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 19,
        "text": "Продолжить спуск",
        "middle_answer": true,
        "var_set": [
          "counter",
          6,
          "veter",
          3
        ]
      },
      {
        "var_equal": [
          "counter",
          0
        ],
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 19,
    "text": "   \n",
    "answers": [
      {
        "id": 18,
        "text": "СВЕРХУ ПОСЛЫШАЛСЯ КРИК. \n\n",
        "merge": true,
        "var_equal": [
          "Ket1",
          2
        ]
      },
      {
        "id": 18,
        "text": "Ткань стала скользкой — Дэн не может подняться вверх. ",
        "var_equal": [
          "vverh",
          1
        ],
        "merge": true
      },
      {
        "var_equal": [
          "veter",
          3,
          "krep",
          0
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "text": "Нужно переждать порыв сильного ветра. ",
        "merge": true
      },
      {
        "id": 18,
        "text": "Нужно переждать порыв сильного ветра. ",
        "merge": true,
        "var_equal": [
          "krep",
          2
        ]
      },
      {
        "var_equal": [
          "veter",
          2
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "text": "Опасность сорваться. ",
        "merge": true
      },
      {
        "var_equal": [
          "veter",
          1
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "text": "Пора! ",
        "merge": true
      },
      {
        "id": 18,
        "text": "Под сильным порывом ветра простыню сильно раскачивало. Дэн начал соскальзывать по ткани, руки обожгло трением, а силы резко покинули тело. Дэн не удержался и сорвался вниз, стараясь хоть как-то на лету ухватиться...\n\n",
        "var_equal": [
          "counter",
          0
        ],
        "merge": true
      },
      {
        "comment": true,
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "update": [
          5
        ],
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d39/1911/81/a9ae17f4c1c9.jpg"
        ],
        "var_equal": [
          "veter",
          1
        ],
        "instant": true,
        "text": "   ",
        "var_set": [
          "Ket1",
          3,
          "veter",
          2
        ]
      },
      {
        "comment": true,
        "id": 18,
        "text": "   ",
        "update": [
          4
        ],
        "var_str_set": [
          "global background",
          "http://a.radikal.ru/a03/1911/c7/13208efaf3e6.jpg"
        ],
        "var_equal": [
          "krep",
          0,
          "veter",
          3
        ],
        "var_need": [
          "counter",
          1
        ],
        "instant": true,
        "var_set": [
          "veter",
          1,
          "krep",
          0,
          "Ket1",
          3
        ]
      },
      {
        "comment": true,
        "id": 18,
        "instant": true,
        "update": [
          7
        ],
        "var_str_set": [
          "global background",
          "http://a.radikal.ru/a03/1911/c7/13208efaf3e6.jpg"
        ],
        "var_equal": [
          "krep",
          2,
          "veter",
          3
        ],
        "var_need": [
          "counter",
          1
        ],
        "text": "   ",
        "var_set": [
          "veter",
          1,
          "Ket1",
          3,
          "counter",
          6,
          "krep",
          0
        ]
      },
      {
        "var_show": [
          "counter",
          "сек."
        ],
        "comment": true,
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "update": [
          1,
          6
        ],
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d21/1911/ed/df3370a4c71f.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "instant": true,
        "var_sub": [
          "counter",
          1
        ],
        "text": "Осталось: "
      },
      {
        "middle_answer": true,
        "instant": true,
        "comment": true,
        "text_color": [
          0.5,
          1,
          0.2
        ],
        "id": 18,
        "text": "Дует слабый ветер\n",
        "shadow_color": [
          0,
          0.2,
          0
        ],
        "var_equal": [
          "veter",
          1
        ]
      },
      {
        "var_equal": [
          "veter",
          2
        ],
        "instant": true,
        "comment": true,
        "text_color": [
          1,
          1,
          0.5
        ],
        "shadow_color": [
          1,
          0.3,
          0
        ],
        "text": "Ветер усиливается\n",
        "middle_answer": true,
        "id": 18
      },
      {
        "var_equal": [
          "veter",
          3
        ],
        "instant": true,
        "comment": true,
        "text_color": [
          1,
          0.5,
          0
        ],
        "shadow_color": [
          0.3,
          0,
          0
        ],
        "text": "Дует сильный ветер\n",
        "middle_answer": true,
        "id": 18
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 19,
        "text": "Подняться",
        "var_not": [
          "vverh",
          1
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          1,
          "Den1",
          1
        ],
        "middle_answer": true,
        "instant": true,
        "var_need": [
          "counter",
          1
        ],
        "var_set": [
          "vverh",
          1,
          "counter",
          6
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 19,
        "text": "Подняться",
        "var_not": [
          "vverh",
          1
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          2,
          "Den1",
          1
        ],
        "middle_answer": true,
        "instant": true,
        "var_need": [
          "counter",
          1
        ],
        "var_set": [
          "counter",
          0
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 19,
        "var_need": [
          "counter",
          1
        ],
        "var_not": [
          "vverh",
          1
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          3,
          "Den1",
          1
        ],
        "middle_answer": true,
        "text": "Подняться",
        "instant": true,
        "var_set": [
          "counter",
          0,
          "Ket1",
          3
        ]
      },
      {
        "comment": true,
        "text_color": [
          0.5,
          0.5,
          0.5
        ],
        "id": 19,
        "text": "Подняться",
        "bgAnswerImage": [
          "http://b.radikal.ru/b11/1911/20/089e4d8e87ee.png"
        ],
        "var_equal": [
          "vverh",
          1,
          "Den1",
          1
        ],
        "middle_answer": true,
        "instant": true,
        "var_need": [
          "counter",
          1
        ]
      },
      {
        "instant": true,
        "comment": true,
        "var_equal": [
          "Den1",
          1
        ],
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "text": "   ",
        "middle_answer": true
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 19,
        "instant": true,
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d21/1911/ed/df3370a4c71f.png"
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "middle_answer": true,
        "text": "Держаться покрепче",
        "var_need": [
          "counter",
          1
        ],
        "var_set": [
          "veter",
          3,
          "krep",
          2,
          "counter",
          6
        ]
      },
      {
        "comment": true,
        "text_color": [
          0.5,
          0.5,
          0.5
        ],
        "id": 19,
        "text": "Держаться покрепче",
        "var_not": [
          "veter",
          2
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b11/1911/20/089e4d8e87ee.png"
        ],
        "middle_answer": true,
        "var_need": [
          "counter",
          1
        ],
        "instant": true
      },
      {
        "comment": true,
        "var_need": [
          "counter",
          1
        ],
        "id": 18,
        "instant": true,
        "text": "   ",
        "middle_answer": true
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 20,
        "instant": true,
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d39/1911/81/a9ae17f4c1c9.jpg"
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          1
        ],
        "middle_answer": true,
        "text": "Спускаться",
        "var_need": [
          "counter",
          1
        ],
        "var_set": [
          "counter",
          6,
          "veter",
          2
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 19,
        "text": "Спускаться",
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "var_need": [
          "counter",
          1
        ],
        "instant": true,
        "middle_answer": true,
        "var_set": [
          "counter",
          0
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "middle_answer": true,
        "text": "Спускаться",
        "var_random": [
          "veter",
          1,
          2
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          3
        ],
        "id": 19,
        "instant": true,
        "var_need": [
          "counter",
          1
        ],
        "var_set": [
          "counter",
          0,
          "Ket1",
          3
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "counter",
          0
        ],
        "middle_answer": true,
        "text": "Жёсткое падение...",
        "id": 22,
        "var_set": [
          "perelom",
          1
        ]
      },
      {
        "var_equal": [
          "counter",
          0
        ],
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 20,
    "text": "   \n",
    "answers": [
      {
        "var_equal": [
          "veter",
          3
        ],
        "id": 18,
        "text": "Нужно переждать порыв сильного ветра. ",
        "var_need": [
          "counter",
          1
        ],
        "merge": true
      },
      {
        "var_equal": [
          "veter",
          2
        ],
        "id": 18,
        "text": "Опасность сорваться. ",
        "var_need": [
          "counter",
          1
        ],
        "merge": true
      },
      {
        "var_equal": [
          "veter",
          1
        ],
        "id": 18,
        "text": "Пора! ",
        "var_need": [
          "counter",
          1
        ],
        "merge": true
      },
      {
        "id": 18,
        "text": "Под сильным порывом ветра простыню  сильно раскачивало. Дэн начал соскальзывать по ткани, руки обожгло трением, а силы резко покинули тело. Дэн не удержался и сорвался вниз, стараясь хоть как-то на лету ухватиться...\n\n",
        "merge": true,
        "var_equal": [
          "counter",
          0
        ]
      },
      {
        "id": 18,
        "text": "Ткань закончилась, и Дэну ничего не оставалось, как спрыгнуть вниз, надеясь, что до земли не далеко...\n",
        "var_equal": [
          "prost",
          3
        ],
        "merge": true
      },
      {
        "comment": true,
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "update": [
          3
        ],
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d39/1911/81/a9ae17f4c1c9.jpg"
        ],
        "var_equal": [
          "veter",
          1
        ],
        "instant": true,
        "text": "   ",
        "var_set": [
          "veter",
          2
        ]
      },
      {
        "comment": true,
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "update": [
          4
        ],
        "var_str_set": [
          "global background",
          "http://a.radikal.ru/a03/1911/c7/13208efaf3e6.jpg"
        ],
        "var_equal": [
          "veter",
          3
        ],
        "instant": true,
        "text": "   ",
        "var_set": [
          "veter",
          1
        ]
      },
      {
        "var_show": [
          "counter",
          "сек."
        ],
        "comment": true,
        "id": 18,
        "text": "Осталось: ",
        "update": [
          1,
          6
        ],
        "var_equal": [
          "veter",
          2
        ],
        "var_need": [
          "counter",
          1
        ],
        "var_sub": [
          "counter",
          1
        ],
        "instant": true
      },
      {
        "middle_answer": true,
        "instant": true,
        "comment": true,
        "text_color": [
          0.5,
          1,
          0.2
        ],
        "id": 18,
        "text": "Дует слабый ветер\n",
        "shadow_color": [
          0,
          0.2,
          0
        ],
        "var_equal": [
          "veter",
          1
        ]
      },
      {
        "var_equal": [
          "veter",
          2
        ],
        "instant": true,
        "comment": true,
        "text_color": [
          1,
          1,
          0.5
        ],
        "shadow_color": [
          1,
          0.3,
          0
        ],
        "text": "Ветер усиливается\n",
        "middle_answer": true,
        "id": 18
      },
      {
        "var_equal": [
          "veter",
          3
        ],
        "instant": true,
        "comment": true,
        "text_color": [
          1,
          0.5,
          0
        ],
        "shadow_color": [
          0.3,
          0,
          0
        ],
        "text": "Дует сильный ветер\n",
        "middle_answer": true,
        "id": 18
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 20,
        "instant": true,
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d21/1911/ed/df3370a4c71f.png"
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "middle_answer": true,
        "text": "Держаться покрепче",
        "var_need": [
          "counter",
          1
        ],
        "var_set": [
          "veter",
          3,
          "counter",
          6
        ]
      },
      {
        "comment": true,
        "text_color": [
          0.5,
          0.5,
          0.5
        ],
        "id": 19,
        "text": "Держаться покрепче",
        "var_not": [
          "veter",
          2,
          "prost",
          3
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b11/1911/20/089e4d8e87ee.png"
        ],
        "middle_answer": true,
        "var_need": [
          "counter",
          1
        ],
        "instant": true
      },
      {
        "comment": true,
        "var_need": [
          "counter",
          1
        ],
        "id": 18,
        "instant": true,
        "text": "   ",
        "middle_answer": true
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 20,
        "instant": true,
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          1,
          "prost",
          1
        ],
        "var_need": [
          "counter",
          1
        ],
        "text": "Спускаться",
        "middle_answer": true,
        "var_set": [
          "prost",
          3,
          "veter",
          4
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 21,
        "instant": true,
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d39/1911/81/a9ae17f4c1c9.jpg"
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          1,
          "prost",
          2
        ],
        "middle_answer": true,
        "text": "Спускаться",
        "var_need": [
          "counter",
          1
        ],
        "var_set": [
          "counter",
          5,
          "veter",
          2
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 20,
        "text": "Спускаться",
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "var_need": [
          "counter",
          1
        ],
        "instant": true,
        "middle_answer": true,
        "var_set": [
          "counter",
          0
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 20,
        "instant": true,
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          3
        ],
        "var_need": [
          "counter",
          1
        ],
        "text": "Спускаться",
        "middle_answer": true,
        "var_set": [
          "counter",
          0
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "counter",
          0
        ],
        "middle_answer": true,
        "text": "Жёсткое падение...",
        "id": 22,
        "var_set": [
          "perelom",
          1
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "prost",
          3
        ],
        "middle_answer": true,
        "text": "Прыжок в пустоту...",
        "id": 22,
        "var_set": [
          "perelom",
          1
        ]
      },
      {
        "var_equal": [
          "counter",
          0
        ],
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст"
      },
      {
        "var_equal": [
          "prost",
          3
        ],
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 21,
    "text": "   \n",
    "answers": [
      {
        "var_equal": [
          "veter",
          3
        ],
        "id": 18,
        "text": "Нужно переждать порыв сильного ветра.",
        "var_need": [
          "counter",
          1
        ],
        "merge": true
      },
      {
        "var_equal": [
          "veter",
          2
        ],
        "id": 18,
        "text": "Опасность сорваться.",
        "var_need": [
          "counter",
          1
        ],
        "merge": true
      },
      {
        "var_equal": [
          "veter",
          1
        ],
        "id": 18,
        "text": "Пора!",
        "var_need": [
          "counter",
          1
        ],
        "merge": true
      },
      {
        "var_not": [
          "sp",
          1
        ],
        "var_equal": [
          "counter",
          0
        ],
        "id": 18,
        "text": "Под сильным порывом ветра простыню сильно раскачивало. Дэн начал соскальзывать по ткани, руки обожгло трением, а силы резко покинули тело. Дэн не удержался и сорвался вниз, стараясь хоть как-то на лету ухватиться...\n\n",
        "merge": true
      },
      {
        "id": 18,
        "text": "Дэн уже держался из последних сил, когда почувствовал, что ткань закончилась. Спускаясь уже на одних руках, он, наконец, почувствовал под ногами твёрдую землю...\n\n",
        "var_equal": [
          "counter",
          0,
          "sp",
          1
        ],
        "merge": true
      },
      {
        "comment": true,
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "update": [
          3
        ],
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d39/1911/81/a9ae17f4c1c9.jpg"
        ],
        "var_equal": [
          "veter",
          1
        ],
        "instant": true,
        "text": "   ",
        "var_set": [
          "veter",
          2
        ]
      },
      {
        "comment": true,
        "id": 18,
        "var_need": [
          "counter",
          1
        ],
        "update": [
          4
        ],
        "var_str_set": [
          "global background",
          "http://a.radikal.ru/a03/1911/c7/13208efaf3e6.jpg"
        ],
        "var_equal": [
          "veter",
          3
        ],
        "instant": true,
        "text": "    ",
        "var_set": [
          "veter",
          1
        ]
      },
      {
        "var_show": [
          "counter",
          "сек."
        ],
        "comment": true,
        "id": 18,
        "instant": true,
        "update": [
          1,
          5
        ],
        "var_equal": [
          "veter",
          2
        ],
        "text": "Осталось: ",
        "var_sub": [
          "counter",
          1
        ],
        "var_need": [
          "counter",
          1
        ]
      },
      {
        "middle_answer": true,
        "instant": true,
        "comment": true,
        "text_color": [
          0.5,
          1,
          0.2
        ],
        "id": 18,
        "text": "Дует слабый ветер\n",
        "shadow_color": [
          0,
          0.2,
          0
        ],
        "var_equal": [
          "veter",
          1
        ]
      },
      {
        "var_equal": [
          "veter",
          2
        ],
        "instant": true,
        "comment": true,
        "text_color": [
          1,
          1,
          0.5
        ],
        "shadow_color": [
          1,
          0.3,
          0
        ],
        "text": "Ветер усиливается\n",
        "middle_answer": true,
        "id": 18
      },
      {
        "var_equal": [
          "veter",
          3
        ],
        "instant": true,
        "comment": true,
        "text_color": [
          1,
          0.5,
          0
        ],
        "shadow_color": [
          0.3,
          0,
          0
        ],
        "text": "Дует сильный ветер\n",
        "middle_answer": true,
        "id": 18
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 21,
        "instant": true,
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d21/1911/ed/df3370a4c71f.png"
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "middle_answer": true,
        "text": "Держаться покрепче",
        "var_need": [
          "counter",
          1
        ],
        "var_set": [
          "veter",
          3,
          "counter",
          5
        ]
      },
      {
        "comment": true,
        "text_color": [
          0.5,
          0.5,
          0.5
        ],
        "id": 19,
        "text": "Держаться покрепче",
        "var_not": [
          "veter",
          2
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b11/1911/20/089e4d8e87ee.png"
        ],
        "middle_answer": true,
        "var_need": [
          "counter",
          1
        ],
        "instant": true
      },
      {
        "comment": true,
        "var_need": [
          "counter",
          1
        ],
        "id": 18,
        "instant": true,
        "text": "   ",
        "middle_answer": true
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "middle_answer": true,
        "var_need": [
          "counter",
          1
        ],
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          1
        ],
        "text": "Спускаться",
        "id": 21,
        "instant": true,
        "var_set": [
          "sp",
          1,
          "counter",
          0
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 21,
        "text": "Спускаться",
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          2
        ],
        "var_need": [
          "counter",
          1
        ],
        "instant": true,
        "middle_answer": true,
        "var_set": [
          "counter",
          0
        ]
      },
      {
        "text_color": [
          0,
          0,
          0.3
        ],
        "id": 21,
        "instant": true,
        "bgAnswerImage": [
          "http://b.radikal.ru/b14/1911/26/078f98e60abf.png"
        ],
        "var_equal": [
          "veter",
          3
        ],
        "var_need": [
          "counter",
          1
        ],
        "text": "Спускаться",
        "middle_answer": true,
        "var_set": [
          "counter",
          0
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "counter",
          0
        ],
        "middle_answer": true,
        "text": "Жёсткое падение...",
        "id": 24,
        "var_not": [
          "sp",
          1
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "counter",
          0,
          "sp",
          1
        ],
        "id": 23,
        "text": "Ступить на землю",
        "middle_answer": true
      },
      {
        "super_calculate": true,
        "var_equal": [
          "counter",
          0
        ],
        "lua_do": "function lua_do()\n    blueCircle = {}\n    for i = 1, 4 do\n        blueCircle[i] = display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\n        blueCircle[i].width = canvas.width / 100\n        blueCircle[i].height = canvas.width / 100\n        blueCircle[i].x = canvas.width / 1.15\n        blueCircle[i].y = canvas.width / 11\n        blueCircle[i].alpha = 0.8\n    end\n\n    blueButterflies = {}\n    local step = 0\n    for i = 1, 7 do\n        blueButterflies[i] = display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\n        blueButterflies[i].width = canvas.width / (6.5 <plus> step)\n        blueButterflies[i].height = canvas.width / 8\n        blueButterflies[i].x = canvas.width / 1.15\n        blueButterflies[i].y = canvas.width / 11\n        blueButterflies[i].alpha=0\n        step = step <plus> 0.5\n    end\n\n    transition.fadeIn(blueButterflies[1], { time=2600 })\n\n    function Butterfly(event)\n        transition.fadeOut(blueButterflies[1], { time = 800, delay = 100 })\n\n        local bbd1 = 150\n        for i = 2, 6 do\n            transition.fadeIn(blueButterflies[i], { time = 60, delay = bbd1 })\n            transition.fadeOut(blueButterflies[i] , { time = 800, delay = bbd1 <plus> 50 })\n            bbd1 = bbd1 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[7], { time = 60, delay = 650})\n        transition.fadeOut(blueButterflies[7], { time = 600, delay = 750 })\n\n        local bbd2 = 850\n        for i = 6, 2, -1 do\n            transition.fadeIn(blueButterflies[i], { time=300, delay = bbd2 })\n            transition.fadeOut(blueButterflies[i], { time=1300, delay=bbd2 <plus> 50 })\n            bbd2 = bbd2 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[1], { time = 300, delay = 1350}) \n    end\n\n    timer.performWithDelay(3000, Butterfly, 3)\n    transition.fadeOut(blueButterflies[1], { time = 3000, delay = 12200 })\n    local bcd = 3500\n    for i = 1, 4 do\n        transition.scaleBy(blueCircle[i] , { xScale = 30, yScale = 30, time = 5000, delay = bcd})\n        transition.fadeOut(blueCircle[i] , { time = 5000, delay = bcd <plus> 200}) \n        bcd = bcd <plus> 1600\n    end\nend",
        "text": "Новый ответ. введите текст",
        "id": 12,
        "calculate": false
      }
    ]
  },
  {
    "id": 22,
    "text": "\n...завершается хрустом правой ноги. Дэн вскрикнул от боли и наскоро ощупал поврежденную ногу, придя к выводу, что у него, вероятно, закрытый перелом. \n\n— Эх, черт, не побегаешь уже.\n\n",
    "answers": [
      {
        "id": 22,
        "text": "Судя по крику, что слышал Дэн, пока спускался — Кэт схватили. Возможно, она еще жива и ей можно помочь. Возможно, убегать было изначально плохой идеей. В отблеске молнии сверкнул хищный оскал Дэна. Злость и гнев наполняли его. Поискав немного по окресностям, он нашёл камень и положил его в карман. Напоследок Дэн вытащил из внутреннего кармана флягу и, сделав большой глоток, убрал её обратно. \n",
        "merge": true,
        "var_equal": [
          "Den1",
          1
        ]
      },
      {
        "id": 22,
        "text": "В темноте сложно было что-либо рассмотреть, поэтому Дэн стал искать тело Кэт на ощупь. Но её не оказалось рядом. \n\n— Чёрт! Чёрт!!! Кэт!? Где ты?!.. Вот чёрт...\n\nВ свете молнии сверкнул хищный оскал Дэна, источающий злобу. Он некоторое время рыскал в темноте и нашёл камень, который перекочевал в карман. Напоследок он достал из внутреннего кармана жилетки флягу и, сделав большой глоток, убрал обратно. \n\n",
        "merge": true,
        "var_equal": [
          "Den1",
          2
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "Den1",
          1
        ],
        "id": 14,
        "text": "Идти к парадному входу"
      },
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "Den1",
          2
        ],
        "id": 25,
        "text": "Идти к шхуне"
      },
      {
        "id": 27,
        "text": "Обдумать ",
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 22,
        "text": "fon1",
        "url": "http://d.radikal.ru/d41/1911/2a/5d1071f9239c.png"
      },
      {
        "id": 3,
        "text": "tuha1",
        "url": "http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png"
      },
      {
        "super_calculate": true,
        "id": 26,
        "text": "Новый ответ. введите текст",
        "calculate": false,
        "lua_do": "function lua_do()\nimages.fon1.isVisible = false\nlocal fon2 = display.newImage(images.fon1.url)\nlocal fon = display.newImage(\"http://a.radikal.ru/a33/1911/88/63213dffd795.jpg\")\nlocal tuh1 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\nlocal tuh2 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\nlocal tuh3 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\nlocal tuh4 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\nlocal molny1 = display.newImage(\"http://a.radikal.ru/a34/1911/fb/3f8cb3a22ea4.png\")\nlocal molny2 = display.newImage(\"http://a.radikal.ru/a01/1911/1b/76152781a932.png\")\nlocal molny3 = display.newImage(\"http://a.radikal.ru/a19/1911/db/2d8974d30dbf.png\")\nlocal les = display.newImage(\"http://d.radikal.ru/d13/1911/03/b00c2ff17ebd.png\")\nlocal doj = display.newImage(\"http://b.radikal.ru/b23/1911/8e/7b08775b7902.png\")\nmolny1.width = canvas.width/2\nmolny1.height = canvas.width/2.1\nmolny1.x = canvas.width/6.5\nmolny1.y=canvas.width/6\nmolny2.width = canvas.width/1.6\nmolny2.height = canvas.width/1.8\nmolny2.x = canvas.width/2.6\nmolny2.y=canvas.width/6\nmolny3.width = canvas.width/2\nmolny3.height = canvas.width/2.1\nmolny3.x = canvas.width/1.15\nmolny3.y=canvas.width/4.5\ntuh1.width = canvas.width/1.3\ntuh1.height = canvas.width/1.3\ntuh1.x = canvas.width/4\ntuh1.y=canvas.width/5\ntuh2.width = canvas.width/0.7\ntuh2.height = canvas.width/0.9\ntuh2.x = canvas.width/2\ntuh2.y=canvas.width/2.3\ntuh3.width = canvas.width/1.3\ntuh3.height = canvas.width/1.3\ntuh3.x = canvas.width/1.3\ntuh3.y=canvas.width/3.8\ntuh4.width = canvas.width/1.1\ntuh4.height = canvas.width/1.5\ntuh4.x = canvas.width/2.3\ntuh4.y=canvas.width/3.9\nfon.width = canvas.width/0.5\nfon.height = canvas.width/0.5\nfon.x = canvas.width/3\nfon.y=canvas.width/3\nfon2.width = canvas.width/0.5\nfon2.height = canvas.width/0.5\nfon2.x = canvas.width/3\nfon2.y=canvas.width/3\nles.width = canvas.width/0.9\nles.height = canvas.width/1.5\nles.x = canvas.width/2\nles.y=canvas.width/3\ndoj.width = canvas.width/0.8\ndoj.height = canvas.width/0.8\ndoj.x = canvas.width/2\ndoj.y=canvas.width/3\nmolny1.alpha = 0  molny2.alpha = 0\nmolny3.alpha = 0  tuh1.alpha = 0\ntuh2.alpha = 0       tuh3.alpha = 0\ntuh4.alpha = 0       fon.alpha = 0\n local i = 1000 local k = 1  while k < 22 do\ntransition.fadeIn(molny1, {time = 500, delay = i<plus>1000, transition=easing.inOutBounce })\ntransition.fadeOut(molny1, {time = 500, delay = i <plus> 2000, transition=easing.inBounce })\ntransition.fadeIn(molny2, {time = 800, delay = i<plus>5700, transition=easing.inOutBounce })\ntransition.fadeOut(molny2, {time = 800, delay = i <plus> 7300, transition=easing.inBounce })\ntransition.fadeIn(molny3, {time = 500, delay = i<plus>12000, transition=easing.inOutBounce })\ntransition.fadeOut(molny3, {time = 500, delay = i <plus> 13000, transition=easing.inBounce })\ntransition.fadeIn(tuh1, {time = 2000, delay = i})\ntransition.fadeOut(tuh1, {time = 2000, delay = i <plus> 2000})\ntransition.fadeIn(tuh2, {time = 2500, delay = i<plus>4700})\ntransition.fadeOut(tuh2, {time = 3000, delay = i <plus> 8000})\ntransition.fadeIn(tuh3, {time = 2000, delay = i<plus>11000})\ntransition.fadeOut(tuh3, {time = 2000, delay = i <plus> 13000})\ntransition.fadeIn(tuh4, {time = 2000, delay = i<plus>5100})\ntransition.fadeOut(tuh4, {time = 2000, delay = i <plus> 8000})\ntransition.fadeIn(fon, {time = 2000, delay = i})\ntransition.fadeOut(fon, {time = 2000, delay = i <plus> 2500})\ntransition.fadeIn(fon, {time = 2000, delay = i<plus>5200})\ntransition.fadeOut(fon, {time = 2000, delay = i <plus> 8500})\ntransition.fadeIn(fon, {time = 2000, delay = i<plus>11300})\ntransition.fadeOut(fon, {time = 2000, delay = i <plus> 14000})\n      k = k <plus> 1    i = i <plus> 17000  end\nlocal f = 1  local g = 300  while f<360 do\ntransition.moveBy(doj, { x = -28, y = 200, time = 1000, delay = g})\ntransition.moveBy(doj, { x = 28, y = -200, time = 0, delay = g <plus> 1000})\n     f = f <plus> 1     g = g <plus> 1000   end\nlocal a=1000  local b=1   while b<36 do\ntransition.to( les.path, { time=5000, x1=7, x4=1, delay=a, transition=easing.inOutBack } )\ntransition.to( les.path, { time=5000, x1=-8, x4=-1, delay=a<plus>5100, transition=easing.inOutBack } )\n   a=a<plus>10200   b=b<plus>1    end\nend"
      }
    ]
  },
  {
    "id": 23,
    "text": "\nОпасный спуск прошёл успешно. ",
    "answers": [
      {
        "id": 22,
        "text": "Судя по крику, что слышал Дэн, пока спускался — Кэт схватили. Возможно, она еще жива и ей можно помочь. Возможно, убегать было изначально плохой идеей. В отблеске молнии сверкнул хищный оскал Дэна. Злость и гнев наполняли его. Поискав немного по окресностям, он нашёл камень и положил его в карман. Напоследок он вытащил из внутреннего кармана флягу и, сделав большой глоток, убрал её обратно. \n",
        "merge": true,
        "var_equal": [
          "Den1",
          1
        ]
      },
      {
        "id": 22,
        "text": "В темноте сложно было что-либо рассмотреть, поэтому Дэн стал искать тело Кэт на ощупь. Но её не оказалось рядом. \n\n— Чёрт! Чёрт!!! Кэт!? Где ты?!.. Вот чёрт...\n\nВ свете молнии сверкнул хищный оскал Дэна, источающий злобу. Он некоторое время рыскал в темноте и нашёл камень, который перекочевал в карман. Напоследок он достал из внутреннего кармана жилетки флягу и, сделав большой глоток, убрал обратно. \n\n",
        "merge": true,
        "var_equal": [
          "Den1",
          2
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "Den1",
          1
        ],
        "id": 14,
        "text": "Идти к парадному входу"
      },
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "Den1",
          2
        ],
        "id": 25,
        "text": "Идти к шхуне"
      },
      {
        "id": 27,
        "text": "Обдумать",
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 23,
        "text": "fon1",
        "url": "http://d.radikal.ru/d41/1911/2a/5d1071f9239c.png"
      },
      {
        "id": 3,
        "text": "tuha1",
        "url": "http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png"
      },
      {
        "super_calculate": true,
        "id": 26,
        "text": "Новый ответ. введите текст",
        "calculate": false,
        "lua_do": "function lua_do()\nimages.fon1.isVisible = false\nfon2 = display.newImage(images.fon1.url)\nfon = display.newImage(\"http://a.radikal.ru/a33/1911/88/63213dffd795.jpg\")\ntuh1 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\ntuh2 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\ntuh3 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\ntuh4 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\nmolny1 = display.newImage(\"http://a.radikal.ru/a34/1911/fb/3f8cb3a22ea4.png\")\nmolny2 = display.newImage(\"http://a.radikal.ru/a01/1911/1b/76152781a932.png\")\nmolny3 = display.newImage(\"http://a.radikal.ru/a19/1911/db/2d8974d30dbf.png\")\nles = display.newImage(\"http://d.radikal.ru/d13/1911/03/b00c2ff17ebd.png\")\ndoj = display.newImage(\"http://b.radikal.ru/b23/1911/8e/7b08775b7902.png\")\nmolny1.width = canvas.width/2\nmolny1.height = canvas.width/2.1\nmolny1.x = canvas.width/6.5\nmolny1.y=canvas.width/6\nmolny2.width = canvas.width/1.6\nmolny2.height = canvas.width/1.8\nmolny2.x = canvas.width/2.6\nmolny2.y=canvas.width/6\nmolny3.width = canvas.width/2\nmolny3.height = canvas.width/2.1\nmolny3.x = canvas.width/1.15\nmolny3.y=canvas.width/4.5\ntuh1.width = canvas.width/1.3\ntuh1.height = canvas.width/1.3\ntuh1.x = canvas.width/4\ntuh1.y=canvas.width/5\ntuh2.width = canvas.width/0.7\ntuh2.height = canvas.width/0.9\ntuh2.x = canvas.width/2\ntuh2.y=canvas.width/2.3\ntuh3.width = canvas.width/1.3\ntuh3.height = canvas.width/1.3\ntuh3.x = canvas.width/1.3\ntuh3.y=canvas.width/3.8\ntuh4.width = canvas.width/1.1\ntuh4.height = canvas.width/1.5\ntuh4.x = canvas.width/2.3\ntuh4.y=canvas.width/3.9\nfon.width = canvas.width/0.5\nfon.height = canvas.width/0.5\nfon.x = canvas.width/3\nfon.y=canvas.width/3\nfon2.width = canvas.width/0.5\nfon2.height = canvas.width/0.5\nfon2.x = canvas.width/3\nfon2.y=canvas.width/3\nles.width = canvas.width/0.9\nles.height = canvas.width/1.5\nles.x = canvas.width/2\nles.y=canvas.width/3\ndoj.width = canvas.width/0.8\ndoj.height = canvas.width/0.8\ndoj.x = canvas.width/2\ndoj.y=canvas.width/3\nmolny1.alpha = 0  molny2.alpha = 0\nmolny3.alpha = 0  tuh1.alpha = 0\ntuh2.alpha = 0       tuh3.alpha = 0\ntuh4.alpha = 0       fon.alpha = 0\n  i = 1000  k = 1  while k < 22 do\ntransition.fadeIn(molny1, {time = 500, delay = i<plus>1000, transition=easing.inOutBounce })\ntransition.fadeOut(molny1, {time = 500, delay = i <plus> 2000, transition=easing.inBounce })\ntransition.fadeIn(molny2, {time = 800, delay = i<plus>5700, transition=easing.inOutBounce })\ntransition.fadeOut(molny2, {time = 800, delay = i <plus> 7300, transition=easing.inBounce })\ntransition.fadeIn(molny3, {time = 500, delay = i<plus>12000, transition=easing.inOutBounce })\ntransition.fadeOut(molny3, {time = 500, delay = i <plus> 13000, transition=easing.inBounce })\ntransition.fadeIn(tuh1, {time = 2000, delay = i})\ntransition.fadeOut(tuh1, {time = 2000, delay = i <plus> 2000})\ntransition.fadeIn(tuh2, {time = 2500, delay = i<plus>4700})\ntransition.fadeOut(tuh2, {time = 3000, delay = i <plus> 8000})\ntransition.fadeIn(tuh3, {time = 2000, delay = i<plus>11000})\ntransition.fadeOut(tuh3, {time = 2000, delay = i <plus> 13000})\ntransition.fadeIn(tuh4, {time = 2000, delay = i<plus>5100})\ntransition.fadeOut(tuh4, {time = 2000, delay = i <plus> 8000})\ntransition.fadeIn(fon, {time = 2000, delay = i})\ntransition.fadeOut(fon, {time = 2000, delay = i <plus> 2500})\ntransition.fadeIn(fon, {time = 2000, delay = i<plus>5200})\ntransition.fadeOut(fon, {time = 2000, delay = i <plus> 8500})\ntransition.fadeIn(fon, {time = 2000, delay = i<plus>11300})\ntransition.fadeOut(fon, {time = 2000, delay = i <plus> 14000})\n      k = k <plus> 1    i = i <plus> 17000  end\nf = 1  g = 300  while f<360 do\ntransition.moveBy(doj, { x = -28, y = 200, time = 1000, delay = g})\ntransition.moveBy(doj, { x = 28, y = -200, time = 0, delay = g <plus> 1000})\n     f = f <plus> 1     g = g <plus> 1000   end\na=1000   b=1   while b<36 do\ntransition.to( les.path, { time=5000, x1=7, x4=1, delay=a, transition=easing.inOutBack } )\ntransition.to( les.path, { time=5000, x1=-8, x4=-1, delay=a<plus>5100, transition=easing.inOutBack } )\n   a=a<plus>10200   b=b<plus>1    end\nend"
      }
    ]
  },
  {
    "id": 24,
    "text": "\n...завершилось мягким приземлением. Оказалось, что земля уже была близко, поэтому Дэн отделался лишь испугом и лёгким ушибом. ",
    "answers": [
      {
        "id": 22,
        "text": "Судя по крику, что слышал Дэн, пока спускался — Кэт схватили. Возможно, она еще жива и ей можно помочь. Возможно, убегать было изначально плохой идеей. В отблеске молнии сверкнул хищный оскал Дэна. Злость и гнев наполняли его. Поискав немного по окресностям, он нашёл камень и положил его в карман. Напоследок он вытащил из внутреннего кармана флягу и, сделав большой глоток, убрал её обратно. \n",
        "merge": true,
        "var_equal": [
          "Den1",
          1
        ]
      },
      {
        "id": 22,
        "text": "В темноте сложно было что-либо рассмотреть, поэтому Дэн стал искать тело Кэт на ощупь. Но её не оказалось рядом. \n\n— Чёрт! Чёрт!!! Кэт!? Где ты?!.. Вот чёрт...\n\nВ свете молнии сверкнул хищный оскал Дэна, источающий злобу. Он некоторое время рыскал в темноте и нашёл камень, который перекочевал в карман. Напоследок он достал из внутреннего кармана жилетки флягу и, сделав большой глоток, убрал обратно. \n\n",
        "merge": true,
        "var_equal": [
          "Den1",
          2
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "Den1",
          1
        ],
        "id": 14,
        "text": "Идти к парадному входу"
      },
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "Den1",
          2
        ],
        "id": 25,
        "text": "Идти к шхуне"
      },
      {
        "id": 27,
        "text": "Обдумать",
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 24,
        "text": "fon1",
        "url": "http://d.radikal.ru/d41/1911/2a/5d1071f9239c.png"
      },
      {
        "id": 3,
        "text": "tuha1",
        "url": "http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png"
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nimages.fon1.isVisible = false\nfon2 = display.newImage(images.fon1.url)\nfon = display.newImage(\"http://a.radikal.ru/a33/1911/88/63213dffd795.jpg\")\ntuh1 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\ntuh2 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\ntuh3 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\ntuh4 = display.newImage(\"http://a.radikal.ru/a17/1911/be/b9022be5a0fe.png\")\nmolny1 = display.newImage(\"http://a.radikal.ru/a34/1911/fb/3f8cb3a22ea4.png\")\nmolny2 = display.newImage(\"http://a.radikal.ru/a01/1911/1b/76152781a932.png\")\nmolny3 = display.newImage(\"http://a.radikal.ru/a19/1911/db/2d8974d30dbf.png\")\nles = display.newImage(\"http://d.radikal.ru/d13/1911/03/b00c2ff17ebd.png\")\ndoj = display.newImage(\"http://b.radikal.ru/b23/1911/8e/7b08775b7902.png\")\nmolny1.width = canvas.width/2\nmolny1.height = canvas.width/2.1\nmolny1.x = canvas.width/6.5\nmolny1.y=canvas.width/6\nmolny2.width = canvas.width/1.6\nmolny2.height = canvas.width/1.8\nmolny2.x = canvas.width/2.6\nmolny2.y=canvas.width/6\nmolny3.width = canvas.width/2\nmolny3.height = canvas.width/2.1\nmolny3.x = canvas.width/1.15\nmolny3.y=canvas.width/4.5\ntuh1.width = canvas.width/1.3\ntuh1.height = canvas.width/1.3\ntuh1.x = canvas.width/4\ntuh1.y=canvas.width/5\ntuh2.width = canvas.width/0.7\ntuh2.height = canvas.width/0.9\ntuh2.x = canvas.width/2\ntuh2.y=canvas.width/2.3\ntuh3.width = canvas.width/1.3\ntuh3.height = canvas.width/1.3\ntuh3.x = canvas.width/1.3\ntuh3.y=canvas.width/3.8\ntuh4.width = canvas.width/1.1\ntuh4.height = canvas.width/1.5\ntuh4.x = canvas.width/2.3\ntuh4.y=canvas.width/3.9\nfon.width = canvas.width/0.5\nfon.height = canvas.width/0.5\nfon.x = canvas.width/3\nfon.y=canvas.width/3\nfon2.width = canvas.width/0.5\nfon2.height = canvas.width/0.5\nfon2.x = canvas.width/3\nfon2.y=canvas.width/3\nles.width = canvas.width/0.9\nles.height = canvas.width/1.5\nles.x = canvas.width/2\nles.y=canvas.width/3\ndoj.width = canvas.width/0.8\ndoj.height = canvas.width/0.8\ndoj.x = canvas.width/2\ndoj.y=canvas.width/3\nmolny1.alpha = 0  molny2.alpha = 0\nmolny3.alpha = 0  tuh1.alpha = 0\ntuh2.alpha = 0       tuh3.alpha = 0\ntuh4.alpha = 0       fon.alpha = 0\n  i = 1000  k = 1  while k < 22 do\ntransition.fadeIn(molny1, {time = 500, delay = i<plus>1000, transition=easing.inOutBounce })\ntransition.fadeOut(molny1, {time = 500, delay = i <plus> 2000, transition=easing.inBounce })\ntransition.fadeIn(molny2, {time = 800, delay = i<plus>5700, transition=easing.inOutBounce })\ntransition.fadeOut(molny2, {time = 800, delay = i <plus> 7300, transition=easing.inBounce })\ntransition.fadeIn(molny3, {time = 500, delay = i<plus>12000, transition=easing.inOutBounce })\ntransition.fadeOut(molny3, {time = 500, delay = i <plus> 13000, transition=easing.inBounce })\ntransition.fadeIn(tuh1, {time = 2000, delay = i})\ntransition.fadeOut(tuh1, {time = 2000, delay = i <plus> 2000})\ntransition.fadeIn(tuh2, {time = 2500, delay = i<plus>4700})\ntransition.fadeOut(tuh2, {time = 3000, delay = i <plus> 8000})\ntransition.fadeIn(tuh3, {time = 2000, delay = i<plus>11000})\ntransition.fadeOut(tuh3, {time = 2000, delay = i <plus> 13000})\ntransition.fadeIn(tuh4, {time = 2000, delay = i<plus>5100})\ntransition.fadeOut(tuh4, {time = 2000, delay = i <plus> 8000})\ntransition.fadeIn(fon, {time = 2000, delay = i})\ntransition.fadeOut(fon, {time = 2000, delay = i <plus> 2500})\ntransition.fadeIn(fon, {time = 2000, delay = i<plus>5200})\ntransition.fadeOut(fon, {time = 2000, delay = i <plus> 8500})\ntransition.fadeIn(fon, {time = 2000, delay = i<plus>11300})\ntransition.fadeOut(fon, {time = 2000, delay = i <plus> 14000})\n      k = k <plus> 1    i = i <plus> 17000  end\nf = 1  g = 300  while f<360 do\ntransition.moveBy(doj, { x = -28, y = 200, time = 1000, delay = g})\ntransition.moveBy(doj, { x = 28, y = -200, time = 0, delay = g <plus> 1000})\n     f = f <plus> 1     g = g <plus> 1000   end\na=1000   b=1   while b<36 do\ntransition.to( les.path, { time=5000, x1=7, x4=1, delay=a, transition=easing.inOutBack } )\ntransition.to( les.path, { time=5000, x1=-8, x4=-1, delay=a<plus>5100, transition=easing.inOutBack } )\n   a=a<plus>10200   b=b<plus>1    end\nend",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 26
      }
    ]
  },
  {
    "id": 25,
    "text": "— Чёртова птица!\n\nДэн был уже на взводе, однако продолжил идти вперед. Путь занял много времени, поскольку выходить на дорогу было слишком опасно, а двигаться по лесу в темноте приходилось на ощупь. Дэн пару раз замечал на дороге группы вооружённых людей, что окончательно его убедило в том, что дела крайне паршивые, а влипли они во что-то очень серьёзное и опасное.\n\nВпереди уже виднелась лагуна, в которой по счастливому стечению обстоятельств их шхуна была цела. Только сейчас Дэн подумал, что с таким штормом её могло разворотить или унести от берега, но чудесным образом волны в лагуне были небольшие, а потому она мерно покачивалась возле деревянного пирса — там, где её и оставили. И как можно было догадаться, она была там не одна.\n",
    "answers": [
      {
        "id": 14,
        "var_not": [
          "palka",
          1
        ],
        "text": "\nДэн увидел рядом крепкую палку и взял в руки, ведь кроме сов в этом лесу могут быть и другие дикие звери. Будет чем отмахиваться. \n",
        "merge": true
      },
      {
        "id": 34,
        "text": "Осмотреться",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 14,
        "text": "sova",
        "url": "http://a.radikal.ru/a14/1911/1e/a7014bb894ec.png"
      },
      {
        "super_calculate": true,
        "id": 26,
        "calculate": false,
        "lua_do": "function lua_do()\n\nimages.sova.isVisible = false\n\nsov = display.newImage(images.sova.url)\n\nsov.width = canvas.width/70\nsov.height = canvas.width/70\nsov.x = canvas.width/1.5\nsov.y=canvas.width/2.5\n\ntransition.scaleBy( sov, { xScale=200.0, yScale=200.0, time=1500, delay = 800, transition=easing.inCirc } )\n\ntransition.moveBy( sov, { x= -1800, y= -200, time=2700, delay = 800, transition= easing.inOutBack } )\n\n\nend",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 26,
    "text": "\nВ портовом кабаке среди шумных компаний завсегдатаев двое серьёзного вида людей негромко обсуждают некий остров со старинным замком, о котором в этих краях давно ходят жуткие слухи. Они даже не подозревают, что вы уже обратили на них своё внимание.\n\n— Чувствую, что скоро начнется шторм, нужно успеть попасть туда как можно скорее. Если не поторопимся, то можем и не успеть.\n\n— Согласен, Джон, выплываем через час. И почему им так не терпится туда попасть?\n\n— Пока нам платят, лучше не задаваться этими вопросами.\n",
    "answers": [
      {
        "id": 15,
        "text": "Наблюдать",
        "var_set": [
          "hero1",
          1
        ]
      },
      {
        "id": 28,
        "text": "Подсесть",
        "var_set": [
          "hero2",
          1
        ]
      }
    ]
  },
  {
    "id": 27,
    "text": "\nУплывать в такой шторм — самоубийство. А бросать друзей, которым, возможно, ещё можно помочь — недостойный поступок. Кто бы ни был их враг, придется сражаться. А для этого неплохо бы обзавестись оружием.\n\nДэн вспомнил, что на шхуне есть гарпун и револьвер, надёжно запрятанный в тайнике, а в столовой замка — ножи. Хоть на что-то сгодятся его навыки, полученные в армии. Окон на первом этаже замка нет, так что остаётся лишь парадный вход, ибо расположение черного хода неизвестно. Вот только рассуждая здраво, Дэн пришёл к выводу, что рядом со стратегическими объектами — шхуной и парадным входом могут быть засады. Учитывая погоду, шхуны скорее всего охраняют слабо, но этот путь уменьшает шансы вовремя прийти на помощь друзьям, если они в плену в замке.\n\nСможет ли он что-то сделать с одним камнем в кармане? Может стоит поискать ещё что-то, что можно использовать как оружие? Однако, задерживаться тут опасно, ведь кто бы ни был враг, он наверняка захочет осмотреть место спуска. \n",
    "answers": [
      {
        "id": 14,
        "text": "Идти к парадному входу",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 25,
        "text": "Идти к шхуне",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 51,
        "text": "Поискать ",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "palka",
          1,
          "kluch",
          1
        ]
      }
    ]
  },
  {
    "id": 28,
    "text": "\nВы подсаживаетесь к угрюмым мужчинам, держа в руке увесистую кружку с хмельным напитком, и с удовольствием замечаете на их лицах удивление. Искренне улыбаясь, вы продолжаете:\n\n— Вам лучше отказаться от поездки на остров. Вам там не место.\n\nМужчины в недоумении переглядываются. В затянувшейся паузе вы позволяете себе отхлебнуть содержимое кружки. Очнувшись, один из них не выдерживает и громко произносит:\n\n— Какого чёрта? Ты ещё кто такой? Что тебе нужно?\n\nВы внимательно смотрите на говорившего:\n\n— Как много вопросов... Что ж, расскажу вам одну историю, которую, уверен, вы точно не слышали...\n",
    "answers": [
      {
        "id": 2,
        "text": "Рассказать историю"
      }
    ]
  },
  {
    "id": 29,
    "text": "\nНападать на троих вооружённых людей сродни безумию. Можно кинуть одному в голову камнем — с такого расстояния-то он не промахнётся, но что делать с другими? С одной палкой против двоих..? Можно, конечно, расчитывать на эффект неожиданности, но слишком рискованно. Так же можно попробовать их отвлечь тем самым камнем и либо напасть, либо постараться пробраться внутрь замка, пока они отвлекуться.\n",
    "answers": [
      {
        "id": 29,
        "text": "\nОднако, резкая боль в ноге напомнила, что вояка из него сейчас никудышный. Придётся всё же постараться их отвлечь и пробраться незамеченным. \n",
        "merge": true,
        "var_equal": [
          "perelom",
          1
        ]
      },
      {
        "id": 30,
        "text": "Кинуть камнем в голову и напасть",
        "var_not": [
          "perelom",
          1
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 31,
        "text": "Отвлечь камнем и напасть",
        "var_not": [
          "perelom",
          1
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 32,
        "text": "Отвлечь камнем и пробираться",
        "bg_color": [
          0.7,
          0,
          0
        ]
      }
    ]
  },
  {
    "id": 30,
    "text": "\nДэн рванул вперед и прямо на бегу кинул камень — один противник рухнул. После этого Дэн помчался к ближайшему из оставшихся противников. Раздался выстрел. Мимо! Противник не успел грамотно среагировать, а потому Дэн вырубил второго, прежде чем раздался ещё один оглушительный выстрел. Грудь обожгло болью, и взгляд затуманился. На краю сознания он уловил странную тень, которая метнулась из-за деревьев и услышал пронзительный крик...\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее..."
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 31,
    "text": "\nОтвлекающий маневр сработал хуже, чем ожидалось, двое отвлеклись на шум, зато третий противник вскоре развернулся в его сторону, когда Дэн выскочил. Крик разбойника, перед тем как Дэн вышиб из него дух палкой, что та даже треснула пополам, привлёк двух других. С яростью дикого зверя Дэн набросился на второго и стал лупить кулаками. Второй противник явно не был готов к такому и рухнул, потеряв сознание, но в этот момент третий успел направить пистолет в грудь Дэна, и раздался выстрел...\n\nСознание затуманилось. Дэн упал на землю и захрипел. Всё, что он успел заметить, перед тем как провалиться в нибытие — странная тень, метнувшаяся к его убийце из темноты между деревьев...\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее..."
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 32,
    "text": "\nОтвлекающий маневр сработал неудачно — все трое отвлеклись на шум, но стоило Дэну покинуть своё укрытие, как один из них обернулся. \n",
    "answers": [
      {
        "id": 32,
        "text": "Дэн, хромая и превозмогая боль, подбежал и вырубил противника сильным ударом. Но его это не спасло — двое других тоже заметили его и приготовились стрелять. В отчаянии, наплевав на боль в ноге, Дэн прыгнул на ближнего противника. Выстрел в грудь застал его в полете, и грузное тело здоровяка смяло под собой незадачливого стрелка.\n\n",
        "merge": true,
        "var_equal": [
          "perelom",
          1
        ]
      },
      {
        "id": 32,
        "var_not": [
          "perelom",
          1
        ],
        "text": "Дэн подбежал и на полном ходу со всей силы ударил первого противника палкой по голове, прежде чем тот успел что-либо крикнуть. Однако, двое других всё равно обернулись на шум, потому о скрытности можно было забыть. Пока враги в замешательстве направляли на Дэна оружие, он, не теряя ни секунды, бросил сломанной палкой в одного из них, а на второго набросился с кулаками. Удар за ударом сыпались на врага, пока тот не вырубился. Резко перекатившись, Дэн сумел увернуться от выстрела незадачливого стрелка. После чего развернулся и в очередной раз, надрывая мышцы, прыгнул на своего уже третьего противника. Бой был коротким. Противник рухнул на землю.\n\nДэн упал на колени, не в силах сделать даже малейшего движения — адреналиновый угар теперь сошёл, и сил не осталось. Переборов желание прилечь прямо здесь под ливнем, Дэн стал подниматься, бросив взгляд на лежащий неподалёку пистолет. Подняв оружие, он краем глаза заметил движение. Очередной раскат грома сопроводил звук выстрела — первый противник каким-то чудом пришёл в себя и выстрелил Дэну в грудь. Дэн тоже успел сделать выстрел. Оба упали замертво. ",
        "merge": true
      },
      {
        "id": 32,
        "text": "На границе угасающего сознания Дэн заметил странное движение из леса...\n",
        "merge": true
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее..."
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 33,
    "text": "\nСквозь темноту Дэн услышал низкий старческий голос:\n\n— Держись, парень. Подлатаем сейчас тебя. Что попали во флягу твою — повезло, иначе бы не успел тебя Страж принести ко мне. Хотел бы я сам, да Сил уже не осталось телепортировать в Круг.\n\nДэн не ощущал боли, зато почувствовал тепло в груди",
    "answers": [
      {
        "id": 33,
        "text": " и в ноге. ",
        "merge": true,
        "var_equal": [
          "perelom",
          1
        ]
      },
      {
        "id": 33,
        "var_not": [
          "perelom",
          1
        ],
        "text": ". ",
        "merge": true
      },
      {
        "id": 33,
        "text": "Он всё ещё жив... Но что происходит?\n",
        "merge": true
      },
      {
        "id": 38,
        "text": "Открыть глаза",
        "bg_color": [
          0.7,
          0,
          0
        ]
      }
    ]
  },
  {
    "id": 34,
    "text": "\nПо первичным наблюдениям к шхунам можно было подобраться через лес и по пляжу. Но последнее, хоть и быстрее, явно опаснее. Пока что Дэн никого не заметил, но как гласит народная мудрость — если чего-то не видишь — не значит, что этого нет. Зато Дэн на такой открытой местности стал бы отличной мишенью.\n",
    "answers": [
      {
        "id": 34,
        "text": "\nНога напомнила о себе резкой болью. Если вдруг покажутся противники, с таким переломом не убежать и не скрыться, так что пляж отпадает.\n",
        "var_equal": [
          "perelom",
          1
        ],
        "merge": true
      },
      {
        "id": 35,
        "text": "Пойти через лес",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://c.radikal.ru/c40/1912/3f/bec9afd9a52b.png"
        ],
        "var_not": [
          "perelom",
          1
        ],
        "id": 36,
        "text": "Пойти по пляжу",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "plaj",
          1
        ]
      }
    ]
  },
  {
    "id": 35,
    "text": "\nПуть через лес обошелся еще парой царапин и ссадин, но в итоге Дэну удалось подобраться досточно близко. Однако, тут же обнаружилась новая проблема — трое бандитов охраняли шхуны, периодически поглядывая в сторону деревьев, за которыми он прятался. Несмотря на небольшое расстояние, разобрать, о чем они говорят, было невозможно — мешал шум дождя, плеск волн и раскаты грома. Впрочем, благодаря им, Дэна было труднее заметить. \n",
    "answers": [
      {
        "id": 37,
        "text": "Составить план действий",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст",
        "id": 12,
        "calculate": false
      }
    ]
  },
  {
    "id": 36,
    "text": "\nПуть по пляжу вышел тяжёлым — местами ноги вязли в мокром песке, отчего идти становилось затруднительно, пока пляж не перешёл в каменистый. Возможно повезло, но врагов до самых шхун не было обнаружено. Спрятавшись за особенно крупным камнем недалеко от пирса, Дэн огляделся и обнаружил, что возле шхун стоят трое вооружённых людей, периодически посматривающих в сторону леса.\n",
    "answers": [
      {
        "id": 37,
        "text": "Составить план действий",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\n    blueCircle = {}\n    for i = 1, 4 do\n        blueCircle[i] = display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\n        blueCircle[i].width = canvas.width / 100\n        blueCircle[i].height = canvas.width / 100\n        blueCircle[i].x = canvas.width / 1.15\n        blueCircle[i].y = canvas.width / 11\n        blueCircle[i].alpha = 0.8\n    end\n\n    blueButterflies = {}\n    local step = 0\n    for i = 1, 7 do\n        blueButterflies[i] = display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\n        blueButterflies[i].width = canvas.width / (6.5 <plus> step)\n        blueButterflies[i].height = canvas.width / 8\n        blueButterflies[i].x = canvas.width / 1.15\n        blueButterflies[i].y = canvas.width / 11\n        blueButterflies[i].alpha=0\n        step = step <plus> 0.5\n    end\n\n    transition.fadeIn(blueButterflies[1], { time=2600 })\n\n    function Butterfly(event)\n        transition.fadeOut(blueButterflies[1], { time = 800, delay = 100 })\n\n        local bbd1 = 150\n        for i = 2, 6 do\n            transition.fadeIn(blueButterflies[i], { time = 60, delay = bbd1 })\n            transition.fadeOut(blueButterflies[i] , { time = 800, delay = bbd1 <plus> 50 })\n            bbd1 = bbd1 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[7], { time = 60, delay = 650})\n        transition.fadeOut(blueButterflies[7], { time = 600, delay = 750 })\n\n        local bbd2 = 850\n        for i = 6, 2, -1 do\n            transition.fadeIn(blueButterflies[i], { time=300, delay = bbd2 })\n            transition.fadeOut(blueButterflies[i], { time=1300, delay=bbd2 <plus> 50 })\n            bbd2 = bbd2 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[1], { time = 300, delay = 1350}) \n    end\n\n    timer.performWithDelay(3000, Butterfly, 3)\n    transition.fadeOut(blueButterflies[1], { time = 3000, delay = 12200 })\n    local bcd = 3500\n    for i = 1, 4 do\n        transition.scaleBy(blueCircle[i] , { xScale = 30, yScale = 30, time = 5000, delay = bcd})\n        transition.fadeOut(blueCircle[i] , { time = 5000, delay = bcd <plus> 200}) \n        bcd = bcd <plus> 1600\n    end\nend",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 37,
    "text": "\nНападать на троих вооружённых людей сродни безумию. Можно кинуть одному из них камнем в голову — с такого-то расстояния не промахнуться, но что делать с другими? С одной палкой нападать на двоих?.. Можно, конечно, расчитывать на эффект неожиданности, но рискованно. Ещё можно попробовать их отвлечь тем самым камнем и либо напасть, либо постараться пробраться внутрь шхуны, пока они отвлекутся.\n",
    "answers": [
      {
        "id": 29,
        "text": "\nОднако, резкая боль в ноге напомнила, что вояка из него сейчас никудышный. Придётся всё же попробовать их отвлечь. \n",
        "var_equal": [
          "perelom",
          1
        ],
        "merge": true
      },
      {
        "id": 30,
        "text": "Кинуть камень в голову и напасть",
        "var_not": [
          "perelom",
          1
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 31,
        "text": "Отвлечь камнем и напасть",
        "var_not": [
          "perelom",
          1
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 32,
        "text": "Отвлечь камнем и пробираться",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_not": [
          "plaj",
          1
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "plaj",
          1
        ],
        "id": 57,
        "text": "Отвлечь камнем и пробираться"
      }
    ]
  },
  {
    "id": 38,
    "text": "Дэн с трудом раскрыл глаза и увидел перед собой лицо старца. Парень хотел задать ему вопрос, но вместо слов с губ сорвался стон.\n\n— Потерпи пока, юноша Храбрый. Знаю, что терзают вопросы тебя. Твои друзья объяснят — надобно мне Барьером заняться. После поговорим.\n\nОглядевшись, Дэн обнаружил Алекса, Кэт и даже Тину, на взволнованном лице которой блестели слёзы.\n\n— Дэн, милый, ты с нами, сейчас тебе всё объясню.\n ",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d00/1911/4d/630e9f944290.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "text": "Послушать Тину",
        "id": 39
      },
      {
        "super_calculate": true,
        "id": 38,
        "text": "Новый ответ. введите текст",
        "calculate": false,
        "lua_do": "function lua_do()\nfor key, val in pairs(images) do\n    val.isVisible = false\nend\nlocal fon1=display.newImage(images.fon1.url)\nlocal iskr1=display.newImage(images.iskr.url)\nlocal fon2=display.newImage(images.fon2.url)\nlocal svet=display.newGroup()\nlocal svet1=display.newImage(images.svecha.url)\nlocal svet2=display.newImage(images.svecha.url)\nlocal svet3=display.newImage(images.svecha.url)\nlocal krug=display.newImage(images.krug.url)\nlocal pauk=display.newImage(images.pauk.url)\nlocal ram=display.newImage(images.ram.url)\nsvet:insert( svet1 ) svet:insert( svet2 ) svet:insert( svet3 )\nfon1.width = canvas.width/1\nfon1.height = canvas.width/1.62\nfon1.x = canvas.width/2\nfon1.y=canvas.width/3.4\nfon2.width = canvas.width/1\nfon2.height = canvas.width/1.62\nfon2.x = canvas.width/2\nfon2.y=canvas.width/3.4\nsvet1.width = canvas.width/20\nsvet1.height = canvas.width/25\nsvet1.x = canvas.width/1.088\nsvet1.y=canvas.width/2.18\nsvet2.width = canvas.width/20\nsvet2.height = canvas.width/28\nsvet2.x = canvas.width/1.024\nsvet2.y=canvas.width/2.72\nsvet3.width = canvas.width/20\nsvet3.height = canvas.width/28\nsvet3.x = canvas.width/13.8\nsvet3.y=canvas.width/13.7\nkrug.width = canvas.width/1.4\nkrug.height = canvas.width/6.5\nkrug.x = canvas.width/1.82\nkrug.y=canvas.width/2.17\nkrug.path.x1 = 110\nkrug.path.x4 = -110\niskr1.width = canvas.width/2.4\niskr1.height = canvas.width/0.8\niskr1.x = canvas.width/1.82\niskr1.y = canvas.width/1.59\nram.width = canvas.width/1\nram.height = canvas.width/1.66\nram.x = canvas.width/2\nram.y = canvas.width/3.32\npauk.width = canvas.width/8\npauk.height = canvas.width/12\npauk.x = canvas.width/10.5\npauk.y=canvas.width/2.1\nram.alpha = 0.5\nkrug.alpha = 0.3\niskr1.alpha = 0.25\nlocal startY1= iskr1.y\ntransition.moveBy(iskr1, { y = -317, time = 36000, onComplete = function() iskr1.y = startY1 end })\ntimer.performWithDelay(36050, function(event)\nif not (iskr1 or iskr1.removeSelf) then\ntimer.cancel(event.source)\nend\ntransition.moveBy(iskr1, { y = -317, time = 36000, onComplete = function() iskr1.y = startY1 end })\nend, 0)\ntimer.performWithDelay(4400, function(event)\nif not (svet or svet.removeSelf) then\ntimer.cancel(event.source)\nend\ntransition.to(svet1.path, { x1=0.5, x4=0.5, y1=-5, y4=-5, time = 2000, transition = easing.outInBack })\ntransition.to(svet1.path, { x1=-1, x4=-1, y1=5, y4=5, time=2000, transition = easing.outInBack, delay=2200 })\ntransition.to(svet2.path, { x1=-0.5, x4 =-0.5, y1=-5, y4 =-5, time = 2000, transition = easing.inOutBack })\ntransition.to(svet2.path, { x1=1, x4=1, y1=5, y4=5, time = 2000, transition = easing.inOutBack, delay = 2200 })\ntransition.to(svet3.path, { x1=1, x4=1, y1=-4, y4=-4, time = 2000, transition = easing.inOutBack })\ntransition.to(svet3.path, { x1=-1, x4=-1, y1=4, y4=4, time = 2000, transition = easing.inOutBack, delay = 2200 })\nend, 0)\ntimer.performWithDelay(100, function(event)\nif not (svet or svet.removeSelf) then\ntimer.cancel(event.source) \nend\ntransition.fadeOut(svet, { time = 80, transition = easing.inBounce })\ntransition.fadeIn(svet, { time = 50, transition = easing.outBounce , delay = 40 })\nend, 0)\ntimer.performWithDelay(8000, function(event)\nif not (krug or krug.removeSelf) then\ntimer.cancel(event.source)\nend\ntransition.fadeIn(krug, { time = 8000 })\ntransition.fadeOut(krug, { time = 8000, delay = 4000 })\nend, 0)\ntransition.to(pauk, { rotation=-10, time=500, delay=4000 })\ntransition.moveBy(pauk, { x=115, y=55,  transition=easing.outInCirc , time = 500, delay=4000})\ntransition.to(pauk, {rotation=5, time=300, delay=7800})\ntransition.moveBy(pauk, { x=120, y=71, time=500, delay=8000 })\ntransition.to(pauk, { rotation=25, time=20, delay=10000 })\ntransition.moveBy(pauk, { x=150, y=75, time=20, delay=11000 })\ntransition.to(pauk, { rotation=50, time=100, delay=11300 })\ntransition.moveBy(pauk, { x=160, y=200, time=500, delay=11300 })\nend"
      },
      {
        "id": 10,
        "text": "fon1",
        "url": "http://c.radikal.ru/c37/1912/c0/e9a1b79fb91d.png"
      },
      {
        "id": 10,
        "text": "krug",
        "url": "http://b.radikal.ru/b09/1912/b5/ec5858d14a7b.png"
      },
      {
        "id": 10,
        "text": "iskr",
        "url": "http://a.radikal.ru/a19/1912/52/5d61246e8833.png"
      },
      {
        "id": 10,
        "text": "svecha",
        "url": "http://b.radikal.ru/b43/1912/66/4694dc83f1cc.png"
      },
      {
        "id": 10,
        "text": "fon2",
        "url": "http://b.radikal.ru/b20/1912/b0/b37cfbce5e22.png"
      },
      {
        "id": 10,
        "text": "ram",
        "url": "http://d.radikal.ru/d07/1912/ac/81252afa3bff.png"
      },
      {
        "id": 38,
        "text": "pauk",
        "url": "http://c.radikal.ru/c33/1912/55/06a7f6993755.png"
      }
    ]
  },
  {
    "id": 39,
    "text": "\n— Это Хранитель, он спас нас от смерти. \n\nТина немного смутилась и продолжила сбивчиво говорить:\n\n— Ну в некотором роде. Он не мог вмешаться, пока мы не будем на границе смерти. Какой-то Кодекс ему мешал. Сейчас мы в некоем Круге, это где-то глубоко под замком. А тебя принес Страж, последний, кто охраняет это место от какого-то Ордена. Этот Страж жуткий, но вроде не злой. Как объяснил Хранитель, в этом месте спрятаны могучие артефакты и крайне опасные существа, которые не должны попасть в наш мир. Я ему верю. Я видела некоторых из них, они сейчас спят. Так вот, те бандиты наняты Орденом, который стремится попасть сюда. А Барьер особенно уязвим во время грозы. И Хранитель хочет, чтобы мы помогли ему, став новыми Стражами, потому что Старые, кроме одного, что принёс тебя, уже уничтожены, да и последний хочет обрести покой, ведь ему не одна сотня лет...\n\nАлекс, увидев, что Тина уже почти захлебнулась потоком своих мыслей, и почти утопила в них Дэна, непонимающе глядевшего на них, пришел на помощь:\n\n— Дэн, всё сразу трудно понять, но время есть. Каждый из нас был на пороге смерти, и всех нас вернули к жизни. Но взамен нас просят стать защитниками этого места. И на то есть весомые причины. Задавай вопросы, если что непонятно.\n",
    "answers": [
      {
        "id": 40,
        "text": "Спросить, что случилось с Тиной",
        "need": [
          -40
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 41,
        "text": "Спросить, что случилось с Кэт",
        "need": [
          -41
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 42,
        "text": "Спросить, что случилось с Алексом",
        "need": [
          -42
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 43,
        "text": "Спросить, что это за место",
        "need": [
          -43
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 44,
        "text": "Спросить про разбойников",
        "need": [
          -44
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 45,
        "text": "Всё более менее понятно...",
        "var_not": [
          "pula",
          2
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 69,
        "bg_color": [
          0.7,
          0,
          0
        ],
        "text": "Всё более менее понятно...",
        "var_equal": [
          "pula",
          2
        ]
      }
    ]
  },
  {
    "id": 40,
    "text": "\nТина решила сама рассказать свою историю:\n\n— Помнишь ту раковину, что мы нашли? Я решила её поизучать, пока... \n\nОна немного смутилась, оглядываясь на друзей, которые лишь тепло улыбнулись.\n\n— Ну пока ты не пришел. Вот только внутри оказался ядовитый моллюск, который меня ужалил. Было очень больно.\n\nТина поморщилась, вспоминая весь этот кошмар, что ей пришлось пережить.\n \n— Я слышала как ты зашел, но словно уже из другого мира. Не знаю как это объяснить. А потом темнота. И я очутилась тут.\n",
    "answers": [
      {
        "id": 40,
        "text": "Спросить, что случилось с Тиной",
        "need": [
          -40
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 41,
        "text": "Спросить, что случилось с Кэт",
        "need": [
          -41
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 42,
        "text": "Спросить, что случилось с Алексом",
        "need": [
          -42
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 43,
        "text": "Спросить, что это за место",
        "need": [
          -43
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 44,
        "text": "Спросить про разбойников",
        "need": [
          -44
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 45,
        "text": "Всё более менее понятно...",
        "var_not": [
          "pula",
          2
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 69,
        "bg_color": [
          0.7,
          0,
          0
        ],
        "text": "Всё более менее понятно...",
        "var_equal": [
          "pula",
          2
        ]
      }
    ]
  },
  {
    "id": 41,
    "text": "\nКэт с грустной улыбкой посмотрела на Дэна:\n\n— ",
    "answers": [
      {
        "id": 41,
        "text": "Когда ты вылез из окна и уполз вниз, дверь не выдержала и в комнату вломился какой-то головорез. Я пыталась сбежать, но безуспешно. Мне не хочется вспоминать тот эпизод. Скажем так, я оказалась на краю гибели. А этот милый старик меня телепортировал сюда и вернул к жизни.\n",
        "merge": true,
        "var_equal": [
          "Den1",
          1
        ]
      },
      {
        "id": 41,
        "text": "Мог бы и догадаться, что я упала и разбилась. А потом, этот милый старик телепортировал меня сюда и вернул к жизни.\n",
        "var_equal": [
          "Den1",
          2
        ],
        "merge": true
      },
      {
        "id": 40,
        "text": "Спросить, что случилось с Тиной",
        "need": [
          -40
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 41,
        "text": "Спросить, что случилось с Кэт",
        "need": [
          -41
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 42,
        "text": "Спросить, что случилось с Алексом",
        "need": [
          -42
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 43,
        "text": "Спросить, что это за место",
        "need": [
          -43
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 44,
        "text": "Спросить про разбойников",
        "need": [
          -44
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 45,
        "text": "Всё более менее понятно...",
        "var_not": [
          "pula",
          2
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 69,
        "bg_color": [
          0.7,
          0,
          0
        ],
        "text": "Всё более менее понятно...",
        "var_equal": [
          "pula",
          2
        ]
      }
    ]
  },
  {
    "id": 42,
    "text": "\nАлекс немного смутился.\n\n— Ну, мои приключения не были столь эпичны, как твои, друг. Мы наблюдали за тобой отсюда и были впечатлены. Я же просто ночью вышел покурить. Ну, и не зря говорят, что курение убивает...\n\nАлекс звонко рассмеялся своей шутке.\n\n— Я первый, кто увидел этих разбойников, вот только тогда я не сразу понял и попытался с ними поговорить. Идея провалилась — меня не захотели слушать. Когда я понял, что к чему, стало уже поздно. Ну, а потом я оказался тут — стараниями этого Старца, жив и невредим.\n",
    "answers": [
      {
        "id": 40,
        "text": "Спросить, что случилось с Тиной",
        "need": [
          -40
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 41,
        "text": "Спросить, что случилось с Кэт",
        "need": [
          -41
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 42,
        "text": "Спросить, что случилось с Алексом",
        "need": [
          -42
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 43,
        "text": "Спросить, что это за место",
        "need": [
          -43
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 44,
        "text": "Спросить про разбойников",
        "need": [
          -44
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 45,
        "text": "Всё более менее понятно...",
        "var_not": [
          "pula",
          2
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 69,
        "bg_color": [
          0.7,
          0,
          0
        ],
        "text": "Всё более менее понятно...",
        "var_equal": [
          "pula",
          2
        ]
      }
    ]
  },
  {
    "id": 43,
    "text": "\nАлекс немного задумался:\n\n— Видишь ли, это что-то вроде хранилища опасных для нашего мира артефактов и существ. Вокруг него создан Барьер, который нарушается электроразрядами молний. Насколько я понял, это не единственное место. И раньше с другими подобными местами была связь. Но сейчас эта связь утеряна. По словам старика, крайне важно не допустить Орден в это место. Впрочем, после встречи с их головорезами, у меня теперь есть личные мотивы поквитаться. И, думаю, у тебя тоже.\n",
    "answers": [
      {
        "id": 40,
        "text": "Спросить, что случилось с Тиной",
        "need": [
          -40
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 41,
        "text": "Спросить, что случилось с Кэт",
        "need": [
          -41
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 42,
        "text": "Спросить, что случилось с Алексом",
        "need": [
          -42
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 43,
        "text": "Спросить, что это за место",
        "need": [
          -43
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 44,
        "text": "Спросить про разбойников",
        "need": [
          -44
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 45,
        "text": "Всё более менее понятно...",
        "var_not": [
          "pula",
          2
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 69,
        "bg_color": [
          0.7,
          0,
          0
        ],
        "text": "Всё более менее понятно...",
        "var_equal": [
          "pula",
          2
        ]
      }
    ]
  },
  {
    "id": 44,
    "text": "\nАлекс охотно решил поделиться:\n\n— Эти разбойники наняты Орденом, организацией могучих магов, но не столь могучих как этот старик. Они хотят заполучить то, что скрыто в этом замке, а потому регулярно пытаются проникнуть сквозь Барьер. Если им это удастся, миру грозит катастрофа. Как я понял, они не скупятся, каждый раз стараясь собрать как можно больше бандитов для самой чёрной работы. И судя по тому, что остался только один Страж, они близки к успеху. Мы должны помочь Хранителю и Стражу, потому что с Орденом им не справиться. И да, я думаю, мы не случайно попали сюда.\n",
    "answers": [
      {
        "id": 40,
        "text": "Спросить, что случилось с Тиной",
        "need": [
          -40
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 41,
        "text": "Спросить, что случилось с Кэт",
        "need": [
          -41
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 42,
        "text": "Спросить, что случилось с Алексом",
        "need": [
          -42
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 43,
        "text": "Спросить, что это за место",
        "need": [
          -43
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 44,
        "text": "Спросить про разбойников",
        "need": [
          -44
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 45,
        "text": "Всё более менее понятно...",
        "var_not": [
          "pula",
          2
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 69,
        "bg_color": [
          0.7,
          0,
          0
        ],
        "text": "Всё более менее понятно...",
        "var_equal": [
          "pula",
          2
        ]
      }
    ]
  },
  {
    "id": 45,
    "text": "\nОбняв по очереди всех, Тину чуть дольше остальных, Дэн обратился к Хранителю:\n\n— Что дальше?\n\nХранитель не заставил себя долго ждать:\n\n— Силой великой могучего воина наделить могу я, но лишь с согласия. Не стареть ты долго сможешь, время обманув. Но пройти испытание должен ты, юный воин, перед тем, как Силу обретёшь. Опасное испытание — умереть можешь.\n\nДэн удивленно уставился на своих спутников:\n\n— Как-то чудно ты говоришь, старик. Мне нужно подумать.\n\nСтарец кивнул. Тина подошла к Дэну и прошептала:\n\n— Что скажешь, Дэн? Может согласимся? Алекс и Кэт уже согласились, а я ждала тебя.\n",
    "answers": [
      {
        "id": 46,
        "text": "Согласится на Испытание",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "smert",
          2
        ]
      },
      {
        "id": 47,
        "text": "Отказаться",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "smert",
          1
        ]
      }
    ]
  },
  {
    "id": 46,
    "text": "\nДэн кивнул, и Тина повторила его жест. Старец поднял руки и положил левую на голову Тины:\n\n— Да пребудет с тобой Сила!\n\nТину окутало сияние. После чего старец подошёл к Дэну и проделал с ним то же самое. Ослепительный свет подобно тёплому покрывалу обволок и проник в разум, словно выжигая все темные уголки сознания...\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://a.radikal.ru/a39/1911/5f/8990d58a05ae.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "lua_do": "function lua_do()\n   local rect = display.newRect(display.contentCenterX, display.contentCenterY,display.contentCenterX*2, display.contentCenterY*2 )\n   canvas.parent.parent.parent.parent.parent.parent.parent:insert(rect)\n   rect:setFillColor(1,1,1)\n   transition.from(rect, {\n   time = 200,\n   alpha = 0,\n   transition = easing.outExpo,\n   onComplete = function()   timer.performWithDelay(100, function()\n   if rect and rect.removeSelf then\n    transition.to(rect, {\n    time = 2000,\n    alpha = 0,\n    transition = easing.inExpo,\n   onComplete = function()\n    if rect and rect.removeSelf then\n    rect:removeSelf()\n    rect = nil\n    end\n    end })\n    end\n   end)\n   end })\nend",
        "text": "Далее...",
        "id": 48
      },
      {
        "var_not": [
          "pula",
          2
        ],
        "super_calculate": true,
        "lua_do": "function lua_do()\n    blueCircle = {}\n    for i = 1, 4 do\n        blueCircle[i] = display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\n        blueCircle[i].width = canvas.width / 100\n        blueCircle[i].height = canvas.width / 100\n        blueCircle[i].x = canvas.width / 1.15\n        blueCircle[i].y = canvas.width / 11\n        blueCircle[i].alpha = 0.8\n    end\n\n    blueButterflies = {}\n    local step = 0\n    for i = 1, 7 do\n        blueButterflies[i] = display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\n        blueButterflies[i].width = canvas.width / (6.5 <plus> step)\n        blueButterflies[i].height = canvas.width / 8\n        blueButterflies[i].x = canvas.width / 1.15\n        blueButterflies[i].y = canvas.width / 11\n        blueButterflies[i].alpha=0\n        step = step <plus> 0.5\n    end\n\n    transition.fadeIn(blueButterflies[1], { time=2600 })\n\n    function Butterfly(event)\n        transition.fadeOut(blueButterflies[1], { time = 800, delay = 100 })\n\n        local bbd1 = 150\n        for i = 2, 6 do\n            transition.fadeIn(blueButterflies[i], { time = 60, delay = bbd1 })\n            transition.fadeOut(blueButterflies[i] , { time = 800, delay = bbd1 <plus> 50 })\n            bbd1 = bbd1 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[7], { time = 60, delay = 650})\n        transition.fadeOut(blueButterflies[7], { time = 600, delay = 750 })\n\n        local bbd2 = 850\n        for i = 6, 2, -1 do\n            transition.fadeIn(blueButterflies[i], { time=300, delay = bbd2 })\n            transition.fadeOut(blueButterflies[i], { time=1300, delay=bbd2 <plus> 50 })\n            bbd2 = bbd2 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[1], { time = 300, delay = 1350}) \n    end\n\n    timer.performWithDelay(3000, Butterfly, 3)\n    transition.fadeOut(blueButterflies[1], { time = 3000, delay = 12200 })\n    local bcd = 3500\n    for i = 1, 4 do\n        transition.scaleBy(blueCircle[i] , { xScale = 30, yScale = 30, time = 5000, delay = bcd})\n        transition.fadeOut(blueCircle[i] , { time = 5000, delay = bcd <plus> 200}) \n        bcd = bcd <plus> 1600\n    end\nend",
        "text": "Новый ответ. введите текст",
        "id": 12,
        "calculate": false
      },
      {
        "super_calculate": true,
        "var_equal": [
          "pula",
          2
        ],
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\nlocal kb1=display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\nlocal kb2=display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\nlocal kb3=display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\nlocal kb4=display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\nlocal kb5=display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\nlocal kb6=display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\nlocal kb7=display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/2\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/2\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/2\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/4.5\nkb1.height = canvas.width/6\nkb1.x = canvas.width/2\nkb1.y=canvas.width/11\nkb2.width = canvas.width/4.875\nkb2.height = canvas.width/6\nkb2.x = canvas.width/2\nkb2.y=canvas.width/11\nkb3.width = canvas.width/5.25\nkb3.height = canvas.width/6\nkb3.x = canvas.width/2\nkb3.y=canvas.width/11\nkb4.width = canvas.width/5.625\nkb4.height = canvas.width/6\nkb4.x = canvas.width/2\nkb4.y=canvas.width/11\nkb5.width = canvas.width/6\nkb5.height = canvas.width/6\nkb5.x = canvas.width/2\nkb5.y=canvas.width/11\nkb6.width = canvas.width/6.375\nkb6.height = canvas.width/6\nkb6.x = canvas.width/2\nkb6.y=canvas.width/11\nkb7.width = canvas.width/6.75\nkb7.height = canvas.width/6\nkb7.x = canvas.width/2\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 4 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=15200 })\ntransition.scaleBy(kk1, { xScale=50, yScale=50, time=7000, delay=3500})\ntransition.fadeOut(kk1, { time=7000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=50, yScale=50, time=7000, delay=7000})\ntransition.fadeOut(kk2, { time=7000, delay=7200})\ntransition.scaleBy(kk3, { xScale=50, yScale=50, time=7000, delay=10500})\ntransition.fadeOut(kk3, { time=7000, delay=10700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 47,
    "text": "\nДэн покачал головой. Тина немного растерялась, грустно улыбнулась Хранителю и подошла обнять Дэна:\n\n— Хорошо, милый, пусть и не вечность впереди, но главное, мы будем вместе. \n\nДэн тепло посмотрел на неё и прижал к себе:\n\n— Да!\n\nОднако, он понимал, что угроза от Ордена не даст им жить спокойно. И тёмные мысли, вопреки его воли, портили этот прекрасный момент...\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://a.radikal.ru/a39/1911/5f/8990d58a05ae.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 48,
        "text": "Далее..."
      },
      {
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 48,
    "text": "\nВы удивляетесь, насколько красочными остались воспоминания. Словно это было вчера. ",
    "answers": [
      {
        "id": 48,
        "text": "Светловолосый парень как раз закончил свой рассказ. Вы поднимаетесь, подходите к нему и по-дружески хлопаете по плечу:\n\n— Алекс, нам пора. Лучше успеть до заката.\n\nАлекс улыбается в ответ:\n\n— Ты прав, Дэн, пора.\n",
        "merge": true,
        "var_equal": [
          "hero1",
          1
        ]
      },
      {
        "id": 48,
        "text": "Рассказ получился долгим, но вы надеетесь, что это хоть немного осложнит жизнь Ордену. Светловолосый парень подходит к вам и, смеясь, хлопает вас по плечу:\n\n— Ну и болтун же ты. Пошли, нам пора.\n\nВы улыбаетесь в ответ:\n\n— Верно. Пошли, Алекс. Девчонки уже заждались, поди.\n ",
        "var_equal": [
          "hero2",
          1
        ],
        "merge": true
      },
      {
        "id": 48,
        "text": "\nВы невольно задумались, как по-разному сложились ваши судьбы — с тех пор как Алекс и Кэт стали Стражами, успешно пройдя Испытание и обретя цель, вы вместе с Тиной вернулись к обычной жизни, в которой вам чего-то не хватало. Поэтому, когда друзья попросили о помощи, вы не смогли отказать. И сейчас, глядя на нестареющего друга, пусть и на краткий миг, вы жалеете, что не решились тогда рискнуть...\n\nВместе вы покидаете заведение, не обращая внимания на удивленные взгляды двух посетителей, провожающих взглядом юного светловолосого парня и седого коренастого мужчину со шрамом на переносице.\n",
        "merge": true,
        "var_equal": [
          "smert",
          1
        ]
      },
      {
        "id": 48,
        "text": "\nВместе вы покидаете заведение, не обращая внимания на удивленные взгляды двух посетителей, провожающих взглядом загадочных молодых людей.\n",
        "var_equal": [
          "smert",
          2
        ],
        "merge": true
      },
      {
        "id": 49,
        "text": "Идти в порт"
      }
    ]
  },
  {
    "id": 49,
    "text": "\n— Знаешь, Алекс, я думаю, девчонки обрадуются нашему возвращению. Особенно, когда узнают, что мы нашли-таки третий Круг и скоро восстановим с ним связь.\n\nАлекс серьёзно смотрит на небо, доставая сигарету:\n\n— Ты прав, дружище! Скоро мы и до Ордена доберёмся. А ведь тогда, двадцать пять лет назад, мы и мечтать о таком не могли. Но теперь, когда нам многое стало известно — это не кажется сумасбродством. Так ведь?\n\nАлекс подмигивает вам. А вы с улыбкой думаете, что прошло столько времени, а он всё такой же легкомысленный оптимист. Впрочем, это вам в нём и нравится...\n",
    "answers": [
      {
        "id": 1,
        "text": "Конец"
      }
    ]
  },
  {
    "id": 50,
    "text": "\nПуть выборов — сложный,\nНо выборы — ложны.\nА в рамках иллюзий\nИ жизнь \"all inclusive\".\n\nКвест написан для конкурса \"Иллюзия выбора\". Расчитан на вертикальную ориентацию, приложение v.351 или более позднюю версию. Приветствуется конструктивная критика и любые адекватные отзывы. \n\n",
    "answers": [
      {
        "id": 1,
        "text": "На главную страницу"
      }
    ]
  },
  {
    "id": 51,
    "text": "\nСпустя некоторое время поисков в темноте, Дэн нашёл крепкую палку, а также ключ от тайника на шхуне, который, видимо, обронил во время спуска. Конечно, Дэн не отказался бы найти возле замка какой-нибудь меч или кинжал, но не стоило надеяться на такую удачу.\n\nНа секунду Дэну показалось, что он услышал шорохи в лесу. Возможно, это ветер, но необходимо быть начеку.\n",
    "answers": [
      {
        "id": 14,
        "text": "Идти к парадному входу",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 25,
        "text": "Идти к шхуне",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 52,
        "text": "Поискать ещё",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "var_not": [
          "perelom",
          1
        ],
        "super_calculate": true,
        "lua_do": "function lua_do()\n    blueCircle = {}\n    for i = 1, 4 do\n        blueCircle[i] = display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\n        blueCircle[i].width = canvas.width / 100\n        blueCircle[i].height = canvas.width / 100\n        blueCircle[i].x = canvas.width / 1.15\n        blueCircle[i].y = canvas.width / 11\n        blueCircle[i].alpha = 0.8\n    end\n\n    blueButterflies = {}\n    local step = 0\n    for i = 1, 7 do\n        blueButterflies[i] = display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\n        blueButterflies[i].width = canvas.width / (6.5 <plus> step)\n        blueButterflies[i].height = canvas.width / 8\n        blueButterflies[i].x = canvas.width / 1.15\n        blueButterflies[i].y = canvas.width / 11\n        blueButterflies[i].alpha=0\n        step = step <plus> 0.5\n    end\n\n    transition.fadeIn(blueButterflies[1], { time=2600 })\n\n    function Butterfly(event)\n        transition.fadeOut(blueButterflies[1], { time = 800, delay = 100 })\n\n        local bbd1 = 150\n        for i = 2, 6 do\n            transition.fadeIn(blueButterflies[i], { time = 60, delay = bbd1 })\n            transition.fadeOut(blueButterflies[i] , { time = 800, delay = bbd1 <plus> 50 })\n            bbd1 = bbd1 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[7], { time = 60, delay = 650})\n        transition.fadeOut(blueButterflies[7], { time = 600, delay = 750 })\n\n        local bbd2 = 850\n        for i = 6, 2, -1 do\n            transition.fadeIn(blueButterflies[i], { time=300, delay = bbd2 })\n            transition.fadeOut(blueButterflies[i], { time=1300, delay=bbd2 <plus> 50 })\n            bbd2 = bbd2 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[1], { time = 300, delay = 1350}) \n    end\n\n    timer.performWithDelay(3000, Butterfly, 3)\n    transition.fadeOut(blueButterflies[1], { time = 3000, delay = 12200 })\n    local bcd = 3500\n    for i = 1, 4 do\n        transition.scaleBy(blueCircle[i] , { xScale = 30, yScale = 30, time = 5000, delay = bcd})\n        transition.fadeOut(blueCircle[i] , { time = 5000, delay = bcd <plus> 200}) \n        bcd = bcd <plus> 1600\n    end\nend",
        "text": "Новый ответ. введите текст",
        "id": 12,
        "calculate": false
      }
    ]
  },
  {
    "id": 52,
    "text": "— Чёртова птица!\n\nДэн продолжил поиски, но ничего подходящего не нашлось. Зато нашли его. Не стоило сильно задерживатся на месте — как и ожидалось, бандиты, или кто бы они ни были, решили поискать ",
    "answers": [
      {
        "id": 52,
        "text": "беглеца.\n\n",
        "var_equal": [
          "Den1",
          1
        ],
        "merge": true
      },
      {
        "id": 52,
        "text": "беглецов.\n\n",
        "merge": true,
        "var_equal": [
          "Den1",
          2
        ]
      },
      {
        "id": 52,
        "text": "Как минимум трое людей обступали Дэна со всех сторон, целясь из какого-то оружия — в темноте не разглядеть. Раздался первый выстрел самого нетерпеливого. Дэна не задело, но в следующий раз могут и не промахнутся.\n",
        "merge": true
      },
      {
        "id": 53,
        "text": "Сражаться",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_random": [
          "fortuna",
          1,
          2
        ]
      },
      {
        "id": 54,
        "text": "Бежать",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 14,
        "text": "sova",
        "url": "http://a.radikal.ru/a14/1911/1e/a7014bb894ec.png"
      },
      {
        "super_calculate": true,
        "id": 26,
        "calculate": false,
        "lua_do": "function lua_do()\n\nimages.sova.isVisible = false\n\nsov = display.newImage(images.sova.url)\n\nsov.width = canvas.width/70\nsov.height = canvas.width/70\nsov.x = canvas.width/1.5\nsov.y=canvas.width/2.5\n\ntransition.scaleBy( sov, { xScale=200.0, yScale=200.0, time=1500, delay = 800, transition=easing.inCirc } )\n\ntransition.moveBy( sov, { x= -1800, y= -200, time=2700, delay = 800, transition= easing.inOutBack } )\n\n\nend",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 53,
    "text": "\nДэн решил сражаться. Времени на составление тактического плана не оставалось, а потому, пользуясь темнотой, расположением врагов и маневрируя между деревьями, он побежал в сторону ближнего противника. ",
    "answers": [
      {
        "id": 53,
        "var_not": [
          "perelom",
          1
        ],
        "text": "Бандиты, не ожидавшие такой прыти от своей жертвы среагировали лишь когда один из них упал без чувств. Тяжелый удар палкой отозвался хрустом. Похоже Дэн проломил ей чью-то голову. Раздались выстрелы.\n\n",
        "merge": true
      },
      {
        "id": 53,
        "text": "Однако, тут же почувствовал резкую боль в поврежденной ноге. Противники опомнились, но Дэн всё же успел одного из них вырубить тяжелым ударом палкой по голове. Раздались выстрелы.\n\n",
        "merge": true,
        "var_equal": [
          "perelom",
          1
        ]
      },
      {
        "id": 53,
        "text": "Удача оказалась на стороне Дэна — ни одна из пуль даже не задела его.\n",
        "var_equal": [
          "fortuna",
          1
        ],
        "merge": true
      },
      {
        "id": 53,
        "text": "Сегодня удача оказалась не на стороне Дэна — выпущенная в темноте и навскидку пуля попала точно в грудь, выбивая воздух из лёгких. Сознание стремительно стало угасать. И лишь на краткий миг перед тем, как оно окончательно угасло, Дэну послышались крики врагов.\n",
        "merge": true,
        "var_equal": [
          "fortuna",
          2
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее...",
        "var_equal": [
          "fortuna",
          2
        ]
      },
      {
        "id": 55,
        "text": "Продолжать нападение",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "fortuna",
          1
        ]
      },
      {
        "id": 54,
        "text": "Бежать",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "fortuna",
          1
        ]
      },
      {
        "var_equal": [
          "fortuna",
          2
        ],
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 54,
    "text": "\nРешив, что стоит отступить, Дэн помчался сквозь лес. ",
    "answers": [
      {
        "id": 54,
        "text": "Крики врагов стали отдаляться. Не теряя темпа, Дэн мчался дальше и дальше. И слишком поздно заметил, что выбежал к парадному входу замка. Впереди показалась ещё группа противников — пока его не успели заметить, но счёт шёл на секунды.\n",
        "var_not": [
          "perelom",
          1
        ],
        "merge": true
      },
      {
        "id": 54,
        "text": "Но перелом ноги сорвал его планы. Дэн не мог дальше бежать, а потому противники быстро нагнали его. Яростный бой был недолгим. Дэн каким-то чудом сумел вырубить одного противника, который буквально вылетел на него, не разглядев в темноте. Однако, его крик привлёк внимание, обнаружив Дэна для всех остальных. После чего раздались выстрелы, один из которых попал точно в грудь. Сознание покинуло тело.\n",
        "merge": true,
        "var_equal": [
          "perelom",
          1
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее...",
        "var_equal": [
          "perelom",
          1
        ]
      },
      {
        "id": 30,
        "text": "Рвануть в бой",
        "var_not": [
          "perelom",
          1
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 56,
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_not": [
          "perelom",
          1
        ],
        "text": "Быстро скрыться и отправиться к шхуне"
      },
      {
        "var_equal": [
          "perelom",
          1
        ],
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 55,
    "text": "\nОтбросив сломанную палку и не теряя темпа, Дэн решил повторить свой маневр со вторым противником, в этот раз пустив вход кулаки. ",
    "answers": [
      {
        "id": 56,
        "var_not": [
          "perelom",
          1
        ],
        "text": "К сожалению, враги тоже были не новичками и предугадали его действия. Пока Дэн разбирался со вторым противником, еще двое успели приблизится и прицельно выстрелить.\n\n",
        "merge": true
      },
      {
        "id": 56,
        "text": "Дэн побежал ко второму противнику, но боль в ноге в этот раз пронзила всё тело, ослепляя вспышкой света в глазах, после которого на несколько секунд мир пропал во мраке. Эти секунды стали роковыми — враги успели приблизиться и прицелиться. Прогремел выстрел. Дэн ощутил сильную боль в области груди.\n\n",
        "merge": true,
        "var_equal": [
          "perelom",
          1
        ]
      },
      {
        "id": 56,
        "text": "Теряя сознание, Дэн услышал крики своих врагов.",
        "var_equal": [
          "perelom",
          1
        ],
        "merge": true
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее..."
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 56,
    "text": "\nДэн был уже на взводе, однако, продолжил идти вперед. Путь занял много времени, поскольку выходить на дорогу было слишком опасно, а двигаться по лесу в темноте приходилось на ощупь. Дэн пару раз замечал на дороге группы вооружённых людей, что окончательно его убедило в том, что дела крайне паршивые, а влипли они во что-то очень серьёзное и опасное.\n\nВпереди уже виднелась лагуна, в которой по счастливому стечению обстоятельств их шхуна была цела. Только сейчас Дэн подумал, что с таким штормом её могло разворотить или унести от берега, но чудесным образом волны в лагуне были небольшие, а потому она мерно покачивалась возле деревянного пирса — там где её и оставили. И как можно было догадаться, она была там не одна.\n",
    "answers": [
      {
        "id": 34,
        "text": "Осмотреться",
        "bg_color": [
          0.7,
          0,
          0
        ]
      }
    ]
  },
  {
    "id": 57,
    "text": "\nОтвлекающий маневр прошёл успешно — трое бандитов переключили всё своё внимание на лес. Дэн благополучно пробрался на шхуну и на ощупь в полной темноте начал искать. Гарпуна на месте не оказалось — бандиты по всей вероятности осмотрели и забрали всё полезное. Оставалась лишь надежда на тайник. Дэн пробрался к нужному месту и стал шарить руками. Нащупав особый выступ, он с силой нажал на него и смог приоткинуть защитный кожух, за которым находился небольшой сейф с револьвером на непредвиденный случай. Такой, как сейчас...\n\n",
    "answers": [
      {
        "id": 57,
        "text": "Достав из кармана ключ, Дэн отложил в сторону уже ненужную палку, открыл сейф и извлёк из него шестизарядный револьвер, а также небольшую коробку с патронами. Зарядив пять патронов* и проверив, всё ли в порядке, Дэн направился к выходу.\n",
        "merge": true,
        "var_equal": [
          "kluch",
          1
        ]
      },
      {
        "id": 57,
        "text": "Однако, ключа в кармане не нашлось — где-то выронил. Дэн с досады плюнул — это ж надо было так сесть в лужу в самый ответственный момент. Постояв немного в размышлениях о безнадёжности ситуации, Дэн направился к выходу.\n",
        "var_not": [
          "kluch",
          1
        ],
        "merge": true
      },
      {
        "var_str_set": [
          "global background",
          "http://c.radikal.ru/c40/1912/3f/bec9afd9a52b.png"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "id": 58,
        "text": "Выйти наружу",
        "var_not": [
          "kluch",
          1
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://c.radikal.ru/c40/1912/3f/bec9afd9a52b.png"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "kluch",
          1
        ],
        "id": 59,
        "text": "Выйти наружу"
      },
      {
        "comment": true,
        "var_equal": [
          "kluch",
          1
        ],
        "id": 57,
        "text": "*Одну каморку под патрон оставляли пустой, чтобы боёк не соприкасался с капсюлем, поскольку это могло вызвать случайный выстрел при небольшой встряске.",
        "text_color": [
          1,
          0,
          0
        ]
      }
    ]
  },
  {
    "id": 58,
    "text": "\nДэн постарался незаметно выбраться со шхуны, но стоило ему спуститься, как он был замечен кем-то с бандитской шхуны, и началась пальба. Ловко уворачиваясь, неудавшийся герой выбежал на берег, но трое бандитов, услышав выстрелы, уже ожидали его появление. Не сбавляя темпа, Дэн мчался в сторону спасительной темноты леса, избежав первых залпов. Двое противников пошли наперерез. Дэн успел оглушить одного палкой, после чего оттолкнул второго, но выстрел в грудь заставил его потерять равновесие и рухнуть в лужу. Сознание затуманилось, сменяясь кромешной тьмой...\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее..."
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 59,
    "text": "\nДэн аккуратно выглянул наружу и заметил свет, а после и движение на шхуне разбойников. Как минимум двое. Ещё трое на берегу, которые непременно прибегут на звук выстрелов. В запасе есть еще с десяток патронов, но перезаряжаться во время боя долго и опасно. А если врагов окажется больше пяти, то будь хоть самым метким стрелком, а патронов в барабане не хватит.\n\nДэн пришел к разумному выводу, что лезть на вражескую шхуну опасно — стоит для начала разобраться с врагами на берегу. Спустившись незамеченым, Дэн прокрался к берегу и подошёл как можно ближе к противникам, скрываясь за различными преградами. Но в самый крайний момент один из противников его всё же заметил и начал кричать.\n",
    "answers": [
      {
        "id": 60,
        "text": "Быстро стрелять на поражение",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "fast",
          1
        ]
      },
      {
        "id": 60,
        "text": "Стрелять медленно и прицельно на поражение",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "slow",
          1
        ]
      },
      {
        "id": 60,
        "text": "Стрелять медленно и прицельно, оставив одного в живых",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "slow",
          2
        ]
      }
    ]
  },
  {
    "id": 60,
    "text": "\nДэн начал стрелять по противникам, к чему те оказались не готовы. ",
    "answers": [
      {
        "id": 60,
        "text": "К сожалению, в быстром темпе стрельбы точность оказалась не на высоте, поэтому к окончанию боя барабан оказался пуст. Однако, противники успели лишь раз выстрелить навскидку и промахнуться.\n\n",
        "var_equal": [
          "fast",
          1
        ],
        "merge": true
      },
      {
        "id": 60,
        "text": "Прицельная стрельба дала свои результаты — три патрона нашли свои цели. Враги спешно открыли ответный огонь, но по счасливому стечению обстоятельств — мимо. В самый крайний момент Дэн успел застрелить третьего, перед тем как тот решил всё же прицелится.\n\n",
        "merge": true,
        "var_equal": [
          "slow",
          1
        ]
      },
      {
        "id": 60,
        "var_not": [
          "slow",
          2
        ],
        "text": "Наскоро обыскав побежденных и убедившись, что они уже не встанут, победитель собрал у них несколько патронов и посмотрел в сторону вражеской шхуны. Пока никакого движения оттуда не было. Заряжая револьвер, Дэн обдумывал дальнейшие действия.\n",
        "merge": true
      },
      {
        "id": 60,
        "text": "Однако, после первого меткого попадания враги открыли беглый огонь. Впрочем, ни один из них не попал в цель. Второй выстрел сразил следующего противника. Остался лишь худощавый бандит, который собрался и решил всё-таки хорошенько прицелиться. Дэн успел первым, ранив бандита в плечо, и надеялся, что с таким ранением враг не сможет выстрелить, зато его можно будет допросить. Однако, тот и не подумал сразу выронить своё оружие, хоть и пошатнулся. Раздался выстрел, который по роковому стечению обстоятельств угодил точно в грудь здоровяка. Дэн начал терять сознание, на прощание успев ещё раз нажать спусковой крючок, после чего оба упали на землю...\n",
        "merge": true,
        "var_equal": [
          "slow",
          2
        ]
      },
      {
        "id": 61,
        "text": "Пойти к вражеской шхуне",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_not": [
          "slow",
          2
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "id": 62,
        "text": "Пробираться к замку через лес",
        "var_not": [
          "slow",
          2
        ],
        "var_set": [
          "less",
          1
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "id": 62,
        "text": "Пойти к замку по дороге",
        "var_not": [
          "slow",
          2
        ],
        "var_set": [
          "less",
          2
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее...",
        "var_equal": [
          "slow",
          2
        ]
      },
      {
        "var_equal": [
          "slow",
          2
        ],
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 61,
    "text": "\nДэн решил, что не стоит оставлять врагов позади и пошел обратно к пирсу. Продвигаясь мелкими перебежками, чтобы не подставиться под пули врагов, которые уже заметили его и открыли огонь, боец уверенно приближался к цели. С небольшой дистанции Дэн в очередной раз доказал свою меткость — оба противника упали. Враги повержены. Но что они так бдительно охраняли, что даже не покинули шхуну и не пришли на помощь своим подельникам? Дэн решил проверить. Однако, с каждым шагом стала нарастать тревога. Чувствовалась какая-то страшная и давящая сила. И Страх! Словно волнами на скалы он накатывал на разум бесстрашного доселе воина, вызывая лишь одно желание — бежать со всех ног.\n",
    "answers": [
      {
        "id": 64,
        "text": "Сбежать от греха подальше",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 65,
        "text": "Пересилить страх и проверить",
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "super_calculate": true,
        "id": 12,
        "calculate": false,
        "lua_do": "function lua_do()\n    blueCircle = {}\n    for i = 1, 4 do\n        blueCircle[i] = display.newImage(\"http://c.radikal.ru/c25/1912/6c/63d2882d9772.png\")\n        blueCircle[i].width = canvas.width / 100\n        blueCircle[i].height = canvas.width / 100\n        blueCircle[i].x = canvas.width / 1.15\n        blueCircle[i].y = canvas.width / 11\n        blueCircle[i].alpha = 0.8\n    end\n\n    blueButterflies = {}\n    local step = 0\n    for i = 1, 7 do\n        blueButterflies[i] = display.newImage(\"http://a.radikal.ru/a15/1912/8e/1eb2fa3fa903.png\")\n        blueButterflies[i].width = canvas.width / (6.5 <plus> step)\n        blueButterflies[i].height = canvas.width / 8\n        blueButterflies[i].x = canvas.width / 1.15\n        blueButterflies[i].y = canvas.width / 11\n        blueButterflies[i].alpha=0\n        step = step <plus> 0.5\n    end\n\n    transition.fadeIn(blueButterflies[1], { time=2600 })\n\n    function Butterfly(event)\n        transition.fadeOut(blueButterflies[1], { time = 800, delay = 100 })\n\n        local bbd1 = 150\n        for i = 2, 6 do\n            transition.fadeIn(blueButterflies[i], { time = 60, delay = bbd1 })\n            transition.fadeOut(blueButterflies[i] , { time = 800, delay = bbd1 <plus> 50 })\n            bbd1 = bbd1 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[7], { time = 60, delay = 650})\n        transition.fadeOut(blueButterflies[7], { time = 600, delay = 750 })\n\n        local bbd2 = 850\n        for i = 6, 2, -1 do\n            transition.fadeIn(blueButterflies[i], { time=300, delay = bbd2 })\n            transition.fadeOut(blueButterflies[i], { time=1300, delay=bbd2 <plus> 50 })\n            bbd2 = bbd2 <plus> 100\n        end\n\n        transition.fadeIn(blueButterflies[1], { time = 300, delay = 1350}) \n    end\n\n    timer.performWithDelay(3000, Butterfly, 3)\n    transition.fadeOut(blueButterflies[1], { time = 3000, delay = 12200 })\n    local bcd = 3500\n    for i = 1, 4 do\n        transition.scaleBy(blueCircle[i] , { xScale = 30, yScale = 30, time = 5000, delay = bcd})\n        transition.fadeOut(blueCircle[i] , { time = 5000, delay = bcd <plus> 200}) \n        bcd = bcd <plus> 1600\n    end\nend",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 62,
    "text": "   \n",
    "answers": [
      {
        "id": 62,
        "text": "Путь через лес давался тяжело — слишком много событий для одной ночи. Стараясь держаться недалеко от дороги, Дэн наблюдал, но не увидел ни одного противника. Чем ближе к замку, тем больше росло убеждение, что можно было идти не скрываясь и экономя силы. Усталость давила на сознание, всё чаще заставляя спотыкаться и терять понимание предстоящей цели. И когда Дэн уже готов был выйти на дорогу, неожиданно увидел, что угодил в засаду — вокруг него несколько человек скрывались среди деревьев, ожидая, по всей видимости, именно его. Раздались первые выстрелы и крики. Времени на подготовку не осталось, как и сил на то, чтобы сбежать.\n",
        "merge": true,
        "var_equal": [
          "less",
          1
        ]
      },
      {
        "id": 62,
        "text": "Путь по дороге заставлял всё время быть на чеку. Дэн прекрасно помнил, как видел несколько бандитских патрулей. Адреналин последней схватки стал спадать — усталость и измождение от последних событий начали давить на сознание, оставив лишь чувство постоянного беспокойства — в каждом шорохе и каждом покачивании леса мерещились враги. Но постепенно и это прошло. И напрасно, поскольку Дэн слишком поздно заметил, что угодил в засаду — несколько человек вышли из леса и, увидев, что их жертва вооружена и опасна, собрались стрелять.\n",
        "var_equal": [
          "less",
          2
        ],
        "merge": true
      },
      {
        "id": 63,
        "text": "Приготовится к бою",
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "text": "Новый ответ. введите текст",
        "id": 12,
        "calculate": false
      }
    ]
  },
  {
    "id": 63,
    "text": "\nДэн действовал на рефлексах, выпустив все пять пуль подряд. Крики раненых. Смерти. Всё произошло так быстро, что разум не успел запечатлеть события. Скольких он убил, а сколько осталось в живых... уже не имело значения, поскольку одна из пуль угодила Дэну точно в грудь. А после — падение, тишина и абсолютная тьма...\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее..."
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 64,
    "text": "\nЧутьё никогда раньше не обманывало Дэна, поэтому отойдя на некоторое расстояние, он решил, что с вражеской шхуной можно разобраться позже — есть дела поважнее, а потому пора возвращаться к замку. Тем более, что других врагов замечено не было, а значит путь к отступлению очищен.\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "id": 62,
        "text": "Пробираться к замку через лес",
        "var_set": [
          "less",
          1
        ]
      },
      {
        "var_str_set": [
          "global background",
          "http://b.radikal.ru/b15/1911/4f/08eec3175c29.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "id": 62,
        "text": "Пойти к замку по дороге",
        "var_set": [
          "less",
          2
        ]
      }
    ]
  },
  {
    "id": 65,
    "text": "\nДэн пробрался на судно. С каждым шагом страх отступал, побежденный усилием воли. В слабом свете керосиновой лампы, взятой на входе, сложно было разглядеть, что внутри. И лишь поэтому Дэн слишком поздно заметил человека, вышедшего навстречу. Он совсем не походил на виденных ранее разбойников. Хриплый и трескучий голос произнёс:\n\n— Впечатлен. Ты смог зайти так далеко, хотя всего лишь простой человек.\n\nОднако, простой человек в лице Дэна не успел переварить смысл, как в него полетели различные предметы интерьера, хотя незнакомец даже не шевельнулся. Реакция вновь спасла, подсказав наилучшее из возможных действий — упав на пол, парень выстрелил, в то время как над головой пролетела новая порция — чего именно, Дэн не успел заметить. Но тут его ожидал сюрприз — пуля не достигла цели, звонко ударившись о невидимую преграду.\n",
    "answers": [
      {
        "id": 65,
        "text": "\nВдруг словно внутренний голос прошептал: \"Приглядись внимательнее!\"\n",
        "merge": true,
        "var_equal": [
          "pravda",
          1
        ]
      },
      {
        "id": 66,
        "text": "Продолжать стрелять",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "pula",
          1
        ]
      },
      {
        "id": 66,
        "text": "Присмотреться",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "pula",
          2
        ]
      }
    ]
  },
  {
    "id": 66,
    "text": "   \n",
    "answers": [
      {
        "id": 66,
        "text": "Поднимаясь, Дэн сделал один выстрел за другим. Все четыре выстрела не достигли цели. Однако, незнакомец насторожился. Дэн увидел, как очередная партия хлама в виде пары ножей, сломанной ножка стула и осколков кувшина поднялись в воздух, и быстро приблизившись, выстрелил почти в упор. Однако, пуля отрекошетила, ранив несчастного стрелка в грудь. Дэн в ярости стукнул кулаком невидимую преграду и... раздались треск и удивленный возглас. После чего странная тень мелькнула за спиной необычного врага. Вот только сознание в этот момент покинуло Дэна, и он упал...\n",
        "merge": true,
        "var_equal": [
          "pula",
          1
        ]
      },
      {
        "id": 66,
        "text": "Медленно поднимаясь, Дэн решил присмотреться внимательнее. И словно каким-то чутьём увидел преграду, которая как пузырь окутывала странного врага. Тот вдруг неожиданно расхохотался:\n\n— Это всё, на что ты способен? Умри же наконец и не мешай нашему плану!\n\nС этими словами начали подниматься ножи, осколки посуды и разбитой мебели. Дэн инстинктивно прыгнул на врага и со всей силы ударил в этот пузырь. Треск. Боль пронзила руку, но в то же самое время пузырь неожиданно лопнул, а смех резко прекратился.\n\n- Как ты..?!\n\nДэн почувствовал резкий приступ удушья, как если бы его схватили за горло. В тот же миг за жутким противником выросла тень, быстрое движение которой обезглавило чудовищного врага. Хватка на горле ослабла, и Дэн смог дышать.\n",
        "var_equal": [
          "pula",
          2
        ],
        "merge": true
      },
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "blackout": true,
        "id": 33,
        "text": "Далее...",
        "var_equal": [
          "pula",
          1
        ]
      },
      {
        "id": 67,
        "text": "Отдышаться",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_equal": [
          "pula",
          2
        ]
      },
      {
        "var_equal": [
          "pula",
          1
        ],
        "super_calculate": true,
        "lua_do": "function lua_do()\nlocal kk1=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk2=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kk3=display.newImage(\"http://c.radikal.ru/c25/1912/c5/edf6d3b4baed.png\")\nlocal kb1=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb2=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb3=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb4=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb5=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb6=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nlocal kb7=display.newImage(\"http://d.radikal.ru/d37/1912/a5/37b734f1f8d2.png\")\nkk1.width = canvas.width/100\nkk1.height = canvas.width/100\nkk1.x = canvas.width/1.15\nkk1.y=canvas.width/10.5\nkk2.width = canvas.width/100\nkk2.height = canvas.width/100\nkk2.x = canvas.width/1.15\nkk2.y=canvas.width/10.5\nkk3.width = canvas.width/100\nkk3.height = canvas.width/100\nkk3.x = canvas.width/1.15\nkk3.y=canvas.width/10.5\nkb1.width = canvas.width/6\nkb1.height = canvas.width/8\nkb1.x = canvas.width/1.15\nkb1.y=canvas.width/11\nkb2.width = canvas.width/6.5\nkb2.height = canvas.width/8\nkb2.x = canvas.width/1.15\nkb2.y=canvas.width/11\nkb3.width = canvas.width/7\nkb3.height = canvas.width/8\nkb3.x = canvas.width/1.15\nkb3.y=canvas.width/11\nkb4.width = canvas.width/7.5\nkb4.height = canvas.width/8\nkb4.x = canvas.width/1.15\nkb4.y=canvas.width/11\nkb5.width = canvas.width/8\nkb5.height = canvas.width/8\nkb5.x = canvas.width/1.15\nkb5.y=canvas.width/11\nkb6.width = canvas.width/8.5\nkb6.height = canvas.width/8\nkb6.x = canvas.width/1.15\nkb6.y=canvas.width/11\nkb7.width = canvas.width/9\nkb7.height = canvas.width/8\nkb7.x = canvas.width/1.15\nkb7.y=canvas.width/11\nkb1.alpha=0 kb2.alpha=0 kb3.alpha=0 kb4.alpha=0 kb5.alpha=0 kb6.alpha=0    kb7.alpha=0 \nkk1.alpha=0.8 kk2.alpha=0.8 kk3.alpha=0.8\ntransition.fadeIn(kb1, { time=2600 })\ntimer.performWithDelay(3000, function(event)\nlocal count = event.count\n if count >= 3 then\n        timer.cancel( event.source ) end\ntransition.fadeOut(kb1, { time=800, delay=100 })\ntransition.fadeIn(kb2, { time=60, delay=150 })\ntransition.fadeOut(kb2, { time=800, delay=200 })\ntransition.fadeIn(kb3, { time=60, delay=250 })\ntransition.fadeOut(kb3, { time=800, delay=300 })\ntransition.fadeIn(kb4, { time=60, delay=350 })\ntransition.fadeOut(kb4, { time=800, delay=400 })\ntransition.fadeIn(kb5, { time=60, delay=450 })\ntransition.fadeOut(kb5, { time=800, delay=500 })\ntransition.fadeIn(kb6, { time=60, delay=550})\ntransition.fadeOut(kb6, { time=800, delay=600 })\ntransition.fadeIn(kb7, { time=60, delay=650})\ntransition.fadeOut(kb7, { time=600, delay=750 })\ntransition.fadeIn(kb6, { time=300, delay=850})\ntransition.fadeOut(kb6, { time=1200, delay=900 })\ntransition.fadeIn(kb5, { time=300, delay=950})\ntransition.fadeOut(kb5, { time=1400, delay=1000 })\ntransition.fadeIn(kb4, { time=300, delay=1050})\ntransition.fadeOut(kb4, { time=1400, delay=1100 })\ntransition.fadeIn(kb3, { time=300, delay=1150})\ntransition.fadeOut(kb3, { time=1400, delay=1200 })\ntransition.fadeIn(kb2, { time=300, delay=1250})\ntransition.fadeOut(kb2, { time=1300, delay=1300 })\ntransition.fadeIn(kb1, { time=300, delay=1350}) end, 0)\ntransition.fadeOut(kb1, { time=3000, delay=12200 })\ntransition.scaleBy(kk1, { xScale=30, yScale=30, time=5000, delay=3500})\ntransition.fadeOut(kk1, { time=5000, delay=3700}) \ntransition.scaleBy(kk2, { xScale=30, yScale=30, time=5000, delay=5000})\ntransition.fadeOut(kk2, { time=5000, delay=6200})\ntransition.scaleBy(kk3, { xScale=30, yScale=30, time=5000, delay=6500})\ntransition.fadeOut(kk3, { time=5000, delay=6700}) end",
        "calculate": false,
        "text": "Новый ответ. введите текст",
        "id": 12
      }
    ]
  },
  {
    "id": 67,
    "text": "\nПереведя дыхание, Дэн с интересом наблюдал за странным человеком, который пришел на помощь. Черная маска скрывала его лицо, и низкий старческий голос никак не вязался с впечатлением сильного бойца, каким он успел себя продемонстрировать.\n\n— Ты удивительный парень, почти смог одолеть жреца Ордена. Я — Страж этого острова. Пойдём, я проведу тебя к твоим друзьям. Они в безопасности.\n\nДэн потерял дар речи, поглощённый потоком мыслей: \"Его друзья! Они живы! И в безопасном месте? Но как? И что ещё за Страж?\" Множество вопросов остались без ответа, поскольку необычный проводник дальше не проронил ни слова, петляя тайными тропами. В какой-то момент сознание затуманилось и Дэн отключился. Очнулся он уже в небольшой тёмной комнате, лёжа на кровати. Страж куда-то пропал, поэтому, недолго думая, Дэн встал и открыл дверь. У двери его ожидал седой старик.\n",
    "answers": [
      {
        "id": 68,
        "text": "Поприветствовать",
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d08/1911/04/db604c0de9b3.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      }
    ]
  },
  {
    "id": 68,
    "text": "\nДэн поприветствовал старика. Глаза не сразу привыкли к свету после полной темноты, однако, сердце забилось чаще, стоило ему разглядеть друзей. Старик тем временем слегка поклонился:\n\n— О, привествую Воин! Великая в тебе Сила сокрыта. Могучая. Врагов одолел ты. Но знаю, вопросов немало тебя беспокоит. С друзьями своими пока пообщайся, дело есть неотложное.\n\nЗабавный старик ушагал куда-то, Дэн даже не стал смотреть куда, поскольку уже подбежала Тина и бросилась на шею. Пряди рыжих волос коснулись небритой щеки, растворяя в приятном аромате страхи прошедшей ночи. \n\n— О, Дэн, мой герой! Как же я безумно рада, что ты жив! Ты цел? Тебя не ранили?..\n\nТина затораторила, и Дэн мягко прервал её, задав несколько из множества интересующих его вопросов:\n\n— Что происходит? И кто этот старик?\n",
    "answers": [
      {
        "var_str_set": [
          "global background",
          "http://d.radikal.ru/d00/1911/4d/630e9f944290.jpg"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ],
        "id": 39,
        "text": "Послушать Тину"
      },
      {
        "super_calculate": true,
        "id": 38,
        "calculate": false,
        "lua_do": "function lua_do()\nfor key, val in pairs(images) do\n    val.isVisible = false\nend\nlocal fon1=display.newImage(images.fon1.url)\nlocal iskr1=display.newImage(images.iskr.url)\nlocal fon2=display.newImage(images.fon2.url)\nlocal svet=display.newGroup()\nlocal svet1=display.newImage(images.svecha.url)\nlocal svet2=display.newImage(images.svecha.url)\nlocal svet3=display.newImage(images.svecha.url)\nlocal krug=display.newImage(images.krug.url)\nlocal pauk=display.newImage(images.pauk.url)\nlocal ram=display.newImage(images.ram.url)\nsvet:insert( svet1 ) svet:insert( svet2 ) svet:insert( svet3 )\nfon1.width = canvas.width/1\nfon1.height = canvas.width/1.62\nfon1.x = canvas.width/2\nfon1.y=canvas.width/3.4\nfon2.width = canvas.width/1\nfon2.height = canvas.width/1.62\nfon2.x = canvas.width/2\nfon2.y=canvas.width/3.4\nsvet1.width = canvas.width/20\nsvet1.height = canvas.width/25\nsvet1.x = canvas.width/1.088\nsvet1.y=canvas.width/2.18\nsvet2.width = canvas.width/20\nsvet2.height = canvas.width/28\nsvet2.x = canvas.width/1.024\nsvet2.y=canvas.width/2.72\nsvet3.width = canvas.width/20\nsvet3.height = canvas.width/28\nsvet3.x = canvas.width/13.8\nsvet3.y=canvas.width/13.7\nkrug.width = canvas.width/1.4\nkrug.height = canvas.width/6.5\nkrug.x = canvas.width/1.82\nkrug.y=canvas.width/2.17\nkrug.path.x1 = 110\nkrug.path.x4 = -110\niskr1.width = canvas.width/2.4\niskr1.height = canvas.width/0.8\niskr1.x = canvas.width/1.82\niskr1.y = canvas.width/1.59\nram.width = canvas.width/1\nram.height = canvas.width/1.66\nram.x = canvas.width/2\nram.y = canvas.width/3.32\npauk.width = canvas.width/8\npauk.height = canvas.width/12\npauk.x = canvas.width/10.5\npauk.y=canvas.width/2.1\nram.alpha = 0.5\nkrug.alpha = 0.3\niskr1.alpha = 0.25\nlocal startY1= iskr1.y\ntransition.moveBy(iskr1, { y = -317, time = 36000, onComplete = function() iskr1.y = startY1 end })\ntimer.performWithDelay(36050, function(event)\nif not (iskr1 or iskr1.removeSelf) then\ntimer.cancel(event.source)\nend\ntransition.moveBy(iskr1, { y = -317, time = 36000, onComplete = function() iskr1.y = startY1 end })\nend, 0)\ntimer.performWithDelay(4400, function(event)\nif not (svet or svet.removeSelf) then\ntimer.cancel(event.source)\nend\ntransition.to(svet1.path, { x1=0.5, x4=0.5, y1=-5, y4=-5, time = 2000, transition = easing.outInBack })\ntransition.to(svet1.path, { x1=-1, x4=-1, y1=5, y4=5, time=2000, transition = easing.outInBack, delay=2200 })\ntransition.to(svet2.path, { x1=-0.5, x4 =-0.5, y1=-5, y4 =-5, time = 2000, transition = easing.inOutBack })\ntransition.to(svet2.path, { x1=1, x4=1, y1=5, y4=5, time = 2000, transition = easing.inOutBack, delay = 2200 })\ntransition.to(svet3.path, { x1=1, x4=1, y1=-4, y4=-4, time = 2000, transition = easing.inOutBack })\ntransition.to(svet3.path, { x1=-1, x4=-1, y1=4, y4=4, time = 2000, transition = easing.inOutBack, delay = 2200 })\nend, 0)\ntimer.performWithDelay(100, function(event)\nif not (svet or svet.removeSelf) then\ntimer.cancel(event.source)\nend\ntransition.fadeOut(svet, { time = 80, transition = easing.inBounce })\ntransition.fadeIn(svet, { time = 50, transition = easing.outBounce , delay = 40 })\nend, 0)\ntimer.performWithDelay(8000, function(event)\nif not (krug or krug.removeSelf) then\ntimer.cancel(event.source)\nend\ntransition.fadeIn(krug, { time = 8000 })\ntransition.fadeOut(krug, { time = 8000, delay = 4000 })\nend, 0)\ntransition.to(pauk, { rotation=-10, time=500, delay=4000 })\ntransition.moveBy(pauk, { x=115, y=55,  transition=easing.outInCirc , time = 500, delay=4000})\ntransition.to(pauk, {rotation=5, time=300, delay=7800})\ntransition.moveBy(pauk, { x=120, y=71, time=500, delay=8000 })\ntransition.to(pauk, { rotation=25, time=20, delay=10000 })\ntransition.moveBy(pauk, { x=150, y=75, time=20, delay=11000 })\ntransition.to(pauk, { rotation=50, time=100, delay=11300 })\ntransition.moveBy(pauk, { x=160, y=200, time=500, delay=11300 })\nend",
        "text": "Новый ответ. введите текст"
      },
      {
        "id": 10,
        "text": "fon1",
        "url": "http://c.radikal.ru/c37/1912/c0/e9a1b79fb91d.png"
      },
      {
        "id": 10,
        "text": "krug",
        "url": "http://b.radikal.ru/b09/1912/b5/ec5858d14a7b.png"
      },
      {
        "id": 10,
        "text": "iskr",
        "url": "http://a.radikal.ru/a19/1912/52/5d61246e8833.png"
      },
      {
        "id": 10,
        "text": "svecha",
        "url": "http://b.radikal.ru/b43/1912/66/4694dc83f1cc.png"
      },
      {
        "id": 10,
        "text": "fon2",
        "url": "http://b.radikal.ru/b20/1912/b0/b37cfbce5e22.png"
      },
      {
        "id": 10,
        "text": "ram",
        "url": "http://d.radikal.ru/d07/1912/ac/81252afa3bff.png"
      },
      {
        "id": 38,
        "text": "pauk",
        "url": "http://c.radikal.ru/c33/1912/55/06a7f6993755.png"
      }
    ]
  },
  {
    "id": 69,
    "text": "\nОбняв по очереди всех, Тину чуть дольше остальных, Дэн обратился к Хранителю:\n\n— Что дальше?\n\nХранитель не заставил себя долго ждать:\n\n— Силой великой могучего воина ты обладаешь, но могу научить тебя управлять ей. Не стареть ты долго сможешь, время обманув. Опасен путь Стража, Уроза над миром нависла. Юным Героям доверю и сам помогу.\n\nДэн удивленно уставился на своих спутников:\n\n— Как-то чудно ты говоришь, старик. Но если я правильно понимаю, то угроза реальна.\n\nСтарец кивнул. Тина подошла к Дэну и прошептала:\n\n— Что скажешь, Дэн? Алекс и Кэт уже согласились, а я ждала тебя.\n\nДэн тоже успел для себя всё решить.\n",
    "answers": [
      {
        "id": 46,
        "text": "Согласится",
        "bg_color": [
          0.7,
          0,
          0
        ],
        "var_set": [
          "smert",
          2
        ]
      }
    ]
  },
  {
    "id": 70,
    "text": "\nЛицо рыжеволосой девушки по имени Тина. Бледная холодная кожа. И кровь... кровь на её лице... \n\nПокинув свою комнату, Дэн пробрался к ней, как договаривались ещё с вечера, но её тело лежало уже бездыханным... а дальше как в тумане... сколько он стоял там, не веря, что Тины больше нет? Он не помнил. Также не смог бы вспомнить, как дошёл обратно до своей комнаты. Вот и сейчас, он стоял и не мог совладать с накатившим приступом отчаянья.\n\nПребывая в растерянности, Дэн не заметил, что девчонка быстро обернулась в его сторону и вскрикнула, выведя из ступора.\n",
    "answers": [
      {
        "id": 4,
        "text": "Зажать ей рот рукой",
        "var_str_set": [
          "global background",
          "http://c.radikal.ru/c40/1911/2e/9a07f681d8c0.png"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      },
      {
        "id": 5,
        "text": "Резко оглянуться",
        "var_str_set": [
          "global background",
          "http://c.radikal.ru/c40/1911/2e/9a07f681d8c0.png"
        ],
        "bg_color": [
          0.7,
          0,
          0
        ]
      }
    ]
  }
]