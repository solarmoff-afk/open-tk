[
  {
    "id": 1,
    "text": "Бои боевых магов.<s>r\nНа данный момент квест открыт для тестирования боевой системы.<s>r\nСюжет активно пилится и пока не доступен.<s>r\n<s>r\nАвтор: Aleks Otter<s>r\nv0.3",
    "answers": [
      {
        "id": 15,
        "text": "Принять участие в турнире",
        "lua_do": "function lua_do()\ncomplication = 0\nnewEssenceType = 0\nend"
      },
      {
        "id": 122,
        "text": "Тестирование лабиринта",
        "bgAnswerImage": [
          "http://3.bp.blogspot.com/-N5Z1YwCSgug/Xy0jKcPHymI/AAAAAAAALmg/XDWsYMdZdoIEVGyX8zLXZH_8qP_bFfNCgCLcBGAsYHQ/d/button1.jpg"
        ]
      },
      {
        "id": 1,
        "text": "",
        "bgImg": "https://3.bp.blogspot.com/-RZQhMOSc2AQ/XuG9LX2QTEI/AAAAAAAAJyk/nHammJYEFY4w3CNyImQHrjMqljRXvrerwCK4BGAsYHg/d/background.jpg",
        "system": true
      },
      {
        "id": 1,
        "text": "",
        "pageImg": "",
        "system": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\ng.background = \"https://3.bp.blogspot.com/-RZQhMOSc2AQ/XuG9LX2QTEI/AAAAAAAAJyk/nHammJYEFY4w3CNyImQHrjMqljRXvrerwCK4BGAsYHg/d/background.jpg\"\ng.defaultBgAnswerImage = \"http://3.bp.blogspot.com/-N5Z1YwCSgug/Xy0jKcPHymI/AAAAAAAALmg/XDWsYMdZdoIEVGyX8zLXZH_8qP_bFfNCgCLcBGAsYHQ/d/button1.jpg\"\nend",
        "calculate": true,
        "text": "Новый ответ. введите текст",
        "id": 1
      },
      {
        "id": 1,
        "text": " ",
        "comment": true
      },
      {
        "id": 1,
        "url": "https://vk.com/aleks_otter_quest",
        "text": "Группа автора",
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/general/vk_blue.png"
        ]
      },
      {
        "id": 1,
        "text": "  ",
        "comment": true,
        "answerImage": [
          "https://3.bp.blogspot.com/-WvMhMiTy6Hc/XyUdNeHBaSI/AAAAAAAALgE/mC4hV5rAHjk3HhiHI8qHtwaF_0MYeuEYACLcBGAsYHQ/s0/label.jpg"
        ]
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 1,
        "text": "   ",
        "calculate": true,
        "var_set": [
          "global allowCopy",
          1
        ]
      }
    ]
  },
  {
    "id": 2,
    "text": "Распределите свободные очки характеристик.",
    "answers": [
      {
        "var_max": [
          ""
        ],
        "lua_text": "function lua_text()\nreturn \"Уровень \" .. ability.lvl\nend",
        "id": 19,
        "text": "уровень",
        "middle_answer": true,
        "comment": true
      },
      {
        "super_calculate": false,
        "id": 3,
        "text": "Новый ответ. введите текст",
        "run": [
          3
        ],
        "calculate": true
      },
      {
        "id": 2,
        "text": "Характеристики",
        "comment": true,
        "super_calculate": false,
        "middle_answer": false,
        "calculate": true,
        "run": [
          4
        ],
        "left_answer": false
      },
      {
        "super_calculate": false,
        "id": 2,
        "calculate": true,
        "run": [
          5
        ],
        "text": "Распределение хар-к"
      },
      {
        "id": 2,
        "text": "   ",
        "comment": true
      },
      {
        "id": 6,
        "text": "Принять изменения и перейти к турнирной таблице",
        "lua_do": "function lua_do()\n   activeEnemy = {}\n   enemyName = \"\"\n   ability.maxHP = getMaxHP(ability)\n   enemyAbility = {fire = 0, water = 0, earth = 0, air = 0, maxHP = 0, maxShield = 0, lvl = 1}\n   if addFire then\n      addFire = nil\n      addWater = nil\n      addEarth = nil\n      addAir = nil\n   end\nend"
      }
    ]
  },
  {
    "id": 3,
    "text": "Характеристики — в текст",
    "answers": [
      {
        "super_calculate": false,
        "id": 29,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal tf = type(getMaxHP)\nneedCreateFunctions = 0\nif (tf == 'nil') or (tf == 'string') then needCreateFunctions = 1 end\nend",
        "text": "пересоздание функций"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Расчёт максимального кол-ва жизней",
        "lua_do": "function lua_do()\nfunction getMaxHP(abilityTable)\n   local maxHP = abilityTable.earth * 10 <plus> abilityTable.fire * 5 <plus> abilityTable.water * 5 <plus> abilityTable.air * 5\n   return maxHP\nend\nend"
      },
      {
        "lua_do": "function lua_do()\nfunction getMaxShield(abilityTable)\n   local maxShield = abilityTable.earth * 4 <plus> abilityTable.fire * 4 <plus> abilityTable.water * 5 <plus> abilityTable.air * 1\n   return maxShield\nend\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Расчёт максимального кол-ва щитов",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Расчёт шанса уворота",
        "lua_do": "function lua_do()\nfunction getDodge(abilityTable)\n   local dodge = abilityTable.air\n   return dodge\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Расчёт шанса критического удара",
        "lua_do": "function lua_do()\nfunction getCriticalHit(abilityTable)\n   local criticalHit = abilityTable.fire\n   return criticalHit\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Расчёт точности ",
        "lua_do": "function lua_do()\nfunction getAccuracy(abilityTable)\n   local accuracy = 75 <plus> abilityTable.water\n   return accuracy \nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Добавление пробелов к значению характеристики",
        "lua_do": "function lua_do()\nfunction addAbilitySpace(abilityStr)\n   local lenAS = string.len(abilityStr)\n   local spaceStr = \"\"\n   if lenAS == 1 then spaceStr = \"      \" \n   elseif lenAS == 2 then spaceStr = \"    \" \n   else\n      if tonumber(abilityStr) < 100  then \n         if lenAS == 3 then spaceStr = \"   \" else spaceStr = \"\" end\n      else\n         spaceStr = \"  \" \n      end\n   end\n   return spaceStr\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Получение текста основных характеристик по таблице хар-к",
        "lua_do": "function lua_do()\nfunction getBaseAbilityText(abilityTable)\n   local fs = tostring(abilityTable.fire)\n   local fw = tostring(abilityTable.water)\n   local fe = tostring(abilityTable.earth)\n   local fa = tostring(abilityTable.air)\n\n   local abilityText = \n   \" Огонь:    \" .. fs .. addAbilitySpace(fs) ..\n   \" <s>\n Вода:      \" .. fw .. addAbilitySpace(fw) ..\n   \" <s>\n Земля:    \" .. fe .. addAbilitySpace(fe) ..\n   \" <s>\n Воздух:   \" .. fa .. addAbilitySpace(fa) \n   return abilityText\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getAdditionalAbilityText(abilityTable)\n   local dod = tostring(getDodge(abilityTable))\n   local ch = tostring(getCriticalHit(abilityTable))\n   local acc = tostring(getAccuracy(abilityTable))\n\n   local abilityText = \n   \" Уворот:        \" .. dod .. addAbilitySpace(dod) ..\n   \" <s>\n Крит. удар:  \" .. ch .. addAbilitySpace(ch) ..\n   \" <s>\n Точность:    \" .. acc .. addAbilitySpace(acc)\n   return abilityText\nend\nend",
        "text": "Получение текста производных характеристик по таблице хар-к"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Получение текста Щитов по состоянию",
        "lua_do": "function lua_do()\nfunction getShieldText(curState)\n   local stateText = \"\"\n   if curState.waterShield > 0 then stateText = stateText .. \"<s>\nВода:     \" .. curState.waterShield .. addAbilitySpace(curState.waterShield) end\n   if curState.iceShield > 0 then stateText = stateText .. \"<s>\nЛёд:       \" .. curState.iceShield .. addAbilitySpace(curState.iceShield) end\n   if curState.fireShield > 0 then stateText = stateText .. \"<s>\nПламя:  \" .. curState.fireShield .. addAbilitySpace(curState.fireShield) end\n   if curState.earthShield > 0 then stateText = stateText .. \"<s>\nЗемля:   \" .. curState.earthShield .. addAbilitySpace(curState.earthShield) end\n\n   if not (stateText == \"\") then stateText = \"- Щиты (\" .. (curState.waterShield <plus> curState.iceShield <plus> curState.fireShield <plus> curState.earthShield) .. \") -\" .. stateText end\n   return stateText \nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getStateText(curState)\n   local stateText = \"\"\n   if curState.heal > 0 then stateText = stateText .. \"<s>\nЖивая вода\" end\n   if curState.battleRage > 0 then stateText = stateText .. \"<s>\nБоевая ярость\" end\n   if curState.dodgeBonus > 0 then stateText = stateText .. \"<s>\nПодвижность\" end\n   if curState.attackBonus > 0 then stateText = stateText .. \"<s>\nПрилив сил\" end\n   if curState.zeal > 0 then stateText = stateText .. \"<s>\nРвение\" end\n   if curState.stoneSkin > 0 then stateText = stateText .. \"<s>\nКаменная кожа\" end\n   if curState.acceleration then stateText = stateText .. \"<s>\nУскорение\" end\n   if curState.fog > 0 then stateText = stateText .. \"<s>\nТуман\" end\n   if curState.burning > 0 then stateText = stateText .. \"<s>\nГорение\" end\n   if curState.frost > 0 then stateText = stateText .. \"<s>\nМороз\" end\n   if curState.wind > 0 then stateText = stateText .. \"<s>\nВетер\" end\n   if curState.quicksand then stateText = stateText .. \"<s>\nТрясина\" end\n   if curState.sandstorm > 0 then stateText = stateText .. \"<s>\nПесчанная буря\" end\n   if curState.hurricane > 0 then stateText = stateText .. \"<s>\nУраган\" end\n\n   if not (stateText == \"\") then stateText = \"- Эффекты -\" .. stateText end\n   return stateText \nend\nend",
        "text": "Получение текста эффектов по состоянию"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Новая строка",
        "lua_do": "function lua_do()\nfunction newRow(curText)\n   local newText = curText .. \"\"\n   if not (curText == \"\") then newText = newText .. \"<s>\n\" end\n   return newText \nend\nend"
      }
    ]
  },
  {
    "id": 4,
    "text": "Отображение характеристик",
    "answers": [
      {
        "comment": true,
        "id": 2,
        "text": "Ваши характеристики",
        "middle_answer": true,
        "left_answer": false
      },
      {
        "lua_text": "function lua_text()\nreturn getBaseAbilityText(ability)\nend",
        "id": 2,
        "text": "Основные",
        "comment": true,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal hp = tostring(ability.maxHP)\nreturn \" Жизни:         \" .. hp .. addAbilitySpace(hp) .. \" <s>\n\" .. getAdditionalAbilityText(ability)\nend",
        "id": 2,
        "text": "Производные",
        "comment": true
      }
    ]
  },
  {
    "id": 5,
    "text": "Распределение характеристик",
    "answers": [
      {
        "id": 2,
        "text": "Свободных очков характеристик: ",
        "comment": true,
        "var_show": [
          "abilityPoint"
        ]
      },
      {
        "var_show": [
          "abilityPoint"
        ],
        "comment": true,
        "super_calculate": false,
        "id": 5,
        "text": "Свободных очков характеристик: ",
        "lua_do": "function lua_do()\naddFire = addFire or 0\naddWater = addWater or 0\naddEarth = addEarth or 0\naddAir = addAir or 0\naddedAbilityPoint = addFire <plus> addWater <plus> addEarth <plus> addAir\nsavedAbilityPoint = ability.fire <plus> ability.water <plus> ability.earth <plus> ability.air - 20 - addedAbilityPoint\nend",
        "calculate": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "lua_do": "function lua_do()\nability.fire = ability.fire <plus> 1\nability.maxHP = getMaxHP(ability)\nabilityPoint = abilityPoint - 1\naddFire = addFire <plus> 1\nend",
        "text": "Огонь    <plus>1      ",
        "id": 2,
        "var_more": [
          "abilityPoint",
          0
        ],
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "comment": true,
        "var_equal": [
          "abilityPoint",
          0
        ],
        "id": 2,
        "text": "Огонь    <plus>1      ",
        "instant": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addFire > 0\nend",
        "id": 2,
        "text": "Огонь    -1",
        "instant": true,
        "lua_do": "function lua_do()\nability.fire = ability.fire - 1\nability.maxHP = getMaxHP(ability)\nabilityPoint = abilityPoint <plus> 1\naddFire = addFire - 1\nend"
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addFire <= 0 \nend",
        "comment": true,
        "id": 2,
        "text": "Огонь    -1",
        "instant": false,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "lua_do": "function lua_do()\nability.water = ability.water <plus> 1\nability.maxHP = getMaxHP(ability)\nabilityPoint = abilityPoint - 1\naddWater = addWater <plus> 1\nend",
        "instant": true,
        "id": 2,
        "text": "Вода      <plus>1      ",
        "var_more": [
          "abilityPoint",
          0
        ],
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "comment": true,
        "var_equal": [
          "abilityPoint",
          0
        ],
        "id": 2,
        "text": "Вода      <plus>1      ",
        "instant": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addWater > 0\nend",
        "id": 2,
        "instant": true,
        "lua_do": "function lua_do()\nability.water = ability.water - 1\nability.maxHP = getMaxHP(ability)\nabilityPoint = abilityPoint <plus> 1\naddWater = addWater - 1\nend",
        "text": "Вода      -1"
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addWater <= 0 \nend",
        "comment": true,
        "id": 2,
        "text": "Вода      -1",
        "instant": false,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "lua_do": "function lua_do()\nability.earth = ability.earth <plus> 1\nability.maxHP = getMaxHP(ability)\nabilityPoint = abilityPoint - 1\naddEarth = addEarth <plus> 1\nend",
        "var_more": [
          "abilityPoint",
          0
        ],
        "id": 2,
        "instant": true,
        "text": "Земля    <plus>1      ",
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "comment": true,
        "var_equal": [
          "abilityPoint",
          0
        ],
        "id": 2,
        "text": "Земля    <plus>1      ",
        "instant": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addEarth > 0\nend",
        "id": 2,
        "instant": true,
        "lua_do": "function lua_do()\nability.earth = ability.earth - 1\nability.maxHP = getMaxHP(ability)\nabilityPoint = abilityPoint <plus> 1\naddEarth = addEarth - 1\nend",
        "text": "Земля    -1"
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addEarth <= 0\nend",
        "comment": true,
        "id": 2,
        "text": "Земля    -1",
        "instant": false,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "lua_do": "function lua_do()\nability.air = ability.air <plus> 1\nability.maxHP = getMaxHP(ability)\nabilityPoint = abilityPoint - 1\naddAir = addAir <plus> 1\nend",
        "var_more": [
          "abilityPoint",
          0
        ],
        "id": 2,
        "instant": true,
        "text": "Воздух   <plus>1      ",
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "comment": true,
        "var_equal": [
          "abilityPoint",
          0
        ],
        "id": 2,
        "text": "Воздух   <plus>1      ",
        "instant": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addAir > 0\nend",
        "id": 2,
        "instant": true,
        "lua_do": "function lua_do()\nability.air = ability.air - 1\nability.maxHP = getMaxHP(ability)\nabilityPoint = abilityPoint <plus> 1\naddAir = addAir - 1\nend",
        "text": "Воздух   -1"
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addAir <= 0 \nend",
        "comment": true,
        "id": 2,
        "text": "Воздух   -1",
        "instant": false,
        "left_answer": false
      }
    ]
  },
  {
    "id": 6,
    "text": "   ",
    "answers": [
      {
        "id": 3,
        "text": "функции текстов",
        "comment": true,
        "run": [
          3
        ]
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(setEnemyAbilityWithCoef)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 29,
        "text": "Автораспределение характеристик врага",
        "calculate": true,
        "lua_do": "function lua_do()\nfunction setEnemyAbilityWithCoef(curEnemy)\n   local lvlEn = ability.lvl <plus> curEnemy.coef\n   local points = lvlEn * 2 <plus> 8\n   enemyAbility = {fire = 3, water = 3, earth = 3, air = 3, maxHP = 0, maxShield = 0, lvl = (lvlEn <plus> 0)}\n   local randRes = 0\n   for i = 1, points do\n      randRes = math.random(100)\n      if curEnemy.fireChance >= randRes then enemyAbility.fire = enemyAbility.fire <plus> 1\n      elseif curEnemy.waterChance >= randRes then enemyAbility.water = enemyAbility.water <plus> 1\n      elseif curEnemy.earthChance >= randRes then enemyAbility.earth = enemyAbility.earth <plus> 1\n      elseif curEnemy.airChance >= randRes then enemyAbility.air = enemyAbility.air <plus> 1\n      end\n   end\n   enemyAbility.maxHP = getMaxHP(enemyAbility)\n   enemyAbility.maxShield = getMaxShield(enemyAbility)\nend\nend"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nif table.count(activeEnemy) > 0 then setEnemyAbilityWithCoef(activeEnemy) end\nend",
        "text": "Автораспределение характеристик врага",
        "id": 29,
        "calculate": true
      },
      {
        "id": 6,
        "text": "Выберите противника",
        "comment": true,
        "middle_answer": true
      },
      {
        "lua_text": "function lua_text()\nreturn \"Слабый маг (ур. \" .. ability.lvl .. \")\"\nend",
        "comment": false,
        "text": "Слабый маг",
        "id": 6,
        "instant": true,
        "lua_do": "function lua_do()\n   activeEnemy = {coef = 0, fireChance = 25, waterChance = 50, earthChance = 75, airChance = 100, type = 0,  name = \"Слабый маг\", winCount = 0, isDefeated = false}\n   enemyName = \"Слабый маг\"\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": false,
        "lua_text": "function lua_text()\nreturn \"Средний маг (ур. \" .. (ability.lvl <plus> 3) .. \")\"\nend",
        "lua_do": "function lua_do()\n   activeEnemy = {coef = 3, fireChance = 25, waterChance = 50, earthChance = 75, airChance = 100, type = 0,  name = \"Средний маг\", winCount = 0, isDefeated = false}\n   enemyName = \"Средний маг\"\nend",
        "instant": true,
        "id": 6,
        "text": "Средний маг (ур. 12)"
      },
      {
        "lua_text": "function lua_text()\nreturn \"Маг Огня (ур. \" .. (ability.lvl <plus> 3) .. \")\"\nend",
        "comment": false,
        "text": "Маг Огня  (ур. 10)",
        "lua_do": "function lua_do()\n   activeEnemy = {coef = 3, fireChance = 55, waterChance = 70, earthChance = 85, airChance = 100, type = 0,  name = \"Маг Огня\", winCount = 0, isDefeated = false}\n   enemyName = \"Маг Огня\"\nend",
        "instant": true,
        "id": 6,
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": false,
        "lua_text": "function lua_text()\nreturn \"Маг Воды (ур. \" .. (ability.lvl <plus> 3) .. \")\"\nend",
        "lua_do": "function lua_do()\n   activeEnemy = {coef = 3, fireChance = 15, waterChance = 70, earthChance = 85, airChance = 100, type = 0,  name = \"Маг Воды\", winCount = 0, isDefeated = false}\n   enemyName = \"Маг Воды\"\nend",
        "instant": true,
        "id": 6,
        "text": "Маг Воды (ур. 10)"
      },
      {
        "lua_text": "function lua_text()\nreturn \"Маг Земли (ур. \" .. (ability.lvl <plus> 3) .. \")\"\nend",
        "comment": false,
        "text": "Маг Земли (ур. 10)",
        "lua_do": "function lua_do()\n   activeEnemy = {coef = 3, fireChance = 15, waterChance = 30, earthChance = 85, airChance = 100, type = 0,  name = \"Маг Земли\", winCount = 0, isDefeated = false}\n   enemyName = \"Маг Земли\"\nend",
        "instant": true,
        "id": 6,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\nreturn \"Маг Воздуха (ур. \" .. (ability.lvl <plus> 3) .. \")\"\nend",
        "comment": false,
        "lua_do": "function lua_do()\n   activeEnemy = {coef = 3, fireChance = 15, waterChance = 30, earthChance = 45, airChance = 100, type = 0,  name = \"Маг Воздуха\", winCount = 0, isDefeated = false}\n   enemyName = \"Маг Воздуха\"\nend",
        "instant": true,
        "id": 6,
        "text": "Маг Воздуха (ур. 10)"
      },
      {
        "lua_text": "function lua_text()\nreturn \"Сильный маг (ур. \" .. (ability.lvl <plus> 7) .. \")\"\nend",
        "comment": false,
        "text": "Сильный маг (ур. 20)",
        "lua_do": "function lua_do()\n   activeEnemy = {coef = 7, fireChance = 25, waterChance = 50, earthChance = 75, airChance = 100, type = 0,  name = \"Сильный маг\", winCount = 0, isDefeated = false}\n   enemyName = \"Сильный маг\"\nend",
        "instant": true,
        "id": 6,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\nreturn \"Очень-очень сильный маг (ур. \" .. (ability.lvl <plus> 15) .. \")\"\nend",
        "comment": false,
        "lua_do": "function lua_do()\n   activeEnemy = {coef = 15, fireChance = 25, waterChance = 50, earthChance = 75, airChance = 100, type = 0,  name = \"Очень-очень сильный маг\", winCount = 0, isDefeated = false}\n   enemyName = \"Очень-очень сильный маг\"\nend",
        "instant": true,
        "id": 6,
        "text": "Очень-очень сильный маг  (ур. 30)"
      },
      {
        "lua_text": "function lua_text()\nreturn \"Ваш противник - \" .. enemyName .. \"  (ур. \" .. enemyAbility.lvl .. \")\"\nend",
        "comment": true,
        "id": 6,
        "text": "Ваш противник - ",
        "lua_if": "function lua_if()\nreturn not (enemyName == \"\")\nend",
        "middle_answer": true
      },
      {
        "comment": true,
        "id": 6,
        "text": "Его характеристики:",
        "middle_answer": true,
        "lua_if": "function lua_if()\nreturn not (enemyName == \"\")\nend"
      },
      {
        "comment": true,
        "lua_if": "function lua_if()\nreturn not (enemyName == \"\")\nend",
        "id": 6,
        "text": "Основные",
        "lua_text": "function lua_text()\nreturn getBaseAbilityText(enemyAbility)\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal hp = tostring(enemyAbility.maxHP)\nreturn \" Жизни:        \" .. hp .. addAbilitySpace(hp) .. \" <s>\n\" .. getAdditionalAbilityText(enemyAbility)\nend",
        "id": 6,
        "text": "Производные",
        "comment": true,
        "lua_if": "function lua_if()\nreturn not (enemyName == \"\")\nend"
      },
      {
        "id": 6,
        "text": " ",
        "comment": true
      },
      {
        "calculate": true,
        "super_calculate": false,
        "id": 6,
        "instant": true,
        "run": [
          4
        ],
        "text": "Ваши хар-ки"
      },
      {
        "id": 7,
        "text": "Начать бой",
        "lua_if": "function lua_if()\nreturn not (enemyName == \"\")\nend",
        "lua_do": "function lua_do()\n   spell = {target = 0, firstElement = 0, secondElement = 0}\n   enemySpell = {target = 0, firstElement = 0, secondElement = 0}\n   state = {currentHP = getMaxHP(ability), \n                spellType = 0, hasPotentSpell = false, zeal = 0, wind = 0, windCount = 0, \n                fog = 0, fogCount = 0, burning = 0, burningCount = 0, quicksand = false, quicksandCount = 0, \n                frost = 0, frostCount = 0, sandstorm = 0, sandstormCount = 0, hurricane = 0, hurricaneCount = 0, \n                battleRage = 0, battleRageCount = 0, waterShield = 0, dodgeBonus = 0, dodgeBonusCount = 0, fireShield = 0, \n                attackBonus = 0, attackBonusCount = 0, heal = 0, healCount = 0, iceShield = 0, earthShield = 0, \n                stoneSkin = 0, stoneSkinCount = 0, stoneSkinPoint = 0, acceleration = false, accelerationCount = 0, needClearAfter222 = false}\n   enemyState = {currentHP = getMaxHP(enemyAbility), \n                spellType = 0, hasPotentSpell = false, zeal = 0, wind = 0, windCount = 0, \n                fog = 0, fogCount = 0, burning = 0, burningCount = 0, quicksand = false, quicksandCount = 0, \n                frost = 0, frostCount = 0, sandstorm = 0, sandstormCount = 0, hurricane = 0, hurricaneCount = 0, \n                battleRage = 0, battleRageCount = 0, waterShield = 0, dodgeBonus = 0, dodgeBonusCount = 0, fireShield = 0, \n                attackBonus = 0, attackBonusCount = 0, heal = 0, healCount = 0, iceShield = 0, earthShield = 0, \n                stoneSkin = 0, stoneSkinCount = 0, stoneSkinPoint = 0, acceleration = false, accelerationCount = 0, needClearAfter222 = false}\n   turnText = \"\"\n   battleResult = 0\n   turnNum = 1\n   fightPage = 6\nend"
      },
      {
        "lua_do": "function lua_do()\nlastPage = 6\nspell = {target = 1, firstElement = 1, secondElement = 0}\nend",
        "text": "Открыть книгу заклинаний",
        "lua_if": "function lua_if()\nreturn true\nend",
        "id": 16
      },
      {
        "id": 2,
        "text": "Распределить очки характеристик",
        "lua_if": "function lua_if()\nreturn (abilityPoint > 0) and (not isLastBattle)\nend"
      },
      {
        "id": 1,
        "text": "Конец игры",
        "lua_if": "function lua_if()\nreturn isLastBattle\nend"
      }
    ]
  },
  {
    "id": 7,
    "text": "        ",
    "answers": [
      {
        "id": 3,
        "text": "расчёт характеристик",
        "comment": true,
        "super_calculate": false,
        "middle_answer": false,
        "calculate": true,
        "run": [
          3
        ],
        "left_answer": false
      },
      {
        "middle_answer": false,
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 8,
        "text": "функции имён заклинаний",
        "run": [
          8
        ],
        "left_answer": false
      },
      {
        "middle_answer": false,
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 9,
        "text": "использование заклинаний",
        "run": [
          9
        ],
        "left_answer": false
      },
      {
        "middle_answer": false,
        "text": "визуализация",
        "comment": true,
        "super_calculate": false,
        "id": 7,
        "calculate": true,
        "run": [
          124
        ],
        "left_answer": false
      },
      {
        "lua_do": "function lua_do()\ndeleteAllVisualization()\ndrowAllVisualization()\nend",
        "id": 7,
        "comment": true,
        "super_calculate": true,
        "middle_answer": false,
        "text": "визуализация",
        "calculate": false,
        "left_answer": false
      },
      {
        "lua_text": "function lua_text()\nif showAbility then \nreturn \"Скрыть характеристики\"\nelse\nreturn \"Показать характеристики\"\nend\nend",
        "middle_answer": true,
        "comment": false,
        "text": "Показать характеристики",
        "lua_do": "function lua_do()\nshowAbility = not showAbility\nend",
        "instant": true,
        "id": 7,
        "left_answer": false
      },
      {
        "lua_text": "function lua_text()\nreturn \"Вы (ур. \" .. ability.lvl .. \")   VS   \" .. enemyName .. \"  (ур. \" .. enemyAbility.lvl .. \")\"\nend",
        "middle_answer": true,
        "id": 2,
        "text": "Вы",
        "comment": true,
        "left_answer": false
      },
      {
        "comment": true,
        "lua_if": "function lua_if()\nreturn showAbility\nend",
        "id": 2,
        "text": "Вы",
        "lua_text": "function lua_text()\nreturn getBaseAbilityText(ability) .. \" <s>\n <s>\n\" .. getAdditionalAbilityText(ability)\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\nreturn  getBaseAbilityText(enemyAbility) .. \" <s>\n <s>\n\" .. getAdditionalAbilityText(enemyAbility) \nend",
        "id": 2,
        "text": "Противник",
        "lua_if": "function lua_if()\nreturn showAbility\nend",
        "comment": true
      },
      {
        "lua_text": "function lua_text()\nlocal text = \" - Щиты \"\nif showShieldInfo then\n   text = \"  \" .. text .. \" (Скрыть) -   \"\nelse\n   text = \" \" .. text .. \" (Показать) -  \"\nend\nlocal heroShield = state.waterShield <plus> state.fireShield <plus> state.iceShield <plus> state.earthShield\nlocal enemyShield = enemyState.waterShield <plus> enemyState.fireShield <plus> enemyState.iceShield <plus> enemyState.earthShield\nreturn  \"\".. heroShield .. text .. enemyShield\nend",
        "right_answer": false,
        "comment": false,
        "text": "Щиты",
        "middle_answer": true,
        "instant": true,
        "lua_do": "function lua_do()\nshowShieldInfo = not showShieldInfo\nend",
        "id": 7
      },
      {
        "comment": true,
        "lua_if": "function lua_if()\nreturn showShieldInfo\nend",
        "id": 2,
        "text": "Вы",
        "lua_text": "function lua_text()\nlocal shT = getShieldText(state)\nlocal text = \"\"\nif (battleResult == 0) and not (shT == \"\") then text = text .. shT .. \"<s>\n <s>\n\" end\ntext = text  .. \"Здоровье: \" .. state.currentHP .. \"/\" .. getMaxHP(ability)\nreturn text\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal shT = getShieldText(enemyState)\nlocal text = \"\"\nif (battleResult == 0) and not (shT == \"\") then text = text .. shT .. \"<s>\n <s>\n\" end\ntext =  text  .. \"Здоровье: \" .. enemyState.currentHP .. \"/\" .. getMaxHP(enemyAbility)\nreturn text\nend",
        "id": 2,
        "text": "Противник",
        "comment": true,
        "lua_if": "function lua_if()\nreturn showShieldInfo\nend"
      },
      {
        "comment": true,
        "lua_if": "function lua_if()\nlocal sT = getStateText(state)\nreturn (battleResult == 0) and not (sT == \"\")\nend",
        "id": 2,
        "text": "Вы",
        "lua_text": "function lua_text()\nreturn getStateText(state)\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\nreturn getStateText(enemyState)\nend",
        "id": 2,
        "text": "Противник",
        "lua_if": "function lua_if()\nlocal sT = getStateText(enemyState)\nreturn (battleResult == 0) and not (sT == \"\")\nend",
        "comment": true
      },
      {
        "bg_color": [
          0.984,
          0.957,
          0.898
        ],
        "lua_text": "function lua_text()\nreturn turnText\nend",
        "middle_answer": false,
        "text": "Что происходит",
        "id": 7,
        "comment": true
      },
      {
        "comment": true,
        "lua_if": "function lua_if()\nreturn battleResult == 0\nend",
        "middle_answer": true,
        "text": "Цель заклинания",
        "lua_text": "function lua_text()\nlocal text = \"Цель заклинания\"\nif spell.target == 1 then text = text .. \": Вы\" end\nif spell.target == 2 then text = text .. \": Противник\" end\nreturn text\nend",
        "id": 7
      },
      {
        "comment": false,
        "lua_if": "function lua_if()\nreturn (spell.target == 0) and (battleResult == 0)\nend",
        "instant": true,
        "id": 7,
        "text": "Вы",
        "lua_do": "function lua_do()\nspell.target = 1\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": false,
        "text": "Противник",
        "id": 7,
        "instant": true,
        "lua_do": "function lua_do()\nspell.target = 2\nend",
        "lua_if": "function lua_if()\nreturn (spell.target == 0) and (battleResult == 0) and (state.fog == 0)\nend"
      },
      {
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn (spell.firstElement == 0) and (spell.target > 0)\nend",
        "middle_answer": true,
        "id": 7,
        "text": "Стихия",
        "comment": true,
        "left_answer": false
      },
      {
        "answerImage": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "right_answer": false,
        "comment": true,
        "lua_if": "function lua_if()\nreturn spell.firstElement == 1\nend",
        "middle_answer": false,
        "text": "Стихия:          \n Огонь            ",
        "id": 7,
        "left_answer": true
      },
      {
        "answerImage": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "right_answer": false,
        "comment": true,
        "lua_if": "function lua_if()\nreturn spell.firstElement == 2\nend",
        "middle_answer": false,
        "text": "Стихия:          \n  Вода            ",
        "id": 7,
        "left_answer": true
      },
      {
        "answerImage": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "right_answer": false,
        "comment": true,
        "lua_if": "function lua_if()\nreturn spell.firstElement == 3\nend",
        "middle_answer": false,
        "text": "Стихия:          \n Земля           ",
        "id": 7,
        "left_answer": true
      },
      {
        "answerImage": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "right_answer": false,
        "comment": true,
        "lua_if": "function lua_if()\nreturn spell.firstElement == 4\nend",
        "middle_answer": false,
        "text": "Стихия:          \n Воздух          ",
        "id": 7,
        "left_answer": true
      },
      {
        "lua_text": "function lua_text()\nreturn \"Применить заклинание <s>\n«\" .. getSpellName(spell) .. \"»\"\nend",
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn (not state.hasPotentSpell) and (spell.firstElement > 0) and (spell.secondElement == 0)\nend",
        "instant": true,
        "lua_do": "function lua_do()\n   castSpell(spell, state)\n   nextTurn()\nend",
        "text": "Применить заклинание",
        "id": 7,
        "left_answer": false
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 7,
        "text": " \n ",
        "lua_if": "function lua_if()\nreturn state.hasPotentSpell\nend"
      },
      {
        "id": 7,
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn (not state.hasPotentSpell) and (spell.firstElement > 0) and (spell.secondElement == 0)\nend",
        "text": "Готовить мощное заклинание",
        "lua_do": "function lua_do()\n   state.hasPotentSpell = true\n   nextTurn()\nend",
        "instant": true,
        "middle_answer": true,
        "left_answer": false
      },
      {
        "right_answer": false,
        "comment": true,
        "lua_if": "function lua_if()\nreturn state.hasPotentSpell\nend",
        "middle_answer": true,
        "text": "Вторая стихия   (для мощного заклинания)\n",
        "id": 7,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "lua_text": "function lua_text()\nlocal sn = getFutureSpellName(spell, 1)\nif not (sn == \"\") then sn = \" <s>\n«\" .. sn .. \"»\" end\nreturn \"Огонь\" .. sn\nend",
        "lua_if": "function lua_if()\nreturn (spell.target > 0) and (state.hasPotentSpell or (spell.firstElement == 0))\nend",
        "lua_do": "function lua_do()\n   if  spell.firstElement == 0 then spell.firstElement = 1 \n   else \n      spell.secondElement = 1 \n      castSpell(spell, state)\n      nextTurn()\n   end\nend",
        "id": 7,
        "text": "Огонь ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal sn = getFutureSpellName(spell, 2)\nif not (sn == \"\") then sn = \" <s>\n«\" .. sn .. \"»\" end\nreturn \"Вода\" .. sn\nend",
        "lua_if": "function lua_if()\n   return (spell.target > 0) and (state.hasPotentSpell or (spell.firstElement == 0))\nend",
        "lua_do": "function lua_do()\n   if  spell.firstElement == 0 then spell.firstElement = 2\n   else \n      spell.secondElement = 2\n      castSpell(spell, state)\n      nextTurn()\n   end\nend",
        "instant": true,
        "id": 7,
        "text": "Вода   "
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "lua_text": "function lua_text()\nlocal sn = getFutureSpellName(spell, 3)\nif not (sn == \"\") then sn = \" <s>\n«\" .. sn .. \"»\" end\nreturn \"Земля\" .. sn\nend",
        "lua_if": "function lua_if()\n   return (spell.target > 0) and (state.hasPotentSpell or (spell.firstElement == 0))\nend",
        "lua_do": "function lua_do()\n   if  spell.firstElement == 0 then spell.firstElement = 3 \n   else \n      spell.secondElement = 3 \n      castSpell(spell, state)\n      nextTurn()\n   end\nend",
        "id": 7,
        "text": "Земля ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal sn = getFutureSpellName(spell, 4)\nif not (sn == \"\") then sn = \" <s>\n«\" .. sn .. \"»\" end\nreturn \"Воздух\" .. sn\nend",
        "lua_if": "function lua_if()\n   return (spell.target > 0) and (state.hasPotentSpell or (spell.firstElement == 0))\nend",
        "id": 7,
        "text": "Воздух",
        "lua_do": "function lua_do()\n   if  spell.firstElement == 0 then spell.firstElement = 4\n   else \n      spell.secondElement = 4 \n      castSpell(spell, state)\n      nextTurn()\n   end\nend",
        "instant": true
      },
      {
        "lua_text": "function lua_text()\nreturn \"!!! ПОБЕДА !!! <s>\nК турнирной таблице\"\nend",
        "lua_if": "function lua_if()\nreturn battleResult == 1 and complication == 0\nend",
        "middle_answer": true,
        "lua_do": "function lua_do()\n   deleteAllVisualization()\n   abilityPoint = abilityPoint <plus> 2\n   ability.lvl = ability.lvl <plus> 1\n   activeEnemy = {}\nend",
        "text": "победа в турнире",
        "id": 7,
        "go_to": [
          "fightPage"
        ]
      },
      {
        "lua_if": "function lua_if()\nreturn battleResult == 1  and complication > 0\nend",
        "lua_text": "function lua_text()\n   local esText = \"Поднять эссенцию \"\n   if newEssenceType == 1 then  esText = esText .. \"Огня\"\n   elseif  newEssenceType == 2 then  esText = esText .. \"Воды\"\n   elseif  newEssenceType == 3 then  esText = esText .. \"Земли\"\n   elseif  newEssenceType == 4 then  esText = esText .. \"Воздуха\"\n   else esText = \"Победа!!\"\n   end \nreturn esText \nend",
        "id": 7,
        "lua_do": "function lua_do()\n   deleteAllVisualization()\n   local emType = activeEnemy.type <plus> 0\n   if emType > 10 and activeEnemy.winCount == 0 then \n         abilityPoint = abilityPoint <plus> 2\n         ability.lvl = ability.lvl <plus> 1\n   end\n   activeEnemy = {}\nend",
        "text": "Победа в лабиринте",
        "middle_answer": true,
        "go_to": [
          "fightPage"
        ]
      },
      {
        "lua_if": "function lua_if()\nreturn (complication > 0) or (g.isAuthor == 1) \nend",
        "id": 7,
        "lua_do": "function lua_do()\n   deleteAllVisualization()\n   if (activeEnemy.name) and (not activeEnemy.isSimple) then \n      activeEnemy.winCount = activeEnemy.winCount <plus> 1 \n      activeEnemy.isDefeated = true\n      if activeEnemy.winCount == 0 then \n          abilityPoint = abilityPoint <plus> 2  \n          ability.lvl = ability.lvl <plus> 1\n      end\n   end\n   isFight = false\n   if (teleportCount > -1) and (teleportCount < 100) then teleportCount = teleportCount <plus> 20 end\n   activeEnemy = {}\nend",
        "text": "Автопобеда (тестирование)",
        "middle_answer": true,
        "go_to": [
          "fightPage"
        ]
      },
      {
        "lua_text": "function lua_text()\nreturn \"БОЕВАЯ НИЧЬЯ<s>\nПопробуйте ещё раз\"\nend",
        "lua_if": "function lua_if()\nreturn  battleResult == 3 and complication == 0\nend",
        "lua_do": "function lua_do()\ndeleteAllVisualization()\nend",
        "middle_answer": true,
        "text": "ничья",
        "id": 7,
        "go_to": [
          "fightPage"
        ]
      },
      {
        "lua_text": "function lua_text()\nreturn \"ПОРАЖЕНИЕ<s>\nПопробуйте ещё раз\"\nend",
        "lua_if": "function lua_if()\nreturn battleResult == 2 and complication == 0\nend",
        "lua_do": "function lua_do()\ndeleteAllVisualization()\nend",
        "middle_answer": true,
        "text": "поражение в турнире",
        "id": 7,
        "go_to": [
          "fightPage"
        ]
      },
      {
        "lua_if": "function lua_if()\nreturn battleResult > 1 and complication > 0\nend",
        "middle_answer": true,
        "text": "Вы чувствуете, как теряете сознание.",
        "id": 18,
        "lua_do": "function lua_do()\ndeleteAllVisualization()\nend"
      }
    ]
  },
  {
    "id": 8,
    "text": "Функции имён заклинаний",
    "answers": [
      {
        "super_calculate": false,
        "id": 10,
        "calculate": true,
        "run": [
          10
        ],
        "text": "Получение типа заклинания"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(getSimpleSpellName)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Наименование простого заклинания",
        "lua_do": "function lua_do()\nfunction getSimpleSpellName(curType)\n   local spellName = \"\"\n   if  curType > 200 then \n      if  curType == 201 then spellName = \"Вспышка\" \n      elseif curType == 202 then spellName = \"Ледяная стрела\" \n      elseif curType == 203 then spellName = \"Шипы\" \n      elseif curType == 204 then spellName = \"Порыв ветра\" \n      end\n   else\n      if  curType == 101 then spellName = \"Боевая ярость\" \n      elseif curType == 102 then spellName = \"Водяной щит\" \n      elseif curType == 103 then spellName = \"Лечение\" \n      elseif curType == 104 then spellName = \"Подвижность\" \n      end\n   end\n   return spellName\nend\nend"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(getSimpleSpellDescription)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getSimpleSpellDescription(curType)\n   local spellName = \"\"\n   if  curType > 200 then \n      if  curType == 201 then spellName = \"Наносит противнику урон огнём в количестве, равном параметру заклинателя Огонь.\" \n      elseif curType == 202 then spellName = \"Наносит противнику урон водой в количестве, равном параметру заклинателя Вода.\" \n      elseif curType == 203 then spellName = \"Наносит противнику урон землёй в количестве, равном параметру заклинателя Земля.\" \n      elseif curType == 204 then spellName = \"Накладывает на противника эффект «Порыв ветра», увеличивает вероятность промаха противника на (Воздух х 4)%.<s>\nДлительность эффекта — 3 хода, включая текущий.\" \n      end\n   else\n      if  curType == 101 then spellName = \"Накладывает на заклинателя эффект «Боевая ярость», который увеличивает силу его закинаний на (Огонь х 10) %, но наносит заклинателю урон огнём в размере Огонь/4. <s>\nДлительность эффекта — 3 хода. \" \n      elseif curType == 102 then spellName = \"Создаёт водяной щит, который способен принять на себя количество урона, равное Вода х 2. <s>\nНе снижает урон от эффектов. \" \n      elseif curType == 103 then spellName = \"Мгновенно излечивает заклинателя на количество единиц здоровья, равное его параметру Земля.\" \n      elseif curType == 104 then spellName = \"Накладывает на заклинателя эффект «Подвижность», который увеличивает вероятность уклонения на Воздух х 4 %.<s>\nДлительность эффекта — 3 хода, включая текущий.\" \n      end\n   end\n   return spellName\nend\nend",
        "text": "Описание простого заклинания"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(getPotentSpellName)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getPotentSpellName(curType)\n   local spellName = \"\"\n   if  curType > 200 then \n      if  curType > 220 then \n         if  curType > 230 then \n            if  curType == 233 then spellName = \"Землетрясение\" \n            elseif curType == 234 then spellName = \"Песчаная буря\" \n            elseif curType == 244 then spellName = \"Ураган\" \n            end\n         else\n            if  curType == 222 then spellName = \"Цунами\" \n            elseif curType == 223 then spellName = \"Трясина\" \n            elseif curType == 224 then spellName = \"Мороз\" \n            end\n         end\n      else\n         if  curType == 211 then spellName = \"Огненный шар\" \n         elseif curType == 212 then spellName = \"Туман\" \n         elseif curType == 213 then spellName = \"Взрыв\" \n         elseif curType == 214 then spellName = \"Поджог\" \n         end\n      end\n   else\n      if  curType > 120 then \n         if  curType > 130 then \n            if  curType == 133 then spellName = \"Заслон\" \n            elseif curType == 134 then spellName = \"Каменная кожа\" \n            elseif curType == 144 then spellName = \"Скорость ветра\" \n            end\n         else\n            if  curType == 122 then spellName = \"Очищение\" \n            elseif curType == 123 then spellName = \"Живая вода\" \n            elseif curType == 124 then spellName = \"Ледяной щит\" \n            end\n         end\n      else\n         if  curType == 111 then spellName = \"Стена пламени\" \n         elseif curType == 112 then spellName = \"Туман\" \n         elseif curType == 113 then spellName = \"Прилив сил\" \n         elseif curType == 114 then spellName = \"Рвение\" \n         end\n      end\n   end\n   return spellName\nend\nend",
        "text": "Наименование мощного заклинания"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(getPotentSpellDescription)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Описание мощного заклинания",
        "lua_do": "function lua_do()\nfunction getPotentSpellDescription(curType)\n   local spellName = \"\"\n   if  curType > 200 then \n      if  curType > 220 then \n         if  curType > 230 then\n            if  curType == 233 then spellName = \"Наносит противнику урон землёй в размере Земля х 3.\" \n            elseif curType == 234 then spellName = \"Накладывает на противника эффект «Песчаная буря», который наносит урон землёй и воздухом в размере (Земля <plus> Воздух) / 2. <s>\nДлительность эффекта — 4 хода, включая текущий.\" \n            elseif curType == 244 then spellName = \"Накладывает на противника эффект «Ураган», который меняет тип его заклинаний с вероятностью, равной Воздух х 5. <s>\nСнимает эффект «Туман».<s>\nДлительность эффекта — 3 хода, включая текущий.\" \n            end\n         else\n            if  curType == 222 then spellName = \"Наносит противнику урон водой в размере Вода х 2, снимает с него все положительные эффекты и эффект «Горение».\" \n            elseif curType == 223 then spellName = \"Накладывает на противника эффект «Трясина», который снижает скорость его заклинаний. <s>\nДлительность эффекта — 3 хода, НЕ считая текущий.\" \n            elseif curType == 224 then spellName = \"Накладывает на противника эффект «Мороз», который наносит урон водой и воздухом в размере (Вода <plus> Воздух) / 2. <s>\nСнимает эффект «Горение».<s>\nДлительность эффекта — 4 хода, включая текущий.\" \n            end\n         end\n      else\n         if  curType == 211 then spellName = \"Наносит противнику урон огнём в размере Огонь х 3.  <s>\nСнимает эффект «Мороз».\" \n         elseif curType == 212 then spellName = \"Накладывает на противника эффект «Туман», который не позволяет ему использовать заклинания типа «На противника». <s>\nВероятность попадания по противнику в тумане равна параметру Вода атакующего мага. <s>\nСчитается одновременно и положительным, и отрицательным эффектом. <s>\nДлительность эффекта — 3 хода, включая текущий.\" \n         elseif curType == 213 then spellName = \"Наносит противнику урон огнём и землёй в размере (Огонь <plus> Земля) х 1.5. <s>\nНаносит удвоенный урон щитам.\" \n         elseif curType == 214 then spellName = \"Накладывает на противника эффект «Горение», который наносит урон огнём и воздухом в размере (Огонь <plus> Воздух) / 2. <s>\nСнимает эффект «Мороз».<s>\nДлительность эффекта — 4 хода, включая текущий.\" \n         end\n      end\n   else\n      if  curType > 120 then \n         if  curType > 130 then \n            if  curType == 133 then spellName = \"Создаёт каменный щит, который способен принять на себя количество урона, равное Земля х 4. <s>\nНе снижает урон от эффектов. \" \n            elseif curType == 134 then spellName = \"Накладывает на заклинателя эффект «Каменная кожа», снижая суммарный полученный за ход урон на значение, равное (Земля <plus> Воздух) / 2.<s>\nДлительность эффекта — 4 хода, включая текущий.\" \n            elseif curType == 144 then spellName = \"Накладывает на заклинателя эффект «Скорость ветра», увеличивая скорость его заклинаний.<s>\nДлительность эффекта — (2 <plus> Воздух / 5) ходов, включая текущий.\" \n            end\n         else\n            if  curType == 122 then spellName = \"Снимает с заклинателя все негативные эффекты.\" \n            elseif curType == 123 then spellName = \"Накладывает на заклинателя эффект «Живая вода», который восстанавливает здоровье в размере Земля <plus> Вода.<s>\nДлительность эффекта — 4 хода, включая текущий.\" \n            elseif curType == 124 then spellName = \"Создаёт ледяной щит, который способен принять на себя количество урона, равное Вода х 3 <plus> Воздух. <s>\nНе снижает урон от эффектов. \" \n            end\n         end\n      else\n         if  curType == 111 then spellName = \"Создаёт огненный щит, который способен принять на себя количество урона, равное Огонь х 4. <s>\nНе снижает урон от Земли и эффектов. \" \n         elseif curType == 112 then spellName = \"Накладывает на заклинателя эффект «Туман», снижая вероятность попадания по нему до значения параметра Вода противника. <s>\nНе позволяет использовать заклинания типа «На противника». <s>\nСчитается одновременно и положительным, и отрицательным эффектом. <s>\n     Длительность эффекта — 3 хода, включая текущий.\" \n         elseif curType == 113 then spellName = \"     Накладывает на заклинателя эффект «Прилив сил», который увеличивает силу его заклинаний на (Огонь <plus> Земля) х 10 %. <s>\nДлительность эффекта — 3 хода, НЕ считая текущий.\" \n         elseif curType == 114 then spellName = \"Накладывает на заклинателя эффект «Рвение», который увеличивает силу его следующего заклинания на (Огонь <plus> Воздух) х 20 % и увеличивает скорость этого заклинания.\" \n         end\n      end\n   end\n   return spellName\nend\nend"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(getSpellName)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Наименование заклинания",
        "lua_do": "function lua_do()\nfunction getSpellName(curSpell)\n   local spellName = \"\"\n   if  curSpell.firstElement > 0 then \n      local type = getSpellType(curSpell)\n      if  curSpell.secondElement == 0 then \n         spellName = getSimpleSpellName(type) \n      else \n         spellName = getPotentSpellName(type) \n      end\n   end\n   return spellName\nend\nend"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(getSpellDescription)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getSpellDescription(curSpell)\n   local spellDescription = \"\"\n   if  curSpell.firstElement > 0 then \n      local type = getSpellType(curSpell)\n      if  curSpell.secondElement == 0 then \n         spellDescription = getSimpleSpellDescription(type) \n      else \n         spellDescription = getPotentSpellDescription(type) \n      end\n   end\n   return spellDescription\nend\nend",
        "text": "Описание заклинания"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(getSpellNameByType)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getSpellNameByType(type)\n   local spellName = getSimpleSpellName(type) \n   if  spellName == \"\" then \n      spellName = getPotentSpellName(type) \n   end\n   return spellName\nend\nend",
        "text": "Наименование заклинания"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(getFutureSpellName)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getFutureSpellName(curSpell, sl)\n   return getPotentSpellName(getFutureSpellType(curSpell, sl))\nend\nend",
        "text": "Наименование будущего заклинания"
      }
    ]
  },
  {
    "id": 9,
    "text": "функции использования заклинаний",
    "answers": [
      {
        "super_calculate": false,
        "id": 10,
        "calculate": true,
        "run": [
          10
        ],
        "text": "Получение типа заклинания"
      },
      {
        "super_calculate": false,
        "id": 13,
        "calculate": true,
        "run": [
          13
        ],
        "text": "Использование заклинаний"
      },
      {
        "super_calculate": false,
        "id": 14,
        "calculate": true,
        "run": [
          14
        ],
        "text": "ИИ противника"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal tf = type(addEssence)\nneedCreateFunctions = 0\nif (tf == 'nil') or (tf == 'string') then needCreateFunctions = 1 end\nend",
        "text": "пересоздание функций",
        "id": 29,
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\nfunction addEssence()\n   local emType = activeEnemy.type <plus> 0\n   local e1 =  math.floor(emType / 10)\n   local e2 = emType % 10\n   local els = {enemyAbility.fire, enemyAbility.water, enemyAbility.earth, enemyAbility.air}\n\n   newEssenceType = 0\n   if els[e1] > els[e2] then  newEssenceType = e1\n   elseif  els[e2] > els[e1] then newEssenceType = e2\n   elseif math.random(2) == 2 then newEssenceType = e2\n   end \n\n   if newEssenceType == 1 then  essenceFire = essenceFire <plus> 1\n   elseif  newEssenceType == 2 then  essenceWater = essenceWater <plus> 1\n   elseif  newEssenceType == 3 then  essenceEarth = essenceEarth <plus> 1\n   else  essenceAir = essenceAir <plus> 1\n   end \nend\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Получение эссенции",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "text": "Изменение инфы о боссе",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction killBoss(curSpell, curState)\n     if complication == 0 then return end\n     local emType = activeEnemy.type <plus> 0\n      if emType > 10 then addEssence() else return end\n      if emType > 40 then \n         if emType == 44 then   b44.winCount = b44.winCount <plus> 1   b44.isDefeated = true\n         elseif  emType == 41 then   b41.winCount = b41.winCount <plus> 1   b41.isDefeated = true\n         elseif  emType == 42 then   b42.winCount = b42.winCount <plus> 1   b42.isDefeated = true\n         end\n      elseif emType > 30 then\n         if emType == 33 then   b33.winCount = b33.winCount <plus> 1   b33.isDefeated = true\n         elseif  emType == 31 then   b31.winCount = b31.winCount <plus> 1   b31.isDefeated = true\n         elseif  emType == 32 then   b32.winCount = b32.winCount <plus> 1   b32.isDefeated = true\n         end\n      elseif emType > 20 then\n         if emType == 22 then   b22.winCount = b22.winCount <plus> 1   b22.isDefeated = true\n         elseif  emType == 23 then   b23.winCount = b23.winCount <plus> 1   b23.isDefeated = true\n         elseif  emType == 24 then   b24.winCount = b24.winCount <plus> 1   b24.isDefeated = true\n         end\n      elseif emType > 10 then\n         if emType == 11 then   b11.winCount = b11.winCount <plus> 1   b11.isDefeated = true\n         elseif  emType == 13 then   b13.winCount = b13.winCount <plus> 1   b13.isDefeated = true\n         elseif  emType == 14 then   b14.winCount = b14.winCount <plus> 1   b14.isDefeated = true\n         end\n      end\nend\nend",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction castSpell(curSpell, curState)\n   curState.spellType = getSpellType(curSpell)\nend\nend",
        "text": "Завершенение заклинания"
      },
      {
        "text": "Определение скорости заклинания",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getSpellSpeed(curState)\n   if curState.hasPotentSpell and (curState.spellType == 0) then return 5 end\n   local sp = 2\n   if curState.spellType > 200 then sp = 3 end\n   if curState.quicksandCount > 0 then sp = sp <plus> 1 end\n   if curState.zeal > 0 then sp = sp - 1 end\n   if curState.accelerationCount > 0 then sp = sp - 1 end\n   return sp\nend\nend",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "lua_do": "function lua_do()\nfunction getSpellSpeedByAbility(curAbility, curSpell)\n   local els = {curAbility.fire, curAbility.water, curAbility.earth,curAbility.air}\n   local speed = 0\n   if curSpell.firstElement > 0 then speed = els[curSpell.firstElement] end\n   if curSpell.secondElement > 0 then speed = speed <plus> els[curSpell.secondElement] end\n   return speed \nend\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Определение скорости заклинания по хар-кам героя",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "text": "Сокращение действия временных эффектов",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction lessEffects(curAbility, curState, target)\n   local letext = \"\"\n   if curState.fogCount > 0 then \n      curState.fogCount = curState.fogCount - 1 \n      if curState.fogCount == 0 then\n         curState.fog = 0\n         if target == 1 then\n            letext = letext .. \"   Туман вокруг Вас рассеялся. \"\n         else\n            letext = letext .. \"   Туман вокруг противника рассеялся. \"\n         end\n       end\n   end\n   if curState.windCount > 0 then \n      if letext == \"\" then letext = \"   \" end\n      curState.windCount = curState.windCount - 1 \n      if target == 1 then\n         letext = letext .. \"Вокруг Вас шумит ветер. \"\n      else\n         letext = letext .. \"Вокруг противника шумит ветер. \"\n      end\n      if curState.windCount == 0 then\n         curState.wind = 0\n         if target == 1 then\n            letext = letext .. \"Ветер вокруг Вас утих. \"\n         else\n            letext = letext .. \"Ветер вокруг противника утих. \"\n         end\n       end\n   end\n   if curState.quicksandCount > 0 then \n      curState.quicksandCount = curState.quicksandCount - 1 \n      if curState.quicksandCount == 0 then\n         if letext == \"\" then letext = \"   \" end\n         curState.quicksand = false\n         if target == 1 then\n            letext = letext .. \"Вы снова стоите на твёрдой земле. \"\n         else\n            letext = letext .. \"Противник больше не увязает в трясине. \"\n         end\n       end\n   end\n   if curState.hurricaneCount > 0 then \n      curState.hurricaneCount = curState.hurricaneCount - 1 \n      if curState.hurricaneCount == 0 then\n         if letext == \"\" then letext = \"   \" end\n         curState.hurricane = 0\n         if target == 1 then\n            letext = letext .. \"Ураган вокруг Вас стихает. \"\n         else\n            letext = letext .. \"Ураган вокруг противника стихает. \"\n         end\n       end\n   end\n   if curState.dodgeBonusCount > 0 then \n      curState.dodgeBonusCount = curState.dodgeBonusCount - 1 \n      if curState.dodgeBonusCount == 0 then\n         if letext == \"\" then letext = \"   \" end\n         curState.dodgeBonus = 0\n         letext = letext .. \"Заклинание «Подвижность» потеряло силу. \"\n       end\n   end\n   if curState.attackBonusCount > 0 then \n      curState.attackBonusCount = curState.attackBonusCount - 1 \n      if curState.attackBonusCount == 0 then\n         if letext == \"\" then letext = \"   \" end\n         curState.attackBonus = 0\n         letext = letext .. \"Эффект «Прилив сил» рассеялся. \"\n       end\n   end\n   if curState.accelerationCount > 0 then \n      curState.accelerationCount = curState.accelerationCount - 1 \n      if curState.accelerationCount == 0 then\n         if letext == \"\" then letext = \"   \" end\n         curState.acceleration = false\n         letext = letext .. \"Заклинание «Скорость ветра» потеряло силу. \"\n       end   \n   end\n   \n   if curState.healCount > 0 then \n      letext = newRow(letext)\n      local sp = 0 <plus> curState.heal\n      curState.healCount = curState.healCount - 1 \n      local needHP = getMaxHP(curAbility) - curState.currentHP\n      if needHP < sp then sp = needHP end\n      if (sp > 0) then \n         curState.currentHP = curState.currentHP <plus> sp\n         if target == 1 then\n            letext = letext .. \"   Вы излечились на \" .. sp ..\". \"\n         else\n            letext = letext .. \"   Противник излечился на \" .. sp ..\". \"\n         end\n     end\n      if curState.healCount == 0 then\n         curState.heal = 0\n         letext = letext .. \"Действие «Живой воды» закончилось. \"\n       end\n   end   \n   local damage = 0\n   if curState.burningCount > 0 then \n      letext = newRow(letext)\n      damage = getDamage(curState.burning, curState)\n      curState.burningCount = curState.burningCount - 1 \n      if target == 1 then\n         letext = letext .. \"   Вы горите! Получен урон: \" .. damage .. \". \"\n      else\n         letext = letext .. \"   Противник горит! Он получил урон: \" .. damage .. \". \"\n      end\n      curState.currentHP = curState.currentHP - damage\n      if curState.currentHP <= 0 then return end\n      if curState.burningCount == 0 then\n         curState.burning = 0\n         if target == 1 then\n            letext = letext .. \"Наконец, Вам удалось сбить огонь. \"\n         else\n            letext = letext .. \"Противнику удалось сбить огонь. \"\n         end\n       end\n   end   \n   if curState.frostCount > 0 then \n      letext = newRow(letext)\n      damage = getDamage(curState.frost, curState)\n      curState.frostCount = curState.frostCount - 1 \n      if target == 1 then\n         letext = letext .. \"   Вы получили урон от мороза: \" .. damage .. \". \"\n      else\n         letext = letext .. \"   Противник получил урон от мороза: \" .. damage .. \". \"\n      end\n      curState.currentHP = curState.currentHP - damage\n      if curState.currentHP <= 0 then return end\n      if curState.frostCount == 0 then\n         curState.frost = 0\n         if target == 1 then\n            letext = letext .. \"Воздух вокруг Вас заметно потеплел. \"\n         else\n            letext = letext .. \"Кажется, противнику больше не холодно. \"\n         end\n       end\n   end\n   if curState.sandstormCount > 0 then \n      letext = newRow(letext)\n      damage = getDamage(curState.sandstorm, curState)\n      curState.sandstormCount = curState.sandstormCount - 1 \n      if target == 1 then\n         letext = letext .. \"   Вы продолжаете бороться с песчаной бурей. Получен урон: \" .. damage .. \". \"\n      else\n         letext = letext .. \"   Вокруг противника бушует песчаная буря и наносит ему урон: \" .. damage .. \". \"\n      end\n      curState.currentHP = curState.currentHP - damage\n      if curState.currentHP <= 0 then return end\n      if curState.sandstormCount == 0 then\n         curState.sandstorm = 0\n         if target == 1 then\n            letext = letext .. \"Песчаная буря вокруг Вас стихает. \"\n         else\n            letext = letext .. \"Песчаная буря вокруг противника стихает. \"\n         end\n       end\n   end\n   if curState.battleRageCount > 1 then \n      letext = newRow(letext)\n      damage = getDamage(math.round(curState.battleRage/12), curState)\n      if target == 1 then\n         letext = letext .. \"   Вы платите кровью за мощь. Получен урон: \" .. damage .. \". \"\n      else\n         letext = letext .. \"   Противник платит за силу кровью и получает урон: \" .. damage .. \". \"\n      end\n      curState.currentHP = curState.currentHP - damage\n      if curState.currentHP <= 0 then return end\n   end\n   if curState.battleRageCount > 0 then \n      curState.battleRageCount = curState.battleRageCount - 1 \n      if curState.battleRageCount == 0 then\n         curState.battleRage = 0\n         letext = letext .. \"Эффект «Боевая ярость» рассеялся. \"\n       end\n   end\n   if curState.stoneSkinCount > 0 then \n      letext = newRow(letext)\n      curState.stoneSkinCount = curState.stoneSkinCount - 1 \n      if curState.stoneSkinCount == 0 then\n         curState.stoneSkin = 0\n         letext = letext .. \"   Заклинание «Каменная кожа» рассеялось. \"\n       end\n       curState.stoneSkinPoint = 0 <plus> curState.stoneSkin\n   end\n\ncurState.needClearAfter222 = false\n   \n   if letex == \"   \" then letext = \"\" else letext = newRow(letext) end\n   turnText = turnText .. letext\nend\nend",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "lua_do": "function lua_do()\nfunction nextTurn()\n   enemyMove()\n   turnText = \"Раунд \" .. turnNum .. \"<s>\n<s>\n\"\n   turnNum = turnNum <plus> 1\n   local heroSpeed = getSpellSpeed(state)\n   local enemySpeed = getSpellSpeed(enemyState)\n   \n   if heroSpeed == 5 then\n      turnText = turnText .. \"   Вы готовите мощное заклинание\"\n      if enemySpeed == 5 then\n         turnText = turnText .. \", как и противник. <s>\n\"\n      else\n         turnText = turnText .. \".  <s>\n\"\n         actuationEnemySpell()\n      end\n   elseif enemySpeed == 5 then\n      turnText = turnText .. \"   Противник готовит мощное заклинание. <s>\n\"\n      actuationHeroSpell()\n   else\n      if heroSpeed == enemySpeed then \n        -- у кого заклинание сильнее, тому на каст меньше времени надо\n         heroSpeed =  getSpellSpeedByAbility(enemyAbility, enemySpell)\n         enemySpeed = getSpellSpeedByAbility(ability, spell)\n         if heroSpeed == enemySpeed then   -- а тут пусть уже решает рэндом\n            if isSuccess(50) then heroSpeed = heroSpeed - 1 else heroSpeed = heroSpeed <plus> 1 end\n         end\n      end\n      if heroSpeed < enemySpeed then\n         actuationHeroSpell()\n         if (enemyState.spellType > 0) and (enemyState.currentHP > 0) then actuationEnemySpell() end\n      else\n         actuationEnemySpell()\n         if (state.spellType > 0) and (state.currentHP > 0) then actuationHeroSpell() end\n      end\n   end\n   turnText = turnText .. \"<s>\n\"\n\n   -- длительные заклинания заканчивают действие \n   if state.currentHP > 0 then lessEffects(ability, state, 1)  end\n   if enemyState.currentHP > 0 then lessEffects(enemyAbility, enemyState, 2)  end\n   if state.currentHP < 0 then state.currentHP = 0 end\n   if enemyState.currentHP < 0 then enemyState.currentHP = 0 end\n\n   if (enemyState.currentHP <= 0) and (state.currentHP<= 0) then \n      battleResult = 3 \n      turnText = turnText .. \"<s>\n   Вы в нокауте. Противник в нокауте. \"\n   elseif state.currentHP<= 0 then \n      battleResult = 2\n      turnText = turnText .. \"<s>\n   Вы в нокауте. \"\n   elseif enemyState.currentHP <= 0 then \n      battleResult = 1\n      killBoss()\n      turnText = turnText .. \"<s>\n   Противник в нокауте. \"\n   end\n   if battleResult > 0 then \n      spell = {target = 0, firstElement = 0, secondElement = 0}  \n      enemySpell = {target = 0, firstElement = 0, secondElement = 0}  \n   else\n      if (enemyState.fog > 0) and (enemyState.hasPotentSpell) and (enemySpell.target == 2) then \n        turnText = turnText .. \"   Противник сбросил ставшее бесполезным мощное заклинание. \"\n        enemySpell = {target = 0, firstElement = 0, secondElement = 0} \n        enemyState.hasPotentSpell = false\n        enemyState.spellType = 0\n     end\n      if (state.fog > 0) and (state.hasPotentSpell) and (spell.target == 2) then \n        turnText = turnText .. \"   Вы сбросили ставшее бесполезным мощное заклинание. \"\n        spell = {target = 0, firstElement = 0, secondElement = 0}  \n        state.hasPotentSpell = false\n        state.spellType = 0\n     end\n   end\nend\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Завершение хода",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      }
    ]
  },
  {
    "id": 10,
    "text": "Получение типа заклинания",
    "answers": [
      {
        "super_calculate": false,
        "id": 29,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal tf = type(getSpellType)\nneedCreateFunctions = 0\nif (tf == 'nil') or (tf == 'string') then needCreateFunctions = 1 end\nend",
        "text": "пересоздание функций"
      },
      {
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getSpellType(curSpell)\n   local spellType = curSpell.target * 100\n   if curSpell.secondElement > curSpell.firstElement then\n      spellType = spellType <plus> curSpell.firstElement * 10 <plus> curSpell.secondElement\n   else \n      spellType = spellType <plus> curSpell.secondElement * 10 <plus> curSpell.firstElement\n   end\n   return spellType\nend\nend",
        "text": "Получение типа заклинания"
      },
      {
        "lua_do": "function lua_do()\nfunction getFutureSpellType(curSpell, secEl)\n   local spellType = curSpell.target * 100\n   if secEl > curSpell.firstElement then\n      spellType = spellType <plus> curSpell.firstElement * 10 <plus> secEl\n   else \n      spellType = spellType <plus> secEl * 10 <plus> curSpell.firstElement\n   end\n   return spellType\nend\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Получение типа заклинания",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      }
    ]
  },
  {
    "id": 11,
    "text": "Действие заклинаний \"На себя\"",
    "answers": [
      {
        "super_calculate": false,
        "id": 29,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal tf = type(spell101)\nneedCreateFunctions = 0\nif (tf == 'nil') or (tf == 'string') then needCreateFunctions = 1 end\nend",
        "text": "пересоздание функций"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell101(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.battleRage = getSpellPower(ownerAbility, ownerState, (ownerAbility.fire * 10))\n   targetState.battleRageCount = 4\n  if target == 1 then\n     turnText = turnText .. \"Вы входите в раж. Сила заклинаний увеличена. \"\n  else\n     turnText = turnText .. \"Противник входит в раж. Сила его заклинаний увеличена. \"\n  end\nend\nend",
        "text": "101 - Боевая ярость"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell102(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.waterShield = getSpellPower(ownerAbility, ownerState, (ownerAbility.water * 2))\n  if target == 1 then\n     turnText = turnText .. \"Перед Вами выросла стена воды. \"\n  else\n     turnText = turnText .. \"Перед противником выросла стена воды. \"\n  end\nend\nend",
        "text": "102 - Водяной щит"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell103(ownerAbility, ownerState, targetAbility, targetState, target)\n   local sp = getSpellPower(ownerAbility, ownerState, ownerAbility.earth)\n   local needHP = getMaxHP(targetAbility) - targetState.currentHP\n   if needHP < sp then sp = needHP end\n   if (sp > 0) then \n      if target == 1 then\n         turnText = turnText .. \"Вы излечились на \" .. sp ..\". \"\n         state.currentHP = state.currentHP <plus> sp\n      else\n         turnText = turnText .. \"Противник излечился на \" .. sp ..\". \"\n         enemyState.currentHP = enemyState.currentHP <plus> sp\n      end\n  else\n      turnText = turnText .. \"Заклинание не возымело действия. \"\n  end\nend\nend",
        "text": "103 - Лечение"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell104(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.dodgeBonus = getSpellPower(ownerAbility, ownerState, (ownerAbility.air * 4))\n   targetState.dodgeBonusCount = 3\n  if target == 1 then\n     turnText = turnText .. \"Ветер позволяет Вам двигаться быстрее. \"\n  else\n     turnText = turnText .. \"Ветер позволяет противнику двигаться быстрее. \"\n  end\nend\nend",
        "text": "104 - Подвижность"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell111(ownerAbility, ownerState, targetAbility, targetState, target)\n  targetState.fireShield = getSpellPower(ownerAbility, ownerState, (ownerAbility.fire * 4))\n  if target == 1 then\n     turnText = turnText .. \"Перед Вами вспыхнула огненная преграда. \"\n  else\n     turnText = turnText .. \"Перед противником вспыхнула огненная преграда. \"\n  end\nend\nend",
        "text": "111 - Стена пламени"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "112 - Туман",
        "lua_do": "function lua_do()\nfunction spell112(ownerAbility, ownerState, targetAbility, targetState, target)\n   spell212(targetAbility, targetState, targetAbility, targetState, target)\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "113 - Прилив сил",
        "lua_do": "function lua_do()\nfunction spell113(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.attackBonus = getSpellPower(ownerAbility, ownerState, ((ownerAbility.fire <plus> ownerAbility.earth) * 10))\n   targetState.attackBonusCount = 4\n  if target == 1 then\n     turnText = turnText .. \"Вы чувствуете, как становитесь сильнее. \"\n  else\n     turnText = turnText .. \"Противник приободрился. \"\n  end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "114 - Рвение",
        "lua_do": "function lua_do()\nfunction spell114(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.zeal = getSpellPower(ownerAbility, ownerState, ((ownerAbility.fire <plus> ownerAbility.air) * 20))\n  if target == 1 then\n     turnText = turnText .. \"Вы чувствуете небывалую мощь и энергию. \"\n  else\n     turnText = turnText .. \"Противник полон сил и энергии! \"\n  end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "122 - Очищение",
        "lua_do": "function lua_do()\nfunction spell122(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.wind = 0\n   targetState.windCount = 0\n   targetState.fog = 0\n   targetState.fogCount = 0\n   targetState.burning = 0\n   targetState.burningCount = 0\n   targetState.quicksand = false\n   targetState.quicksandCount = 0\n   targetState.frost = 0\n   targetState.frostCount = 0\n   targetState.sandstorm = 0\n   targetState.sandstormCount = 0\n   targetState.hurricane = 0\n   targetState.hurricaneCount = 0\n  if target == 1 then\n     turnText = turnText .. \"Тёплый дождь смыл с Вас все отрицательные эффекты. \"\n  else\n     turnText = turnText .. \"Дождь смыл с противника все отрицательные эффекты. \"\n  end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell123(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.heal = getSpellPower(ownerAbility, ownerState, (ownerAbility.earth <plus> ownerAbility.water))\n   targetState.healCount = 4\n  if target == 1 then\n     turnText = turnText .. \"Жизнетворящая магия дарует Вам чудесную регенерацию. \"\n  else\n     turnText = turnText .. \"Теперь противник регенерирует. \"\n  end\nend\nend",
        "text": "123 - Живая вода"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell124(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.iceShield = getSpellPower(ownerAbility, ownerState, (ownerAbility.water * 3 <plus> ownerAbility.air))\n  if target == 1 then\n     turnText = turnText .. \"Перед Вами выросла ледяная стена. \"\n  else\n     turnText = turnText .. \"Перед противником выросла ледяная стена. \"\n  end\nend\nend",
        "text": "124 - Ледяной щит"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell133(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.earthShield = getSpellPower(ownerAbility, ownerState, (ownerAbility.earth * 4))\n  if target == 1 then\n     turnText = turnText .. \"Перед Вами выросла каменная стена. \"\n  else\n     turnText = turnText .. \"Перед противником выросла каменная стена. \"\n  end\nend\nend",
        "text": "133 - Заслон"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell134(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.stoneSkin = getSpellPower(ownerAbility, ownerState, (ownerAbility.earth <plus> ownerAbility.air))\n   targetState.stoneSkinCount = 4\n   targetState.stoneSkinPoint = 0 <plus> targetState.stoneSkin \n  if target == 1 then\n     turnText = turnText .. \"Теперь Вас защищает каменная броня. \"\n  else\n     turnText = turnText .. \"Теперь противника защищает каменная броня. \"\n  end\nend\nend",
        "text": "134 - Каменная кожа"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell144(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.acceleration = true\n   targetState.accelerationCount = 2 <plus> math.round(getSpellPower(ownerAbility, ownerState, (ownerAbility.air / 5)))\n  if target == 1 then\n     turnText = turnText .. \"Ветер дарует вам невероятную скорость. \"\n  else\n     turnText = turnText .. \"Теперь ветер на стороне противника, и тот будет двигаться быстрее. \"\n  end\nend\nend",
        "text": "144 - Скорость ветра"
      }
    ]
  },
  {
    "id": 12,
    "text": "Действие заклинаний \"На противника\"",
    "answers": [
      {
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\n  local tf = type(addSpellPowerBonus)\n  needCreateFunctions = 0\n  if  (tf == 'nil') or (tf == 'string') then needCreateFunctions = 1 end\nend",
        "text": " "
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Добавление бонуса к силе",
        "lua_do": "function lua_do()\nfunction addSpellPowerBonus(curPower, curBonus)\n   local newPower = 0 <plus> curPower\n   if curBonus > 0 then \n      newPower = newPower <plus> newPower *  curBonus / 100 \n   end\n   return newPower \nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Получение силы заклинания",
        "lua_do": "function lua_do()\nfunction getSpellPower(ownAbility, ownState, power)\n   local resPower = addSpellPowerBonus(power, ownState.battleRage)\n   resPower = addSpellPowerBonus(resPower, ownState.attackBonus)\n   resPower = addSpellPowerBonus(resPower, ownState.zeal)\n   ownState.zeal = 0\n   if math.round(100) <= ownAbility.fire then \n      resPower = resPower * 1.5 \n      turnText = turnText .. \" Критический успех! \"\n   end\n   if ownState.needClearAfter222 then \n      ownState.battleRage = 0\n      ownState.battleRageCount = 0\n      ownState.attackBonus = 0\n      ownState.attackBonusCount  = 0\n   end\n   return math.round(resPower)\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Снятие урона Каменной кожей",
        "lua_do": "function lua_do()\nfunction getDamage(curDamage, tarState)\n   local newDamage = curDamage - tarState.stoneSkinPoint\n   if newDamage < 0 then newDamage = 0 end\n   return newDamage \nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Снятие водяного щита",
        "lua_do": "function lua_do()\nfunction lessWaterShield(curDamage, curState)\n   if curDamage < 1 then return 0 end\n   local shield = curState.waterShield\n   if shield > 0 then\n      if shield <= curDamage then\n         curDamage = curDamage - shield\n         curState.waterShield = 0\n         curState.waterShieldCount = 0\n         if curDamage > 0 then \n            turnText = turnText .. \"Водяной щит поглотил часть урона и рассеялся. \"\n         else\n            turnText = turnText .. \"Водяной щит поглотил весь урон и рассеялся. \"\n         end\n      else\n         curState.waterShield = shield - curDamage\n         curDamage = 0\n         turnText = turnText .. \"Водяной щит поглотил весь урон. \"\n      end\n   end\n   return curDamage \nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction lessFireShield(curDamage, curState)\n   if curDamage < 1 then return 0 end\n   local shield = curState.fireShield\n   if shield > 0 then\n      if shield <= curDamage then\n         curDamage = curDamage - shield\n         curState.fireShield = 0\n         curState.fireShieldCount = 0\n         if curDamage > 0 then \n            turnText = turnText .. \"Стена пламени поглотила часть урона и потухла. \"\n         else\n            turnText = turnText .. \"Стена пламени поглотила урон и потухла. \"\n         end\n      else\n         curState.fireShield = shield - curDamage\n         curDamage = 0\n         turnText = turnText .. \"Стена пламени поглотила урон. \"\n      end\n   end\n   return curDamage \nend\nend",
        "text": "Снятие Стены пламени"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Снятие ледяного щита",
        "lua_do": "function lua_do()\nfunction lessIceShield(curDamage, curState)\n   if curDamage < 1 then return 0 end\n   local shield = curState.iceShield\n   if shield > 0 then\n      if shield <= curDamage then\n         curDamage = curDamage - shield\n         curState.iceShield = 0\n         curState.iceShieldCount = 0\n         if curDamage > 0 then \n            turnText = turnText .. \"Ледяной щит поглотил часть урона и разбился. \"\n         else\n            turnText = turnText .. \"Ледяной щит поглотил весь урон и разбился. \"\n         end\n      else\n         curState.iceShield = shield - curDamage\n         curDamage = 0\n         turnText = turnText .. \"Ледяной щит поглотил весь урон. \"\n      end\n   end\n   return curDamage \nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Снятие Заслона",
        "lua_do": "function lua_do()\nfunction lessEarthShield(curDamage, curState)\n   if curDamage < 1 then return 0 end\n   local shield = curState.earthShield\n   if shield > 0 then\n      if shield <= curDamage then\n         curDamage = curDamage - shield\n         curState.earthShield = 0\n         curState.earthShieldCount = 0\n         if curDamage > 0 then \n            turnText = turnText .. \"Заслон поглотил часть урона и треснул. \"\n         else\n            turnText = turnText .. \"Заслон поглотил весь урон и треснул. \"\n         end\n      else\n         curState.earthShield = shield - curDamage\n         curDamage = 0\n         turnText = turnText .. \"Заслон поглотил весь урон. \"\n       end\n   end\n   return curDamage \nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction lessHP(curDamage, curState, target)\n   if curDamage < 1 then \n      return \n   else\n      if target == 1 then\n         turnText = turnText .. \"Вы получили урон: \" .. curDamage .. \". \"\n      else\n         turnText = turnText .. \"Противник получил урон: \" .. curDamage .. \". \"\n      end\n      curState.currentHP = curState.currentHP - curDamage\n      if curState.currentHP <= 0 then return end -- если умер, то умер\n      if curState.hasPotentSpell and (curState.spellType == 0) then \n         curState.hasPotentSpell = false\n         curState.spellType = 0\n         if target == 1 then\n            turnText = turnText .. \"<s>\n   Мощное заклинание, которое Вы готовили, сорвалось. <s>\n\"\n            spell = {target = 0, firstElement = 0, secondElement = 0} \n         else\n            turnText = turnText .. \"<s>\n   Мощное заклинание противника сорвано! <s>\n\"\n            enemySpell = {target = 0, firstElement = 0, secondElement = 0} \n         end\n      end\n   end\nend\nend",
        "text": "Урон здоровью"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "201 - Вспышка ",
        "lua_do": "function lua_do()\nfunction spell201(ownerAbility, ownerState, targetAbility, targetState, target)\n   local damageFire = getSpellPower(ownerAbility, ownerState, ownerAbility.fire)\n   damageFire = lessWaterShield(damageFire, targetState)\n   damageFire = lessFireShield(damageFire, targetState)\n   damageFire = lessIceShield(damageFire, targetState)\n   damageFire = lessEarthShield(damageFire, targetState)\n   damageFire = getDamage(damageFire, targetState)\n   lessHP(damageFire, targetState, target)\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell202(ownerAbility, ownerState, targetAbility, targetState, target)\n   local damageWater = getSpellPower(ownerAbility, ownerState, ownerAbility.water)\n   damageWater = lessWaterShield(damageWater, targetState)\n   damageWater = lessFireShield(damageWater, targetState)\n   damageWater = lessIceShield(damageWater, targetState)\n   damageWater = lessEarthShield(damageWater, targetState)\n   damageWater = getDamage(damageWater, targetState)\n   lessHP(damageWater, targetState, target)\nend\nend",
        "text": "202 - Ледяная стрела"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell203(ownerAbility, ownerState, targetAbility, targetState, target)\n   local damageEarth = getSpellPower(ownerAbility, ownerState, ownerAbility.earth)\n   damageEarth = lessWaterShield(damageEarth, targetState)\n   damageEarth = lessEarthShield(damageEarth, targetState)\n   damageEarth = lessIceShield(damageEarth, targetState)\n   damageEarth = getDamage(damageEarth, targetState)\n   lessHP(damageEarth, targetState, target)\nend\nend",
        "text": "203 - Шипы "
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell204(ownerAbility, ownerState, targetAbility, targetState, target)\n   local spellPower = getSpellPower(ownerAbility, ownerState, (ownerAbility.air * 3))\n  targetState.wind = spellPower \n  targetState.windCount = 2\n  if target == 1 then\n     turnText = turnText .. \"Теперь ветер мешает Вам целиться. \"\n  else\n     turnText = turnText .. \"Теперь ветер мешает противнику целиться. \"\n  end\nend\nend",
        "text": "204 - Порыв ветра"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell211(ownerAbility, ownerState, targetAbility, targetState, target)\n   local damageFire = getSpellPower(ownerAbility, ownerState, (ownerAbility.fire * 3))\n   damageFire = lessWaterShield(damageFire, targetState)\n   damageFire = lessFireShield(damageFire, targetState)\n   damageFire = lessIceShield(damageFire, targetState)\n   damageFire = lessEarthShield(damageFire, targetState)\n   if (damageFire >= 1) and (targetState.frost  > 0) then \n      targetState.frost = 0\n      targetState.frostCount = 0\n      turnText = turnText .. \"Снят эффект «Мороз». \"\n   end\n   damageFire = getDamage(damageFire, targetState)\n   lessHP(damageFire, targetState, target)\nend\nend",
        "text": "211 - Огненный шар"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell212(ownerAbility, ownerState, targetAbility, targetState, target)\n  if targetState.hurricane > 0 then \n     if target == 1 then\n        turnText = turnText .. \"Бушующий вокруг Вас ураган развеял начавший собираться туман. \"\n     else\n        turnText = turnText .. \"Бушующий вокруг противника ураган развеял начавший собираться туман. \"\n     end\n      return\n   end\n  targetState.fog = getAccuracy(targetAbility) - 75\n  targetState.fogCount = 3\n  if target == 1 then\n     turnText = turnText .. \"Вас окутал плотный туман. Вы не можете атаковать пока он не рассеется, но противнику будет сложнее попасть по Вам. \"\n  else\n     turnText = turnText .. \"Противника окутал плотный туман. Теперь он не может атаковать, но и попасть по нему будет сложнее. \"\n  end\nend\nend",
        "text": "212 - Туман"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "213 - Взрыв",
        "lua_do": "function lua_do()\nfunction spell213(ownerAbility, ownerState, targetAbility, targetState, target)\n   local curZeal = 0 <plus> ownerState.zeal\n   local damageFire = getSpellPower(ownerAbility, ownerState, math.round(ownerAbility.fire * 1.5))\n   ownerState.zeal = curZeal\n   local damageEarth = getSpellPower(ownerAbility, ownerState, math.round(ownerAbility.earth * 1.5))\n   damageVsShield = lessFireShield(damageFire * 2, targetState)\n   local damage = math.floor(damageVsShield / 2) <plus> damageEarth\n   damageVsShield = lessWaterShield(damage * 2, targetState)\n   damageVsShield = lessEarthShield(damageVsShield, targetState)\n   damageVsShield = lessIceShield(damageVsShield, targetState)\n   damage = getDamage(math.floor(damageVsShield / 2), targetState)\n   lessHP(damage, targetState, target)\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "214 - Поджог",
        "lua_do": "function lua_do()\nfunction spell214(ownerAbility, ownerState, targetAbility, targetState, target)\n   if targetState.frost > 0 then\n      targetState.frost = 0\n      targetState.frostCount = 0\n      turnText = turnText .. \"Снят эффект «Мороз». \"\n   end\n   targetState.burning = getSpellPower(ownerAbility, ownerState, ((ownerAbility.fire <plus> ownerAbility.air) / 2))\n   targetState.burningCount = 4\n   turnText = turnText .. \"Наложен эффект «Горение». \"\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction spell222(ownerAbility, ownerState, targetAbility, targetState, target)\n      if targetState.fogCount > 0 then \n         targetState.fog = 0\n         targetState.fogCount = 0\n         turnText = turnText .. \"Туман смыло волной. \"\n      end\n      if targetState.burningCount > 0 then \n         targetState.burning = 0\n         targetState.burningCount = 0\n         turnText = turnText .. \"Эффект «Горение» смыло волной. \"\n      end\n      if targetState.dodgeBonusCount > 0 then \n         targetState.dodgeBonus = 0\n         targetState.dodgeBonusCount = 0\n         turnText = turnText .. \"Эффект «Подвижность» смыло волной. \"\n      end\n      if targetState.battleRageCount > 0 then \n         turnText = turnText .. \"Эффект «Боевая ярость» смыло волной. \"\n      end\n      if targetState.attackBonusCount > 0 then \n         turnText = turnText .. \"Эффект «Прилив сил» смыло волной. \"\n      end\n      if targetState.zeal > 0 then \n         turnText = turnText .. \"Эффект «Рвение» смыло волной. \"\n      end\n      if targetState.healCount > 0 then \n         targetState.heal = 0\n         targetState.healCount  = 0\n         turnText = turnText .. \"Эффект «Живая вода» смыло волной. \"\n      end\n      if targetState.stoneSkinCount > 0 then \n         targetState.stoneSkin = 0\n         targetState.stoneSkinCount = 0\n         targetState.stoneSkinPoint = 0\n         turnText = turnText .. \"Эффект «Каменная кожа» смыло волной. \"\n      end\n      if targetState.acceleration then \n         targetState.acceleration = false\n         targetState.accelerationCount = 0\n         turnText = turnText .. \"Эффект «Скорость ветра» смыло волной. \"\n      end\n   local damageWater = getSpellPower(ownerAbility, ownerState, (ownerAbility.water * 2))\n   damageWater = lessWaterShield(damageWater, targetState)\n   damageWater = lessFireShield(damageWater, targetState)\n   damageWater = lessIceShield(damageWater, targetState)\n   damageWater = lessEarthShield(damageWater, targetState)\n   lessHP(damageWater, targetState, target)\n   targetState.needClearAfter222 = true -- для узкого кейса, когда противник уже кинул заклинание под усилением\nend\nend",
        "text": "222 - Цунами"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "223 - Трясина",
        "lua_do": "function lua_do()\nfunction spell223(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.quicksand = true\n   targetState.quicksandCount = 4\n  if target == 1 then\n      turnText = turnText .. \"Земля у Вас под ногами обратилась в болото. Стараясь не увязнуть, Вы двигаетесь медленнее, чем обычно. \"\n   else\n      turnText = turnText .. \"Земля под ногами противника обратилась в болото. Ему придётся двигаться медленнее, чтобы не увязнуть. \"\n   end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "224 - Мороз",
        "lua_do": "function lua_do()\nfunction spell224(ownerAbility, ownerState, targetAbility, targetState, target)\n   if targetState.burning > 0 then\n      targetState.burning = 0\n      targetState.burningCount = 0\n      turnText = turnText .. \"Снят эффект «Горение». \"\n   end\n   targetState.frost = getSpellPower(ownerAbility, ownerState, ((ownerAbility.water <plus> ownerAbility.air) / 2))\n   targetState.frostCount = 4\n   turnText = turnText .. \"Наложен эффект «Мороз». \"\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "233 - Землетрясение",
        "lua_do": "function lua_do()\nfunction spell233(ownerAbility, ownerState, targetAbility, targetState, target)\n  if target == 1 then\n      turnText = turnText .. \"Земля разверзлась у Вас под ногами. \"\n   else\n      turnText = turnText .. \"Земля разверзлась под ногами противника. \"\n   end\n   local damageEarth = getSpellPower(ownerAbility, ownerState, (ownerAbility.earth * 3))\n   damageEarth = lessWaterShield(damageEarth, targetState)\n   damagedamageEarth = lessIceShield(damageEarth, targetState)\n   damageEarth = lessEarthShield(damageEarth, targetState)\n   damageEarth = getDamage(damageEarth, targetState)\n   lessHP(damageEarth, targetState, target)\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "234 - Песчаная буря",
        "lua_do": "function lua_do()\nfunction spell234(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.sandstorm = getSpellPower(ownerAbility, ownerState, ((ownerAbility.earth <plus> ownerAbility.air) / 2))\n   targetState.sandstormCount = 4\n  if target == 1 then\n      turnText = turnText .. \"Вокруг Вас засвистел песок. \"\n   else\n      turnText = turnText .. \"Вокруг противника засвистел песок. \"\n   end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "244 - Ураган",
        "lua_do": "function lua_do()\nfunction spell244(ownerAbility, ownerState, targetAbility, targetState, target)\n   targetState.hurricane = getSpellPower(ownerAbility, ownerState, (ownerAbility.air * 4))\n   targetState.hurricaneCount = 3\n  if target == 1 then\n      turnText = turnText .. \"Поднялся штормовой ветер, Вы оказались в эпицентре урагана. \"\n   else\n      turnText = turnText .. \"Поднялся штормовой ветер, противник оказался в эпицентре урагана. \"\n   end\n   if targetState.fogCount > 0 then \n     targetState.fog = 0\n     targetState.fogCount = 0\n     turnText = turnText .. \"Шторм развеял туман. \"\n   end\nend\nend"
      }
    ]
  },
  {
    "id": 13,
    "text": "Функции срабатывания заклинаний",
    "answers": [
      {
        "super_calculate": false,
        "id": 12,
        "text": "Загружаем заклинания",
        "run": [
          12
        ],
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 11,
        "text": "Загружаем заклинания",
        "run": [
          11
        ],
        "calculate": true
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(actuationAttackSpell)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction actuationAttackSpell(ownerAbility, ownerState, targetAbility, targetState, target)\n   local  curType = ownerState.spellType\n      if  curType < 220 then \n         if  curType < 210 then \n             -- простые атакующие\n            if  curType == 201 then spell201(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 202 then spell202(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 203 then spell203(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 204 then spell204(ownerAbility, ownerState, targetAbility, targetState, target)\n            end\n         else\n             -- мощные с огнём\n            if curType == 211 then spell211(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType ==  212 then spell212(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 213 then spell213(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 214 then spell214(ownerAbility, ownerState, targetAbility, targetState, target)\n            end\n         end\n      else\n         if  curType > 230 then \n             -- мощные с землёй и воздухом (без огня и воды)\n            if  curType == 233 then spell233(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 234 then spell234(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 244 then spell244(ownerAbility, ownerState, targetAbility, targetState, target)\n            end\n         else\n             -- мощные с водой (без огня)\n            if curType == 222 then spell222(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 223 then spell223(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 224 then spell224(ownerAbility, ownerState, targetAbility, targetState, target)\n            end\n         end\n      end\nend\nend",
        "text": "Срабатывание атакующего заклинания"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(actuationDefenseSpell)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Срабатывание защитного заклинания",
        "lua_do": "function lua_do()\nfunction actuationDefenseSpell(ownerAbility, ownerState, targetAbility, targetState, target)\n   local curType = ownerState.spellType\n      if  curType < 120 then \n         if  curType < 110 then \n             -- простые защитные\n            if  curType == 101 then spell101(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 102 then spell102(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 103 then spell103(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 104 then spell104(ownerAbility, ownerState, targetAbility, targetState, target)\n            end\n         else\n             -- мощные с огнём\n            if curType == 111 then spell111(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType ==  112 then spell112(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 113 then spell113(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 114 then spell114(ownerAbility, ownerState, targetAbility, targetState, target)\n            end\n         end\n      else\n         if  curType > 130 then \n             -- мощные с землёй и воздухом (без огня и воды)\n            if  curType == 133 then spell133(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 134 then spell134(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 144 then spell144(ownerAbility, ownerState, targetAbility, targetState, target)\n            end\n         else\n             -- мощные с водой (без огня)\n            if curType == 122 then spell122(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 123 then spell123(ownerAbility, ownerState, targetAbility, targetState, target)\n            elseif curType == 124 then spell124(ownerAbility, ownerState, targetAbility, targetState, target)\n            end\n         end\n      end\nend\nend"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(isSuccess)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction isSuccess(value)\n   return math.random(100) <= value\nend\nend",
        "text": "Расчёт шанса на успех"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(actuationEnemySpell)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Срабатывание заклинания противника",
        "lua_do": "function lua_do()\nfunction actuationEnemySpell()\n   local spType = enemyState.spellType\n   turnText = turnText .. \"   Противник использовал заклинание «\" .. getSpellNameByType(spType) ..\"». \"\n   enemyState.hasPotentSpell = false\n   enemySpell.target = 0\n   enemySpell.firstElement = 0\n   enemySpell.secondElement = 0\n\n   if enemyState.hurricaneCount > 0 and isSuccess(enemyState.hurricane) then -- кастер в Урагане\n      turnText = turnText .. \"Благодаря штормовому ветру его заклинание сменило направление \"\n      if spType > 200 then\n         turnText = turnText .. \"и попало в противника! \"\n         actuationAttackSpell(enemyAbility, enemyState, enemyAbility, enemyState, 2)\n      elseif isSuccess(getAccuracy(ability) - state.wind) then -- учитывается точность Игрока!\n         turnText = turnText .. \"и попало в Вас! \"\n         actuationDefenseSpell(enemyAbility, enemyState, ability, state, 1)\n      else\n         turnText = turnText .. \", но не попало в Вас. \"\n      end\n   else  -- если не ураган - кастится\n      if spType < 200 then\n         actuationDefenseSpell(enemyAbility, enemyState, enemyAbility, enemyState, 2)\n      elseif state.fog > 0 then -- цель в Тумане\n         if isSuccess(state.fog) then\n            turnText = turnText .. \"Несмотря на окутавший Вас туман, заклинание попало в цель. \"\n            actuationAttackSpell(enemyAbility, enemyState, ability, state, 1)\n         else\n            turnText = turnText .. \"Благодаря окутавшему Вас туману заклинание пролетело мимо. \"\n         end\n      elseif isSuccess(getAccuracy(enemyAbility) - enemyState.wind) then\n         if isSuccess(getDodge(ability) <plus> state.dodgeBonus) then\n            turnText = turnText .. \"Вам удалось увернуться! \"\n         else\n            actuationAttackSpell(enemyAbility, enemyState, ability, state, 1)\n         end\n      else\n         turnText = turnText .. \"Промах! \"\n      end\n   end\n   enemyState.spellType = 0\n   turnText = turnText .. \"<s>\n\"\n\n   if state.currentHP <= 0 then return end\n   -- снятие разовых эффектов\n   if (enemyState.zeal > 0) and (spType > 200) then \n      enemyState.zeal = 0\n      turnText = turnText .. \"   Заклинание «Рвение» рассеялось. <s>\n\"\n   end\nend\nend"
      },
      {
        "lua_if": "function lua_if()\nlocal tf = type(actuationHeroSpell)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction actuationHeroSpell()\n   local spType = state.spellType\n   turnText = turnText .. \"   Вы использовали заклинание «\" .. getSpellNameByType(spType) ..\"». \"\n   state.hasPotentSpell = false\n   spell.target = 0\n   spell.firstElement = 0\n   spell.secondElement = 0\n   if state.hurricaneCount > 0 and isSuccess(state.hurricane) then -- кастер в Урагане\n      turnText = turnText .. \"Из-за штормового ветра Ваше заклинание сменило направление \"\n      if spType > 200 then\n         turnText = turnText .. \"и попало в Вас. \"\n         actuationAttackSpell(ability, state, ability, state, 1)\n      elseif isSuccess(getAccuracy(enemyAbility) - enemyState.wind) then -- учитывается точность Противника!\n         turnText = turnText .. \"и попало в противника. \"\n         actuationDefenseSpell(ability, state, enemyAbility, enemyState, 2)\n      else\n         turnText = turnText .. \", но не попало в противника. \"\n      end\n   else -- если не ураган - кастится\n      if spType < 200 then\n         actuationDefenseSpell(ability, state, ability, state, 1)\n      elseif enemyState.fog > 0 then -- цель в Тумане\n         if isSuccess(enemyState.fog) then\n            turnText = turnText .. \"Несмотря на  туман, окутавший противника, Ваше заклинание попало в цель. \"\n            actuationAttackSpell(ability, state, enemyAbility, enemyState, 2)\n         else\n            turnText = turnText .. \"Из-за тумана, окутавшего противника, заклинание улетело в молоко. \"\n         end\n      elseif isSuccess(getAccuracy(ability) - state.wind) then\n         if isSuccess(getDodge(enemyAbility) <plus> enemyState.dodgeBonus) then\n            turnText = turnText .. \"Противнику удалось увернуться. \"\n         else\n            actuationAttackSpell(ability, state, enemyAbility, enemyState, 2)\n         end\n      else\n         turnText = turnText .. \"Промах! \"\n      end\n   end\n   state.spellType = 0\n   turnText = turnText .. \"<s>\n\"\n\n   if state.currentHP <=0 then return end\n   -- снятие разовых эффектов\n   if (state.zeal > 0) and (spType > 200) then \n      state.zeal = 0\n      turnText = turnText .. \"   Заклинание «Рвение» рассеялось. <s>\n\"\n   end\nend\nend",
        "text": "Срабатывание заклинания Игрока"
      }
    ]
  },
  {
    "id": 14,
    "text": "ИИ противника",
    "answers": [
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n  spells = spells or {}\n  local tf = type(getSpellsStr)\n  needCreateFunctions = 0\n  if  (tf == 'nil') or (tf == 'string') then needCreateFunctions = 1 end\nend",
        "text": " ",
        "id": 3,
        "calculate": true
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритеты заклинаний - в строку",
        "lua_do": "function lua_do()\nfunction getSpellsStr()\n   local text = \"\"\n   for key, val in pairs(spells) do\n    text = text .. key .. \"=\" .. val .. \";  \"\n   end\n   return text\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Добавление ранга заклинанию",
        "lua_do": "function lua_do()\nfunction add101(value) spells.s101 = spells.s101 <plus> value end\nfunction add102(value) spells.s102 = spells.s102 <plus> value end\nfunction add103(value) spells.s103 = spells.s103 <plus> value end\nfunction add104(value) spells.s104 = spells.s104 <plus> value end\nfunction add111(value) spells.s111 = spells.s111 <plus> value end\nfunction add112(value) spells.s112 = spells.s112 <plus> value end\nfunction add113(value) spells.s113 = spells.s113 <plus> value end\nfunction add114(value) spells.s114 = spells.s114 <plus> value end\nfunction add122(value) spells.s122 = spells.s122 <plus> value end\nfunction add123(value) spells.s123 = spells.s123 <plus> value end\nfunction add124(value) spells.s124 = spells.s124 <plus> value end\nfunction add133(value) spells.s133 = spells.s133 <plus> value end\nfunction add134(value) spells.s134 = spells.s134 <plus> value end\nfunction add144(value) spells.s144 = spells.s144 <plus> value end\n\nfunction add201(value) spells.s201 = spells.s201 <plus> value end\nfunction add202(value) spells.s202 = spells.s202 <plus> value end\nfunction add203(value) spells.s203 = spells.s203 <plus> value end\nfunction add204(value) spells.s204 = spells.s204 <plus> value end\nfunction add211(value) spells.s211 = spells.s211 <plus> value end\nfunction add212(value) spells.s212 = spells.s212 <plus> value end\nfunction add213(value) spells.s213 = spells.s213 <plus> value end\nfunction add214(value) spells.s214 = spells.s214 <plus> value end\nfunction add222(value) spells.s222 = spells.s222 <plus> value end\nfunction add223(value) spells.s223 = spells.s223 <plus> value end\nfunction add224(value) spells.s224 = spells.s224 <plus> value end\nfunction add233(value) spells.s233 = spells.s233 <plus> value end\nfunction add234(value) spells.s234 = spells.s234 <plus> value end\nfunction add244(value) spells.s244 = spells.s244 <plus> value end\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction gradeSpellsByAbility()\n   local middle = (enemyAbility.fire <plus> enemyAbility.water <plus> enemyAbility.earth <plus> enemyAbility.air) / 4\n   local har = enemyAbility.fire\n   if har > middle then  add101(1) add111(1) add113(1) add114(1) add201(1) add211(1) add213(1) add214(1) \n   elseif har < middle then\n      if har == 0 then\n         add101(-50) add111(-50) add112(-50) add113(-50) add114(-50) add201(-50) add211(-50) add212(-50) \n         add213(-50) add214(-50) \n      -- else add101(-1) add111(-1) add113(-1) add114(-1) add201(-1) add211(-1) add213(-1) add214(-1) \n      end\n   end\n   har = enemyAbility.water \n   if har > middle then add102(1) add123(1) add124(1) add202(1) add212(1) add222(1) add224(1) \n   elseif har < middle then\n      if har == 0 then \n          add102(-50) add112(-50) add122(-50) add123(-50) add124(-50) add202(-50) add212(-50) add222(-50) \n          add223(-50) add224(-50) \n      -- else add102(-1) add123(-1) add124(-1) add202(-1) add222(-1) add224(-1) \n      end\n   end\n   har = enemyAbility.earth \n   if har > middle then \n      add103(1) add113(1) add123(1) add133(1) add134(1) add203(1) add213(1) add223(1) add233(1) add234(1) \n   elseif har < middle then\n      if har == 0 then\n         add103(-50) add113(-50) add123(-50) add133(-50) add134(-50) add203(-50) add213(-50) add223(-50)\n         add233(-50) add234(-50) \n      -- else add103(-1) add113(-1) add123(-1) add133(-1) add134(-1) add203(-1) add213(-1) add233(-1) add234(-1) \n      end\n   end\n   har = enemyAbility.air\n   if har > middle then \n      add104(1) add114(1) add124(1) add134(1) add144(1) add204(1) add214(1) add224(1) add234(1) add244(1) \n   elseif har < middle then\n      if har == 0 then\n         add104(-50) add114(-50) add124(-50) add134(-50) add144(-50) add204(-50) add214(-50) add224(-50) \n         add234(-50) add244(-50) \n      -- else add104(-1) add114(-1) add124(-1) add134(-1) add144(-1) add204(-1) add214(-1) add224(-1) add234(-1) add244(-1) \n      end\n   end\nend\nend",
        "text": "Приоритеты заклинаний по характеристикам"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритеты заклинаний по нахождению в тумане",
        "lua_do": "function lua_do()\nfunction gradeSpellsForFog()\n   if enemyState.fog > 0 then -- противник в тумане\n      add201(-50) add211(-50) add212(-50) add213(-50) add214(-50) add202(-50) add222(-50) add223(-50) add224(-50) \n      add244(-50) add203(-50) add233(-50) add234(-50) add204(-50) add101(-1) add104(-1)  add112(-10) \n      if enemyState.fogCount > 1 then\n         add111(1) add113(1) add114(1) add122(1) add123(1) add124(1) add133(1) add134(1) add144(1)\n      end\n   end\n   if state.fog > 0 then -- герой в тумане\n      add111(1) add113(1) add114(1) add122(1) add123(1) add124(1) add133(1) add134(1) add144(1)\n      if enemyAbility.water > 15 then\n         add201(-4) add211(-4) add212(-6) add213(-4) add214(-4) add202(-4) add222(-4) add223(-4) add224(-4) add244(-4)\n         add203(-4) add233(-4) add234(-4) add204(-4)\n      else\n         add201(-10) add211(-10) add212(-12) add213(-10) add214(-10) add202(-10) add222(-10) add223(-10) add224(-10) \n         add244(-10) add203(-10) add233(-10) add234(-10) add204(-10)\n      end\n      if state.fogCount > 1 then\n         add101(-1) add104(-1) add112(-1) \n      end\n   end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction gradeSpellsByPotent()\n   local tar = enemySpell.target\n   local fe = enemySpell.firstElement\n   if tar > 0 then \n      add101(-50) add102(-50) add103(-50) add104(-50) add201(-50) add202(-50) add203(-50) add204(-50)\n      if tar == 1 then\n         if fe == 1 then add111(50) add112(50) add113(50) add114(50) \n         elseif fe == 2 then add112(50) add122(50) add123(50) add124(50) \n         elseif fe == 3 then add113(50) add123(50) add133(50) add134(50) \n         elseif fe == 4 then add114(50) add124(50) add134(50) add144(50) \n         end\n      else\n         if fe == 1 then add211(50) add212(50) add213(50) add214(50) \n         elseif fe == 2 then add212(50) add222(50) add223(50) add224(50) \n         elseif fe == 3 then add213(50) add223(50) add233(50) add234(50) \n         elseif fe == 4 then add214(50) add224(50) add234(50) add244(50) \n         end\n      end\n   end\nend\nend",
        "text": "Приоритеты заклинаний по имеющемуся Мощному заклинанию"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритеты кол-ву дебаффов на маге",
        "lua_do": "function lua_do()\nfunction gradeSpellsByDebuff()\n   local count1 = 0 \n   local count2 = 0 \n   if state.quicksand and (state.quicksandCount > 1) then count2 = count2 <plus> 1 end\n   if state.burning > 0 then count1 = count1 <plus>1\n      if state.burningCount > 1 then count2 = count2 <plus> 1 end\n   end\n   if state.frost > 0 then count1 = count1 <plus>1\n      if state.frostCount > 1 then count2 = count2 <plus> 1 end\n   end\n   if state.sandstorm > 0 then count1 = count1 <plus>1\n      if state.sandstormCount > 1 then count2 = count2 <plus> 1 end\n   end\n   \n   if count2 > 0 then add122(1) add123(1) end\n   if enemyState.hasPotentSpell and (count1 > 1)  then add122(2) add123(2) end\nend\nend"
      },
      {
        "lua_do": "function lua_do()\nfunction gradeSpellsByHeroDebuff()\n   if state.quicksandCount > 0 then add223(-2) end\n   if state.burningCount > 0 then add224(-2) add214(-2) end\n   if state.frostCount > 0 then add224(-2) add214(-2) end\n   if state.sandstormCount > 0 then add234(-2) end\n   if state.hurricaneCount > 0 then add244(-2) end\nend\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Приоритеты кол-ву дебаффов на враге",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "lua_do": "function lua_do()\nfunction gradeSpellsByHeroBuff()\n   local count1 = 0 \n   local count2 = 0 \n   if state.battleRage > 0 then count1 = count1 <plus>1\n      if state.battleRageCount > 1 then count2 = count2 <plus> 1 end\n   end\n   if state.dodgeBonus > 0 then count1 = count1 <plus>1\n      if state.dodgeBonusCount > 1 then count2 = count2 <plus> 1 end\n   end\n   if state.attackBonus > 0 then count1 = count1 <plus>1\n      if state.attackBonusCount > 1 then count2 = count2 <plus> 1 end\n   end\n   if state.zeal > 0 then count1 = count1 <plus>1\n      if state.hasPotentSpell and (spell.secondElement > 0) then count2 = count2 <plus> 1 \n         if enemySpell.target > 0 then  add211(1) add212(1) add213(1) add233(1) add244(1)\n      else add102(1) add104(1) -- если нет ускорения, вражеская атака с Рвением всё равно прилетит первой\n         if (enemyState.zeal > 0) or enemyState.acceleration then add201(1) add202(1) add203(1) add204(1) end\n      end\n      end\n   end\n   if state.heal > 0 then count1 = count1 <plus>1\n      if state.healCount > 1 then count2 = count2 <plus> 1 end\n   end\n   if state.stoneSkin > 0 then count1 = count1 <plus>1\n      if state.stoneSkinCount > 1 then count2 = count2 <plus> 1 end\n   end\n   if state.acceleration then count1 = count1 <plus>1\n      if enemySpell.target > 0 then  add211(1) add212(1) add222(2) add223(1) add233(1) add244(1) end\n      if state.accelerationCount > 1 then  count2 = count2 <plus> 1 \n         if enemySpell.target == 0 then add112(1) end\n      end\n   end\n   \n   if count1 > 0 then \n      if count2 < 2 then  add204(1) add212(1) add222(1) add223(1) add104(1) add144(1)\n      elseif count2 == 2 then add204(1) add212(2) add222(2) add104(1) add134(1) add144(1)\n      else add212(3) add222(3) add102(1) add111(1) add124(1) add133(1) add134(1)\n      end\n   end\nend\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Приоритеты кол-ву баффов на враге",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритеты заклинаний по Скорости ветра на маге",
        "lua_do": "function lua_do()\nfunction gradeSpellsByAcceleration()\n   if enemyState.acceleration then add201(1) add202(1) add203(1) \n      if enemyState.accelerationCount > 1 then\n         add211(1) add213(1) add214(1) add222(1) add224(1) add233(1) add234(1) add244(1) add144(-10) \n      else  add144(-2) end\n   else add144(1)\n   end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction gradeSpellsByBattleRage()\n   if enemyState.battleRage > 0 then  add201(1) add202(1) add203(1) \n      if enemyState.battleRageCount > 1 then\n         add211(1) add213(1) add214(1) add222(1) add224(1) add233(1) add234(1) add244(1) add101(-10) \n      else  add101(-2) end\n   else add101(1) end\n   if enemyState.currentHP < (getMaxHP(enemyAbility) / 2) then add101(-2) end\nend\nend",
        "text": "Приоритеты заклинаний по Боевой ярости на маге"
      },
      {
        "super_calculate": false,
        "lua_if": "function lua_if()\nlocal tf = type(gradeSpellsByAttackBonus)\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритеты заклинаний по Приливу сил на маге",
        "lua_do": "function lua_do()\nfunction gradeSpellsByAttackBonus()\n   if enemyState.attackBonus > 0 then  add201(1) add202(1) add203(1)  add102(1) add103(1) \n      if enemyState.attackBonusCount > 1 then\n         add211(1) add213(1) add214(1) add222(1) add224(1) add233(1) add234(1) add113(-10)\n         add111(1) add114(1) add123(1) add124(1) add133(1) add134(1) \n      else  add113(-2)  end\n   else add113(1)  end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритеты заклинаний по Рвению на маге",
        "lua_do": "function lua_do()\nfunction gradeSpellsByZeal()\n   if enemyState.zeal > 0 then \n      add201(1) add202(1) add203(1) add211(2) add213(2) add214(2) add222(1) add224(2) add233(2) add234(2) add244(1)\n      add114(-10) \n   else add114(1) end\nend\nend"
      },
      {
        "lua_do": "function lua_do()\nfunction gradeSpellsByHurricane()\n   if enemyState.hurricaneCount == 1 then\n       -- лучше начать готовить что-то, чем рисковать\n      if enemyState.hasPotentSpell then \n         add212(1) add223(1) add211(-1) add213(-1) add233(-1)\n         add112(1) add123(-1) add124(-1) add133(-1)\n      else\n         add211(1) add212(1) add213(1) add214(1) add222(1) add223(1) add224(1) add233(1) add234(1) add244(1)\n         add111(1) add112(1) add113(1) add114(1) add122(1) add123(1) add124(1) add133(1) add134(1) add144(1)\n      end\n   elseif enemyState.hurricane > 60 then  add112(2) add204(1) add211(-2) add213(-2) add233(-2)\n   elseif enemyState.hurricane > 40 then \n      add211(-1) add213(-1) add214(-1) add222(-1) add224(-1) add233(-1) add234(-1) add244(-1)\n      add111(-1) add113(-1) add114(-1) add123(-1) add124(-1) add133(-1) add134(-1) add144(-1)  \n   end\nend\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Приоритеты заклинаний по Урагану на маге",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритеты заклинаний по наличию у врага Мощного заклинания",
        "lua_do": "function lua_do()\nfunction gradeSpellsByHeroPotent()\n   if state.hasPotentSpell and state.spellType > 0 then \n      if enemyState.hasPotentSpell then add124(1) add133(1) add134(1) add211(1) add213(1) add222(1) add233(1) add244(1) \n      else add104(1) add201(1) add202(1) add203(1) add204(1) end\n   end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction gradeSpellsByHP()\n   local hp = enemyState.currentHP\n   local hpMax = getMaxHP(enemyAbility)\n   if hp > (hpMax * 0.75) then add103(-2) add112(-2) add123(-2)\n   elseif hp > (hpMax / 2) then add102(1) add103(1) add111(1) add123(1) add124(1) add133(1)\n   elseif hp > (hpMax / 4) then add102(1) add103(2) add111(1) add112(1) add123(2) add124(1) add133(1) add223(-1) \n   else \n      add102(2) add103(2) add204(-1) add212(-2) add214(-1) add222(-1) add223(-2) add224(-1) add234(-1) \n      add101(-2) add113(-1) add114(-1)  \n\n      if enemyAbility.air < 15 then add244(-1) add104(-1) add144(-1) end\n   end\nend\nend",
        "text": "Приоритеты заклинаний по ХП"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритеты заклинаний по ХП героя",
        "lua_do": "function lua_do()\nfunction gradeSpellsByHeroHP()\n   local hp = state.currentHP\n   local hpMax = getMaxHP(ability)\n   if hp > (hpMax * 0.8) then add214(1) add223(1) add224(1) add234(1) add244(1)\n   elseif hp > (hpMax / 4) then \n      add201(1) add202(1) add203(1) add211(1) add213(1) add214(1) add222(1) add224(1) add233(1) add234(1) add244(1)\n   elseif hp > (hpMax / 10) then add201(2) add202(2) add203(2) add211(2) add213(2) add233(2) \n   else add201(3) add202(3) add203(3) end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction gradeSpellsByShields()\n   local ws = enemyState.waterShield\n   local fs = enemyState.fireShield\n   local is = enemyState.iceShield\n   local es = enemyState.earthShield\n   local goodShield = 0\n\n   if ws > (enemyAbility.water / 4) then add102(-3) end\n   if fs > (enemyAbility.fire * 2) then \n      add102(-1) add111(-10) \n      goodShield = goodShield <plus> 1\n   elseif fs > enemyAbility.fire then add111(-1) goodShield = goodShield <plus> 0.5 end\n   if is > ((enemyAbility.water * 3 <plus> enemyAbility.air) / 2) then \n      add102(-1) add124(-10)\n      goodShield = goodShield <plus> 1\n   elseif is > ((enemyAbility.water * 3 <plus> enemyAbility.air) / 4) then add124(-1) goodShield = goodShield <plus> 0.5 end\n   if es > (enemyAbility.earth *2) then \n      add102(-1) add133(-10) \n      goodShield = goodShield <plus> 1\n   elseif es >(enemyAbility.earth) then add133(-1) goodShield = goodShield <plus> 0.5 end\n   if (ws <plus> fs <plus> is <plus> es) == 0 then \n      add102(1) \n      add112(-1) add113(-1) add114(-1) add122(-1) add123(-1) add134(-1) add144(-1) add211(-1) add212(-1) \n      add213(-1) add214(-1) add222(-1) add223(-1) add224(-1) add233(-1) add234(-1) add244(-1) \n      if enemyState.currentHP > (getMaxHP(enemyAbility) * 0.8) then\n          add112(-1) add113(-1) add114(-1) add122(-1) add123(-1) add134(-1) add144(-1) add211(-1) add212(-1) \n          add213(-1) add214(-1) add222(-1) add223(-1) add224(-1) add233(-1) add234(-1) add244(-1) \n      end\n   elseif goodShield > 1 then \n      add101(-1) add102(-1) add103(-1) add104(-1) add201(-1) add202(-1) add203(-1) add204(-1)\n      if state.stoneSkin == 0 then add134(1) end\n   else \n      add111(2) add133(2) add124(2) \n   end\n   if ability.earth > (ability.fire <plus> ability.water <plus> ability.earth <plus> ability.air) / 4 then add111(-2) end\nend\nend",
        "text": "Приоритеты заклинаний по щитам"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритеты заклинаний по щитам героя",
        "lua_do": "function lua_do()\nfunction gradeSpellsByHeroShields()\n   local ws = state.waterShield\n   local fs = state.fireShield\n   local is = state.iceShield\n   local es = state.earthShield\n\n   if (ws <plus> fs  <plus> is <plus> es) == 0 then add201(1) add202(1) add203(1) add211(1) add213(1) add222(1) add233(1)  end\n   if (ws <plus> fs  <plus> is <plus> es) > math.max(enemyAbility.fire, enemyAbility.water, enemyAbility.earth) then add213(1) add214(1) add224(1) add234(1) add244(1) end\n   if (fs) > 0 and ((ws <plus> fs  <plus> is <plus> es) == fs) then \n      add203(1) add233(1) add213(1) end\nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Приоритизация заклинаний",
        "lua_do": "function lua_do()\nfunction gradeSpells()\n   spells = {s101=0, s102=0, s103=0, s104=0, s201=0, s202=0, s203=0, s204=0, s111=0, s112=0, s113=0, s114=0, s211=0, s212=0, s213=0, s214=0, s122=0, s123=0, s124=0, s222=0, s223=0, s224=0, s133=0, s134=0, s144=0, s233=0, s234=0, s244=0}\n   gradeSpellsByAbility()    gradeSpellsForFog()    gradeSpellsByPotent()\n   gradeSpellsByDebuff() gradeSpellsByHeroDebuff()   gradeSpellsByHeroBuff()    gradeSpellsByAcceleration()\n   gradeSpellsByBattleRage()    gradeSpellsByZeal()    gradeSpellsByAttackBonus()     gradeSpellsByHeroPotent()\n   gradeSpellsByHurricane()\n   gradeSpellsByHP()    gradeSpellsByHeroHP()   gradeSpellsByShields()   gradeSpellsByHeroShields()\n   \nend\nend"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getFavoriteSpellTypeStr()\n   local maxGrade = -100\n   for key, val in pairs(spells) do\n       if val > maxGrade then maxGrade = 0 <plus> val end\n   end\n   local bestSpells = {}\n   spellsBestStr = \"\" .. maxGrade .. \": \"\n   for key, val in pairs(spells) do\n       if val == maxGrade then \n          table.insert(bestSpells, key) \n          spellsBestStr = spellsBestStr .. key .. \"; \" \n       end\n   end\n   return string.sub(bestSpells[math.random(#bestSpells)], 2)\nend\nend",
        "text": "Выбор заклинания"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Из выбранного типа сначала берём более сильную стихию",
        "lua_do": "function lua_do()\nfunction getFirstElementForSpell(el1, el2)\n   if el1 == el2 then return el1 end\n   local els = {enemyAbility.fire, enemyAbility.water, enemyAbility.earth, enemyAbility.air}\n   if els[el1] >= els[el2] then return el1    else  return el2 end\nend\nend"
      },
      {
        "lua_do": "function lua_do()\nfunction createSpellByTypeStr(typeStr)\n   local firstElementByType = tonumber(string.sub(typeStr, 2, 2))\n   local secondElementByType = tonumber(string.sub(typeStr, 3, 3))\n\n   if enemySpell.target > 0 then  -- заканчиваем творить сложное и кастуем его\n      if enemySpell.firstElement == firstElementByType then\n         enemySpell.secondElement = secondElementByType \n      else  enemySpell.secondElement = firstElementByType end\n      castSpell(enemySpell, enemyState)\n   else\n      enemySpell.target = tonumber(string.sub(typeStr, 1, 1))\n      if firstElementByType == 0 then   -- кастуем простое\n         enemySpell.firstElement = secondElementByType \n         castSpell(enemySpell, enemyState)\n      else -- начинаем творить сложное\n         enemyState.hasPotentSpell = true\n         enemySpell.firstElement = getFirstElementForSpell(firstElementByType, secondElementByType)\n      end\n   end\nend\nend",
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "text": "Сборка заклинания по выбранному типу",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 3,
        "calculate": true,
        "text": "Ход противника",
        "lua_do": "function lua_do()\nfunction enemyMove()\n   gradeSpells()\n   targetEnemySpell = getFavoriteSpellTypeStr()\n   createSpellByTypeStr(targetEnemySpell)\n   \n   spellsStr = getSpellsStr()\n   spells = nil\nend\nend"
      }
    ]
  },
  {
    "id": 15,
    "text": "Быть не может, это Вы?!<s>r\nДля нас честь, что такой известный боевой маг решил принять участие в нашем турнире!",
    "answers": [
      {
        "id": 2,
        "text": "Далее",
        "lua_do": "function lua_do()\nability = {fire = 5, water = 5, earth = 5, air = 5, maxHP = 75, maxShield = 70, lvl = 1}\nabilityPoint = 2\naddedAbilityPoint = 0    savedAbilityPoint = 0\nshowAbility = false\nshowShieldInfo = true\nflag = 0\nteleportCount = -1\nend"
      }
    ]
  },
  {
    "id": 16,
    "text": "       ~ Книга заклинаний ~<s>r\n<s>r\nЗа один ход можно:<s>r\n— выбрать и применить простое заклинание;<s>r\n— либо выбрать цель и первую стихию для мощного заклинания;<s>r\n— либо выбрать вторую стихию для мощного заклинания и применить его.<s>r\n<s>r\nМощное заклинание может быть сорвано при получении урона от заклинания противника. Урон от эффектов статусов к срыву не приводит.<s>r\n<s>r\nЗаклинания типа «На себя» срабатывают быстрее, чем «На противника». Однако скорость заклинаний может быть изменена различными эффектами статусов.<s>r\n<s>r\nЗаклинания типа «На себя» достигают цели всегда. Для расчёта шанса попадания заклинания типа «На противника» используются параметр заклинателя «Точность» и параметр противника «Уклонение».",
    "answers": [
      {
        "id": 8,
        "comment": true,
        "super_calculate": false,
        "middle_answer": true,
        "text": "загрузкка текстов заклинаний",
        "run": [
          8
        ],
        "calculate": true
      },
      {
        "id": 16,
        "text": "Тип заклинания:",
        "comment": true,
        "middle_answer": true
      },
      {
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "lua_if": "function lua_if()\nreturn spell.target == 1\nend",
        "id": 16,
        "instant": true,
        "text": "На себя",
        "left_answer": true
      },
      {
        "lua_if": "function lua_if()\nreturn spell.target == 2\nend",
        "instant": true,
        "id": 16,
        "text": "На себя",
        "lua_do": "function lua_do()\nspell.target = 1\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn spell.target == 2\nend",
        "id": 16,
        "instant": true,
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "text": "На противника"
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn spell.target == 1\nend",
        "id": 16,
        "instant": true,
        "text": "На противника",
        "lua_do": "function lua_do()\nspell.target = 2\nend"
      },
      {
        "id": 16,
        "text": "Стихия 1",
        "comment": true,
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 16,
        "text": "Стихия 2",
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "lua_if": "function lua_if()\nreturn spell.firstElement == 1\nend",
        "id": 16,
        "instant": true,
        "text": "Огонь          ",
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "lua_if": "function lua_if()\nreturn spell.secondElement == 1\nend",
        "text": "Огонь          ",
        "id": 16,
        "instant": true,
        "right_answer": true,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "lua_if": "function lua_if()\nreturn not (spell.firstElement == 1)\nend",
        "lua_do": "function lua_do()\nspell.firstElement = 1\nend",
        "id": 16,
        "text": "Огонь          ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn not (spell.secondElement == 1)\nend",
        "id": 16,
        "lua_do": "function lua_do()\nspell.secondElement = 1\nend",
        "text": "Огонь          ",
        "instant": true,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "lua_if": "function lua_if()\nreturn spell.firstElement == 2\nend",
        "id": 16,
        "text": "Вода            ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "lua_if": "function lua_if()\nreturn not (spell.firstElement == 2)\nend",
        "lua_do": "function lua_do()\nspell.firstElement = 2\nend",
        "id": 16,
        "text": "Вода            ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "lua_if": "function lua_if()\nreturn spell.secondElement == 2\nend",
        "right_answer": true,
        "id": 16,
        "instant": true,
        "text": "Вода            ",
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn not (spell.secondElement == 2)\nend",
        "id": 16,
        "lua_do": "function lua_do()\nspell.secondElement = 2\nend",
        "text": "Вода            ",
        "instant": true,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "lua_if": "function lua_if()\nreturn spell.firstElement == 3\nend",
        "text_color": [],
        "id": 16,
        "text": "Земля          ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "text_color": [],
        "id": 16,
        "instant": true,
        "left_answer": false,
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "lua_if": "function lua_if()\nreturn spell.secondElement == 3\nend",
        "text": "Земля          ",
        "right_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "lua_if": "function lua_if()\nreturn not(spell.firstElement == 3)\nend",
        "lua_do": "function lua_do()\nspell.firstElement = 3\nend",
        "id": 16,
        "text": "Земля          ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn not(spell.secondElement == 3)\nend",
        "text": "Земля          ",
        "lua_do": "function lua_do()\nspell.secondElement = 3\nend",
        "instant": true,
        "id": 16,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "lua_if": "function lua_if()\nreturn spell.firstElement == 4\nend",
        "id": 16,
        "text": "Воздух         ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn spell.secondElement == 4\nend",
        "text": "Воздух         ",
        "id": 16,
        "instant": true,
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "lua_if": "function lua_if()\nreturn not(spell.firstElement == 4)\nend",
        "id": 16,
        "lua_do": "function lua_do()\nspell.firstElement = 4\nend",
        "text": "Воздух         ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn not(spell.secondElement == 4)\nend",
        "text": "Воздух         ",
        "lua_do": "function lua_do()\nspell.secondElement = 4\nend",
        "instant": true,
        "id": 16,
        "left_answer": false
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn spell.secondElement == 0\nend",
        "bg_color": [
          1,
          0.927,
          0.797
        ],
        "id": 16,
        "text": "Нет (простое заклинание)",
        "instant": true,
        "left_answer": false
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn not(spell.secondElement == 0)\nend",
        "lua_do": "function lua_do()\nspell.secondElement = 0\nend",
        "id": 16,
        "instant": true,
        "text": "Нет (простое заклинание)",
        "left_answer": false
      },
      {
        "right_answer": false,
        "comment": true,
        "id": 16,
        "instant": true,
        "text": " ",
        "left_answer": true
      },
      {
        "comment": true,
        "id": 16,
        "text": "Описание заклинания:",
        "middle_answer": true,
        "lua_text": "function lua_text()\nreturn \"Описание заклинания «\" .. getSpellName(spell) .. \"»\"\nend"
      },
      {
        "id": 16,
        "text": "Описание заклинания",
        "comment": true,
        "lua_text": "function lua_text()\nreturn getSpellDescription(spell)\nend"
      },
      {
        "id": 16,
        "text": "Закрыть книгу заклинаний",
        "lua_if": "function lua_if()\nreturn complication == 0\nend",
        "go_to": [
          "lastPage"
        ]
      },
      {
        "id": 16,
        "text": "Закрыть книгу заклинаний",
        "lua_if": "function lua_if()\nreturn complication > 0\nend",
        "go_to": [
          "curPage"
        ]
      }
    ]
  },
  {
    "id": 17,
    "text": "    Первым, что вы почувствовали, был холодный каменный пол. Вторым — мерное гудение и потрескивание над головой.",
    "answers": [
      {
        "super_calculate": false,
        "id": 3,
        "text": "всякое",
        "run": [
          3
        ],
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 17,
        "text": "всякое",
        "calculate": true,
        "lua_do": "function lua_do()\n   lastPage = 17\n   hasSpellBook = false\n   afterDeath = false\n   afterTeleport  = false\n   teleportCount = -1\n   ability = {fire = 5, water = 5, earth = 5, air = 5, maxHP = 0, maxShield = 70, lvl = 1}\n   ability.maxHP = getMaxHP(ability)\n   abilityPoint = 2\n   addedAbilityPoint = 0    savedAbilityPoint = 0\n   state = {currentHP = getMaxHP(ability), heal = 0, healCount = 0}\n   isFight = false\n   \n   newEssenceType = 0    essenceFire  = 0    essenceWater  = 0     essenceEarth  = 0    essenceAir  = 0\n\n   hasNewMap = false     hasAllMap = false\n   hasMapPart1 = false    hasMapPart2 = false    hasMapPart3 = false    hasMapPart4 = false\n\n   showAbility = false\n   showShieldInfo = true\nend"
      },
      {
        "id": 18,
        "text": "Открыть глаза"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   b11 = {type = 11,  name = \"Элементаль Огня\", fireChance = 100, waterChance = -1, earthChance = -1, airChance = -1, winCount = 0, isDefeated = false}\n   b22 = {type = 11,  name = \"Элементаль Воды\", fireChance = -1, waterChance = 100, earthChance = -1, airChance = -1, winCount = 0, isDefeated = false}\n   b33 = {type = 11,  name = \"Элементаль Земли\", fireChance = -1, waterChance = -1, earthChance = 100, airChance = -1, winCount = 0, isDefeated = false}\n   b44 = {type = 11,  name = \"Элементаль Воздуха\", fireChance = -1, waterChance = -1, earthChance = -1, airChance = 100, winCount = 0, isDefeated = false}\n\n   b13 = {type = 13,  name = \"Элементаль Лавы\", fireChance = 60, waterChance = -1, earthChance = 100, airChance = -1, winCount = 0, isDefeated = false}\n   b14 = {type = 14,  name = \"Элементаль Искр\", fireChance = 60, waterChance = -1, earthChance = -1, airChance = 100, winCount = 0, isDefeated = false}\n   b23 = {type = 23,  name = \"Элементаль Тины\", fireChance = -1, waterChance = 60, earthChance = 100, airChance = -1, winCount = 0, isDefeated = false}\n   b24 = {type = 24,  name = \"Элементаль Снега\", fireChance = -1, waterChance = 60, earthChance = -1, airChance = 100, winCount = 0, isDefeated = false}\n   b31 = {type = 31,  name = \"Элементаль Пепла\", fireChance = 40, waterChance = -1, earthChance = 100, airChance = -1, winCount = 0, isDefeated = false}\n   b32 = {type = 32,  name = \"Элементаль Глины\", fireChance = -1, waterChance = 40, earthChance = 100, airChance = -1, winCount = 0, isDefeated = false}\n   b41 = {type = 41,  name = \"Элементаль Молний\", fireChance = 40, waterChance = -1, earthChance = -1, airChance = 100, winCount = 0, isDefeated = false}\n   b42 = {type = 42,  name = \"Элементаль Пара\", fireChance = -1, waterChance = 40, earthChance = -1, airChance = 100, winCount = 0, isDefeated = false}\n\nend",
        "text": "Боссы",
        "id": 17,
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 17,
        "text": "Простые враги",
        "calculate": true,
        "lua_do": "function lua_do()\n   local t1 = {type = 1, name = \"Блуждающие огоньки\", fireChance = 40, waterChance = 60, earthChance = 80, airChance = 100, winCount = 0, isDefeated = false}\n\n   local t2 = {type = 2, name = \"Фантом\", fireChance = 20, waterChance = 60, earthChance = 80, airChance = 100, winCount = 0, isDefeated = false}\n\n   local t3 = {type = 3, name = \"Призрак\", fireChance = 20, waterChance = 40, earthChance = 80, airChance = 100, winCount = 0, isDefeated = false}\n\n   local t4 = {type = 4, name = \"Миражи\", fireChance = 20, waterChance = 40, earthChance = 60, airChance = 100, winCount = 0, isDefeated = false}\n\n   simpleEnemyes = {t1, t2, t3, t4}\nend"
      },
      {
        "id": 17,
        "text": "storyes = {}",
        "calculate": true,
        "super_calculate": false
      }
    ]
  },
  {
    "id": 18,
    "text": "     ",
    "answers": [
      {
        "calculate": true,
        "super_calculate": false,
        "id": 18,
        "text": "Скрываем картинки",
        "run": [
          28
        ],
        "merge": false
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq18lastPage22\", \"sq18lastPage22G\", \"sq18lastPage23\", \"sq18lastPage23G\", \"sq18lastPage24\", \"sq18lastPage24G\", \"sq18lastPage25\", \"sq18lastPage25G\", \"sq18afterDeath\", \"sq18afterDeathG\", \"sq18afterPortal\", \"sq18afterPortalG\"}\n\n   curPage = 18\n   leftUp = 22    leftDown = 24    rightUp = 23    rightDown = 25\n   if (lastPage == 17) or (lastPage == 18) or afterPortal then \n      if portalActive then images.sq18afterPortalG.isVisible = true else images.sq18afterPortal.isVisible = true end\n      if afterPortal then teleportCount = 0 end\n      afterPortal = false\n   elseif afterDeath then\n      if portalActive then images.sq18afterDeathG.isVisible = true else images.sq18afterDeath.isVisible = true end\n      essenceFire  = 0    essenceWater  = 0     essenceEarth  = 0     essenceAir  = 0\n      b11.isDefeated = false   b13.isDefeated = false   b14.isDefeated = false\n      b22.isDefeated = false   b13.isDefeated = false   b14.isDefeated = false\n      b33.isDefeated = false   b31.isDefeated = false   b32.isDefeated = false\n      b44.isDefeated = false   b41.isDefeated = false   b42.isDefeated = false\n      afterDeath = false\n   elseif lastPage == 22 then\n      if portalActive then images.sq18lastPage22G.isVisible = true else images.sq18lastPage22.isVisible = true end\n   elseif lastPage == 24 then\n      if portalActive then images.sq18lastPage24G.isVisible = true else images.sq18lastPage24.isVisible = true end\n   elseif lastPage == 23 then\n      if portalActive then images.sq18lastPage23G.isVisible = true else images.sq18lastPage23.isVisible = true end\n      leftUp = 25    leftDown = 23    rightUp = 24    rightDown = 22\n   elseif lastPage == 25 then\n      if portalActive then images.sq18lastPage25G.isVisible = true else images.sq18lastPage25.isVisible = true end\n      leftUp = 24    leftDown = 25    rightUp = 22    rightDown = 23\n   end\n   healing()\nend",
        "super_calculate": false,
        "id": 18,
        "text": "какие именно",
        "calculate": true,
        "merge": false
      },
      {
        "lua_text": "function lua_text()\nlocal text = \"\"\nif lastPage == 17 then\n   text = \"Вы очнулись в странном месте, окружённом стенами выше человеческого роста. Вокруг Вас слабо мерцал круг с вычурными символами, он медленно затухал. Над головой, образуя арку, парили фрагменты каменной кладки, а между ними с электрическим треском развевалась багряно-красная вуаль. <s>\n     Вы перевели взгляд выше, на небо, но вместо него увидели сияющую переливающуюся пустоту.<s>\n     Поднявшись на ноги, Вы внимательно осмотрели комнату. Вы не помнили, ни как оказались здесь, ни... кто Вы. \"\nend\nif afterDeath then text = \"Вы очнулись в луже собственной крови, но без единой царапины — Ваши раны бесследно исчезли. Вы вновь оказались в центре лабиринта.\" end\nif afterTeleport then text = \"Вы вновь стоите в магическом круге в центре лабиринта.\" end\nreturn text\nend",
        "super_calculate": false,
        "id": 17,
        "text": "Текст",
        "calculate": false,
        "merge": true
      },
      {
        "comment": true,
        "lua_if": "function lua_if()\nreturn lastPage == 17\nend",
        "id": 18,
        "text": "     Зелёной клеткой на карте обозначено Ваше положение. \n     Жёлтыми клетками обозначены возможные направления движения. \n     Ваш взгляд ВСЕГДА направлен в правый верхний угол (по направлению стрелки \"Вперёд\").\n     Сворачивая направо или налево Вы поворачиваетесь на 90 градусов, возвращаясь назад — на 180. Соответственно ранее посещённые клетки лабиринта с нового ракурса будут выглядеть иначе.",
        "middle_answer": false,
        "bgAnswerImage": [
          "http://3.bp.blogspot.com/-gc8XyWuHt5M/Xy0bok3ugnI/AAAAAAAALmM/_2rDG_3Ub-QjO9P85jbKFgOXibbyHXGqACLcBGAsYHQ/d/button.jpg"
        ]
      },
      {
        "id": 19,
        "text": "У стены возвышается статуя мага. Воздух рядом с ней едва заметно рябит. Осмотреть",
        "lua_do": "function lua_do()\n   lastPage = 18\nend"
      },
      {
        "id": 26,
        "text": "В центре комнаты трещит портал. Осмотреть",
        "lua_do": "function lua_do()\nif portalActive then portalText = \"<s>\n     Кажется, теперь он работает. \"\nelse portalText = \"<s>\n     В багряной вуали возникают тёмные разрывы и тут же затягиваются. Кажется, портал работает не так, как нужно. \"\n   lastPage = 18\nend\nend"
      },
      {
        "id": 20,
        "text": "Рядом с порталом валяются несколько книг. Осмотреть",
        "lua_if": "function lua_if()\nreturn not hasSpellBook\nend",
        "lua_do": "function lua_do()\n   lastPage = 18\nend"
      },
      {
        "id": 21,
        "text": "В углу комнаты мрачно ютится надгробие. Осмотреть",
        "lua_do": "function lua_do()\n   lastPage = 18\nend"
      },
      {
        "id": 18,
        "text": " ",
        "comment": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-CuQTGPJ2OzY/XuH5UjSi-5I/AAAAAAAAJ2o/Kem-cdjYpbASpUE9v2zVjH1TFHWNuArWQCK4BGAsYHg/arLU.png"
        ],
        "go_to": [
          "leftUp"
        ],
        "lua_do": "function lua_do()\ncurPage = leftUp <plus> 0\nlastPage = g.current_id\ncreateEnemy()\nend",
        "text": "Налево        ",
        "id": 18,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-4c-gK-iIwfk/XuH4MgOJfmI/AAAAAAAAJ1w/X6U7M2iX0Os5ZoQOlmWhrVAm09i2xJfvQCK4BGAsYHg/arRU.png"
        ],
        "right_answer": true,
        "lua_do": "function lua_do()\ncurPage = rightUp <plus> 0\nlastPage = g.current_id\ncreateEnemy()\nend",
        "text": "Вперёд        ",
        "id": 18,
        "go_to": [
          "rightUp"
        ]
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-PxHhOM49vnQ/XuH5UB0URMI/AAAAAAAAJ2k/U2fULe8qWBsTHf3NzMB69D4J-yo8d0k_QCK4BGAsYHg/arLD.png"
        ],
        "go_to": [
          "leftDown"
        ],
        "lua_do": "function lua_do()\ncurPage = leftDown <plus> 0\nlastPage = g.current_id\ncreateEnemy()\nend",
        "text": "Назад          ",
        "id": 18,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-H5JcnvFt7-8/XuH5VQS2j4I/AAAAAAAAJ2s/biURjGwG4KEn0hzdtZ-gmM-45HtKtM4WgCK4BGAsYHg/arRD.png"
        ],
        "right_answer": true,
        "lua_do": "function lua_do()\ncurPage = rightDown <plus> 0\nlastPage = g.current_id\ncreateEnemy()\nend",
        "text": "Направо     ",
        "id": 18,
        "go_to": [
          "rightDown"
        ]
      },
      {
        "id": 18,
        "text": " ",
        "comment": true
      },
      {
        "id": 34,
        "text": "Инвентарь",
        "comment": false,
        "middle_answer": true
      },
      {
        "id": 18,
        "text": "sq18afterDeath",
        "url": "https://3.bp.blogspot.com/-POvZ32-spBo/Xt9KOxY1OOI/AAAAAAAAJiA/O9HYO4ml5Y4R3cxsVi7Bt2tk4LHP_w_5gCK4BGAsYHg/d/18_afterDeath.jpg"
      },
      {
        "id": 18,
        "text": "sq18afterPortal",
        "url": "https://3.bp.blogspot.com/-Uwzk69zxnOM/Xt9KPgDp4nI/AAAAAAAAJiI/rYTGRpuvvGQcvJUk0fpS77EJKp3zovi8gCK4BGAsYHg/d/18_afterPortal.jpg"
      },
      {
        "id": 18,
        "text": "sq18lastPage22",
        "url": "https://3.bp.blogspot.com/-lk4t0QXH2sk/Xt9KRwXLnlI/AAAAAAAAJiY/c1WjDXFh2XsTZ5n1QW40iTkq6F1FL0jSgCK4BGAsYHg/d/18_lastPage_22.jpg"
      },
      {
        "id": 18,
        "text": "sq18lastPage23",
        "url": "https://3.bp.blogspot.com/-RRbHMxjWZ0Q/Xt9KStkBYFI/AAAAAAAAJic/X-zl8rcl5Bk5krZOJ9iL9hHjRrRS7xNLwCK4BGAsYHg/d/18_lastPage_23.jpg"
      },
      {
        "id": 18,
        "text": "sq18lastPage25",
        "url": "https://3.bp.blogspot.com/-4xrOV4jzrjs/Xt9-bHvcqJI/AAAAAAAAJlQ/v7lej-CbcCQSOjxQJ43xUOL4PaCWRgh8gCK4BGAsYHg/d/18_lastPage_25.jpg"
      },
      {
        "id": 18,
        "text": "sq18afterDeathG",
        "url": "https://3.bp.blogspot.com/-pZ4eM1xoeBc/Xt9-YRG17YI/AAAAAAAAJlA/5LUxhNlXydQrvgN6pd3L0ALWb1WwYo1vwCK4BGAsYHg/d/18_afterDeath_green.jpg"
      },
      {
        "id": 18,
        "text": "sq18afterPortalG",
        "url": "https://3.bp.blogspot.com/-Xc13JX6gGiE/Xt9-ZLr7RXI/AAAAAAAAJlE/1o7BAcj4n9om11fom32_7VMtiuXBT6ilQCK4BGAsYHg/d/18_afterPortal_green.jpg"
      },
      {
        "id": 18,
        "text": "sq18lastPage22G",
        "url": "https://3.bp.blogspot.com/-JvswbOFcXiA/Xt9-ZxYJn4I/AAAAAAAAJlI/K9C0joz0-lYAUCe7a_Mcj7QMjrL2-wqrACK4BGAsYHg/d/18_lastPage_22_green.jpg"
      },
      {
        "id": 18,
        "text": "sq18lastPage23G",
        "url": "https://3.bp.blogspot.com/-8XUk3kx8z8g/Xt9-aRzm0zI/AAAAAAAAJlM/_T-58mZPv9kWbvG_1HAhQJRb8o94wI4DwCK4BGAsYHg/d/18_lastPage_23_green.jpg"
      },
      {
        "id": 18,
        "text": "sq18lastPage25G",
        "url": "https://3.bp.blogspot.com/-k3d1szyz-8E/Xt9-b0CdyAI/AAAAAAAAJlU/GNo7XCGTveUoLNi4LkNr4pyASQGAnzKOgCK4BGAsYHg/d/18_lastPage_25_green.jpg"
      },
      {
        "id": 18,
        "text": "sq18lastPage24",
        "url": "https://3.bp.blogspot.com/-1ZAvrbxjjFc/Xt-Y2CJE1rI/AAAAAAAAJmk/YWB35NNDyVsz0j98w2s8CdRkfiF7VUqZgCK4BGAsYHg/d/18_lastPage_24.jpg"
      },
      {
        "id": 18,
        "text": "sq18lastPage24G",
        "url": "https://3.bp.blogspot.com/-zD3XJ-7q-Cw/Xt-Y28ZlafI/AAAAAAAAJmo/_y_5i1rEdpAO9rPaXJLOgXTVLWE-sdneACK4BGAsYHg/d/18_lastPage_24_green.jpg"
      }
    ]
  },
  {
    "id": 19,
    "text": "   Приблизившись к статуе мага Вы остро почувствовали свою силу и способность управлять ей.",
    "answers": [
      {
        "id": 18,
        "text": "Укажите команды для картинки",
        "url": "https://3.bp.blogspot.com/-Dcgy93Kh-Zo/Xt9KUAXehYI/AAAAAAAAJik/4AQ_hAiwL50zyh-8udYqZtIU2Me4YYbEgCK4BGAsYHg/d/18_mage.jpg"
      },
      {
        "var_max": [
          ""
        ],
        "lua_text": "function lua_text()\nreturn \"Уровень \" .. ability.lvl\nend",
        "id": 19,
        "text": "уровень",
        "middle_answer": true,
        "comment": true
      },
      {
        "super_calculate": false,
        "id": 3,
        "text": "Новый ответ. введите текст",
        "run": [
          3
        ],
        "calculate": true
      },
      {
        "middle_answer": false,
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 2,
        "text": "Характеристики",
        "run": [
          4
        ],
        "left_answer": false
      },
      {
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "run": [
          27
        ],
        "text": "Распределение хар-к"
      },
      {
        "id": 2,
        "text": "   ",
        "comment": true
      },
      {
        "id": 18,
        "text": "Запомнить и отойти",
        "lua_do": "function lua_do()\n   if addFire then       addFire = nil       addWater = nil       addEarth = nil       addAir = nil       end\n   state.currentHP = getMaxHP(ability)\nend",
        "var_more": [
          "addedAbilityPoint",
          0
        ]
      },
      {
        "id": 18,
        "text": "Отойти",
        "var_equal": [
          "addedAbilityPoint",
          0
        ]
      },
      {
        "lua_if": "function lua_if()\nreturn (g.isAuthor == 1) and (savedAbilityPoint  > 0)\nend",
        "lua_do": "function lua_do()\nabilityPoint = abilityPoint <plus> savedAbilityPoint <plus> addedAbilityPoint\nability.fire = 5    ability.water = 5    ability.earth = 5    ability.air = 5\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\naddFire = 0    addWater = 0     addAir = 0     addEarth = 0  \naddedAbilityPoint = 0\nend",
        "instant": true,
        "id": 19,
        "text": "Вернуть все очки характеристик"
      },
      {
        "paid_answer": [
          "Вернуть все очки характеристик",
          1
        ],
        "lua_if": "function lua_if()\nreturn  savedAbilityPoint  > 0\nend",
        "id": 19,
        "text": " Вернуть все очки характеристик за закладку",
        "lua_do": "function lua_do()\nabilityPoint = abilityPoint <plus> savedAbilityPoint <plus> addedAbilityPoint\nability.fire = 5    ability.water = 5    ability.earth = 5    ability.air = 5\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\naddFire = 0    addWater = 0     addAir = 0     addEarth = 0  \naddedAbilityPoint = 0\nend",
        "instant": true
      },
      {
        "lua_if": "function lua_if()\nreturn g.isAuthor == 1\nend",
        "lua_do": "function lua_do()\nabilityPoint = abilityPoint <plus> 5\nend",
        "instant": true,
        "id": 19,
        "text": "<plus> 5 очков"
      }
    ]
  },
  {
    "id": 20,
    "text": "     Некоторые книги написаны на неизвестных Вам языках, а некоторые настолько стары, что их страницы рассыпаются от прикосновений.<s>r\n     Но одна книга отличается от всех. На её кожаной обложке тиснением и позолотой изображены четыре стихии. Рисунок всё время меняется, стихии то борются друг с другом, то объединяются в одно целое.",
    "answers": [
      {
        "id": 16,
        "text": "Взять книгу",
        "lua_do": "function lua_do()\nhasSpellBook = true\nspell = {target = 1, firstElement = 1, secondElement = 0}\nend"
      },
      {
        "id": 18,
        "text": "Отойти"
      },
      {
        "id": 20,
        "text": "Укажите команды для картинки",
        "url": "https://3.bp.blogspot.com/-3cxYJNsGlNM/Xt9KQdHb6xI/AAAAAAAAJiM/3BMq17C4pyg82P6nAAmNI7gfW_pAG1rugCK4BGAsYHg/d/18_books.jpg"
      }
    ]
  },
  {
    "id": 21,
    "text": "     Следов могилы под нагробием не было. Раскрошившиеся буквы гласили: «Джейсон Виз».<s>r\n     Это имя Вам ни о чём не говорит.",
    "answers": [
      {
        "id": 21,
        "text": "Укажите команды для картинки",
        "url": "https://3.bp.blogspot.com/-muPAEiYMaNI/Xt9KRIpR3YI/AAAAAAAAJiQ/FWVU_GspdyMesxuMk8R-Pv0FiJnB0mffQCK4BGAsYHg/d/18_gravestone.jpg"
      },
      {
        "id": 18,
        "text": "Отойти"
      }
    ]
  },
  {
    "id": 22,
    "text": "          ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq22lastPage18\", \"sq22lastPage31\", \"sq22lastPage32\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "instant": false,
        "run": [
          29
        ],
        "text": "встреча с врагом"
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 18 then\n      images.sq22lastPage18.isVisible = true\n      leftUp = 0    leftDown = 18    rightUp = 32    rightDown = 31\n   elseif lastPage == 31 then\n      images.sq22lastPage31.isVisible = true\n      leftUp = 18    leftDown =31    rightUp = 0    rightDown = 32\n   elseif lastPage == 32 then\n      images.sq22lastPage32.isVisible = true\n      leftUp = 31    leftDown = 32    rightUp = 18    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn  not isFight\nend",
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "calculate": true,
        "run": [
          42
        ],
        "text": "лечение, кнопки направления, инвентарь     "
      },
      {
        "id": 22,
        "text": "sq22lastPage31",
        "url": "https://3.bp.blogspot.com/-Wr7ZTZsrNjM/XuEFNJs8zcI/AAAAAAAAJpo/A9dvyT3B-8wpZlYWdX3fQh-DehRkiIIjACK4BGAsYHg/d/22_lastPage_31.jpg"
      },
      {
        "id": 22,
        "text": "sq22lastPage32",
        "url": "https://3.bp.blogspot.com/-rcEhbt6SRtY/XuEFNtFli4I/AAAAAAAAJps/mF99HHTEnmgo-Pb2uCwWhhUXOg0uprrpwCK4BGAsYHg/d/22_lastPage_32.jpg"
      },
      {
        "id": 22,
        "text": "sq22lastPage18",
        "url": "https://3.bp.blogspot.com/-o-SN7zRxYt8/XuEJkqU_ZCI/AAAAAAAAJqU/V1w9uFuEr20H2egbTq7Ls2wiW8S-Z28eQCK4BGAsYHg/d/22_lastPage_18.jpg"
      }
    ]
  },
  {
    "id": 23,
    "text": "               ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq23lastPage18\", \"sq23lastPage35\", \"sq23lastPage36\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 18 then\n      images.sq23lastPage18.isVisible = true\n      leftUp = 35    leftDown = 18    rightUp = 0    rightDown = 36\n   elseif lastPage == 35 then\n      images.sq23lastPage35.isVisible = true\n      leftUp = 0    leftDown = 35    rightUp = 36    rightDown = 18\n   elseif lastPage == 36 then\n      images.sq23lastPage36.isVisible = true\n      leftUp = 18    leftDown = 36    rightUp = 35    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn  not isFight\nend",
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "calculate": true,
        "run": [
          42
        ],
        "text": "лечение, кнопки направления, инвентарь     "
      },
      {
        "id": 23,
        "text": "sq23lastPage18",
        "url": "https://3.bp.blogspot.com/-rZ-NhhbPXvs/XuLk_KFqlVI/AAAAAAAAJ8k/cM4KLuo3NEYK9qpG4XBnpNJtXBAzS0HnACK4BGAsYHg/d/23_lastPage_18.jpg"
      },
      {
        "id": 23,
        "text": "sq23lastPage35",
        "url": "https://3.bp.blogspot.com/-HvTp1DRSoNs/XuLk_1Wj8WI/AAAAAAAAJ8o/UMwEmErm53cxN7R7WeRzcwHSEC3VuGyGQCK4BGAsYHg/d/23_lastPage_35.jpg"
      },
      {
        "id": 23,
        "text": "sq23lastPage36",
        "url": "https://3.bp.blogspot.com/-3L6yxnoWKf8/XuLlArEsvaI/AAAAAAAAJ8s/oR-PNdT_DxUUCGk4Ir2DPC3pg2Spsq8UACK4BGAsYHg/d/23_lastPage_36.jpg"
      }
    ]
  },
  {
    "id": 24,
    "text": "               ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq24lastPage18\", \"sq24lastPage65\", \"sq24lastPage69\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 18 then\n      images.sq24lastPage18.isVisible = true\n      leftUp = 65    leftDown = 18    rightUp = 69    rightDown = 0\n   elseif lastPage == 65 then\n      images.sq24lastPage65.isVisible = true\n      leftUp = 69    leftDown = 65    rightUp = 0    rightDown = 18\n   elseif lastPage == 69 then\n      images.sq24lastPage69.isVisible = true\n      leftUp = 0    leftDown = 69    rightUp = 18    rightDown = 65\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 24,
        "text": "sq24lastPage18",
        "url": "https://3.bp.blogspot.com/-16PjFFCVuuk/XvNf4IZNK0I/AAAAAAAAKuU/IdK17xEXLPInNrp_Ql23QU6a0Ok0baAxgCK4BGAsYHg/d/24_lastPage_18.jpg"
      },
      {
        "id": 24,
        "text": "sq24lastPage65",
        "url": "https://3.bp.blogspot.com/-zIYPZlfHtvA/XvNf4h6i1eI/AAAAAAAAKuY/5KdavHOfa4AR9WPkY5GSysHNCjaWGRmZACK4BGAsYHg/d/24_lastPage_65.jpg"
      },
      {
        "id": 24,
        "text": "sq24lastPage69",
        "url": "https://3.bp.blogspot.com/-ygEz6U3CE9E/XvNf5YdclvI/AAAAAAAAKuc/f0ta6vAsX6MrDyJGzF8EakdjuuL4LMUcACK4BGAsYHg/d/24_lastPage_69.jpg"
      }
    ]
  },
  {
    "id": 25,
    "text": "               ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq25lastPage18\", \"sq25lastPage49\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 18 then\n      images.sq25lastPage18.isVisible = true\n      leftUp = 0    leftDown = 18    rightUp = 49    rightDown = 0\n   elseif lastPage == 49 then\n      images.sq25lastPage49.isVisible = true\n      leftUp = 0    leftDown = 49    rightUp = 18    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 25,
        "text": "sq25lastPage18",
        "url": "https://3.bp.blogspot.com/-eLw5mog9lJM/Xu4FuAQXPVI/AAAAAAAAKh4/5JEO0jVCuJUEBDCjDN685Mh_KbVr2fR1gCK4BGAsYHg/d/25_lastPage_18.jpg"
      },
      {
        "id": 25,
        "text": "sq25lastPage49",
        "url": "https://3.bp.blogspot.com/-dlKP7eG7czY/Xu4Fu6PwYSI/AAAAAAAAKh8/_myV0OELWfkxz843b1suIPh0FDE6jBkpQCK4BGAsYHg/d/25_lastPage_49.jpg"
      }
    ]
  },
  {
    "id": 26,
    "text": "     Портал гудит и электрически потрескивает. ",
    "answers": [
      {
        "id": 26,
        "text": "portal",
        "url": "https://3.bp.blogspot.com/-VRpCJ60h6cs/Xt9KUyf1WYI/AAAAAAAAJio/QkojECwV11MOPzIx46dv8SGLzsMdOu0oACK4BGAsYHg/d/18_portal.jpg"
      },
      {
        "id": 26,
        "text": "portalG",
        "url": "https://3.bp.blogspot.com/-_kvD7HSEwrI/Xt9-clOoUdI/AAAAAAAAJlY/mueSbIcNJpsXEbiMA0FMbsI99b3wx-kkwCK4BGAsYHg/d/18_portal_green.jpg"
      },
      {
        "calculate": true,
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "text": "скрытие картинок"
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"portal\", \"portalG\"}\n   if portalActive then images.portalG.isVisible = true else images.portal.isVisible = true end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nportalText = portalText or \"\"\nend",
        "instant": false,
        "id": 26,
        "text": " "
      },
      {
        "id": 26,
        "text": "Текст о портале",
        "lua_text": "function lua_text()\nreturn portalText\nend",
        "merge": true
      },
      {
        "lua_if": "function lua_if()\nreturn portalActive\nend",
        "id": 26,
        "instant": true,
        "text": "Сунуть в портал руку",
        "lua_do": "function lua_do()\nportalText = portalText .. \"<s>\n     Ваша ладонь исчезла за зеленоватой вуалью. Вы почувствовали лёгкое покалывание в запястье. \" \nend"
      },
      {
        "lua_if": "function lua_if()\nreturn (not portalActive) and (not gameOver)\nend",
        "id": 26,
        "instant": true,
        "lua_do": "function lua_do()\nportalText = portalText .. \"<s>\n     Ваша ладонь исчезла за багряной вуалью. Вы почувствовали резкую боль во всём теле. Ваш мозг словно раскалился и жёг череп изнутри. <s>\n     Вы погибли. \" \ngameOver = true\nend",
        "text": "Сунуть в портал руку"
      },
      {
        "id": 18,
        "text": "Отойти",
        "lua_if": "function lua_if()\nreturn not gameOver\nend",
        "lua_do": "function lua_do()\ngameOver = nil\nend"
      },
      {
        "id": 1,
        "text": "Войти в портал ",
        "lua_if": "function lua_if()\nreturn portalActive\nend",
        "lua_do": "function lua_do()\ngameOver = nil\nend"
      },
      {
        "id": 1,
        "text": "GAME OVER",
        "lua_if": "function lua_if()\nreturn gameOver\nend",
        "middle_answer": true
      }
    ]
  },
  {
    "id": 27,
    "text": "Распределение характеристик",
    "answers": [
      {
        "id": 2,
        "text": "Свободных очков характеристик: ",
        "comment": true,
        "var_show": [
          "abilityPoint"
        ]
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 5,
        "text": "добавленные и сохранённые очки",
        "calculate": true,
        "lua_do": "function lua_do()\naddFire = addFire or 0\naddWater = addWater or 0\naddEarth = addEarth or 0\naddAir = addAir or 0\naddedAbilityPoint = addFire <plus> addWater <plus> addEarth <plus> addAir\nsavedAbilityPoint = ability.fire <plus> ability.water <plus> ability.earth <plus> ability.air - 20 - addedAbilityPoint\nend"
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "id": 19,
        "instant": true,
        "lua_do": "function lua_do()\nability.fire = ability.fire <plus> 1\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\nabilityPoint = abilityPoint - 1\naddFire = addFire <plus> 1\nend",
        "text": "Огонь    <plus>1      ",
        "var_more": [
          "abilityPoint",
          0
        ],
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-opA_ijtdiYk/XtPQLa_7oiI/AAAAAAAAJTc/6vlvxyNMkcMOcgG88fZgeTpuJeoKoHc3ACLcBGAsYHQ/s1600/icons8-fire-100.png"
        ],
        "var_more": [
          "addedAbilityPoint",
          0
        ],
        "comment": true,
        "var_equal": [
          "abilityPoint",
          0
        ],
        "id": 19,
        "text": "Огонь    <plus>1",
        "instant": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addFire > 0\nend",
        "id": 19,
        "text": "Огонь    -1",
        "lua_do": "function lua_do()\nability.fire = ability.fire - 1\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\nabilityPoint = abilityPoint <plus> 1\naddFire = addFire - 1\nend",
        "instant": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn (addFire <= 0) and ((addedAbilityPoint > 0) or (abilityPoint > 0))\nend",
        "comment": true,
        "id": 19,
        "instant": false,
        "text": "Огонь    -1",
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "id": 19,
        "var_more": [
          "abilityPoint",
          0
        ],
        "lua_do": "function lua_do()\nability.water = ability.water <plus> 1\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\nabilityPoint = abilityPoint - 1\naddWater = addWater <plus> 1\nend",
        "instant": true,
        "text": "Вода      <plus>1      ",
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-gKEicvsXjtw/XtPQLQyB_6I/AAAAAAAAJTg/uxP3amt2Nc8mc40Z_OHN-bG9CRCdN8VIwCLcBGAsYHQ/s1600/icons8-water-100.png"
        ],
        "text": "Вода      <plus>1      ",
        "comment": true,
        "var_equal": [
          "abilityPoint",
          0
        ],
        "id": 19,
        "var_more": [
          "addedAbilityPoint",
          0
        ],
        "instant": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addWater > 0\nend",
        "id": 19,
        "instant": true,
        "text": "Вода      -1",
        "lua_do": "function lua_do()\nability.water = ability.water - 1\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\nabilityPoint = abilityPoint <plus> 1\naddWater = addWater - 1\nend"
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn (addWater <= 0 ) and ((addedAbilityPoint > 0) or (abilityPoint > 0))\nend",
        "comment": true,
        "id": 19,
        "text": "Вода      -1",
        "instant": false,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "id": 19,
        "text": "Земля    <plus>1      ",
        "lua_do": "function lua_do()\nability.earth = ability.earth <plus> 1\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\nabilityPoint = abilityPoint - 1\naddEarth = addEarth <plus> 1\nend",
        "var_more": [
          "abilityPoint",
          0
        ],
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-moWbGbcT2NM/XtPQLjSOFRI/AAAAAAAAJTk/6LaI7xTlv-4zZzrnCoPOZ430hYNgeIkAgCLcBGAsYHQ/s1600/icons8-soil-100.png"
        ],
        "text": "Земля    <plus>1      ",
        "comment": true,
        "var_equal": [
          "abilityPoint",
          0
        ],
        "id": 19,
        "var_more": [
          "addedAbilityPoint",
          0
        ],
        "instant": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addEarth > 0\nend",
        "id": 19,
        "instant": true,
        "text": "Земля    -1",
        "lua_do": "function lua_do()\nability.earth = ability.earth - 1\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\nabilityPoint = abilityPoint <plus> 1\naddEarth = addEarth - 1\nend"
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn (addEarth <= 0) and ((addedAbilityPoint > 0) or (abilityPoint > 0))\nend",
        "comment": true,
        "id": 19,
        "text": "Земля    -1",
        "instant": false,
        "left_answer": false
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "id": 19,
        "text": "Воздух   <plus>1      ",
        "lua_do": "function lua_do()\nability.air = ability.air <plus> 1\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\nabilityPoint = abilityPoint - 1\naddAir = addAir <plus> 1\nend",
        "var_more": [
          "abilityPoint",
          0
        ],
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-fzGV28xFMRc/XtPQMG6eCXI/AAAAAAAAJTo/XgllBmhCTBIc-pBfj5_qN50aHOCRi9GgwCLcBGAsYHQ/s1600/icons8-wind-100.png"
        ],
        "instant": false,
        "comment": true,
        "var_equal": [
          "abilityPoint",
          0
        ],
        "id": 19,
        "var_more": [
          "addedAbilityPoint",
          0
        ],
        "text": "Воздух   <plus>1      ",
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn addAir > 0\nend",
        "id": 19,
        "instant": true,
        "text": "Воздух   -1",
        "lua_do": "function lua_do()\nability.air = ability.air - 1\nability.maxHP = getMaxHP(ability)\nability.maxShield = getMaxShield(ability)\nabilityPoint = abilityPoint <plus> 1\naddAir = addAir - 1\nend"
      },
      {
        "right_answer": true,
        "comment": true,
        "text": "Воздух   -1",
        "id": 19,
        "instant": false,
        "lua_if": "function lua_if()\nreturn (addAir <= 0) and ((addedAbilityPoint > 0) or (abilityPoint > 0)) \nend",
        "left_answer": false
      }
    ]
  },
  {
    "id": 28,
    "text": "Сокрытие картинок, явление случайного врага, хилл",
    "answers": [
      {
        "super_calculate": false,
        "id": 29,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal tf = type(setEnemyAbility)\nneedCreateFunctions = 0\nif (tf == 'nil') or (tf == 'string') then needCreateFunctions = 1 end\nend",
        "text": "пересоздание функций"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 28,
        "text": "Убираем все картинки",
        "lua_do": "function lua_do()\n function hideImages(imagesID)\n   -- контроль корректности переданных данных\n   if type(imagesID) ~= \"table\" then return false end\n   for _, val in ipairs(imagesID) do\n      if not(type(val) == \"string\" and images[val]) then return false end\n   end\n   -- скрытие картинок\n   for _, val in ipairs(imagesID) do\n      images[val].isVisible = false\n   end\n   -- успех\n   return true\n end\nend",
        "calculate": true
      },
      {
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "super_calculate": false,
        "id": 28,
        "text": "Стычка с врагом",
        "lua_do": "function lua_do()\n function createEnemy()\n   activeEnemy = {}\n   if curPage  == 47 then activeEnemy = b13\n   elseif curPage  == 53 then activeEnemy = b11\n   elseif curPage  == 60 then activeEnemy = b14\n   elseif curPage  == 64 then activeEnemy = b41\n   elseif curPage  == 72 then activeEnemy = b44\n   elseif curPage  == 78 then activeEnemy = b42\n   elseif curPage  == 85 then activeEnemy = b32\n   elseif curPage  == 88 then activeEnemy = b33\n   elseif curPage  == 97 then activeEnemy = b31\n   elseif curPage  == 108 then activeEnemy = b23\n   elseif curPage  == 114 then activeEnemy = b22\n   elseif curPage  == 120 then activeEnemy = b24\n   end\n \n   if activeEnemy.type and activeEnemy.isDefeated then activeEnemy = {} end\n   \n   -- если босс побеждён, можно встретить случайную фигню\n   if (not activeEnemy.type) and math.random(6) == 1 then activeEnemy = simpleEnemyes[math.random(4)] end\n   alreadyFought = false\n end\nend",
        "calculate": true
      },
      {
        "id": 28,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "lua_do": "function lua_do()\nfunction healing()\n  if state.healCount > 0 then \n      state.currentHP = state.currentHP <plus> state.heal \n      state.healCount = state.healCount - 1\n      if (state.healCount == 0) or (state.currentHP > ability.maxHP) then    state.heal = 0   state.healCount = 0   end\n      if state.currentHP > ability.maxHP  then state.currentHP = 0 <plus> ability.maxHP  end\n   end\nend\nend",
        "text": "Игрок хилится в лабиринте",
        "calculate": true,
        "super_calculate": false
      }
    ]
  },
  {
    "id": 29,
    "text": "     ",
    "answers": [
      {
        "id": 3,
        "text": "функции текстов",
        "comment": true,
        "run": [
          3
        ]
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal tf = type(setEnemyAbility)\nneedCreateFunctions = 0\nif (tf == 'nil') or (tf == 'string') then needCreateFunctions = 1 end\nend",
        "text": "пересоздание функций",
        "id": 29,
        "calculate": true
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 29,
        "text": "Автораспределение характеристик врага",
        "calculate": true,
        "lua_do": "function lua_do()\nfunction setEnemyAbility(curEnemy)\n   local points = ability.fire <plus> ability.water <plus> ability.earth <plus> ability.air <plus> abilityPoint\n   local modS = 0.6\n   local modB = 1\n   if complication > 2 then    modS = 1   modB = 1.8\n   elseif complication > 1 then   modS = 0.8   modB = 1.3\n   end\n\n   local enType = curEnemy.type <plus> 0\n   if enType < 10 then \n      points = math.round(points * modS) - 12\n   else\n      points = math.round(points * modB) - 12\n   end\n   \n\n   enemyAbility = {fire = 3, water = 3, earth = 3, air = 3, maxHP = 0, maxShield = 0, lvl = math.floor((points - 8) / 2)}\n   if enemyAbility.lvl < 1 then enemyAbility.lvl = 1 end\n\n   -- элементаль не может юзать противоположную стихию\n   if enType > 10 and enType < 20 then enemyAbility.fire = 0    points = points <plus> 5    end\n   if enType > 20 and enType < 30 then enemyAbility.water = 0    points = points <plus> 5    end\n   if enType > 30 and enType < 40 then enemyAbility.earth = 0    points = points <plus> 5    end\n   if enType > 40 then enemyAbility.air = 0    points = points <plus> 5    end\n\n   local randRes = 0\n   for i = 1, points do\n      randRes = math.random(100)\n      if curEnemy.fireChance >= randRes then enemyAbility.fire = enemyAbility.fire <plus> 1\n      elseif curEnemy.waterChance >= randRes then enemyAbility.water = enemyAbility.water <plus> 1\n      elseif curEnemy.earthChance >= randRes then enemyAbility.earth = enemyAbility.earth <plus> 1\n      elseif curEnemy.airChance >= randRes then enemyAbility.air = enemyAbility.air <plus> 1\n      end\n   end\n   enemyAbility.maxHP = getMaxHP(enemyAbility)\n   enemyAbility.maxShield = getMaxShield(enemyAbility)\nend\nend"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   enemyName = activeEnemy.name\n   setEnemyAbility(activeEnemy)\nend",
        "text": "Враг",
        "id": 29,
        "calculate": true
      },
      {
        "comment": true,
        "id": 6,
        "text": "Ваш противник - ",
        "middle_answer": false,
        "lua_text": "function lua_text()\nreturn \"Вам преградил дорогу \" .. enemyName .. \" (ур. \" .. enemyAbility.lvl .. \")\" .. \". Он явно настроен враждебно. \"\nend"
      },
      {
        "id": 6,
        "text": "Его характеристики:",
        "comment": true,
        "middle_answer": true
      },
      {
        "comment": true,
        "id": 6,
        "text": "Основные",
        "lua_text": "function lua_text()\nreturn getBaseAbilityText(enemyAbility)\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal hp = tostring(enemyAbility.maxHP)\nreturn \" Жизни:        \" .. hp .. addAbilitySpace(hp) .. \" <s>\n\" .. getAdditionalAbilityText(enemyAbility)\nend",
        "id": 6,
        "text": "Производные",
        "comment": true
      },
      {
        "id": 6,
        "text": " ",
        "comment": true
      },
      {
        "calculate": true,
        "super_calculate": false,
        "id": 6,
        "text": "Ваши хар-ки",
        "run": [
          4
        ],
        "instant": true
      },
      {
        "id": 7,
        "text": "Вступить в бой",
        "middle_answer": true,
        "lua_do": "function lua_do()\n   spell = {target = 0, firstElement = 0, secondElement = 0}\n   enemySpell = {target = 0, firstElement = 0, secondElement = 0}\n   local curHP = 0 <plus> state.currentHP\n   local curHeal = 0 <plus> state.heal\n   local curHealCount = 0 <plus> state.healCount\n   state = {currentHP = curHP, \n                spellType = 0, hasPotentSpell = false, zeal = 0, wind = 0, windCount = 0, \n                fog = 0, fogCount = 0, burning = 0, burningCount = 0, quicksand = false, quicksandCount = 0, \n                frost = 0, frostCount = 0, sandstorm = 0, sandstormCount = 0, hurricane = 0, hurricaneCount = 0, \n                battleRage = 0, battleRageCount = 0, waterShield = 0, dodgeBonus = 0, dodgeBonusCount = 0, fireShield = 0, \n                attackBonus = 0, attackBonusCount = 0, heal = curHeal, healCount = curHealCount, iceShield = 0, earthShield = 0, \n                stoneSkin = 0, stoneSkinCount = 0, stoneSkinPoint = 0, acceleration = false, accelerationCount = 0, needClearAfter222 = false}\n   enemyState = {currentHP = getMaxHP(enemyAbility), \n                spellType = 0, hasPotentSpell = false, zeal = 0, wind = 0, windCount = 0, \n                fog = 0, fogCount = 0, burning = 0, burningCount = 0, quicksand = false, quicksandCount = 0, \n                frost = 0, frostCount = 0, sandstorm = 0, sandstormCount = 0, hurricane = 0, hurricaneCount = 0, \n                battleRage = 0, battleRageCount = 0, waterShield = 0, dodgeBonus = 0, dodgeBonusCount = 0, fireShield = 0, \n                attackBonus = 0, attackBonusCount = 0, heal = 0, healCount = 0, iceShield = 0, earthShield = 0, \n                stoneSkin = 0, stoneSkinCount = 0, stoneSkinPoint = 0, acceleration = false, accelerationCount = 0, needClearAfter222 = false}\n   turnText = \"\"\n   battleResult = 0\n   turnNum = 1\nend"
      },
      {
        "lua_if": "function lua_if()\nreturn teleportCount == 100\nend",
        "id": 18,
        "text": "Использовать камень телепортации, чтобы сбежать",
        "lua_do": "function lua_do()\nafterPortal = true\nteleportCount = 0\nend",
        "middle_answer": true
      },
      {
        "paid_answer": [
          "Использовать камень телепортации, чтобы сбежать",
          1
        ],
        "middle_answer": true,
        "lua_do": "function lua_do()\nafterPortal = true\nteleportCount = 0\nend",
        "text": "Использовать камень телепортации, чтобы сбежать (за закладку)",
        "id": 18,
        "lua_if": "function lua_if()\nreturn (teleportCount > -1) and (teleportCount < 100)\nend"
      }
    ]
  },
  {
    "id": 30,
    "text": "     ",
    "answers": [
      {
        "calculate": true,
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "text": "скрытие картинок"
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq18lastPage\", \"sq18lastPage\", \"sq18lastPage\", \"sq18lastPage\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "text": "встреча с врагом",
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "instant": false,
        "run": [
          29
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 1 then\n      images.sq18lastPage.isVisible = true\n      leftUp = 5    leftDown = 1    rightUp = 6    rightDown = 7\n   elseif lastPage == 2 then\n      images.sq18lastPage.isVisible = true\n      leftUp = 5    leftDown = 2    rightUp = 6    rightDown = 7\n   elseif lastPage == 3 then\n      images.sq18lastPage.isVisible = true\n      leftUp = 5    leftDown = 3    rightUp = 6    rightDown = 7\n   elseif lastPage == 4 then\n      images.sq18lastPage.isVisible = true\n      leftUp = 5    leftDown = 4    rightUp = 6    rightDown = 7\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn  not isFight\nend",
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "calculate": true
      }
    ]
  },
  {
    "id": 31,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq31lastPage22\", \"sq31lastPage33\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 22 then\n      images.sq31lastPage22.isVisible = true\n      leftUp = 0    leftDown = 22    rightUp = 33    rightDown = 0\n   elseif lastPage == 33 then\n      images.sq31lastPage33.isVisible = true\n      leftUp = 0    leftDown = 33    rightUp = 22    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn  not isFight\nend",
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "calculate": true,
        "run": [
          42
        ],
        "text": "лечение, кнопки направления, инвентарь     "
      },
      {
        "id": 31,
        "text": "sq31lastPage22",
        "url": "https://3.bp.blogspot.com/-lVFIXhZGdTw/XuIIxjRFJ5I/AAAAAAAAJ38/pFWatSXsOhs2UHJP006e750qOhV0IXgAwCK4BGAsYHg/d/31_lastPage_22.jpg"
      },
      {
        "id": 31,
        "text": "sq31lastPage33",
        "url": "https://3.bp.blogspot.com/-S1de8Ksb0eE/XuIIycMMTII/AAAAAAAAJ4A/OP-yRutNoNYogAw6R-O5soQpVCtyl3nXQCK4BGAsYHg/d/31_lastPage_33.jpg"
      }
    ]
  },
  {
    "id": 32,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq32lastPage22\", \"sq32lastPage91\", \"sq32lastPage92\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 22 then\n      images.sq32lastPage22.isVisible = true\n      leftUp = 0    leftDown = 22    rightUp = 92    rightDown = 91\n   elseif lastPage == 91 then\n      images.sq32lastPage91.isVisible = true\n      leftUp = 22    leftDown = 91    rightUp = 0    rightDown = 92\n   elseif lastPage == 92 then\n      images.sq32lastPage92.isVisible = true\n      leftUp = 91    leftDown = 92    rightUp = 22    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 32,
        "text": "sq32lastPage22",
        "url": "http://3.bp.blogspot.com/-4wuypk98qJM/XyQSb81nAoI/AAAAAAAALew/wzJj10uwPggtDku67WCN5HtsP0-AS43agCLcBGAsYHQ/d/32_lastPage_22.jpg"
      },
      {
        "id": 32,
        "text": "sq32lastPage91",
        "url": "http://3.bp.blogspot.com/-wDV5-eb-Q5A/XyQSb_DjAGI/AAAAAAAALes/UNMIugLsu18iQ1mRZOpXAI0--RRSj-cxgCLcBGAsYHQ/d/32_lastPage_91.jpg"
      },
      {
        "id": 32,
        "text": "sq32lastPage92",
        "url": "http://3.bp.blogspot.com/-5Y8_sU1KD2A/XyQSbxmJQGI/AAAAAAAALeo/fc47R5jquXk9FhjFYTCUtDp2lCbNCl20wCLcBGAsYHQ/d/32_lastPage_92.jpg"
      }
    ]
  },
  {
    "id": 33,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq33lastPage31\", \"sq33lastPage91\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 31 then\n      images.sq33lastPage31.isVisible = true\n      leftUp = 91    leftDown = 31    rightUp = 0    rightDown = 0\n   elseif lastPage == 91 then\n      images.sq33lastPage91.isVisible = true\n      leftUp = 0    leftDown = 91    rightUp = 0    rightDown = 31\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 33,
        "text": "sq33lastPage31",
        "url": "http://3.bp.blogspot.com/-Usz2nZAhQOo/XyQSccoOG9I/AAAAAAAALe0/uPie4b6IbAAxRvT4vevYWhbR_cfdTRVCwCLcBGAsYHQ/d/33_lastPage_31.jpg"
      },
      {
        "id": 33,
        "text": "sq33lastPage91",
        "url": "http://3.bp.blogspot.com/-sheATe6pPV4/XyQScf173UI/AAAAAAAALe4/d6NL5PQKm4cQuCOiDt9_oTE0JETz6uMRACLcBGAsYHQ/d/33_lastPage_91.jpg"
      }
    ]
  },
  {
    "id": 34,
    "text": "   ",
    "answers": [
      {
        "lua_if": "function lua_if()\nreturn not (hasSpellbook or (teleportCount >= 0) or hasMap or hasMap1 or hasMap2 or hasMap3 or hasMap4)\nend",
        "middle_answer": true,
        "text": "Ваш инвентарь пуст.",
        "id": 34,
        "comment": true
      },
      {
        "comment": false,
        "id": 16,
        "text": "Открыть книгу заклинаний",
        "lua_do": "function lua_do()\nspell = {target = 1, firstElement = 1, secondElement = 0}\nend",
        "lua_if": "function lua_if()\nreturn (not isFight) and hasSpellBook\nend"
      },
      {
        "lua_do": "function lua_do()\nafterPortal = true\nend",
        "text": "Использовать камень телепортации",
        "lua_if": "function lua_if()\nreturn (not isFight) and (teleportCount == 100)\nend",
        "id": 18
      },
      {
        "var_show": [
          "teleportCount",
          "%"
        ],
        "lua_if": "function lua_if()\nreturn  (not isFight) and (teleportCount >= 0) and (teleportCount < 100)\nend",
        "lua_do": "function lua_do()\nafterPortal = true\nend",
        "text": "Заряд камня телепортации ",
        "comment": true,
        "id": 30
      },
      {
        "comment": true,
        "middle_answer": true,
        "text": "~ Эссенции Стихий ~",
        "id": 30,
        "lua_if": "function lua_if()\nreturn  essenceFire > 0 or essenceWater > 0 or essenceEarth > 0 or essenceAir > 0 \nend"
      },
      {
        "var_show": [
          "essenceFire"
        ],
        "comment": true,
        "lua_if": "function lua_if()\nreturn  essenceFire > 0\nend",
        "id": 30,
        "text": "Огня: ",
        "right_answer": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn  essenceWater > 0\nend",
        "var_show": [
          "essenceWater"
        ],
        "id": 30,
        "text": "Воды: ",
        "comment": true,
        "left_answer": false
      },
      {
        "var_show": [
          "essenceEarth"
        ],
        "lua_if": "function lua_if()\nreturn  essenceEarth > 0\nend",
        "id": 30,
        "text": "Земли: ",
        "comment": true,
        "left_answer": true
      },
      {
        "var_show": [
          "essenceAir"
        ],
        "lua_if": "function lua_if()\nreturn  essenceAir > 0\nend",
        "id": 30,
        "text": "Воздуха: ",
        "comment": true,
        "right_answer": true
      },
      {
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn  (not hasAllMap) and (hasMapPart1 or hasMapPart2 or hasMapPart3 or hasMapPart4)\nend",
        "id": 30,
        "text": "~ Карты ~",
        "comment": true,
        "middle_answer": true
      },
      {
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn  hasAllMap\nend",
        "id": 125,
        "text": "Карта",
        "middle_answer": true,
        "comment": false
      },
      {
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn  hasMapPart1 and hasMapPart2 and hasMapPart3 and hasMapPart4\nend",
        "comment": false,
        "id": 125,
        "text": "Совместить обрывки карты",
        "middle_answer": true,
        "lua_do": "function lua_do()\nhasAllMap = true hasMapPart1 = false  hasMapPart2 = false  hasMapPart3 = false  hasMapPart4 = false \nend"
      },
      {
        "right_answer": false,
        "comment": false,
        "id": 126,
        "text": "Обрывок 1 ",
        "lua_if": "function lua_if()\nreturn hasMapPart1\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": false,
        "id": 127,
        "text": "Обрывок 2",
        "lua_if": "function lua_if()\nreturn  hasMapPart2\nend"
      },
      {
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn  hasMapPart3\nend",
        "id": 128,
        "text": "Обрывок 3",
        "comment": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn  hasMapPart4\nend",
        "id": 129,
        "text": "Обрывок 4",
        "comment": false
      },
      {
        "id": 34,
        "right_answer": false,
        "comment": true,
        "text": " "
      },
      {
        "middle_answer": true,
        "text": "Закрыть инвентарь",
        "id": 34,
        "go_to": [
          "curPage"
        ]
      },
      {
        "id": 34,
        "text": "Тест",
        "comment": true,
        "lua_text": "function lua_text()\nlocal testtext = \"Для тестирования: \" .. curPage .. \" \" .. lastPage .. \" \" .. leftUp .. \" \" .. leftDown .. \" \" .. rightUp .. \" \" .. rightDown\nreturn testtext \nend"
      }
    ]
  },
  {
    "id": 35,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq35lastPage23\", \"sq35lastPage116\", \"sq35lastPage117\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 23 then\n      images.sq35lastPage23.isVisible = true\n      leftUp = 0    leftDown = 23    rightUp = 117    rightDown = 116\n   elseif lastPage == 116 then\n      images.sq35lastPage116.isVisible = true\n      leftUp = 23    leftDown = 116    rightUp = 0    rightDown = 117\n   elseif lastPage == 117 then\n      images.sq35lastPage117.isVisible = true\n      leftUp = 116    leftDown = 117    rightUp = 23    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 35,
        "text": "sq35lastPage23",
        "url": "http://3.bp.blogspot.com/-ck2ubgBZ1Kg/XyQSc3nJk8I/AAAAAAAALfE/36en43bPbD8TphNJxRUQ5qp2PSn_YZFcwCLcBGAsYHQ/d/35_lastPage_23.jpg"
      },
      {
        "id": 35,
        "text": "sq35lastPage116",
        "url": "http://3.bp.blogspot.com/-UL1FzzRcDNE/XyQScmfPNII/AAAAAAAALe8/WE9qOq9fcIwddU4cSmSgE8zw8Lk_BX6AwCLcBGAsYHQ/d/35_lastPage_116.jpg"
      },
      {
        "id": 35,
        "text": "sq35lastPage117",
        "url": "http://3.bp.blogspot.com/-amb7SuA0RPo/XyQScxq7nPI/AAAAAAAALfA/t7ZE8HJHeMY3pGdJKYifB5cfrVBCqueGQCLcBGAsYHQ/d/35_lastPage_117.jpg"
      }
    ]
  },
  {
    "id": 36,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq36lastPage23\", \"sq36lastPage37\", \"sq36lastPage38\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 23 then\n      images.sq36lastPage23.isVisible = true\n      leftUp = 38    leftDown = 23    rightUp = 0    rightDown = 37\n   elseif lastPage == 37 then\n      images.sq36lastPage37.isVisible = true\n      leftUp = 23    leftDown =37    rightUp = 38    rightDown = 0\n   elseif lastPage == 38 then\n      images.sq36lastPage38.isVisible = true\n      leftUp = 0    leftDown = 38    rightUp = 37    rightDown = 23\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn  not isFight\nend",
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "calculate": true,
        "run": [
          42
        ],
        "text": "лечение, кнопки направления, инвентарь     "
      },
      {
        "id": 36,
        "text": "sq36lastPage23",
        "url": "https://3.bp.blogspot.com/-mCPXZYjDg-Y/XuNqunvtkxI/AAAAAAAAKBI/HdulcFcmSNwXpwZ8iK89gvOSe0hYKISygCK4BGAsYHg/d/36_lastPage_23.jpg"
      },
      {
        "id": 36,
        "text": "sq36lastPage37",
        "url": "https://3.bp.blogspot.com/-eXWujyppAu4/XuNqvB811RI/AAAAAAAAKBM/JV-EZEvszYMiMx74AtY2_FsNWaFVvbPggCK4BGAsYHg/d/36_lastPage_37.jpg"
      },
      {
        "id": 36,
        "text": "sq36lastPage38",
        "url": "https://3.bp.blogspot.com/-RL9KsaduLeM/XuNqv6bj29I/AAAAAAAAKBQ/v2T8y43mlNkZsuZUr3DHwPOPQvuTkka2gCK4BGAsYHg/d/36_lastPage_38.jpg"
      }
    ]
  },
  {
    "id": 37,
    "text": "          ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq37lastPage36\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq37lastPage36.isVisible = true\n      leftUp = 0    leftDown = 36    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_do": "function lua_do()\n   afterPortal = true\nend",
        "lua_if": "function lua_if()\nreturn (not isFight) and (teleportCount < 0)\nend",
        "super_calculate": false,
        "id": 18,
        "calculate": false,
        "text": "В углу навалена груда камней. Вам мерещится, что один камень слабо светится. Осмотреть",
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 37,
        "text": "sq37lastPage36",
        "url": "https://3.bp.blogspot.com/-4K8bs7ofu2E/XuNqwjFD7OI/AAAAAAAAKBU/bpT9WrAoi54KbDN85cBrQ5Q5FdAgv15UACK4BGAsYHg/d/37_lastPage_36.jpg"
      }
    ]
  },
  {
    "id": 38,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq38lastPage3639\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   images.sq38lastPage3639.isVisible = true\n   if lastPage == 36 then\n      leftUp = 0    leftDown = 36    rightUp = 39    rightDown = 0\n   elseif lastPage == 39 then\n      leftUp = 0    leftDown =39    rightUp = 36    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn  not isFight\nend",
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "calculate": true,
        "run": [
          42
        ],
        "text": "лечение, кнопки направления, инвентарь     "
      },
      {
        "id": 38,
        "text": "sq38lastPage3639",
        "url": "https://3.bp.blogspot.com/-t5HHYIdyFq4/XuNqxWSNHwI/AAAAAAAAKBY/7GINLwtLToI3k7i9vJdNcNlWta7zaimNQCK4BGAsYHg/d/38_lastPage_36_39.jpg"
      }
    ]
  },
  {
    "id": 39,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq39lastPage38\", \"sq39lastPage40\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 38 then\n      images.sq39lastPage38.isVisible = true\n      leftUp = 0    leftDown = 38    rightUp = 0    rightDown = 40\n   elseif lastPage == 40 then\n      images.sq39lastPage40.isVisible = true\n      leftUp = 38    leftDown = 40    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn  not isFight\nend",
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "calculate": true,
        "run": [
          42
        ],
        "text": "лечение, кнопки направления, инвентарь     "
      },
      {
        "id": 39,
        "text": "sq39lastPage38",
        "url": "https://3.bp.blogspot.com/-rBfU5WLML2I/XuNqyDbSlyI/AAAAAAAAKBc/GbU7hBPVSCohiwnI-MtUjC-qAcKmCgS7ACK4BGAsYHg/d/39_lastPage_38.jpg"
      },
      {
        "id": 39,
        "text": "sq39lastPage40",
        "url": "https://3.bp.blogspot.com/-euk1umA-XQ8/XuNqyjQFEcI/AAAAAAAAKBg/8jp8_x5M_JE96VfEeUkx0lwm_k-sZpBDgCK4BGAsYHg/d/39_lastPage_40.jpg"
      }
    ]
  },
  {
    "id": 40,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq40lastPage39\", \"sq40lastPage41\", \"sq40lastPage43\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 39 then\n      images.sq40lastPage39.isVisible = true\n      leftUp = 41    leftDown = 39    rightUp = 0    rightDown = 43\n   elseif lastPage == 41 then\n      images.sq40lastPage41.isVisible = true\n      leftUp = 0    leftDown = 41    rightUp = 43    rightDown = 39\n   elseif lastPage == 43 then\n      images.sq40lastPage43.isVisible = true\n      leftUp = 39    leftDown = 43    rightUp = 41    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn  not isFight\nend",
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "calculate": true,
        "run": [
          42
        ],
        "text": "лечение, кнопки направления, инвентарь     "
      },
      {
        "id": 40,
        "text": "sq40lastPage39",
        "url": "https://3.bp.blogspot.com/-6gFeUwqLFQ4/XuNqzUq29qI/AAAAAAAAKBk/bvZqfM-NruwNwBxnJOscJGnLBOjygO1yQCK4BGAsYHg/d/40_lastPage_39.jpg"
      },
      {
        "id": 40,
        "text": "sq40lastPage41",
        "url": "https://3.bp.blogspot.com/-bn0a6dZHgZg/XuNq0Da84hI/AAAAAAAAKBo/Tj8zI0r0PeUzqLFJGxtAAqNJ1ZqMf3x6ACK4BGAsYHg/d/40_lastPage_41.jpg"
      },
      {
        "id": 40,
        "text": "sq40lastPage43",
        "url": "https://3.bp.blogspot.com/-fcSF_xtoI0I/XuNq03H7RnI/AAAAAAAAKBs/j5avz8tBMyY4Ddw64H8Nj0Fu1TqBeSa9gCK4BGAsYHg/d/40_lastPage_42.jpg"
      }
    ]
  },
  {
    "id": 41,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq41lastPage40\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq41lastPage40.isVisible = true\n      leftUp = 0    leftDown = 40    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn  not isFight\nend",
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "calculate": true,
        "run": [
          42
        ],
        "text": "лечение, кнопки направления, инвентарь     "
      },
      {
        "id": 41,
        "text": "sq41lastPage40",
        "url": "https://3.bp.blogspot.com/-rvxK2mbPaTU/XuNq1lJGhwI/AAAAAAAAKBw/vQjsK3PnxTkk3Wc85nSUGQWJtR7wGXzYgCK4BGAsYHg/d/41_lastPage_40.jpg"
      }
    ]
  },
  {
    "id": 42,
    "text": "лечение, кнопки направления, инвентарь     ",
    "answers": [
      {
        "lua_text": "function lua_text()\nreturn \"Вы ранены. Здоровье \" .. state.currentHP .. \" / \" .. ability.maxHP .. \".\"\nend",
        "lua_if": "function lua_if()\nreturn  state.currentHP < ability.maxHP\nend",
        "id": 30,
        "text": "Лечение при ранении",
        "comment": true,
        "left_answer": true
      },
      {
        "comment": false,
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn (state.currentHP < ability.maxHP) and (state.healCount == 0)\nend",
        "id": 42,
        "lua_do": "function lua_do()\nstate.heal = ability.earth <plus> ability.water\nstate.healCount = 4\ncreateEnemy()\nend",
        "text": "«Живая вода»",
        "instant": true,
        "go_to": [
          "curPage"
        ]
      },
      {
        "lua_text": "function lua_text()\nlocal ht = \"«Живая вода» будет действовать ещё \" .. state.healCount\nif state.healCount > 1 then ht = ht .. \" хода\"\nelse ht = ht .. \" ход\" end\nreturn ht \nend",
        "right_answer": true,
        "comment": true,
        "lua_if": "function lua_if()\nreturn (state.currentHP < ability.maxHP) and (state.healCount > 0)\nend",
        "id": 42,
        "instant": true,
        "text": "«Живая вода»",
        "go_to": [
          "curPage"
        ]
      },
      {
        "id": 30,
        "text": "   ",
        "lua_if": "function lua_if()\nreturn  state.currentHP < ability.maxHP\nend",
        "comment": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-CuQTGPJ2OzY/XuH5UjSi-5I/AAAAAAAAJ2o/Kem-cdjYpbASpUE9v2zVjH1TFHWNuArWQCK4BGAsYHg/arLU.png"
        ],
        "lua_if": "function lua_if()\nreturn leftUp > 0\nend",
        "left_answer": true,
        "id": 30,
        "text": "Налево        ",
        "lua_do": "function lua_do()\nlastPage = g.current_id\ncurPage = leftUp <plus> 0\ncreateEnemy()\nend",
        "go_to": [
          "leftUp"
        ]
      },
      {
        "comment": true,
        "id": 22,
        "text": "   ",
        "lua_if": "function lua_if()\nreturn leftUp == 0\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-4c-gK-iIwfk/XuH4MgOJfmI/AAAAAAAAJ1w/X6U7M2iX0Os5ZoQOlmWhrVAm09i2xJfvQCK4BGAsYHg/arRU.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rightUp > 0\nend",
        "lua_do": "function lua_do()\nlastPage = g.current_id\ncurPage = rightUp <plus> 0\ncreateEnemy()\nend",
        "text": "Вперёд        ",
        "id": 30,
        "go_to": [
          "rightUp"
        ]
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 22,
        "text": "   ",
        "lua_if": "function lua_if()\nreturn rightUp == 0\nend"
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-PxHhOM49vnQ/XuH5UB0URMI/AAAAAAAAJ2k/U2fULe8qWBsTHf3NzMB69D4J-yo8d0k_QCK4BGAsYHg/arLD.png"
        ],
        "lua_if": "function lua_if()\nreturn leftDown > 0\nend",
        "left_answer": true,
        "id": 30,
        "text": "Назад          ",
        "lua_do": "function lua_do()\nlastPage = g.current_id\ncurPage = leftDown <plus> 0\ncreateEnemy()\nend",
        "go_to": [
          "leftDown"
        ]
      },
      {
        "answerIcon": [
          "https://3.bp.blogspot.com/-H5JcnvFt7-8/XuH5VQS2j4I/AAAAAAAAJ2s/biURjGwG4KEn0hzdtZ-gmM-45HtKtM4WgCK4BGAsYHg/arRD.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rightDown > 0\nend",
        "lua_do": "function lua_do()\nlastPage = g.current_id\ncurPage = rightDown <plus> 0\ncreateEnemy()\nend",
        "text": "Направо     ",
        "id": 30,
        "go_to": [
          "rightDown"
        ]
      },
      {
        "id": 30,
        "text": " ",
        "comment": true
      },
      {
        "middle_answer": true,
        "text": "Инвентарь",
        "comment": false,
        "id": 34
      }
    ]
  },
  {
    "id": 43,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq43lastPage40\", \"sq43lastPage44\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 40 then\n      images.sq43lastPage40.isVisible = true\n      leftUp = 44    leftDown = 40    rightUp = 0    rightDown = 0\n   elseif lastPage == 44 then\n      images.sq43lastPage44.isVisible = true\n      leftUp = 0    leftDown = 44    rightUp = 0    rightDown = 41\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 43,
        "text": "sq43lastPage40",
        "url": "https://3.bp.blogspot.com/--s_Uivj4yic/XuYnzpPoyaI/AAAAAAAAKT0/QnQ3MdzFnOALfBTZ_IvBFFGo9ZRqRehuwCK4BGAsYHg/d/43_lastPage_41.jpg"
      },
      {
        "id": 43,
        "text": "sq43lastPage44",
        "url": "https://3.bp.blogspot.com/-Nxx7B96QawY/XuYn0jytP4I/AAAAAAAAKT4/7mV-rJQOej46azNwHwgnLaoBiT-NrkqngCK4BGAsYHg/d/43_lastPage_44.jpg"
      }
    ]
  },
  {
    "id": 44,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq44lastPage43\", \"sq44lastPage45\", \"sq44lastPage48\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 43 then\n      images.sq44lastPage43.isVisible = true\n      leftUp = 45    leftDown = 43    rightUp = 48    rightDown = 0\n   elseif lastPage == 45 then\n      images.sq44lastPage45.isVisible = true\n      leftUp = 48    leftDown = 45    rightUp = 43    rightDown = 0\n   elseif lastPage == 48 then\n      images.sq44lastPage48.isVisible = true\n      leftUp = 0    leftDown = 48    rightUp = 45    rightDown = 43\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 44,
        "text": "sq44lastPage43",
        "url": "https://3.bp.blogspot.com/-pC4_4q3GAJ0/XuYn1rN-KDI/AAAAAAAAKT8/s443Fe00fXkeG1cFYdX7f5PwJ3jUCXl7wCK4BGAsYHg/d/44_lastPage_43.jpg"
      },
      {
        "id": 44,
        "text": "sq44lastPage45",
        "url": "https://3.bp.blogspot.com/-GXtcKFvffLs/XuYn2eNPD2I/AAAAAAAAKUA/Hs6yVh-v8voAVfneb8QAZNVUAAITwspGQCK4BGAsYHg/d/44_lastPage_45.jpg"
      },
      {
        "id": 44,
        "text": "sq44lastPage48",
        "url": "https://3.bp.blogspot.com/-uwXpA4prCsI/XuYn3VL__YI/AAAAAAAAKUE/AFyVICZf35IKmBQhD7HAKjMCYfiOhhzvQCK4BGAsYHg/d/44_lastPage_48.jpg"
      }
    ]
  },
  {
    "id": 45,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq45lastPage44\", \"sq45lastPage46\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 44 then\n      images.sq45lastPage44.isVisible = true\n      leftUp = 0    leftDown = 44    rightUp = 0    rightDown = 46\n   elseif lastPage == 46 then\n      images.sq45lastPage46.isVisible = true\n      leftUp = 44    leftDown = 46    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 45,
        "text": "sq45lastPage44",
        "url": "https://3.bp.blogspot.com/-VMKNsOmjEMU/XuYn4O2S76I/AAAAAAAAKUI/5gfdvNebkJctFxdJ3BerPGpBQuDcWaTWwCK4BGAsYHg/d/45_lastPage_44.jpg"
      },
      {
        "id": 45,
        "text": "sq45lastPage46",
        "url": "https://3.bp.blogspot.com/-O_BS5UPIq6o/XuYn44zfENI/AAAAAAAAKUM/hVvNfQY74F8EeRuZFipt62z2PN2ijVXEQCK4BGAsYHg/d/45_lastPage_46.jpg"
      }
    ]
  },
  {
    "id": 46,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq46lastPage45\", \"sq46lastPage47\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 45 then\n      images.sq46lastPage45.isVisible = true\n      leftUp = 47    leftDown = 45    rightUp = 0    rightDown = 0\n   elseif lastPage == 47 then\n      images.sq46lastPage47.isVisible = true\n      leftUp = 0    leftDown = 47    rightUp = 0    rightDown = 45\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 46,
        "text": "sq46lastPage45",
        "url": "https://3.bp.blogspot.com/-zT9s7xM6eQA/XuYn5zdWsSI/AAAAAAAAKUQ/w9Qx9juoCUE1OCzGnPEYVGj2eFt95x6ugCK4BGAsYHg/d/46_lastPage_45.jpg"
      },
      {
        "id": 46,
        "text": "sq46lastPage47",
        "url": "https://3.bp.blogspot.com/--oNgFEtO8rg/XuYn6ovFezI/AAAAAAAAKUU/WWVr2PSqbiUYEkeM8n0_7sxjkkod54O7wCK4BGAsYHg/d/46_lastPage_47.jpg"
      }
    ]
  },
  {
    "id": 47,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq47lastPage46\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 46 then\n      images.sq47lastPage46.isVisible = true\n      leftUp = 0    leftDown = 46    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 47,
        "text": "sq47lastPage46",
        "url": "https://3.bp.blogspot.com/-3GN2zGdwiOA/XuYn7V2J_cI/AAAAAAAAKUY/kLh9J08xe98Iy6hE7_aXEuSSNfQQM4qwQCK4BGAsYHg/d/47_lastPage_46.jpg"
      }
    ]
  },
  {
    "id": 48,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq48lastPage44\", \"sq48lastPage49\", \"sq48lastPage51\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 44 then\n      images.sq48lastPage44.isVisible = true\n      leftUp = 0    leftDown = 44    rightUp = 51    rightDown = 49\n   elseif lastPage == 49 then\n      images.sq48lastPage49.isVisible = true\n      leftUp = 44    leftDown = 49    rightUp = 0    rightDown = 51\n   elseif lastPage == 51 then\n      images.sq48lastPage51.isVisible = true\n      leftUp = 49    leftDown = 51    rightUp = 44    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 48,
        "text": "sq48lastPage44",
        "url": "https://3.bp.blogspot.com/-EieKWYql3Fk/Xu4Fvh8Q3kI/AAAAAAAAKiA/SQLxy8_OpM45b_334_lEN1VO5cIC2hehwCK4BGAsYHg/d/48_lastPage_44.jpg"
      },
      {
        "id": 48,
        "text": "sq48lastPage49",
        "url": "https://3.bp.blogspot.com/-dDnLX8w4J2Y/Xu4FwXVmQLI/AAAAAAAAKiE/AQDmFW2poVMIs8SiGuAQwXWwf3j0HUymACK4BGAsYHg/d/48_lastPage_49.jpg"
      },
      {
        "id": 48,
        "text": "sq48lastPage51",
        "url": "https://3.bp.blogspot.com/-MOuGwaFSRWk/Xu4FxPKaPfI/AAAAAAAAKiI/j9VqGv0gp5ceZqaof2FWnBA9d5grxYevgCK4BGAsYHg/d/48_lastPage_51.jpg"
      }
    ]
  },
  {
    "id": 49,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq49lastPage25\", \"sq49lastPage48\", \"sq49lastPage50\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 25 then\n      images.sq49lastPage25.isVisible = true\n      leftUp = 48    leftDown = 25    rightUp = 0    rightDown = 50\n   elseif lastPage == 48 then\n      images.sq49lastPage48.isVisible = true\n      leftUp = 0    leftDown = 48    rightUp = 50    rightDown = 25\n   elseif lastPage == 50 then\n      images.sq49lastPage50.isVisible = true\n      leftUp = 25    leftDown = 50    rightUp = 48    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 49,
        "text": "sq49lastPage25",
        "url": "https://3.bp.blogspot.com/-O68N3gcgj4o/Xu4FxrXbwrI/AAAAAAAAKiM/8PtxrFToRMMZgtv9CJAlHA08aD4-qZDzwCK4BGAsYHg/d/49_lastPage_25.jpg"
      },
      {
        "id": 49,
        "text": "sq49lastPage48",
        "url": "https://3.bp.blogspot.com/-kwExwn9jwp8/Xu4Fyd6hVBI/AAAAAAAAKiQ/CaVKRM-y50UYUfKE-2NMvZrWeWIak7g6QCK4BGAsYHg/d/49_lastPage_48.jpg"
      },
      {
        "id": 49,
        "text": "sq49lastPage50",
        "url": "https://3.bp.blogspot.com/-zecK7SdWckI/Xu4FzAdeMwI/AAAAAAAAKiU/4HlS8olRtdItjbLYNLHse7vHcykNtDqFgCK4BGAsYHg/d/49_lastPage_50.jpg"
      }
    ]
  },
  {
    "id": 50,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq50lastPage49\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq50lastPage49.isVisible = true\n      leftUp = 0    leftDown = 49    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn not isFight\nend",
        "super_calculate": false,
        "id": 52,
        "calculate": false,
        "text": "На треснутом постаменте медленно вращается сотканная из тьмы сфера. При Вашем приближении сферу окутывает туман. В нём мелькают нечёткие образы.\nКоснуться сферы",
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 50,
        "text": "sq50lastPage49",
        "url": "https://3.bp.blogspot.com/-rPBNDrJQtZY/Xu4Fz-b-UII/AAAAAAAAKiY/UOFJm0ilznoDLvAoT395UJ8yiVD_fRHDACK4BGAsYHg/d/50_lastPage_49.jpg"
      }
    ]
  },
  {
    "id": 51,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq51lastPage48\", \"sq51lastPage53\", \"sq51lastPage55\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 48 then\n      images.sq51lastPage48.isVisible = true\n      leftUp = 53    leftDown = 48    rightUp = 0    rightDown = 55\n   elseif lastPage == 53 then\n      images.sq51lastPage53.isVisible = true\n      leftUp = 0    leftDown = 53    rightUp = 55    rightDown = 48\n   elseif lastPage == 55 then\n      images.sq51lastPage55.isVisible = true\n      leftUp = 48    leftDown = 55    rightUp = 53    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 51,
        "text": "sq51lastPage48",
        "url": "https://3.bp.blogspot.com/-MX-Vueyg5GM/Xu9zR7wnoyI/AAAAAAAAKmA/ojDpJvUlorITiBDYPaMqspx6EfuVnur3wCK4BGAsYHg/d/51_lastPage_48.jpg"
      },
      {
        "id": 51,
        "text": "sq51lastPage53",
        "url": "https://3.bp.blogspot.com/-wX7LVTGVsXk/Xu9zSmdMT3I/AAAAAAAAKmE/oAUTGYysd_8vHgQLm2IWx5C6Q5EbCZ5dgCK4BGAsYHg/d/51_lastPage_53.jpg"
      },
      {
        "id": 51,
        "text": "sq51lastPage55",
        "url": "https://3.bp.blogspot.com/-S5q7I2hhfUM/Xu9zTQFgLtI/AAAAAAAAKmI/TpvC69JCyV4qapDUked_1i6jEH4Gf7FWQCK4BGAsYHg/d/51_lastPage_55.jpg"
      }
    ]
  },
  {
    "id": 52,
    "text": "     Образы обретают чёткость. Вам кажется, что стоит задержать взгляд на одном из них, как он материализуется.",
    "answers": [
      {
        "id": 50,
        "text": "Зажмуриться и отойти от сферы"
      },
      {
        "id": 52,
        "text": " ",
        "comment": true
      },
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq18lastPage\", \"sq18lastPage\", \"sq18lastPage\", \"sq18lastPage\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      }
    ]
  },
  {
    "id": 53,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq53lastPage51\", \"sq53lastPage54\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 51 then\n      images.sq53lastPage51.isVisible = true\n      leftUp = 54    leftDown = 51    rightUp =0    rightDown = 0\n   elseif lastPage == 54 then\n      images.sq53lastPage54.isVisible = true\n      leftUp = 0    leftDown = 54    rightUp = 0    rightDown = 51\n   end\n   hasNewMap = false\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 53,
        "text": "sq53lastPage51",
        "url": "https://3.bp.blogspot.com/-SPVWcsbd23E/Xu9zUJPigYI/AAAAAAAAKmM/0spk71CzUZA-BZRjk03CdbvbjDatIzV2ACK4BGAsYHg/d/53_lastPage_51.jpg"
      },
      {
        "id": 53,
        "text": "sq53lastPage54",
        "url": "https://3.bp.blogspot.com/-NgPnV1MM1wY/Xu9zME9vRNI/AAAAAAAAKlg/uV357vQuCbgpQZtgjNuNJQfet9IhQmUygCK4BGAsYHg/d/53_lastPage_54.jpg"
      }
    ]
  },
  {
    "id": 54,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq54lastPage53\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq54lastPage53.isVisible = true\n      leftUp = 0    leftDown = 53    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_do": "function lua_do()\n   hasNewMap = true\nend",
        "lua_if": "function lua_if()\nreturn (not isFight) and (not hasMapPart3) and (not hasAllMap) \nend",
        "super_calculate": false,
        "id": 54,
        "calculate": false,
        "text": "В тупике лабиринта возвышается стопка книг.\nОсмотреть",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn (not isFight) and hasNewMap\nend",
        "super_calculate": false,
        "id": 54,
        "text": "Вы перелистываете книги одну за другой, но все они абсолютно пусты. Наконец, Вам улыбается удача — в одной из книг заложен обрывок карты.",
        "calculate": false,
        "merge": true
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\n   hasMapPart3 = true\n   hasNewMap = false\nend",
        "lua_if": "function lua_if()\nreturn hasNewMap\nend",
        "super_calculate": false,
        "id": 128,
        "text": "Взять карту",
        "calculate": false,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 54,
        "text": "sq54lastPage53",
        "url": "https://3.bp.blogspot.com/-3VOiQlI3vK0/Xu9zM9gzPiI/AAAAAAAAKlk/TNPi0kigF_gGXnsMfKU17RJdEd9BrUlNQCK4BGAsYHg/d/54_lastPage_53.jpg"
      }
    ]
  },
  {
    "id": 55,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq55lastPage51\", \"sq55lastPage56\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 51 then\n      images.sq55lastPage51.isVisible = true\n      leftUp = 0    leftDown = 51    rightUp = 56    rightDown = 0\n   elseif lastPage == 56 then\n      images.sq55lastPage56.isVisible = true\n      leftUp = 0    leftDown = 56    rightUp = 51    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 55,
        "text": "sq55lastPage51",
        "url": "https://3.bp.blogspot.com/-0eRXvqOwwzY/Xu9zNm3tNsI/AAAAAAAAKlo/-KLpRWOr02gzFXTdMPSWQWr9CiXdv5jjQCK4BGAsYHg/d/55_lastPage_51.jpg"
      },
      {
        "id": 55,
        "text": "sq55lastPage56",
        "url": "https://3.bp.blogspot.com/-E7tSkHODglo/Xu9zOQ9fmbI/AAAAAAAAKls/lAu3rt2313ArPXKW8cTmaOiA8-Y-VFtsQCK4BGAsYHg/d/55_lastPage_56.jpg"
      }
    ]
  },
  {
    "id": 56,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq56lastPage55\", \"sq56lastPage57\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 55 then\n      images.sq56lastPage55.isVisible = true\n      leftUp = 0    leftDown = 55    rightUp = 57    rightDown = 0\n   elseif lastPage == 57 then\n      images.sq56lastPage57.isVisible = true\n      leftUp = 0    leftDown = 57    rightUp = 55    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 56,
        "text": "sq56lastPage55",
        "url": "https://3.bp.blogspot.com/--NS-qODvpGw/Xu9zPNX1ItI/AAAAAAAAKlw/5Bbor-WlwWIrbAiN_FDCvRodtPDDdLaYgCK4BGAsYHg/d/56_lastPage_55.jpg"
      },
      {
        "id": 56,
        "text": "sq56lastPage57",
        "url": "https://3.bp.blogspot.com/-dYWqrtE1WdU/Xu9zP3s2sBI/AAAAAAAAKl0/foI9UMr5_3cKqigk8P8YPlduaGGb2UBTACK4BGAsYHg/d/56_lastPage_57.jpg"
      }
    ]
  },
  {
    "id": 57,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq57lastPage56\", \"sq57lastPage58\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 56 then\n      images.sq57lastPage56.isVisible = true\n      leftUp = 0    leftDown = 56    rightUp = 0    rightDown = 58\n   elseif lastPage == 58 then\n      images.sq57lastPage58.isVisible = true\n      leftUp = 56    leftDown = 58    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 57,
        "text": "sq57lastPage56",
        "url": "https://3.bp.blogspot.com/-LUKwvL8UnlM/Xu9zQoPigvI/AAAAAAAAKl4/r5aI0rQCMSwveuBICbINNphy6wBh03CLgCK4BGAsYHg/d/57_lastPage_56.jpg"
      },
      {
        "id": 57,
        "text": "sq57lastPage58",
        "url": "https://3.bp.blogspot.com/-eVid5PG-Swk/Xu9zRE7xPmI/AAAAAAAAKl8/TTCSSlNiEIEXdmb5UvVjA567Jb5Qou3VgCK4BGAsYHg/d/57_lastPage_58.jpg"
      }
    ]
  },
  {
    "id": 58,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq58lastPage57\", \"sq58lastPage59\", \"sq58lastPage68\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 57 then\n      images.sq58lastPage57.isVisible = true\n      leftUp = 68    leftDown = 57    rightUp = 0    rightDown = 59\n   elseif lastPage == 59 then\n      images.sq58lastPage59.isVisible = true\n      leftUp = 57    leftDown = 59    rightUp = 68    rightDown = 0\n   elseif lastPage == 68 then\n      images.sq58lastPage68.isVisible = true\n      leftUp = 0    leftDown = 68    rightUp = 59    rightDown = 57\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 58,
        "text": "sq58lastPage57",
        "url": "https://3.bp.blogspot.com/-pHRCpma_puw/XvNedS6m_NI/AAAAAAAAKrg/SKcQvzQHBC8Tl4Z6B-Hkt331cRYPfKQFgCK4BGAsYHg/d/58lastPage57.jpg"
      },
      {
        "id": 58,
        "text": "sq58lastPage59",
        "url": "https://3.bp.blogspot.com/-amCo0K-mdAM/XvNeeDnG2SI/AAAAAAAAKrk/T6avhHM3i1gS4nK1CCjXJlHR7eUzfUsOQCK4BGAsYHg/d/58_lastPage_59.jpg"
      },
      {
        "id": 58,
        "text": "sq58lastPage68",
        "url": "https://3.bp.blogspot.com/-fWwOcv6l_64/XvNeesoC9hI/AAAAAAAAKro/VCepfEiOKogF_gLtOtGUdpBOxKD3ZM84ACK4BGAsYHg/d/58_lastPage_68.jpg"
      }
    ]
  },
  {
    "id": 59,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq59lastPage58\", \"sq59lastPage60\", \"sq59lastPage61\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 58 then\n      images.sq59lastPage58.isVisible = true\n      leftUp = 61    leftDown = 58    rightUp = 0    rightDown = 60\n   elseif lastPage == 60 then\n      images.sq59lastPage60.isVisible = true\n      leftUp = 58    leftDown = 60    rightUp = 61    rightDown = 0\n   elseif lastPage == 61 then\n      images.sq59lastPage61.isVisible = true\n      leftUp = 0    leftDown = 61    rightUp = 60    rightDown = 58\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 59,
        "text": "sq59lastPage58",
        "url": "https://3.bp.blogspot.com/-bVQRdZucrSo/XvNeffKmAKI/AAAAAAAAKrs/e-28ij2-EhEeUVU8yMDXOK7hKsllhKv-wCK4BGAsYHg/d/59_lastPage_58.jpg"
      },
      {
        "id": 59,
        "text": "sq59lastPage60",
        "url": "https://3.bp.blogspot.com/-UHHZeyGKQdM/XvNegJ4JwXI/AAAAAAAAKrw/wvBONITnZFIc6Kv1LkqSCTSGcFW4AmF-gCK4BGAsYHg/d/59_lastPage_60.jpg"
      },
      {
        "id": 59,
        "text": "sq59lastPage61",
        "url": "https://3.bp.blogspot.com/-HpXdykax1Qw/XvNegw7qh1I/AAAAAAAAKr0/5jDxGBd0YOkDCgt0PbM43mrTqaeQw5CkgCK4BGAsYHg/d/59_lastPage_61.jpg"
      }
    ]
  },
  {
    "id": 60,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq60lastPage59\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq60lastPage59.isVisible = true\n      leftUp = 0    leftDown = 59    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 60,
        "text": "sq60lastPage59",
        "url": "https://3.bp.blogspot.com/-lKPGGsko2hc/XvNehruLhXI/AAAAAAAAKr4/60fW_neoMOAsBdVG24KpXJ98wZqDfAyvgCK4BGAsYHg/d/60_lastPage_59.jpg"
      }
    ]
  },
  {
    "id": 61,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq61lastPage59\", \"sq61lastPage62\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 59 then\n      images.sq61lastPage59.isVisible = true\n      leftUp = 62    leftDown = 59    rightUp = 0    rightDown = 0\n   elseif lastPage == 62 then\n      images.sq61lastPage62.isVisible = true\n      leftUp = 0    leftDown = 62    rightUp = 0    rightDown = 59\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 61,
        "text": "sq61lastPage59",
        "url": "https://3.bp.blogspot.com/-FjN55-yvJkw/XvNeicV-1PI/AAAAAAAAKr8/53TS65RLPOcWYDQ7YVszF2_Q9VF5nd5iQCK4BGAsYHg/d/61_lastPage_59.jpg"
      },
      {
        "id": 61,
        "text": "sq61lastPage62",
        "url": "https://3.bp.blogspot.com/-pC8B7zJtkT0/XvNejOHWYII/AAAAAAAAKsA/Yods8uwPPewUattfjTymyuDCCAp2dsRoQCK4BGAsYHg/d/61_lastPage_62.jpg"
      }
    ]
  },
  {
    "id": 62,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq62lastPage61\", \"sq62lastPage63\", \"sq62lastPage64\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 61 then\n      images.sq62lastPage61.isVisible = true\n      leftUp = 64    leftDown = 61    rightUp = 0    rightDown = 63\n   elseif lastPage == 63 then\n      images.sq62lastPage63.isVisible = true\n      leftUp = 61    leftDown = 63    rightUp = 0    rightDown = 64\n   elseif lastPage == 64 then\n      images.sq62lastPage64.isVisible = true\n      leftUp = 63    leftDown = 64    rightUp = 61    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 62,
        "text": "sq62lastPage61",
        "url": "https://3.bp.blogspot.com/-0E4aBnM235M/XvNej_YGoXI/AAAAAAAAKsE/MCqBk9dhJoYA1XCfhLn7-tG7lRim6CGjACK4BGAsYHg/d/62_lastPage_61.jpg"
      },
      {
        "id": 62,
        "text": "sq62lastPage63",
        "url": "https://3.bp.blogspot.com/-56Mw7qbby3E/XvNekqRHUwI/AAAAAAAAKsI/GFDPwRWpBIUfeadHPFc18duDWEpQEz7ZQCK4BGAsYHg/d/62_lastPage_63.jpg"
      },
      {
        "id": 62,
        "text": "sq62lastPage64",
        "url": "https://3.bp.blogspot.com/-6aPnM531plA/XvNeldibi9I/AAAAAAAAKsM/R2LrcR7NGu8jK8mmKF7EMd5MJWK9n84UgCK4BGAsYHg/d/62_lastPage_64.jpg"
      }
    ]
  },
  {
    "id": 63,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq63lastPage62\", \"sq63lastPage65\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 62 then\n      images.sq63lastPage62.isVisible = true\n      leftUp = 65    leftDown = 62    rightUp = 0    rightDown = 0\n   elseif lastPage == 65 then\n      images.sq63lastPage65.isVisible = true\n      leftUp = 0    leftDown = 65    rightUp = 0    rightDown = 62\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 63,
        "text": "sq63lastPage62",
        "url": "https://3.bp.blogspot.com/-w5BneJbU_gM/XvNhlWNwcdI/AAAAAAAAKwc/YLA21GEmW38JnQHdGWQmLsXBWOmCf_I5ACK4BGAsYHg/d/63_lastPage_62.jpg"
      },
      {
        "id": 63,
        "text": "sq63lastPage65",
        "url": "https://3.bp.blogspot.com/-CWrORR9ObQ0/XvNhmIm7BtI/AAAAAAAAKwg/WiDC0XDMOUoWqUQbC0MYL1keAF6aSgk1wCK4BGAsYHg/d/63_lastPage_65.jpg"
      }
    ]
  },
  {
    "id": 64,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq64lastPage62\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq64lastPage62.isVisible = true\n      leftUp = 0    leftDown = 62    rightUp = 0   rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 64,
        "text": "sq64lastPage62",
        "url": "https://3.bp.blogspot.com/-GTB3RZq5YcE/XvNhmwNctEI/AAAAAAAAKwk/TGrfFcVQE1cfvp9hfs4PTN-8ln_l2VN9wCK4BGAsYHg/d/64_lastPage_62.jpg"
      }
    ]
  },
  {
    "id": 65,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq65lastPage24\", \"sq65lastPage63\", \"sq65lastPage66\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 24 then\n      images.sq65lastPage24.isVisible = true\n      leftUp = 63    leftDown = 24    rightUp = 0    rightDown = 66\n   elseif lastPage == 63 then\n      images.sq65lastPage63.isVisible = true\n      leftUp = 0    leftDown = 63    rightUp = 66    rightDown = 24\n   elseif lastPage == 66 then\n      images.sq65lastPage66.isVisible = true\n      leftUp = 24    leftDown = 66    rightUp = 63    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 65,
        "text": "sq65lastPage24",
        "url": "https://3.bp.blogspot.com/-90kI3c7iEWc/XvNhngn0OhI/AAAAAAAAKwo/gt-UIkIoJnsh6SM3KnvUDQbPtdRidsx_QCK4BGAsYHg/d/65_lastPage_24.jpg"
      },
      {
        "id": 65,
        "text": "sq65lastPage63",
        "url": "https://3.bp.blogspot.com/-jLwC9D_sqo0/XvNhoc5I3GI/AAAAAAAAKws/ym8Hnc_Zgw4prx0wiQ5OzaP2GvGMqbQCQCK4BGAsYHg/d/65_lastPage_63.jpg"
      },
      {
        "id": 65,
        "text": "sq65lastPage66",
        "url": "https://3.bp.blogspot.com/-UZrADx-jasg/XvNhoiJSOUI/AAAAAAAAKww/rQJcXJPfAhsr1i7I7r2K8CFy7Kx4kSAyQCK4BGAsYHg/d/65_lastPage_66.jpg"
      }
    ]
  },
  {
    "id": 66,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq66lastPage65\", \"sq66lastPage67\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 65 then\n      images.sq66lastPage65.isVisible = true\n      leftUp = 0    leftDown = 65    rightUp = 67    rightDown = 0\n   elseif lastPage == 67 then\n      images.sq66lastPage67.isVisible = true\n      leftUp = 0    leftDown = 67    rightUp = 65    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 66,
        "text": "sq66lastPage65",
        "url": "https://3.bp.blogspot.com/-IMdn8PQH8Z8/XvNhpdmPiYI/AAAAAAAAKw0/sEKcTGbcjwUm9GBMEj_xUtFFGDYi9-juACK4BGAsYHg/d/66_lastPage_65.jpg"
      },
      {
        "id": 66,
        "text": "sq66lastPage67",
        "url": "https://3.bp.blogspot.com/-cJoPFRwm2Jc/XvNhp__A5AI/AAAAAAAAKw4/qEVWpt06yZMn7H-xNZW8uj9_OPE7cJuGwCK4BGAsYHg/d/66_lastPage_67.jpg"
      }
    ]
  },
  {
    "id": 67,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq67lastPage66\", \"sq67lastPage70\", \"sq67lastPage79\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 66 then\n      images.sq67lastPage66.isVisible = true\n      leftUp = 79    leftDown = 66    rightUp = 0    rightDown = 70\n   elseif lastPage == 70 then\n      images.sq67lastPage70.isVisible = true\n      leftUp = 66    leftDown = 70    rightUp = 79    rightDown = 0\n   elseif lastPage == 79 then\n      images.sq67lastPage79.isVisible = true\n      leftUp = 0    leftDown = 79    rightUp = 70    rightDown = 66\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 67,
        "text": "sq67lastPage66",
        "url": "http://3.bp.blogspot.com/-yePf7YxT8pk/Xx2Z454gvXI/AAAAAAAALT4/SAJCdojrzf48QAPvrHrTbDD2ZmmsPWr2QCLcBGAsYHQ/d/67_lastPage_66.jpg"
      },
      {
        "id": 67,
        "text": "sq67lastPage70",
        "url": "http://3.bp.blogspot.com/-wLltJoXV4OA/Xx2Z4pRdNUI/AAAAAAAALTw/4rPNUIfYd5oZW4uGSCTVGhdUQ-0Bk5x9wCLcBGAsYHQ/d/67_lastPage_70.jpg"
      },
      {
        "id": 67,
        "text": "sq67lastPage79",
        "url": "http://3.bp.blogspot.com/-qMllP8PUGCw/Xx2Z47KzUBI/AAAAAAAALT0/gRv6uXILJ7E1KNMYexVglgONLt5L0iYjACLcBGAsYHQ/d/67_lastPage_79.jpg"
      }
    ]
  },
  {
    "id": 68,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq68lastPage58\", \"sq68lastPage72\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 58 then\n      images.sq68lastPage58.isVisible = true\n      leftUp = 0    leftDown = 58    rightUp = 72    rightDown = 0\n   elseif lastPage == 72 then\n      images.sq68lastPage72.isVisible = true\n      leftUp = 0    leftDown = 72    rightUp = 58    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 68,
        "text": "sq68lastPage58",
        "url": "http://3.bp.blogspot.com/-A33a_Vo3waI/Xx2MZSqkJ5I/AAAAAAAALRY/szR55GbC0wolrnSPRwogvg_7dSI44hx_gCLcBGAsYHQ/d/68_lastPage_58.jpg"
      },
      {
        "id": 68,
        "text": "sq68lastPage72",
        "url": "http://3.bp.blogspot.com/-Ky1zg3MjNoo/Xx2MZeFVjnI/AAAAAAAALRc/bJEdi7fnv2IygRKBeE8AK9aJy9qEdqqewCLcBGAsYHQ/d/68_lastPage_72.jpg"
      }
    ]
  },
  {
    "id": 69,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq69lastPage24\", \"sq69lastPage70\", \"sq69lastPage71\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 24 then\n      images.sq69lastPage24.isVisible = true\n      leftUp = 70    leftDown = 24    rightUp = 71    rightDown = 0\n   elseif lastPage == 70 then\n      images.sq69lastPage70.isVisible = true\n      leftUp = 71    leftDown = 70    rightUp = 0    rightDown = 24\n   elseif lastPage == 71 then\n      images.sq69lastPage71.isVisible = true\n      leftUp = 0    leftDown = 71    rightUp = 24    rightDown = 70\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 69,
        "text": "sq69lastPage24",
        "url": "https://3.bp.blogspot.com/-L3dTPk0bTFg/XvNf6NvTsQI/AAAAAAAAKug/WPagXb4ejwQKQFwCOqOFUjz8qZt3xxUYwCK4BGAsYHg/d/69_lastPage_24.jpg"
      },
      {
        "id": 69,
        "text": "sq69lastPage70",
        "url": "https://3.bp.blogspot.com/-ziyWNFn3VXg/XvNf60cxEfI/AAAAAAAAKuk/K8H81NtuREkxVffX97A7im50DcPBysPPgCK4BGAsYHg/d/69_lastPage_70.jpg"
      },
      {
        "id": 69,
        "text": "sq69lastPage71",
        "url": "https://3.bp.blogspot.com/-vecHEubhTus/XvNf7lBOgsI/AAAAAAAAKuo/0reYryYKV9QYHkNBeTH452lpCuoEyYTagCK4BGAsYHg/d/69_lastPage_71.jpg"
      }
    ]
  },
  {
    "id": 70,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq70lastPage67\", \"sq70lastPage69\", \"sq70lastPage80\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 67 then\n      images.sq70lastPage67.isVisible = true\n      leftUp = 80    leftDown = 67    rightUp = 69    rightDown = 0\n   elseif lastPage == 69 then\n      images.sq70lastPage69.isVisible = true\n      leftUp = 0    leftDown = 69    rightUp = 67    rightDown = 80\n   elseif lastPage == 80 then\n      images.sq70lastPage80.isVisible = true\n      leftUp = 69    leftDown = 80    rightUp = 0    rightDown = 67\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 70,
        "text": "sq70lastPage67",
        "url": "http://3.bp.blogspot.com/-68HuT-5EG0o/Xx2Mc5YAGdI/AAAAAAAALRs/caNLOxBMY5k-JmrZQFDJK3mobHV9tGEYgCLcBGAsYHQ/d/70_lastPage_67.jpg"
      },
      {
        "id": 70,
        "text": "sq70lastPage69",
        "url": "http://3.bp.blogspot.com/-ZbVkn4rDeRE/Xx2MdEwUrgI/AAAAAAAALRw/By3C5zA8POYj5BH3TJychcvjp5f-DCbhACLcBGAsYHQ/d/70_lastPage_69.jpg"
      },
      {
        "id": 70,
        "text": "sq70lastPage80",
        "url": "http://3.bp.blogspot.com/-x8HUCK8-6Ag/Xx2MdIpU0bI/AAAAAAAALR0/VLJ8Agxg3Q4urXnWeadUMyYlPwYeFu7NACLcBGAsYHQ/d/70_lastPage_80.jpg"
      }
    ]
  },
  {
    "id": 71,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq71lastPage69\", \"sq71lastPage81\", \"sq71lastPage82\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 69 then\n      images.sq71lastPage69.isVisible = true\n      leftUp = 0    leftDown = 69    rightUp = 82    rightDown = 81\n   elseif lastPage == 81 then\n      images.sq71lastPage81.isVisible = true\n      leftUp = 82    leftDown = 81    rightUp = 69    rightDown = 0\n   elseif lastPage == 82 then\n      images.sq71lastPage82.isVisible = true\n      leftUp = 69    leftDown = 82    rightUp = 0    rightDown = 81\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 71,
        "text": "sq71lastPage69",
        "url": "http://3.bp.blogspot.com/-J-dO0mgRUqI/Xx2MdiQCp3I/AAAAAAAALR4/OmQeNNvwsGo72bioXGEUTjUm6Q5YlixQwCLcBGAsYHQ/d/71_lastPage_69.jpg"
      },
      {
        "id": 71,
        "text": "sq71lastPage81",
        "url": "http://3.bp.blogspot.com/-poK7Rk4p_PU/Xx2Md8K1I7I/AAAAAAAALR8/yqLoJhF3hoIeZHXTIzOhf5GXKnes5NOjACLcBGAsYHQ/d/71_lastPage_81.jpg"
      },
      {
        "id": 71,
        "text": "sq71lastPage82",
        "url": "http://3.bp.blogspot.com/-yF4hbhzCdO8/Xx2MeGsD_kI/AAAAAAAALSA/DUxc7gam8rAD3OYn42M8BTyQsZmtn1ejwCLcBGAsYHQ/d/71_lastPage_82.jpg"
      }
    ]
  },
  {
    "id": 72,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq72lastPage68\", \"sq72lastPage73\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 68 then\n      images.sq72lastPage68.isVisible = true\n      leftUp = 0    leftDown = 68    rightUp = 0    rightDown = 73\n   elseif lastPage == 73 then\n      images.sq72lastPage73.isVisible = true\n      leftUp = 68    leftDown = 73    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 72,
        "text": "sq72lastPage68",
        "url": "http://3.bp.blogspot.com/-6oEgsfo0VYc/Xx2MeWuwZFI/AAAAAAAALSE/FRKMgIWAfxEoMngDlrwhMxGieJGbLW_RgCLcBGAsYHQ/d/72_lastPage_68.jpg"
      },
      {
        "id": 72,
        "text": "sq72lastPage73",
        "url": "http://3.bp.blogspot.com/-0oqt1TedZpI/Xx2MendN7UI/AAAAAAAALSI/cjeKnuHt5bkgNe95t9hBGyQ6p4YR0D34gCLcBGAsYHQ/d/72_lastPage_73.jpg"
      }
    ]
  },
  {
    "id": 73,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq73lastPage72\", \"sq73lastPage74\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 72 then\n      images.sq73lastPage72.isVisible = true\n      leftUp = 0    leftDown = 72    rightUp = 0    rightDown = 74\n   elseif lastPage == 74 then\n      images.sq73lastPage74.isVisible = true\n      leftUp = 72    leftDown = 74    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 73,
        "text": "sq73lastPage72",
        "url": "http://3.bp.blogspot.com/-zIJUZd0Gr_E/Xx2Mesmne-I/AAAAAAAALSM/sxAZMAOGtNICBmGBLqc1iPefRSI-_06yQCLcBGAsYHQ/d/73_lastPage_72.jpg"
      },
      {
        "id": 73,
        "text": "sq73lastPage74",
        "url": "http://3.bp.blogspot.com/-34GR-ML6lpk/Xx2Me7qCdaI/AAAAAAAALSQ/4UcTVaW6Z8ELlx4d5adQVxvFxDY6HgXUACLcBGAsYHQ/d/73_lastPage_74.jpg"
      }
    ]
  },
  {
    "id": 74,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq74lastPage73\", \"sq74lastPage75\", \"sq74lastPage76\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 73 then\n      images.sq74lastPage73.isVisible = true\n      leftUp = 75    leftDown = 73    rightUp = 76    rightDown = 0\n   elseif lastPage == 75 then\n      images.sq74lastPage75.isVisible = true\n      leftUp = 76    leftDown = 75    rightUp = 0    rightDown = 73\n   elseif lastPage == 76 then\n      images.sq74lastPage76.isVisible = true\n      leftUp = 0    leftDown = 76    rightUp = 73    rightDown = 75\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 74,
        "text": "sq74lastPage73",
        "url": "http://3.bp.blogspot.com/-mqP2ZlJE1kA/Xx2MfEy4aaI/AAAAAAAALSU/9Qm9H6KN2MEOagd7w_0KWoqyeMPqYX31wCLcBGAsYHQ/d/74_lastPage_73.jpg"
      },
      {
        "id": 74,
        "text": "sq74lastPage75",
        "url": "http://3.bp.blogspot.com/-xNCheBxDWck/Xx2MfeobFRI/AAAAAAAALSY/t-0CrU7diz8yLkfjBWQjWRiPARfUkunqwCLcBGAsYHQ/d/74_lastPage_75.jpg"
      },
      {
        "id": 74,
        "text": "sq74lastPage76",
        "url": "http://3.bp.blogspot.com/-a9_B4gBqjBA/Xx2MfSyr7dI/AAAAAAAALSc/Pkg8cLlCHdIJaSKXu2ZEiFMOm_ClYgriwCLcBGAsYHQ/d/74_lastPage_76.jpg"
      }
    ]
  },
  {
    "id": 75,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq75lastPage74\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   images.sq75lastPage74.isVisible = true\n   leftUp = 0    leftDown = 74    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_do": "function lua_do()\n   hasNewMap = true\nend",
        "lua_if": "function lua_if()\nreturn (not isFight) and (not hasMapPart1) and (not hasAllMap) \nend",
        "super_calculate": false,
        "id": 75,
        "calculate": false,
        "text": "Добротные книжные стелажи растрескались от времени. Полки завешаны грязной тюлью паутины.\nОсмотреть",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn (not isFight) and hasNewMap\nend",
        "super_calculate": false,
        "id": 75,
        "calculate": false,
        "text": "Смахнув толстый слой пыли и спугнув многочисленных пауков, Вы перебираете фолианты, изъеденные книжными червями. Почти отчаявшись найти что-нибудь ценное, Вы замечаете в углу стеллажа смятый обрывок карты. ",
        "merge": true
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\n   hasMapPart1 = true\n   hasNewMap = false\nend",
        "lua_if": "function lua_if()\nreturn hasNewMap\nend",
        "super_calculate": false,
        "id": 126,
        "text": "Взять карту",
        "calculate": false,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 75,
        "text": "sq75lastPage74",
        "url": "http://3.bp.blogspot.com/-j10q1-0hjTM/Xx2MfvN52AI/AAAAAAAALSg/BUc4bbtcRb00h8XhNGRnumSakFYZbRhPgCLcBGAsYHQ/d/75_lastPage_74.jpg"
      }
    ]
  },
  {
    "id": 76,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq76lastPage74\", \"sq76lastPage77\", \"sq76lastPage79\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 74 then\n      images.sq76lastPage74.isVisible = true\n      leftUp = 77    leftDown = 74    rightUp = 79    rightDown = 0\n   elseif lastPage == 77 then\n      images.sq76lastPage77.isVisible = true\n      leftUp = 79    leftDown = 77    rightUp = 0    rightDown = 74\n   elseif lastPage == 79 then\n      images.sq76lastPage79.isVisible = true\n      leftUp = 0    leftDown = 79    rightUp = 74    rightDown = 77\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 76,
        "text": "sq76lastPage74",
        "url": "http://3.bp.blogspot.com/-9zrefSnVCoM/Xx2Mf5s3GyI/AAAAAAAALSk/cqKFBFop46sUrClqYUw8916lEjFfHDdvQCLcBGAsYHQ/d/76_lastPage_74.jpg"
      },
      {
        "id": 76,
        "text": "sq76lastPage77",
        "url": "http://3.bp.blogspot.com/-fcx7nBU5wPc/Xx2MgK9tbZI/AAAAAAAALSo/IGXg_ZxZ3usUr3eS6jiwRX5FP4AGzNMzACLcBGAsYHQ/d/76_lastPage_77.jpg"
      },
      {
        "id": 76,
        "text": "sq76lastPage79",
        "url": "http://3.bp.blogspot.com/-jMv0-C0mbBs/Xx2MgTp3BdI/AAAAAAAALSs/RiI85dyzRrEG4gEPqh9mSbVm5tAh_ZUvgCLcBGAsYHQ/d/76_lastPage_79.jpg"
      }
    ]
  },
  {
    "id": 77,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq77lastPage76\", \"sq77lastPage78\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 76 then\n      images.sq77lastPage76.isVisible = true\n      leftUp = 0    leftDown = 76    rightUp = 0    rightDown = 78\n   elseif lastPage == 78 then\n      images.sq77lastPage78.isVisible = true\n      leftUp = 76    leftDown = 78    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 77,
        "text": "sq77lastPage76",
        "url": "http://3.bp.blogspot.com/-462K2pSJB4g/Xx2Mgq2bFjI/AAAAAAAALSw/YScHicWRqagtv4yX4BuNRTyWPHWJPgsngCLcBGAsYHQ/d/77_lastPage_76.jpg"
      },
      {
        "id": 77,
        "text": "sq77lastPage78",
        "url": "http://3.bp.blogspot.com/-jlAoOaiIA_Q/Xx2MgouT2II/AAAAAAAALS0/JMyajeYTZ_Ey2a7g-f5FGx_J75XE-YTYACLcBGAsYHQ/d/77_lastPage_78.jpg"
      }
    ]
  },
  {
    "id": 78,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq78lastPage77\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq78lastPage77.isVisible = true\n      leftUp = 0    leftDown = 77    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 78,
        "text": "sq78lastPage77",
        "url": "http://3.bp.blogspot.com/-3gNmfMK1cvk/Xx2Mg-dWrCI/AAAAAAAALS4/MhBHg1_7pLMddl3IfQjWqsYf8puz-uZjwCLcBGAsYHQ/d/78_lastPage_77.jpg"
      }
    ]
  },
  {
    "id": 79,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq79lastPage67\", \"sq79lastPage76\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 67 then\n      images.sq79lastPage67.isVisible = true\n      leftUp = 0    leftDown = 67    rightUp = 76    rightDown = 0\n   elseif lastPage == 76 then\n      images.sq79lastPage76.isVisible = true\n      leftUp = 0    leftDown = 76    rightUp = 67    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 79,
        "text": "sq79lastPage67",
        "url": "http://3.bp.blogspot.com/-pCnHtbuOgDM/Xx2MhA8eNnI/AAAAAAAALS8/cVpMUAgT-aQXhtjyMntVWijpiQpLO__rACLcBGAsYHQ/d/79_lastPage_67.jpg"
      },
      {
        "id": 79,
        "text": "sq79lastPage76",
        "url": "http://3.bp.blogspot.com/-feBraW2ELf8/Xx2Mhd9ucFI/AAAAAAAALTA/3czmThQwQn8h0PeK9uzi-yPbb59TumKTgCLcBGAsYHQ/d/79_lastPage_76.jpg"
      }
    ]
  },
  {
    "id": 80,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq80lastPage70\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq80lastPage70.isVisible = true\n      leftUp = 0    leftDown = 70    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 80,
        "text": "sq80lastPage70",
        "url": "http://3.bp.blogspot.com/-uKHC40mTp5U/XyLauXBMS5I/AAAAAAAALX4/aOQzAXVizOwJJVfSyjAouMYIYmlqDT9iQCLcBGAsYHQ/d/80_lastPage_70.jpg"
      }
    ]
  },
  {
    "id": 81,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq81lastPage71\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq81lastPage71.isVisible = true\n      leftUp = 0    leftDown = 71    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 81,
        "text": "sq81lastPage71",
        "url": "http://3.bp.blogspot.com/-XijZGeNJqL4/XyLauSz9hwI/AAAAAAAALXw/gM_kM4Rl5gEHmqRywSeDNhwLIQWKPDPUgCLcBGAsYHQ/d/81_lastPage_71.jpg"
      }
    ]
  },
  {
    "id": 82,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq82lastPage71\", \"sq82lastPage83\", \"sq82lastPage84\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 71 then\n      images.sq82lastPage71.isVisible = true\n      leftUp = 83    leftDown = 71    rightUp = 84    rightDown = 0\n   elseif lastPage == 83 then\n      images.sq82lastPage83.isVisible = true\n      leftUp = 84    leftDown = 83    rightUp = 0    rightDown = 71\n   elseif lastPage == 84 then\n      images.sq82lastPage84.isVisible = true\n      leftUp = 0    leftDown = 84    rightUp = 83    rightDown = 71\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 82,
        "text": "sq82lastPage71",
        "url": "http://3.bp.blogspot.com/-0klnJDnkbKU/XyLauS_QHZI/AAAAAAAALX0/670m3sDPNgkjyGn090ENLCfZPp0_Ns3UgCLcBGAsYHQ/d/82_lastPage_71.jpg"
      },
      {
        "id": 82,
        "text": "sq82lastPage83",
        "url": "http://3.bp.blogspot.com/-lFbwpxJRJ_s/XyLauzKbC0I/AAAAAAAALX8/nnAFtP_dgaITgQM5Ytl3B0lH1sarF2dyACLcBGAsYHQ/d/82_lastPage_83.jpg"
      },
      {
        "id": 82,
        "text": "sq82lastPage84",
        "url": "http://3.bp.blogspot.com/-z9Y0vI-ytlM/XyLavRpqCPI/AAAAAAAALYE/K3YrrF64MCYntGMVMKq2DrLygWKH9SxRwCLcBGAsYHQ/d/82_lastPage_84.jpg"
      }
    ]
  },
  {
    "id": 83,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq83lastPage82\", \"sq83lastPage85\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 82 then\n      images.sq83lastPage82.isVisible = true\n      leftUp = 0    leftDown = 82    rightUp = 0    rightDown = 85\n   elseif lastPage == 85 then\n      images.sq83lastPage85.isVisible = true\n      leftUp = 82    leftDown = 85    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 83,
        "text": "sq83lastPage82",
        "url": "http://3.bp.blogspot.com/-xoAQynHAmtM/XyLavBe2mrI/AAAAAAAALYA/zYEw2Q7Z5J4NCwvQk8I-kC8fref1yF2lQCLcBGAsYHQ/d/83_lastPage_82.jpg"
      },
      {
        "id": 83,
        "text": "sq83lastPage85",
        "url": "http://3.bp.blogspot.com/-XMiHDUGwnwQ/XyLavrxrbnI/AAAAAAAALYI/fATihVPlQ8QEcobXALwpfFtPAnlQA6ltQCLcBGAsYHQ/d/83_lastPage_85.jpg"
      }
    ]
  },
  {
    "id": 84,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq84lastPage82\", \"sq84lastPage85\", \"sq84lastPage86\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 82 then\n      images.sq84lastPage82.isVisible = true\n      leftUp = 85    leftDown = 82    rightUp = 0    rightDown = 86\n   elseif lastPage == 85 then\n      images.sq84lastPage85.isVisible = true\n      leftUp = 0    leftDown = 85    rightUp = 86    rightDown = 82\n   elseif lastPage == 86 then\n      images.sq84lastPage86.isVisible = true\n      leftUp = 82    leftDown = 86    rightUp = 85    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 84,
        "text": "sq84lastPage82",
        "url": "http://3.bp.blogspot.com/-WJrB8QzvN-E/XyLavnm2NxI/AAAAAAAALYM/BDpKs52-ZRwPKSagL-EwIR9MIw6mYcvlQCLcBGAsYHQ/d/84_lastPage_82.jpg"
      },
      {
        "id": 84,
        "text": "sq84lastPage85",
        "url": "http://3.bp.blogspot.com/-1R7B_MjZUyI/XyLavwFuDhI/AAAAAAAALYQ/U2po1sNdiqEIeJ2geBVXLqqntwhtdF9DgCLcBGAsYHQ/d/84_lastPage_85.jpg"
      },
      {
        "id": 84,
        "text": "sq84lastPage86",
        "url": "http://3.bp.blogspot.com/-BFDn4e2ACmg/XyLav0gCSpI/AAAAAAAALYU/Q4dQBb-dxRUTCsIKPD4PBnuegdudJwzHwCLcBGAsYHQ/d/84_lastPage_86.jpg"
      }
    ]
  },
  {
    "id": 85,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq85lastPage83\", \"sq85lastPage84\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 83 then\n      images.sq85lastPage83.isVisible = true\n      leftUp = 0    leftDown = 83    rightUp = 0    rightDown = 84\n   elseif lastPage == 84 then\n      images.sq85lastPage84.isVisible = true\n      leftUp = 83    leftDown = 84    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 85,
        "text": "sq85lastPage83",
        "url": "http://3.bp.blogspot.com/-5tiGtFxYu3M/XyLawNSQWaI/AAAAAAAALYY/Q7z3GvDAyIk-X6SSzeU2LB90U0luB3EowCLcBGAsYHQ/d/85_lastPage_83.jpg"
      },
      {
        "id": 85,
        "text": "sq85lastPage84",
        "url": "http://3.bp.blogspot.com/-TeaRxFPNS0s/XyLawdc4L3I/AAAAAAAALYg/7dLyN8XWFssDZ1K4g0gm3IhO61gt_R56ACLcBGAsYHQ/d/85_lastPage_84.jpg"
      }
    ]
  },
  {
    "id": 86,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq86lastPage84\", \"sq86lastPage87\", \"sq86lastPage90\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 84 then\n      images.sq86lastPage84.isVisible = true\n      leftUp = 87    leftDown = 84    rightUp = 90    rightDown = 0\n   elseif lastPage == 87 then\n      images.sq86lastPage87.isVisible = true\n      leftUp = 90    leftDown = 87    rightUp = 0    rightDown = 84\n   elseif lastPage == 90 then\n      images.sq86lastPage90.isVisible = true\n      leftUp = 0    leftDown = 90    rightUp = 84    rightDown = 87\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 86,
        "text": "sq86lastPage84",
        "url": "http://3.bp.blogspot.com/-b-ThRtMD5Mg/XyLawYZwGvI/AAAAAAAALYc/t0JBQNbiX40kCB_pFdnoRFqi5MD3r_oXgCLcBGAsYHQ/d/86_lastPage_84.jpg"
      },
      {
        "id": 86,
        "text": "sq86lastPage87",
        "url": "http://3.bp.blogspot.com/-3k0z_1rI7m8/XyLawqXljxI/AAAAAAAALYk/ThtbLqJ6jeAaDxrp8sVAqKKdpi9I57DuACLcBGAsYHQ/d/86_lastPage_87.jpg"
      },
      {
        "id": 86,
        "text": "sq86lastPage90",
        "url": "http://3.bp.blogspot.com/-o4LaeJXN4yI/XyLaw2jGTLI/AAAAAAAALYs/apc-AhWnFOEIxm9aqI9lqj_lAxhFq4XtACLcBGAsYHQ/d/86_lastPage_90.jpg"
      }
    ]
  },
  {
    "id": 87,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq87lastPage86\", \"sq87lastPage88\", \"sq87lastPage89\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 86 then\n      images.sq87lastPage86.isVisible = true\n      leftUp = 88    leftDown = 86    rightUp = 89    rightDown = 0\n   elseif lastPage == 88 then\n      images.sq87lastPage88.isVisible = true\n      leftUp = 89    leftDown = 88    rightUp = 0    rightDown = 86\n   elseif lastPage == 89 then\n      images.sq87lastPage89.isVisible = true\n      leftUp = 0    leftDown = 89    rightUp = 86    rightDown = 88\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 87,
        "text": "sq87lastPage86",
        "url": "http://3.bp.blogspot.com/-BBgVLFolMco/XyLawzdO6-I/AAAAAAAALYo/xGXQMg6ujMwLQu-TizydJ_kSCT21yv9EwCLcBGAsYHQ/d/87_lastPage_86.jpg"
      },
      {
        "id": 87,
        "text": "sq87lastPage88",
        "url": "http://3.bp.blogspot.com/-baAhDomUEEk/XyLaxPOnpBI/AAAAAAAALYw/LcF__f4L-AwmSrFQf-Ys7W8_dVtodKS4wCLcBGAsYHQ/d/87_lastPage_88.jpg"
      },
      {
        "id": 87,
        "text": "sq87lastPage89",
        "url": "http://3.bp.blogspot.com/-kTDdUzK58f0/XyLaxVxCimI/AAAAAAAALY4/AnZmDYHP_24s8n-qF3Hd597Y8E9stEYHwCLcBGAsYHQ/d/87_lastPage_89.jpg"
      }
    ]
  },
  {
    "id": 88,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq88lastPage87\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq88lastPage87.isVisible = true\n      leftUp = 0    leftDown = 87    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 88,
        "text": "sq88lastPage87",
        "url": "http://3.bp.blogspot.com/-hbvAnu5jX50/XyLaxeb0kOI/AAAAAAAALY0/ZLPiGLiL-BYPgz9vZy3VkbbhIYCLYIUMgCLcBGAsYHQ/d/88_lastPage_87.jpg"
      }
    ]
  },
  {
    "id": 89,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq89lastPage87\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq89lastPage87.isVisible = true\n      leftUp = 0    leftDown = 87    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_do": "function lua_do()\n   hasNewMap = true\nend",
        "lua_if": "function lua_if()\nreturn (not isFight) and (not hasMapPart2) and (not hasAllMap) \nend",
        "super_calculate": false,
        "id": 89,
        "calculate": false,
        "text": "Огромный библиотечный стеллаж почти пуст. К нему приставлена ветхая лестница.\nОсмотреть",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn (not isFight) and hasNewMap\nend",
        "super_calculate": false,
        "id": 89,
        "calculate": false,
        "text": "Книги на нижних полках почернели от плесени. Придирчиво осмотрев лестницу, Вы всё же решились воспользоваться ею. Нижняя ступенья треснула под Вашим весом, но другие оказались более прочными. Риск был вознаграждён — на верхней полке Вы обнаружили пергаментный свиток с обрывком карты.",
        "merge": true
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\n   hasMapPart2 = true\n   hasNewMap = false\nend",
        "lua_if": "function lua_if()\nreturn hasNewMap\nend",
        "super_calculate": false,
        "id": 127,
        "text": "Взять карту",
        "calculate": false,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 89,
        "text": "sq89lastPage87",
        "url": "http://3.bp.blogspot.com/-L8kVch-tqDQ/XyLaxnMSmRI/AAAAAAAALY8/XGW_AqFHntob6Jv8s04J9h9QrrZzOD4HgCLcBGAsYHQ/d/89_lastPage_87.jpg"
      }
    ]
  },
  {
    "id": 90,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq90lastPage86\", \"sq90lastPage91\", \"sq90lastPage93\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 86 then\n      images.sq90lastPage86.isVisible = true\n      leftUp = 93    leftDown = 86    rightUp = 0    rightDown = 91\n   elseif lastPage == 91 then\n      images.sq90lastPage91.isVisible = true\n      leftUp = 86    leftDown = 91    rightUp = 93    rightDown = 0\n   elseif lastPage == 93 then\n      images.sq90lastPage93.isVisible = true\n      leftUp = 0    leftDown = 93    rightUp = 86    rightDown = 91\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 90,
        "text": "sq90lastPage86",
        "url": "http://3.bp.blogspot.com/-sWlIU-6WSJw/XyLax5M_WoI/AAAAAAAALZA/15pvcVYi4rArBUeKrrYHzWng5PxFxyY1gCLcBGAsYHQ/d/90_lastPage_86.jpg"
      },
      {
        "id": 90,
        "text": "sq90lastPage91",
        "url": "http://3.bp.blogspot.com/-8I2hDY5QrZM/XyLax_XI3MI/AAAAAAAALZE/cYXDJGGJmhITSeiHIxSJlycWW5sASF4TgCLcBGAsYHQ/d/90_lastPage_91.jpg"
      },
      {
        "id": 90,
        "text": "sq90lastPage93",
        "url": "http://3.bp.blogspot.com/-mV_-0JdzrL0/XyLayPyaDaI/AAAAAAAALZI/DWaHbe0zWfAY77GhwWkniDz2zblNCr_SgCLcBGAsYHQ/d/90_lastPage_93.jpg"
      }
    ]
  },
  {
    "id": 91,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq91lastPage32\", \"sq91lastPage33\", \"sq91lastPage90\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 32 then\n      images.sq91lastPage32.isVisible = true\n      leftUp = 0    leftDown = 32    rightUp = 90    rightDown = 33\n   elseif lastPage == 33 then\n      images.sq91lastPage33.isVisible = true\n      leftUp = 32    leftDown = 33    rightUp = 0    rightDown = 90\n   elseif lastPage == 90 then\n      images.sq91lastPage90.isVisible = true\n      leftUp = 33    leftDown = 90    rightUp = 32    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 91,
        "text": "sq91lastPage32",
        "url": "http://3.bp.blogspot.com/-3VFl3hIXNxk/XyLayLnIY7I/AAAAAAAALZM/cbXmKN1IwZcXoh367oODEZrojaGskKtAwCLcBGAsYHQ/d/91_lastPage_32.jpg"
      },
      {
        "id": 91,
        "text": "sq91lastPage33",
        "url": "http://3.bp.blogspot.com/-BRsXp2bcBqI/XyLayStVZXI/AAAAAAAALZQ/Z5HBbcXFbpUpza99WuYkRWFaJQE9ATWAQCLcBGAsYHQ/d/91_lastPage_33.jpg"
      },
      {
        "id": 91,
        "text": "sq91lastPage90",
        "url": "http://3.bp.blogspot.com/-ijWEbgEsCjo/XyLaypt5-YI/AAAAAAAALZU/rvVCZo3uirk4fventSseQTDihEuEId5uQCLcBGAsYHQ/d/91_lastPage_90.jpg"
      }
    ]
  },
  {
    "id": 92,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq92lastPage32\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq92lastPage32.isVisible = true\n      leftUp = 0    leftDown = 32    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 92,
        "text": "sq92lastPage32",
        "url": "http://3.bp.blogspot.com/-zyKnggDk2v8/XyLayp1R61I/AAAAAAAALZY/MpwQaEIkDUENmqMxPI--rQ-VOInpIqt0gCLcBGAsYHQ/d/92_lastPage_32.jpg"
      }
    ]
  },
  {
    "id": 93,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq93lastPage90\", \"sq93lastPage94\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 90 then\n      images.sq93lastPage90.isVisible = true\n      leftUp = 0    leftDown = 90    rightUp = 0    rightDown = 94\n   elseif lastPage == 94 then\n      images.sq93lastPage94.isVisible = true\n      leftUp = 90    leftDown = 94    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 93,
        "text": "sq93lastPage90",
        "url": "http://3.bp.blogspot.com/-Rvya-cGSV7Y/XyLayxpeiKI/AAAAAAAALZc/dGdnhd1gUIQQNau5pEF8cgnhWZVyOjTtQCLcBGAsYHQ/d/93_lastPage_90.jpg"
      },
      {
        "id": 93,
        "text": "sq93lastPage94",
        "url": "http://3.bp.blogspot.com/-p-kp6KfP538/XyLazfxi3pI/AAAAAAAALZg/6Ng59dj0YgIjIxjOkcCXkoQJU8k3Cb-_wCLcBGAsYHQ/d/93_lastPage_94.jpg"
      }
    ]
  },
  {
    "id": 94,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq94lastPage93\", \"sq94lastPage95\", \"sq94lastPage96\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 93 then\n      images.sq94lastPage93.isVisible = true\n      leftUp = 95    leftDown = 93    rightUp = 0    rightDown = 96\n   elseif lastPage == 95 then\n      images.sq94lastPage95.isVisible = true\n      leftUp = 0    leftDown = 95    rightUp = 96    rightDown = 93\n   elseif lastPage == 96 then\n      images.sq94lastPage96.isVisible = true\n      leftUp = 93    leftDown = 96    rightUp = 95    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 94,
        "text": "sq94lastPage93",
        "url": "http://3.bp.blogspot.com/-oTaeyPnTljo/XyLazk_nBII/AAAAAAAALZk/sTRvIay3cVUiex4zvapqZIoNd5KpYxj-wCLcBGAsYHQ/d/94_lastPage_93.jpg"
      },
      {
        "id": 94,
        "text": "sq94lastPage95",
        "url": "http://3.bp.blogspot.com/-4akdqAUrqbQ/XyLa0VdAP8I/AAAAAAAALZo/3k9jWEYoOLwWZ8DkWdUhKP4QW4x9mthKQCLcBGAsYHQ/d/94_lastPage_95.jpg"
      },
      {
        "id": 94,
        "text": "sq94lastPage96",
        "url": "http://3.bp.blogspot.com/-Ls6XaRVuHS8/XyLa0wCb9EI/AAAAAAAALZs/8-ItJhzbeuc8zobs5Kwvkr-VMwAJK3IdACLcBGAsYHQ/d/94_lastPage_96.jpg"
      }
    ]
  },
  {
    "id": 95,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq95lastPage94\", \"sq95lastPage97\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 94 then\n      images.sq95lastPage94.isVisible = true\n      leftUp = 0    leftDown = 94    rightUp = 0    rightDown = 97\n   elseif lastPage == 97 then\n      images.sq95lastPage97.isVisible = true\n      leftUp = 94    leftDown = 97    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 95,
        "text": "sq95lastPage94",
        "url": "http://3.bp.blogspot.com/-5a86Djc7WjU/XyLa1dIagFI/AAAAAAAALZw/6j-w-SISRGYNUOwg6x2gdJDsOof8XDLZACLcBGAsYHQ/d/95_lastPage_94.jpg"
      },
      {
        "id": 95,
        "text": "sq95lastPage97",
        "url": "http://3.bp.blogspot.com/-LDCUxzlyNlk/XyLa1uZ_B4I/AAAAAAAALZ0/pooda2bjPnU69R0eR8mcbeJ2SMqic9B2wCLcBGAsYHQ/d/95_lastPage_97.jpg"
      }
    ]
  },
  {
    "id": 96,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq96lastPage94\", \"sq96lastPage98\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 94 then\n      images.sq96lastPage94.isVisible = true\n      leftUp = 98    leftDown = 94    rightUp = 0    rightDown = 0\n   elseif lastPage == 98 then\n      images.sq96lastPage98.isVisible = true\n      leftUp = 0    leftDown = 98    rightUp = 0    rightDown = 94\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 96,
        "text": "sq96lastPage94",
        "url": "http://3.bp.blogspot.com/-PqRVGiLxtNg/XyLa19ekTRI/AAAAAAAALZ4/Jno78c-phKw4O7Xy6-YSEyBY2kFAf_ErQCLcBGAsYHQ/d/96_lastPage_94.jpg"
      },
      {
        "id": 96,
        "text": "sq96lastPage98",
        "url": "http://3.bp.blogspot.com/-h1TIGDCQlpo/XyLa2AoV4_I/AAAAAAAALZ8/BciBrVDrunM64puq9Dy8rveJgw6Hgj72ACLcBGAsYHQ/d/96_lastPage_98.jpg"
      }
    ]
  },
  {
    "id": 97,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq97lastPage95\", \"sq97lastPage99\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 95 then\n      images.sq97lastPage95.isVisible = true\n      leftUp = 0    leftDown = 95    rightUp = 99    rightDown = 0\n   elseif lastPage == 99 then\n      images.sq97lastPage99.isVisible = true\n      leftUp = 0    leftDown = 99    rightUp = 95    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 97,
        "text": "sq97lastPage95",
        "url": "http://3.bp.blogspot.com/-LqY5Gy28obM/XyLa2EHiJPI/AAAAAAAALaA/NSWs6-AlPHUEsCm6I79m7VJurS92QhtEwCLcBGAsYHQ/d/97_lastPage_95.jpg"
      },
      {
        "id": 97,
        "text": "sq97lastPage99",
        "url": "http://3.bp.blogspot.com/-OrnQvie3uxU/XyLa2QmfSiI/AAAAAAAALaE/xakoCnhvf-0Da4LxP7DhcJtowtNNi98cQCLcBGAsYHQ/d/97_lastPage_99.jpg"
      }
    ]
  },
  {
    "id": 98,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq98lastPage96\", \"sq98lastPage99\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 96 then\n      images.sq98lastPage96.isVisible = true\n      leftUp = 99    leftDown = 96    rightUp = 0    rightDown = 0\n   elseif lastPage == 99 then\n      images.sq98lastPage99.isVisible = true\n      leftUp = 0    leftDown = 99    rightUp = 0    rightDown = 96\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 98,
        "text": "sq98lastPage96",
        "url": "http://3.bp.blogspot.com/-vdtQtc59_Uk/XyLa2pYuuYI/AAAAAAAALaI/3X9JouKkx5A5N1FFWLs9_Qdntct6JyY4QCLcBGAsYHQ/d/98_lastPage_96.jpg"
      },
      {
        "id": 98,
        "text": "sq98lastPage99",
        "url": "http://3.bp.blogspot.com/-QT2XbAiLEk8/XyLa2rP6vII/AAAAAAAALaM/vQ1lrgGwa0Ietpg-RY5VtEjuNhlVjqdlQCLcBGAsYHQ/d/98_lastPage_99.jpg"
      }
    ]
  },
  {
    "id": 99,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq99lastPage97\", \"sq99lastPage98\", \"sq99lastPage100\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 97 then\n      images.sq99lastPage97.isVisible = true\n      leftUp = 0    leftDown = 97    rightUp = 100    rightDown = 98\n   elseif lastPage == 98 then\n      images.sq99lastPage98.isVisible = true\n      leftUp = 97    leftDown = 98    rightUp = 0    rightDown = 100\n   elseif lastPage == 100 then\n      images.sq99lastPage100.isVisible = true\n      leftUp = 98    leftDown = 100    rightUp = 97    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 99,
        "text": "sq99lastPage97",
        "url": "http://3.bp.blogspot.com/-0RvX-fs7Jkk/XyLa26baldI/AAAAAAAALaQ/WV9ie6I7zGMtFVsPI58lr75DBxD4RlYvwCLcBGAsYHQ/d/99_lastPage_97.jpg"
      },
      {
        "id": 99,
        "text": "sq99lastPage98",
        "url": "http://3.bp.blogspot.com/-T4XrKCRQD-c/XyLa3H84csI/AAAAAAAALaY/U_YVR09tc-UUhSdSgYxqTa2m8cFhjSXdwCLcBGAsYHQ/d/99_lastPage_98.jpg"
      },
      {
        "id": 99,
        "text": "sq99lastPage100",
        "url": "http://3.bp.blogspot.com/-6AuM6x19ejk/XyLa2-MWxHI/AAAAAAAALaU/vbpncDzoC4IhW6DbR3dFqkTNfgbSklZGACLcBGAsYHQ/d/99_lastPage_100.jpg"
      }
    ]
  },
  {
    "id": 100,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq100lastPage99\", \"sq100lastPage101\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 99 then\n      images.sq100lastPage99.isVisible = true\n      leftUp = 0    leftDown = 99    rightUp = 0    rightDown = 101\n   elseif lastPage == 101 then\n      images.sq100lastPage101.isVisible = true\n      leftUp = 99    leftDown = 101    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 100,
        "text": "sq100lastPage99",
        "url": "http://3.bp.blogspot.com/-DVRvVGijcq0/XyQOUhGPUYI/AAAAAAAALbY/ctOi1H_KYYIVptOlGWtl4poBB6baFXtPACLcBGAsYHQ/d/100_lastPage_99.jpg"
      },
      {
        "id": 100,
        "text": "sq100lastPage101",
        "url": "http://3.bp.blogspot.com/-auE33ee8TUY/XyQOUVRKqCI/AAAAAAAALbU/3A6wxv2_y1sNBwPlO5KwZlPkKq2oM4pPACLcBGAsYHQ/d/100_lastPage_101.jpg"
      }
    ]
  },
  {
    "id": 101,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq101lastPage100\", \"sq101lastPage102\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 100 then\n      images.sq101lastPage100.isVisible = true\n      leftUp = 102    leftDown = 100    rightUp = 0    rightDown = 0\n   elseif lastPage == 102 then\n      images.sq101lastPage102.isVisible = true\n      leftUp = 0    leftDown = 102    rightUp = 0    rightDown = 100\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 101,
        "text": "sq101lastPage100",
        "url": "http://3.bp.blogspot.com/-UHFoRlKSMO4/XyQOUvY3rsI/AAAAAAAALbc/vSrwuznAgkkMsnaewMSHz1lmUJzftluMACLcBGAsYHQ/d/101_lastPage_100.jpg"
      },
      {
        "id": 101,
        "text": "sq101lastPage102",
        "url": "http://3.bp.blogspot.com/-KhPI3f5aQO0/XyQOVOhksoI/AAAAAAAALbg/RwRkgi9JsQ4Bhaixz4URpqWNx4htMLo1ACLcBGAsYHQ/d/101_lastPage_102.jpg"
      }
    ]
  },
  {
    "id": 102,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq102lastPage101\", \"sq102lastPage103\", \"sq102lastPage104\", \"sq102lastPage105\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 101 then\n      images.sq102lastPage101.isVisible = true\n      leftUp = 103    leftDown = 101    rightUp = 104    rightDown = 105\n   elseif lastPage == 103 then\n      images.sq102lastPage103.isVisible = true\n      leftUp = 104    leftDown = 103    rightUp = 105    rightDown = 101\n   elseif lastPage == 104 then\n      images.sq102lastPage104.isVisible = true\n      leftUp = 105    leftDown = 104    rightUp = 102    rightDown = 103\n   elseif lastPage == 105 then\n      images.sq102lastPage105.isVisible = true\n      leftUp = 101    leftDown = 105    rightUp = 103    rightDown = 104\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 102,
        "text": "sq102lastPage101",
        "url": "http://3.bp.blogspot.com/-jY85wnRdtFA/XyQOVBcSVdI/AAAAAAAALbk/FuMJa4C0KEQUhPsChLNtbv3jiaPJ_cDHQCLcBGAsYHQ/d/102_lastPage_101.jpg"
      },
      {
        "id": 102,
        "text": "sq102lastPage103",
        "url": "http://3.bp.blogspot.com/-PiGFlIfKSZc/XyQOVbaavvI/AAAAAAAALbo/_GTdXgBCrQ42J89vw9ckseuyqIgVV9Q3wCLcBGAsYHQ/d/102_lastPage_103.jpg"
      },
      {
        "id": 102,
        "text": "sq102lastPage104",
        "url": "http://3.bp.blogspot.com/-ey7kWgxVkiE/XyQOViWhR0I/AAAAAAAALbs/NcfrVBtFF90AF848fgNKiU1a5h7m6HUjQCLcBGAsYHQ/d/102_lastPage_104.jpg"
      },
      {
        "id": 102,
        "text": "sq102lastPage105",
        "url": "http://3.bp.blogspot.com/-MhLep2lblEo/XyQOVnnx72I/AAAAAAAALb0/uP3JSRVLjq4u7M9gcQXLla-ypOQ5b1aewCLcBGAsYHQ/d/102_lastPage_105.jpg"
      }
    ]
  },
  {
    "id": 103,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq103lastPage102\", \"sq103lastPage106\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 102 then\n      images.sq103lastPage102.isVisible = true\n      leftUp = 0    leftDown = 102    rightUp = 0    rightDown = 106\n   elseif lastPage == 106 then\n      images.sq103lastPage106.isVisible = true\n      leftUp = 102    leftDown = 106    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 103,
        "text": "sq103lastPage102",
        "url": "http://3.bp.blogspot.com/-vp-lf3eR9Qw/XyQOVgN5HnI/AAAAAAAALbw/2amisCi9TTUAEBo45HvQ8H0928WKZj-4wCLcBGAsYHQ/d/103_lastPage_102.jpg"
      },
      {
        "id": 103,
        "text": "sq103lastPage106",
        "url": "http://3.bp.blogspot.com/-JxCBkkQn5qQ/XyQOWFvaGYI/AAAAAAAALb4/IVECQ9c-Dpoe6asDdKp_DP2h4y4o7ydKACLcBGAsYHQ/d/103_lastPage_106.jpg"
      }
    ]
  },
  {
    "id": 104,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq104lastPage102\", \"sq104lastPage112\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 102 then\n      images.sq104lastPage102.isVisible = true\n      leftUp = 0    leftDown = 102    rightUp = 0    rightDown = 112\n   elseif lastPage == 112 then\n      images.sq104lastPage112.isVisible = true\n      leftUp = 102    leftDown = 112    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 104,
        "text": "sq104lastPage102",
        "url": "http://3.bp.blogspot.com/-RBX0zSsDtZ4/XyQOWZLZgEI/AAAAAAAALb8/8DG-E9kNUEIOXT6Mio6HJfhmQ8vnFi_agCLcBGAsYHQ/d/104_lastPage_102.jpg"
      },
      {
        "id": 104,
        "text": "sq104lastPage112",
        "url": "http://3.bp.blogspot.com/-DdAS0U3Ku1c/XyQOWWD8gEI/AAAAAAAALcA/F697cyv-S64UZNzhyKRTReVUY7I9q0ioACLcBGAsYHQ/d/104_lastPage_112.jpg"
      }
    ]
  },
  {
    "id": 105,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq105lastPage102\", \"sq105lastPage117\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 102 then\n      images.sq105lastPage102.isVisible = true\n      leftUp = 0    leftDown = 102    rightUp = 117    rightDown = 0\n   elseif lastPage == 117 then\n      images.sq105lastPage117.isVisible = true\n      leftUp = 0    leftDown = 117    rightUp = 102    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 105,
        "text": "sq105lastPage102",
        "url": "http://3.bp.blogspot.com/-DYv6XxbAquE/XyQOWubUrOI/AAAAAAAALcE/fEuOJddWzdozMRxULfW4jAjMjRpvUF2xACLcBGAsYHQ/d/105_lastPage_102.jpg"
      },
      {
        "id": 105,
        "text": "sq105lastPage117",
        "url": "http://3.bp.blogspot.com/-fbmZNwT2Y58/XyQOXIHdL5I/AAAAAAAALcI/WSQlN1fBGho5Vekig_YEHEeF5ohD1RCCwCLcBGAsYHQ/d/105_lastPage_117.jpg"
      }
    ]
  },
  {
    "id": 106,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq106lastPage103\", \"sq106lastPage107\", \"sq106lastPage109\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 103 then\n      images.sq106lastPage103.isVisible = true\n      leftUp = 107    leftDown = 103    rightUp = 109    rightDown = 0\n   elseif lastPage == 107 then\n      images.sq106lastPage107.isVisible = true\n      leftUp = 109    leftDown = 107    rightUp = 0    rightDown = 103\n   elseif lastPage == 109 then\n      images.sq106lastPage109.isVisible = true\n      leftUp = 0    leftDown = 109    rightUp = 103    rightDown = 107\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 106,
        "text": "sq106lastPage103",
        "url": "http://3.bp.blogspot.com/-Nw6l2Au1ZGQ/XyQOXK45vrI/AAAAAAAALcM/twIBfQeBzLgucUpRzkvtZHBaq-0i9V2lwCLcBGAsYHQ/d/106_lastPage_103.jpg"
      },
      {
        "id": 106,
        "text": "sq106lastPage107",
        "url": "http://3.bp.blogspot.com/-iTPt4kdyRGs/XyQOXZvoQ7I/AAAAAAAALcQ/1ROX3QB0vn0bv3LB4ZcgJhZENNG7C2vZQCLcBGAsYHQ/d/106_lastPage_107.jpg"
      },
      {
        "id": 106,
        "text": "sq106lastPage109",
        "url": "http://3.bp.blogspot.com/-dqylFDkzSww/XyQOX5wFglI/AAAAAAAALcc/kBasaRunQ7gRPbQg2NWPLdHNnb7bIrgMgCLcBGAsYHQ/d/106_lastPage_109.jpg"
      }
    ]
  },
  {
    "id": 107,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq107lastPage106\", \"sq107lastPage108\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 106 then\n      images.sq107lastPage106.isVisible = true\n      leftUp = 108    leftDown = 106    rightUp = 0    rightDown = 0\n   elseif lastPage == 108 then\n      images.sq107lastPage108.isVisible = true\n      leftUp = 0    leftDown = 108    rightUp = 0    rightDown = 106\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 107,
        "text": "sq107lastPage106",
        "url": "http://3.bp.blogspot.com/-LRwUBAg8Ga8/XyQOXzTtbGI/AAAAAAAALcY/l6rY1U7zRUMVIcwz6TRzraXo5X5pNRN_gCLcBGAsYHQ/d/107_lastPage_106.jpg"
      },
      {
        "id": 107,
        "text": "sq107lastPage108",
        "url": "http://3.bp.blogspot.com/-DSOfds0nZ8I/XyQOXoYAPXI/AAAAAAAALcU/UgARQm0lyJUHDVJg8uY3Nf2G5FCRjuAJwCLcBGAsYHQ/d/107_lastPage_108.jpg"
      }
    ]
  },
  {
    "id": 108,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq108lastPage107\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq108lastPage107.isVisible = true\n      leftUp = 0    leftDown = 107    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 108,
        "text": "sq108lastPage107",
        "url": "http://3.bp.blogspot.com/-otnM6r9uVEk/XyQOYUqOV-I/AAAAAAAALck/3K_b7ic9OOYZoBGJhGfrw1pSlY5WEZzdQCLcBGAsYHQ/d/108_lastPage_107.jpg"
      }
    ]
  },
  {
    "id": 109,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq109lastPage106\", \"sq109lastPage110\", \"sq109lastPage111\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 106 then\n      images.sq109lastPage106.isVisible = true\n      leftUp = 110    leftDown = 106    rightUp = 0    rightDown = 111\n   elseif lastPage == 110 then\n      images.sq109lastPage110.isVisible = true\n      leftUp = 0    leftDown = 110    rightUp = 111    rightDown = 106\n   elseif lastPage == 111 then\n      images.sq109lastPage111.isVisible = true\n      leftUp = 106    leftDown = 111    rightUp = 110    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 109,
        "text": "sq109lastPage106",
        "url": "http://3.bp.blogspot.com/-uT_C0g-5O60/XyQOYDh45CI/AAAAAAAALcg/2tSQUgMkWA0tFRmhgT0oxpwFKEjw7NuhgCLcBGAsYHQ/d/109_lastPage_106.jpg"
      },
      {
        "id": 109,
        "text": "sq109lastPage110",
        "url": "http://3.bp.blogspot.com/-nDs0SGgNcV0/XyQOYfJlXMI/AAAAAAAALco/uuQOrb0ClywqNa3t7fkYoK6TQID7mzraACLcBGAsYHQ/d/109_lastPage_110.jpg"
      },
      {
        "id": 109,
        "text": "sq109lastPage111",
        "url": "http://3.bp.blogspot.com/-eUfY89r0ThI/XyQOY1nBlPI/AAAAAAAALcs/sKNchtPuI2w2zgWEzqaiX7disfvXlPZ5wCLcBGAsYHQ/d/109_lastPage_111.jpg"
      }
    ]
  },
  {
    "id": 110,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq110lastPage109\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq110lastPage109.isVisible = true\n      leftUp = 0    leftDown = 109    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "lua_do": "function lua_do()\n   hasNewMap = true\nend",
        "lua_if": "function lua_if()\nreturn (not isFight) and (not hasMapPart4) and (not hasAllMap) \nend",
        "super_calculate": false,
        "id": 110,
        "calculate": false,
        "text": "Кому бы ни принадлежал этот кабинет, он давно заброшен. Чернила в брошенном на столе дневнике выцвели от времени, различить можно лишь обрывки дат и алхимические круги, выведеные чем-то подозрительно напоминающим запёкшуюся кровь. Полки уставлены томами в точно таких же переплётах.\nОсмотреть",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn (not isFight) and hasNewMap\nend",
        "super_calculate": false,
        "id": 110,
        "calculate": false,
        "text": "Судя по истёртости обложек, дневники неизвестного расставлены в хронологическом порядке. Крайние справа в нижнем углу шкафа выглядят почти новыми, если не считать потускневшей от пыли кожи. Вы открыли самый последний том. Чернила уцелели, но увы, язык Вам не знаком. Уже собираясь поставить дневник на место, Вы заметили  карман под задней обложкой. Сложенный вчетверо, там был припрятан обрывок карты.",
        "merge": true
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\n   hasMapPart4 = true\n   hasNewMap = false\nend",
        "lua_if": "function lua_if()\nreturn hasNewMap\nend",
        "super_calculate": false,
        "id": 129,
        "text": "Взять карту",
        "calculate": false,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 110,
        "text": "sq110lastPage109",
        "url": "http://3.bp.blogspot.com/-kUQPMKqvB68/XyQOZGD7OEI/AAAAAAAALcw/WmNmsyUb1k0DGxT3IAiIAtRbga6N2xMzwCLcBGAsYHQ/d/110_lastPage_109.jpg"
      }
    ]
  },
  {
    "id": 111,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq111lastPage109\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq111lastPage109.isVisible = true\n      leftUp = 0    leftDown = 109    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 111,
        "text": "sq111lastPage109",
        "url": "http://3.bp.blogspot.com/-r-k7WBKWv1g/XyQOZHgvwtI/AAAAAAAALc0/zQcwNG81OP4SJuNk012Ii2fyF10OsIaHwCLcBGAsYHQ/d/111_lastPage_109.jpg"
      }
    ]
  },
  {
    "id": 112,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq112lastPage104\", \"sq112lastPage113\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 104 then\n      images.sq112lastPage104.isVisible = true\n      leftUp = 113    leftDown = 104    rightUp = 0    rightDown = 0\n   elseif lastPage == 113 then\n      images.sq112lastPage113.isVisible = true\n      leftUp = 0    leftDown = 113    rightUp = 0    rightDown = 104\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 112,
        "text": "sq112lastPage104",
        "url": "http://3.bp.blogspot.com/-t8x6FIxZyJU/XyQOZQCBPyI/AAAAAAAALc4/Fr9Ef63gwpoVGVv8kgDMqJUHI9_spHeFQCLcBGAsYHQ/d/112_lastPage_104.jpg"
      },
      {
        "id": 112,
        "text": "sq112lastPage113",
        "url": "http://3.bp.blogspot.com/-3trIQxFobpo/XyQOZYyAbmI/AAAAAAAALc8/g8QoOUKTstU5zkN453QgYJxIC1UhYZgnwCLcBGAsYHQ/d/112_lastPage_113.jpg"
      }
    ]
  },
  {
    "id": 113,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq113lastPage112\", \"sq113lastPage114\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 112 then\n      images.sq113lastPage112.isVisible = true\n      leftUp = 0    leftDown = 112    rightUp = 0    rightDown = 114\n   elseif lastPage == 114 then\n      images.sq113lastPage114.isVisible = true\n      leftUp = 112    leftDown = 114    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 113,
        "text": "sq113lastPage112",
        "url": "http://3.bp.blogspot.com/-uS_Sv0YWdIk/XyQOZseQDpI/AAAAAAAALdA/OFa9PCYm7O00rkVSaz_BTXLNreCYMOZaACLcBGAsYHQ/d/113_lastPage_112.jpg"
      },
      {
        "id": 113,
        "text": "sq113lastPage114",
        "url": "http://3.bp.blogspot.com/-XTEH5KU1XmM/XyQOaBfQFhI/AAAAAAAALdI/cyxqmTSJuEIhPhj3HIfl12kcfYcbehxvACLcBGAsYHQ/d/113_lastPage_114.jpg"
      }
    ]
  },
  {
    "id": 114,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq114lastPage113\", \"sq114lastPage115\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 113 then\n      images.sq114lastPage113.isVisible = true\n      leftUp = 0    leftDown = 113    rightUp = 115    rightDown = 0\n   elseif lastPage == 115 then\n      images.sq114lastPage115.isVisible = true\n      leftUp = 0    leftDown = 115    rightUp = 113    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 114,
        "text": "sq114lastPage113",
        "url": "http://3.bp.blogspot.com/-xnvTCMJ-Z38/XyQOZ0SezLI/AAAAAAAALdE/c_8a5w0npJw287XfSFYP95gSavzrAWDTQCLcBGAsYHQ/d/114_lastPage_113.jpg"
      },
      {
        "id": 114,
        "text": "sq114lastPage115",
        "url": "http://3.bp.blogspot.com/-c3dRFIL8o4U/XyQOaBmrw1I/AAAAAAAALdM/1fZxwH4ZlSwzajG3MQ2yjxmLqamZ1mw5gCLcBGAsYHQ/d/114_lastPage_115.jpg"
      }
    ]
  },
  {
    "id": 115,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq115lastPage114\", \"sq115lastPage116\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 114 then\n      images.sq115lastPage114.isVisible = true\n      leftUp = 0    leftDown = 114    rightUp = 0    rightDown = 116\n   elseif lastPage == 116 then\n      images.sq115lastPage116.isVisible = true\n      leftUp = 114    leftDown = 116    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 115,
        "text": "sq115lastPage114",
        "url": "http://3.bp.blogspot.com/-ckc3bIHlIJc/XyQOafbiPDI/AAAAAAAALdQ/J26BUbSATAA1HEQp8z0_RM_Oefc_7MO0ACLcBGAsYHQ/d/115_lastPage_114.jpg"
      },
      {
        "id": 115,
        "text": "sq115lastPage116",
        "url": "http://3.bp.blogspot.com/-fPi7M7xO39A/XyQOandfxbI/AAAAAAAALdU/lqL8XM4xH4QYPpy2DNwHS0fsmnDOAmX7ACLcBGAsYHQ/d/115_lastPage_116.jpg"
      }
    ]
  },
  {
    "id": 116,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq116lastPage35\", \"sq116lastPage115\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 35 then\n      images.sq116lastPage35.isVisible = true\n      leftUp = 0    leftDown = 35    rightUp = 115    rightDown = 0\n   elseif lastPage == 115 then\n      images.sq116lastPage115.isVisible = true\n      leftUp = 0    leftDown = 115    rightUp = 35    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 116,
        "text": "sq116lastPage35",
        "url": "http://3.bp.blogspot.com/-h1LsZgpM4xc/XyQObF39odI/AAAAAAAALdg/H598UwDLHi0uKNWGDiFLqa5u6hzYfvKpwCLcBGAsYHQ/d/116_lastPage_35.jpg"
      },
      {
        "id": 116,
        "text": "sq116lastPage115",
        "url": "http://3.bp.blogspot.com/-65BSj5rRE3Y/XyQOahvsllI/AAAAAAAALdY/abeBdEVirYk2LBwVi1CLQVB8eBtuM0NOACLcBGAsYHQ/d/116_lastPage_115.jpg"
      }
    ]
  },
  {
    "id": 117,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq117lastPage35\", \"sq117lastPage105\", \"sq117lastPage118\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 35 then\n      images.sq117lastPage35.isVisible = true\n      leftUp = 118    leftDown = 35    rightUp = 105    rightDown = 0\n   elseif lastPage == 105 then\n      images.sq117lastPage105.isVisible = true\n      leftUp = 0    leftDown = 105    rightUp = 35    rightDown = 118\n   elseif lastPage == 118 then\n      images.sq117lastPage118.isVisible = true\n      leftUp = 105    leftDown = 118    rightUp = 0    rightDown = 35\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 117,
        "text": "sq117lastPage35",
        "url": "http://3.bp.blogspot.com/-EVCmcc9fOkw/XyQObzoXA_I/AAAAAAAALdo/hXLYp1hJjF8wGIYU3W56bpXxeykzX0LDQCLcBGAsYHQ/d/117_lastPage_35.jpg"
      },
      {
        "id": 117,
        "text": "sq117lastPage105",
        "url": "http://3.bp.blogspot.com/-1AGyas9HM0M/XyQObLWwqGI/AAAAAAAALdk/7B2U-OiIm28CAupLwMOP5xVTzCOlL4nbgCLcBGAsYHQ/d/117_lastPage_105.jpg"
      },
      {
        "id": 117,
        "text": "sq117lastPage118",
        "url": "http://3.bp.blogspot.com/-G9uMdbnIcYc/XyQObGPvzhI/AAAAAAAALdc/OZsSdpMMGP89lworeJxaXXgAL_OOhwXvQCLcBGAsYHQ/d/117_lastPage_118.jpg"
      }
    ]
  },
  {
    "id": 118,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq118lastPage117\", \"sq118lastPage119\", \"sq118lastPage121\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 117 then\n      images.sq118lastPage117.isVisible = true\n      leftUp = 121    leftDown = 117    rightUp = 119    rightDown = 0\n   elseif lastPage == 119 then\n      images.sq118lastPage119.isVisible = true\n      leftUp = 0    leftDown = 119    rightUp = 117    rightDown = 121\n   elseif lastPage == 121 then\n      images.sq118lastPage121.isVisible = true\n      leftUp = 119    leftDown = 121    rightUp = 0    rightDown = 117\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 118,
        "text": "sq118lastPage117",
        "url": "http://3.bp.blogspot.com/-WxmYzR0KtVE/XyQOb3Yn2uI/AAAAAAAALds/KKJB9Pu91QoVS53beeAag8E0rB8pjgCugCLcBGAsYHQ/d/118_lastPage_117.jpg"
      },
      {
        "id": 118,
        "text": "sq118lastPage119",
        "url": "http://3.bp.blogspot.com/-lJG6WVOEnjM/XyQOcJnjXiI/AAAAAAAALdw/FI2jEIH0o30cp3X2lPvEu45sd4s3TKFygCLcBGAsYHQ/d/118_lastPage_119.jpg"
      },
      {
        "id": 118,
        "text": "sq118lastPage121",
        "url": "http://3.bp.blogspot.com/-KnCyOCkuqjM/XyQOcYPnLPI/AAAAAAAALd4/XtXpher3x_8yKSEy3t7qjkZ92WZ2iMB5gCLcBGAsYHQ/d/118_lastPage_121.jpg"
      }
    ]
  },
  {
    "id": 119,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq119lastPage118\", \"sq119lastPage120\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n   if lastPage == 118 then\n      images.sq119lastPage118.isVisible = true\n      leftUp = 0    leftDown = 118    rightUp = 0    rightDown = 120\n   elseif lastPage == 120 then\n      images.sq119lastPage120.isVisible = true\n      leftUp = 118    leftDown = 120    rightUp = 0    rightDown = 0\n   end\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 119,
        "text": "sq119lastPage118",
        "url": "http://3.bp.blogspot.com/-YGu_uD8_XbE/XyQOcd2BYUI/AAAAAAAALd0/48444ASBxFIEAOVHXZawDvNsCZhXkOXWwCLcBGAsYHQ/d/119_lastPage_118.jpg"
      },
      {
        "id": 119,
        "text": "sq119lastPage120",
        "url": "http://3.bp.blogspot.com/-cuNwXKerkLk/XyQOc-rO-AI/AAAAAAAALd8/Qujy1skcpDIgjWhuWTdSBYlkax9u7MThwCLcBGAsYHQ/d/119_lastPage_120.jpg"
      }
    ]
  },
  {
    "id": 120,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq120lastPage119\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq120lastPage119.isVisible = true\n      leftUp = 0    leftDown = 119    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 120,
        "text": "sq120lastPage119",
        "url": "http://3.bp.blogspot.com/-yAU4XDYcVBw/XyQOdB6ydMI/AAAAAAAALeA/pGs4EhdGKkAeqyIFmmQymeUDFKDp2xH7wCLcBGAsYHQ/d/120_lastPage_119.jpg"
      }
    ]
  },
  {
    "id": 121,
    "text": "     ",
    "answers": [
      {
        "text": "скрытие картинок",
        "super_calculate": false,
        "id": 28,
        "instant": false,
        "run": [
          28
        ],
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\n   hidding = hideImages{\"sq121lastPage118\"}\n   fightPage = g.current_id\n   healing()\n   if activeEnemy and activeEnemy.name then isFight = true else isFight =false end\nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какие картинки скрыть",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "lua_if": "function lua_if()\nreturn isFight\nend",
        "super_calculate": false,
        "id": 29,
        "text": "встреча с врагом",
        "run": [
          29
        ],
        "instant": false
      },
      {
        "lua_do": "function lua_do()\n      images.sq121lastPage118.isVisible = true\n      leftUp = 0    leftDown = 118    rightUp = 0    rightDown = 0\nend",
        "lua_if": "function lua_if()\nreturn not isFight \nend",
        "super_calculate": false,
        "id": 18,
        "text": "Какую отобразить",
        "calculate": true,
        "merge": false
      },
      {
        "calculate": true,
        "comment": true,
        "super_calculate": false,
        "id": 42,
        "text": "лечение, кнопки направления, инвентарь     ",
        "run": [
          42
        ],
        "lua_if": "function lua_if()\nreturn  not isFight\nend"
      },
      {
        "id": 121,
        "text": "sq121lastPage118",
        "url": "http://3.bp.blogspot.com/-YaNMfzemGAM/XyQOdPkZf2I/AAAAAAAALeE/uzrIq8PKOFABXrum_xMv8KiA6laINifJACLcBGAsYHQ/d/121_lastPage_118.jpg"
      }
    ]
  },
  {
    "id": 122,
    "text": "      Лабиринт находится в режиме открытого тестирования.<s>r\n     Входя в него Вы подтверждаете, что:<s>r\n          1) морально готовы к встрече со всевозможными ошибками,<s>r\n          2) отправите скриншот ошибки в чат тестирования в ВК (активная ссылка находится по ссылке ниже).<s>r\n",
    "answers": [
      {
        "id": 122,
        "text": "Чат тестирования в ВК",
        "url": "https://vk.me/join/AJQ1d7jjbhgQhSjpnlF1kCa0"
      },
      {
        "id": 123,
        "text": "К встрече с ошибками готов!"
      },
      {
        "id": 1,
        "text": "Не-не-не, в другой раз."
      }
    ]
  },
  {
    "id": 123,
    "text": "Сложность игры:",
    "answers": [
      {
        "id": 17,
        "text": "Адепт",
        "lua_do": "function lua_do()\ncomplication = 1\nend"
      },
      {
        "id": 17,
        "text": "Маг",
        "lua_do": "function lua_do()\ncomplication = 2\nend"
      },
      {
        "id": 17,
        "text": "Архимаг",
        "lua_do": "function lua_do()\ncomplication = 3\nend"
      }
    ]
  },
  {
    "id": 124,
    "text": "Визуализация боя",
    "answers": [
      {
        "super_calculate": false,
        "id": 17,
        "text": "необходимость создания функций",
        "lua_do": "function lua_do()\nlocal tf = type(createTimer)\nneedCreateFunctions = 0\nif (tf == 'nil') or (tf == 'string') then needCreateFunctions = 1 end\nend",
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\nfunction createTimer()\ntimer.performWithDelay (1000, function(event)\n\n   if deleteAllVisualization and g.userInQuest ~= 1 then\n       -- if deleteAllVisualization then deleteAllVisualization() end\n       -- display.remove(heroHPBack )   display.remove(enemyHPBack )     display.remove(heroHP)    display.remove(enemyHP)\n       -- display.remove(heroHPText)    display.remove(enemyHPText)\n       deleteAllVisualization()\n   end\n\n   if not heroHP then     timer.cancel(event.source)    end\nend, 0)\nend\n\ncreateTimer()\nend",
        "super_calculate": false,
        "id": 17,
        "calculate": true,
        "text": "Создание таймера, который убьёт полоски ХП при закрытии квеста",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 17,
        "calculate": true,
        "text": "Удаление полосок ХП",
        "lua_do": "function lua_do()\nfunction deleteHpLine()\ndisplay.remove(heroHPBack )   display.remove(enemyHPBack )     display.remove(heroHP)    display.remove(enemyHP)\ndisplay.remove(heroHPText)    display.remove(enemyHPText)\nend\nend"
      },
      {
        "lua_do": "function lua_do()\nfunction deleteShieldsLine()\n   display.remove(heroShieldBack)   \n   display.remove(heroES)     display.remove(heroIS)    display.remove(heroFS)   display.remove(heroWS)\n   display.remove(enemyShieldBack)   \n   display.remove(enemyES)     display.remove(enemyIS)    display.remove(enemyFS)   display.remove(enemyWS)\nend\nend",
        "super_calculate": false,
        "id": 17,
        "calculate": true,
        "text": "Удаление полосок щитов",
        "var_equal": [
          "needCreateFunctions",
          1
        ]
      },
      {
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "super_calculate": false,
        "id": 17,
        "calculate": true,
        "text": "Удаление всей визуализации",
        "lua_do": "function lua_do()\nfunction deleteAllVisualization()\n   deleteHpLine()\n   deleteShieldsLine()\nend\nend"
      },
      {
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "super_calculate": false,
        "id": 17,
        "text": "Расчёт размеров полосок",
        "calculate": true,
        "lua_do": "function lua_do()\nfunction lineSizeCalculation()\n   local canvasWidth = canvas.width <plus> 0\n   local canvasHeight = canvas.height <plus> 0\n   local orient = system.orientation .. \"\"\n\n   local pole = canvas.width * 0.075\n   hpWidth = pole / 2\n   backHpHeight = canvasHeight * 0.7 - 100\n   posX1 = pole * 1.85 \n   posX2 = canvasWidth <plus> pole * 1.25\n   posY = 100\n   if (orient == \"portrait\") or (orient == \"portraitUpsideDown\") then \n      backHpHeight = canvasWidth * 0.7\n      posX1 = pole * 0.4      posX2 =  canvasWidth <plus> 20     posY = 150\n   end\nend\nend"
      },
      {
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "super_calculate": false,
        "id": 17,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction drowHpLine()\n   local heroHpHeight = 0        local enemyHpHeight = 0\n   local paint = {type = \"gradient\", color1 = { 1, 0, 0.4 }, color2 = { 1, 0, 0, 0.2 }, direction = \"down\"}\n\n   heroHPBack = display.newRect(posX1, (backHpHeight / 2 <plus> posY), hpWidth, backHpHeight )\n   heroHPBack.strokeWidth = 2   heroHPBack.fill = {0, 0, 0, 0}    heroHPBack:setStrokeColor( 0, 0, 0)\n   if state.currentHP > 0 then\n      heroHpHeight = (state.currentHP / ability.maxHP ) * backHpHeight\n      heroHP = display.newRect(posX1, (backHpHeight <plus> posY - heroHpHeight / 2), hpWidth, heroHpHeight )\n      heroHP.strokeWidth = 2        heroHP:setStrokeColor( 0, 0, 0)        heroHP.fill = paint\n   end\n   heroHPText = display.newText((state.currentHP .. \" / \" .. ability.maxHP), posX1, (backHpHeight / 2 <plus> posY), native.systemFont, 40 )\n   heroHPText:setFillColor(0, 0, 0 )\n   transition.to(heroHPText, { rotation=270, time=0, delay=0 } )\n\n   enemyHPBack = display.newRect(posX2, (backHpHeight / 2 <plus> posY), hpWidth, backHpHeight )\n   enemyHPBack.strokeWidth = 2      enemyHPBack.fill = {0, 0, 0, 0}    enemyHPBack:setStrokeColor( 0, 0, 0)\n   if enemyState.currentHP > 0 then\n      enemyHpHeight = (enemyState.currentHP / enemyAbility.maxHP ) * backHpHeight\n      enemyHP = display.newRect(posX2, (backHpHeight <plus> posY - enemyHpHeight / 2), hpWidth, enemyHpHeight)\n      enemyHP.strokeWidth = 2        enemyHP:setStrokeColor( 0, 0, 0)          enemyHP.fill = paint\n   end\n   enemyHPText = display.newText((enemyState.currentHP .. \"  /  \" .. enemyAbility.maxHP), posX2, (backHpHeight / 2 <plus> posY), native.systemFont, 40 )\n   enemyHPText:setFillColor(0, 0, 0 )\n   transition.to(enemyHPText, { rotation=270, time=0, delay=0 } )\nend\nend",
        "text": "Полоски ХП"
      },
      {
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "super_calculate": false,
        "id": 17,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction drowShieldsLine()\n   local heightShield = 0   local heightES = 0   local heightIS = 0   local heightFS = 0   local heightWS = 0\n   local paintWS = {type = \"gradient\", color1 = { 0, 0, 0.9 }, color2 = { 0, 0, 0.9, 0.2 }, direction = \"down\"}\n   local paintFS = {type = \"gradient\", color1 = { 0.9, 0.4, 0 }, color2 = { 0.9, 0.4, 0, 0.2 }, direction = \"down\"}\n   local paintIS = {type = \"gradient\", color1 = { 0.3, 1, 1 }, color2 = { 0.3, 1, 1, 0.2 }, direction = \"down\"}\n   local paintES = {type = \"gradient\", color1 = { 0.2, 0.2, 0 }, color2 = { 0.2, 0.2, 0, 0.2 }, direction = \"down\"}\n   local xmod = hpWidth <plus> 15\n   local shieldX = 0\n\n   local curShield = state.waterShield <plus> state.fireShield <plus> state.iceShield <plus> state.earthShield\n   if curShield > 0 then\n      local maxShieldL = ability.maxShield <plus> 0      local posXL = posX1 <plus> xmod      local posYS = backHpHeight <plus> posY\n      if curShield > maxShieldL then  maxShieldL = curShield <plus> 0 end\n      heroShieldBack = display.newRect(posXL, (backHpHeight / 2 <plus> posY), hpWidth, backHpHeight )\n      heroShieldBack.strokeWidth = 2   heroShieldBack.fill = {0, 0, 0, 0}    heroShieldBack:setStrokeColor( 0, 0, 0)\n      if state.earthShield > 0 then\n         heightShield = (state.earthShield / maxShieldL) * backHpHeight\n         shieldX = posYS - heightShield / 2         posYS = posYS - heightShield\n         heroES = display.newRect(posXL, shieldX, hpWidth, heightShield)\n         heroES.strokeWidth = 2        heroES:setStrokeColor( 0, 0, 0)        heroES.fill = paintES\n      end\n      if state.iceShield > 0 then\n         heightShield = (state.iceShield / maxShieldL) * backHpHeight\n         shieldX = posYS - heightShield / 2         posYS = posYS - heightShield\n         heroIS = display.newRect(posXL, shieldX, hpWidth, heightShield)\n         heroIS.strokeWidth = 2        heroIS:setStrokeColor( 0, 0, 0)        heroIS.fill = paintIS\n      end\n      if state.fireShield  > 0 then\n         heightShield = (state.fireShield / maxShieldL) * backHpHeight\n         shieldX = posYS - heightShield / 2         posYS = posYS - heightShield\n         heroFS = display.newRect(posXL, shieldX, hpWidth, heightShield)\n         heroFS.strokeWidth = 2        heroFS:setStrokeColor( 0, 0, 0)        heroFS.fill = paintFS\n      end\n      if state.waterShield > 0 then\n         heightShield = (state.waterShield / maxShieldL) * backHpHeight\n         shieldX = posYS - heightShield / 2         posYS = posYS - heightShield\n         heroWS = display.newRect(posXL, shieldX, hpWidth, heightShield)\n         heroWS.strokeWidth = 2        heroWS:setStrokeColor( 0, 0, 0)        heroWS.fill = paintWS\n      end\n   end\n\n   curShield = enemyState.waterShield <plus> enemyState.fireShield <plus> enemyState.iceShield <plus> enemyState.earthShield\n   if curShield > 0 then\n      local maxShieldL = enemyAbility.maxShield <plus> 0      local posXL = posX2 - xmod      local posYS = backHpHeight <plus> posY\n      if curShield > maxShieldL then  maxShieldL = curShield <plus> 0 end\n      enemyShieldBack = display.newRect(posXL, (backHpHeight / 2 <plus> posY), hpWidth, backHpHeight )\n      enemyShieldBack.strokeWidth = 2   enemyShieldBack.fill = {0, 0, 0, 0}    enemyShieldBack:setStrokeColor( 0, 0, 0)\n      if enemyState.earthShield > 0 then\n         heightShield = (enemyState.earthShield / maxShieldL) * backHpHeight\n         shieldX = posYS - heightShield / 2         posYS = posYS - heightShield\n         enemyES = display.newRect(posXL, shieldX, hpWidth, heightShield)\n         enemyES.strokeWidth = 2        enemyES:setStrokeColor( 0, 0, 0)        enemyES.fill = paintES\n      end\n      if enemyState.iceShield > 0 then\n         heightShield = (enemyState.iceShield / maxShieldL) * backHpHeight\n         shieldX = posYS - heightShield / 2         posYS = posYS - heightShield\n         enemyIS = display.newRect(posXL, shieldX, hpWidth, heightShield)\n         enemyIS.strokeWidth = 2        enemyIS:setStrokeColor( 0, 0, 0)        enemyIS.fill = paintIS\n      end\n      if enemyState.fireShield > 0 then\n         heightShield = (enemyState.fireShield / maxShieldL) * backHpHeight\n         shieldX = posYS - heightShield / 2         posYS = posYS - heightShield\n         enemyFS = display.newRect(posXL, shieldX, hpWidth, heightShield)\n         enemyFS.strokeWidth = 2        enemyFS:setStrokeColor( 0, 0, 0)        enemyFS.fill = paintFS\n      end\n      if enemyState.waterShield > 0 then\n         heightShield = (enemyState.waterShield / maxShieldL) * backHpHeight\n         shieldX = posYS - heightShield / 2         posYS = posYS - heightShield\n         enemyWS = display.newRect(posXL, shieldX, hpWidth, heightShield)\n         enemyWS.strokeWidth = 2        enemyWS:setStrokeColor( 0, 0, 0)        enemyWS.fill = paintWS\n      end\n   end\nend\nend",
        "text": "Полоски щитов"
      },
      {
        "super_calculate": false,
        "var_equal": [
          "needCreateFunctions",
          1
        ],
        "id": 17,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction drowAllVisualization()\n   lineSizeCalculation()\n   drowHpLine()\n   drowShieldsLine()\nend\nend",
        "text": "Отрисовывает всю визуализацию"
      }
    ]
  },
  {
    "id": 125,
    "text": "     ",
    "answers": [
      {
        "id": 125,
        "text": "Укажите команды для картинки",
        "url": "https://3.bp.blogspot.com/-8ugz5mGaRsI/Xya-dxQnroI/AAAAAAAALiM/mrDMlX97qAcPFDFhdlWiCxkt1e2YLev7QCLcBGAsYHQ/d/mapAll.png"
      },
      {
        "id": 125,
        "text": "Закрыть карту",
        "go_to": [
          "curPage"
        ]
      }
    ]
  },
  {
    "id": 126,
    "text": "     ",
    "answers": [
      {
        "id": 125,
        "text": "Закрыть карту",
        "go_to": [
          "curPage"
        ]
      },
      {
        "id": 126,
        "text": "Укажите команды для картинки",
        "url": "https://3.bp.blogspot.com/-GJDwMtHaWrE/Xya-dgX5kNI/AAAAAAAALiE/gXZYhjSODt06ymBoTc8NVhP3ZzeMGueyQCLcBGAsYHQ/d/mapPart1.png"
      }
    ]
  },
  {
    "id": 127,
    "text": "     ",
    "answers": [
      {
        "id": 125,
        "text": "Закрыть карту",
        "go_to": [
          "curPage"
        ]
      },
      {
        "id": 127,
        "text": "Укажите команды для картинки",
        "url": "https://3.bp.blogspot.com/-EyBV2lom4Qs/XybJNLNnWvI/AAAAAAAALis/rRcCZ2kD1s8RvTJ_QXTpCIQRfgrDTW33QCLcBGAsYHQ/d/mapPart2.png"
      }
    ]
  },
  {
    "id": 128,
    "text": "     ",
    "answers": [
      {
        "id": 125,
        "text": "Закрыть карту",
        "go_to": [
          "curPage"
        ]
      },
      {
        "id": 128,
        "text": "Укажите команды для картинки",
        "url": "https://3.bp.blogspot.com/-cglTR3B-DCY/XybJNJAxCVI/AAAAAAAALiw/hXcNTtrorgAnycr91Bzz7nY_yr2ip3tlwCLcBGAsYHQ/d/mapPart3.png"
      }
    ]
  },
  {
    "id": 129,
    "text": "     ",
    "answers": [
      {
        "id": 125,
        "text": "Закрыть карту",
        "go_to": [
          "curPage"
        ]
      },
      {
        "id": 129,
        "text": "Укажите команды для картинки",
        "url": "https://3.bp.blogspot.com/-P7mNYaA2LrI/XybJNEUUNGI/AAAAAAAALi0/urWUIpaXH0k0b8G1paAboVQronovrkcKgCLcBGAsYHQ/d/mapPart4.png"
      }
    ]
  },
  {
    "id": 130,
    "text": "",
    "answers": []
  },
  {
    "id": 131,
    "text": "",
    "answers": []
  }
]