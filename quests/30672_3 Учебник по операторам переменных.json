[
  {
    "id": 1,
    "text": "Жанр: учебник\nАвтор: elChem (Артём Стрельников)\n\nДанный обучающий квест посвящён переменным и вопросам, связанным с их использованием.\n\nЛучшему пониманию будет способствовать практическое применение знаний: создайте тренировочный квест и попробуйте воспроизвести в нём те механики, о которых прочтёте в этом руководстве.\n\n   *   *   *\n\nУважаемые авторы! По ряду причин ваши вопросы в комментариях к учебникам могут долгое время оставаться без внимания. Для оперативной помощи рекомендуем задавать их в нашей группе ВК, в беседе авторов или в дискорде ",
    "answers": [
      {
        "id": 2,
        "text": "Начать",
        "var_add": [
          "page",
          2
        ],
        "var_set": [
          "autorun",
          93
        ]
      },
      {
        "need_ever": true,
        "id": 21,
        "text": "К списку переменных",
        "need": [
          1000
        ],
        "var_set": [
          "autorun",
          93
        ]
      },
      {
        "need_ever": true,
        "id": 17,
        "text": " К списку \"Божественных Откровений\"",
        "need": 17,
        "var_set": [
          "g",
          10,
          "joy",
          10,
          "autorun",
          93
        ]
      },
      {
        "id": 1,
        "text": " ",
        "comment": true
      },
      {
        "id": 69,
        "text": "Краткий справочник",
        "var_set": [
          "autorun",
          93
        ]
      },
      {
        "id": 106,
        "text": "Подробные ответы на Ваши вопросы",
        "var_add": [
          "copy",
          0
        ]
      },
      {
        "id": 1,
        "targetbookid": 248186,
        "text": "Учебник по всем системным переменным"
      },
      {
        "id": 109,
        "text": "Новый учебник",
        "need": 1000
      },
      {
        "id": 90,
        "text": "Список обновлений",
        "var_set": [
          "autorun",
          93
        ]
      },
      {
        "id": 1,
        "text": " ",
        "comment": true
      },
      {
        "id": 1,
        "text": "<< Группа ВК >>",
        "url": "https://vk.com/text_quest_shaba"
      },
      {
        "id": 1,
        "url": "https://vk.me/join/AJQ1d/8cQQsLYijF6qGC_AhC",
        "text": "Беседа ВК для помощи с использованием Lua"
      },
      {
        "id": 1,
        "text": "Сервер ТК в Discord",
        "comment": false,
        "url": "https://discord.com/invite/8DaZ3YHKk8"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\ng[\"autorun after\"] = 111\nend",
        "text": "Поиск по квесту",
        "id": 1,
        "calculate": true
      },
      {
        "id": 111,
        "text": "Поиск по квесту",
        "run": [
          111
        ]
      }
    ]
  },
  {
    "id": 2,
    "text": "С очередным обновлением в приложении появилась возможность использования числовых переменных. Что это такое, для чего это может использоваться и как с этим работать? Ответы на все эти вопросы будут даны далее.\nНо сначала нужно обратить внимание на ещё один новый оператор, не связанный непосредственно с переменными, но делающий их использование необычайно удобным. Это – оператор \"inactive\".",
    "answers": [
      {
        "id": 3,
        "text": "Зачем нужен этот оператор?",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 8,
        "text": "Я и так уже достаточно знаю об этом операторе",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 93,
        "text": "авторан:",
        "need": 1000,
        "var_show": [
          "autorun"
        ]
      }
    ]
  },
  {
    "id": 3,
    "text": "Оператор \"inactive\", как уже можно было догадаться из его названия, делает вариант ответа неактивным. Таким образом, то, что когда-то было вариантом ответа, превращается в часть текста на странице.\nДля того, чтобы сделать вариант ответа неактивным, необходимо вписать в пустое поле ответа:\ninactive\nи нажать на иконку сохранения (*). ",
    "answers": [
      {
        "id": 5,
        "text": "Неактивный вариант ответа может выглядеть примерно так.",
        "comment": true
      },
      {
        "id": 5,
        "text": "И для чего это вообще нужно?",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 5,
        "text": "* обратите внимание на отсутствие кавычек!",
        "comment": true
      }
    ]
  },
  {
    "id": 4,
    "text": "Это наглядный пример использования переменных. Просто на каждом варианте ответа, ведущем на новую страницу в этом квесте,  автор использовал оператор \"var add\". Из названия этого оператора понятно, что он добавляет выбранное значение к нужной переменной.\nДля того, чтобы использовать этот оператор, необходимо в поле ответа вписать:\nvar add [\"name\",x]\nгде \"name\" (с кавычками!) – это условное название переменной, а х – необходимое количество.\nЗдесь и далее мы будем придерживаться математической модели описания, в которой часть \"var add\" назовём функцией, \"name\" – переменной, а х – аргументом.",
    "answers": [
      {
        "id": 4,
        "text": "Например, для добавления страниц используется запись: var add [\"page\",1]",
        "comment": true
      },
      {
        "id": 9,
        "text": "Ну, это просто",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 4,
        "text": "very small, top, appear, very slow"
      },
      {
        "id": 4,
        "text": "very small, appear, very slow"
      }
    ]
  },
  {
    "id": 5,
    "text": "О, это может очень сильно расширить арсенал автора. Например, можно делать сноски и комментарии под страницей, как это было сделано на предыдущей странице.\nИли сделать саму страницу более динамичной, за счёт добавления небольших изменений в её содержание без создания ещё одной страницы. Именно это делает оператор \"inactive\" таким удобным для работы с численными переменными.",
    "answers": [
      {
        "id": 6,
        "text": "Что значит более динамичной?",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 3,
        "text": "Взглянуть ещё раз на предыдущую страницу",
        "var_sub": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 6,
    "text": "Ну вот, например.\nЭта страница – описание комнаты в Вашем квесте. Она совершенна, но в результате прохождения какая-то деталь в ней должна измениться. Для того, чтобы не создавать новую страницу с почти идентичным описанием, можно использовать оператор \"inactive\".",
    "answers": [
      {
        "id": 6,
        "text": "А вот эта деталь появилась на этой же странице после определенных изменений.",
        "need": -5,
        "comment": true
      },
      {
        "id": 6,
        "text": "Например, эта часть описания была изначально, но потом изменится.",
        "comment": true,
        "need": 5
      },
      {
        "id": 6,
        "text": "[Заменить один комментарий другим]",
        "need": 5,
        "forget": 5
      },
      {
        "id": 7,
        "text": "Воу, это достаточно удобно. Как так получилось?",
        "need": -5,
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 7,
    "text": "Всё дело в том, что оператор \"inactive\" может сочетаться с любыми другими операторами, отвечающими за условия отображения варианта ответа.\nНужно просто  ввести их в поле варианта ответа как обычно, а потом (или перед этим) сделать вариант неактивным.",
    "answers": [
      {
        "id": 8,
        "text": "Понятно с этим. Что там всё-таки про переменные?",
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 8,
    "text": "Числовые переменные – это изменяемые параметры, которые отражают количество какой-либо характеристики в квесте. Это может быть любая характеристика, которую сможет породить Ваша фантазия: здоровье персонажа, золото, манна небесная или количество хомячков в колесе.\nИли количество прочитанных страниц, как в этом обучающем квесте.",
    "answers": [
      {
        "var_add": [
          "page",
          0
        ],
        "forget": 2,
        "text": "Количество страниц?",
        "need": [
          2
        ],
        "id": 8
      },
      {
        "var_show": [
          "page"
        ],
        "comment": true,
        "id": 8,
        "text": "Да, в этом квесте Вы прочитали (или пролистали) страниц:",
        "need": -2
      },
      {
        "id": 4,
        "text": "Да, именно столько страниц. Что за магия?",
        "need": -2
      }
    ]
  },
  {
    "id": 9,
    "text": "Да, это очень просто.\nНо только подсчёта количества недостаточно, Вы ведь хотите знать, сколько и чего у Вас есть?\nДля того, чтобы программа выдала результат подсчёта переменной, используется оператор \"var show\". Для того, чтобы в конце варианта ответа отобразилось нужное значение, нужно ввести в поле ответа:\nvar show [\"name\"]",
    "answers": [
      {
        "id": 9,
        "text": "Здесь, как раз, очень удобно сделать такой \"информационный\" ответ неактивным.",
        "comment": true
      },
      {
        "id": 9,
        "text": "Для того, чтобы отобразить количество прочитанных страниц, здесь используется такая запись оператора: var show [\"page\"].\nСтраниц:",
        "comment": true,
        "var_show": [
          "page"
        ]
      },
      {
        "id": 10,
        "text": "Понятно. А что ещё можно делать с переменными?",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 9,
        "text": "very small appear very slow top"
      },
      {
        "id": 9,
        "text": "very small appear very slow, bottom"
      }
    ]
  },
  {
    "id": 10,
    "text": "Вводить переменные и увеличивать их количество не только интересно с ознакомительной точки зрения, но и очень полезно. Например, можно ставить условия, связанные со значениями переменных.\nВот на этой странице спрятан вариант ответа, который не будет виден, пока переменная количества прочитанных страниц не достигнет значения 20 или больше.",
    "answers": [
      {
        "id": 10,
        "text": "Прочитанных страниц:",
        "comment": true,
        "var_show": [
          "page"
        ]
      },
      {
        "id": 10,
        "text": "[добавить 20 прочитанных страниц]",
        "var_add": [
          "page",
          20
        ],
        "var_no_more": [
          "page",
          20
        ]
      },
      {
        "id": 11,
        "text": "Вот этот спрятанный ответ",
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "page",
          20
        ]
      }
    ]
  },
  {
    "id": 11,
    "text": "Примерно так это и работает. Оператор \"var need\" делает вариант ответа доступным, только если значение переменной достигло указанного значения (то есть больше либо равно).\nНо внимательный читатель обратил внимание, что вариант ответа, волшебным образом добавляющий к значению переменной  20 страниц, исчез, как только этих самых страниц стало больше 20. В этом заключается действие другого оператора – \"var no more\". Он имеет обратный эффект ранее обсуждаемому \"var need\", а именно делает вариант ответа доступным, только если значение переменной не превышает указанное.\nНачиная с версии 143, появился оператор \"var equal\", который делает вариант ответа доступным только тогда, когда значение переменной равно указанному значению. По сути, он в некоторых случаях заменяет комбинацию var need  и var no more и делает запись условия проще.",
    "answers": [
      {
        "id": 12,
        "text": "Дальше",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 11,
        "text": "very small"
      }
    ]
  },
  {
    "id": 12,
    "text": "Операторы \"var need\", \"var equal\" и \"var no more\" так же записываются в виде:\nvar need [\"name\",x]\nvar equal [\"name\",x]\nи\nvar no more [\"name\",x]\nсоответственно.",
    "answers": [
      {
        "id": 12,
        "text": "Пример записи: var need [\"page\",20]",
        "comment": true,
        "var_need": [
          "page",
          20
        ]
      },
      {
        "id": 12,
        "text": "Пример записи: var no more [\"page\", 40]",
        "comment": true,
        "var_no_more": [
          "page",
          40
        ]
      },
      {
        "id": 13,
        "text": "Дальше",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 11,
        "text": "very small top"
      },
      {
        "id": 11,
        "text": "very small bottom"
      }
    ]
  },
  {
    "id": 13,
    "text": "Разумеется, и к оператору добавления \"var add\" имеется обратный по действию оператор. Это – \"var sub\". Он записывается аналогично всем операторам с переменными:\nvar sub [\"name\",x]\nПомните, как Вы получили 20 прочитанных страниц, хотя на самом деле их не прочитали? Будет честным, если Вы вернёте их и снова сделаете показания \"счётчика\" правдивыми.",
    "answers": [
      {
        "id": 13,
        "text": "Прочитанных страниц:",
        "comment": true,
        "var_show": [
          "page"
        ]
      },
      {
        "text": "Вернуть лишние страницы",
        "id": 13,
        "var_sub": [
          "page",
          20
        ],
        "need": -99,
        "addToHistory": 99
      },
      {
        "var_add": [
          "page",
          1
        ],
        "id": 14,
        "text": "Отлично, что-нибудь ещё?",
        "need": 99,
        "forget": 99
      },
      {
        "id": 13,
        "text": "very small top"
      },
      {
        "id": 13,
        "text": "very small bottom"
      }
    ]
  },
  {
    "id": 14,
    "text": "Ещё одна отличная новость состоит в том, что, в Вашем квесте может быть сколько угодно разных переменных одновременно. Так, в этом квесте кроме прочитанных страниц есть показатель радости. Вот он, внизу.",
    "answers": [
      {
        "id": 14,
        "text": "Сейчас у Вас радости: ",
        "comment": true,
        "var_show": [
          "joy"
        ]
      },
      {
        "id": 14,
        "text": "Прочитанных страниц:",
        "comment": true,
        "var_show": [
          "page"
        ]
      },
      {
        "id": 14,
        "text": "Выпить зелье радости",
        "var_add": [
          "joy",
          1
        ],
        "var_max": [
          "joy",
          3
        ]
      },
      {
        "id": 15,
        "text": "Радостно перейти дальше",
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "joy",
          3
        ]
      },
      {
        "id": 14,
        "text": "very small"
      }
    ]
  },
  {
    "id": 15,
    "text": "Как видите, два типа переменных действуют независимо друг от друга.\nЕсли Вы обратили внимание, то сколько бы раз Вы не выбрали ответ \"Выпить зелье радости\", Вы не смогли получить больше 3 единиц. Это вызвано работой ещё одной пары операторов: \"var max\" и \"var min\". Суть их действия следующая: выбранный вариант ответа не сможет добавить (или отнять) к переменной больше (или меньше) указанного лимита. Это НЕ значит, что данный лимит запрещает переменной накапливаться дальше, просто выбранный ответ будет иметь ограничения.\nНапример:",
    "answers": [
      {
        "id": 15,
        "text": "Сейчас у Вас радости:",
        "comment": true,
        "var_show": [
          "joy"
        ]
      },
      {
        "var_max": [
          "joy",
          3
        ],
        "var_add": [
          "joy",
          1
        ],
        "id": 15,
        "text": "Выпить зелье радости",
        "var_no_more": [
          "joy",
          4
        ]
      },
      {
        "var_max": [
          "joy",
          6
        ],
        "var_add": [
          "joy",
          2
        ],
        "id": 15,
        "text": "Выпить легендарное зелье радости",
        "var_no_more": [
          "joy",
          7
        ]
      },
      {
        "var_max": [
          "joy",
          10
        ],
        "var_add": [
          "joy",
          3
        ],
        "id": 15,
        "text": "Засунуть палец в рот зевающего кота",
        "var_need": [
          "joy",
          6
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "id": 16,
        "text": "В радостной эйфории читать дальше",
        "var_need": [
          "joy",
          10
        ],
        "var_set": [
          "g",
          0
        ]
      },
      {
        "id": 15,
        "text": "very small top"
      },
      {
        "id": 15,
        "text": "very small bottom"
      }
    ]
  },
  {
    "id": 16,
    "text": "Последний из обсуждаемых здесь операторов – \"var set\". Он устанавливает точное значение переменной. Записывается он уже привычным образом:\nvar set [\"name\",x]\n\nДобавим очередную переменную, пусть это будет количество сфер божественного откровения. Вне зависимости от их количества у Вас в данный момент, ответ установит их значение в 3 единицы.",
    "answers": [
      {
        "id": 16,
        "text": "Сейчас у Вас сфер божественного откровения:",
        "comment": true,
        "var_show": [
          "g"
        ]
      },
      {
        "addToHistory": 100,
        "id": 16,
        "text": "Установить значение количества сфер божественного откровения на 3",
        "var_set": [
          "g",
          3
        ],
        "var_no_more": [
          "g",
          49
        ]
      },
      {
        "var_add": [
          "g",
          1
        ],
        "id": 16,
        "text": "Добавить 1 сферу божественного откровения",
        "addToHistory": 101,
        "var_no_more": [
          "g",
          49
        ]
      },
      {
        "addToHistory": 102,
        "text": "Отнять 1 сферу божественного откровения",
        "id": 16,
        "var_sub": [
          "g",
          1
        ],
        "var_min": [
          "g",
          0
        ],
        "var_no_more": [
          "g",
          49
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "id": 17,
        "forget": [
          100,
          101,
          102
        ],
        "text": "Дальше",
        "need": [
          100,
          101,
          102
        ],
        "var_no_more": [
          "g",
          49
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "forget": [
          100,
          101,
          102
        ],
        "id": 17,
        "text": "Вы серьёзно? Зачем Вам столько этих несчастных сфер? Отдайте избыток и читайте дальше.",
        "var_need": [
          "g",
          50
        ],
        "var_set": [
          "g",
          5
        ]
      },
      {
        "id": 16,
        "text": "very small top"
      },
      {
        "id": 16,
        "text": "very small bottom"
      }
    ]
  },
  {
    "id": 17,
    "text": "   Здесь Вы можете потратить нелёгким путём заработанные Сферы Божественного Откровения, чтобы узнать кое-какие тонкости о работе операторов переменных.",
    "answers": [
      {
        "id": 17,
        "text": "Сфер божественного откровения:",
        "comment": true,
        "var_show": [
          "g"
        ]
      },
      {
        "var_add": [
          "g",
          1
        ],
        "id": 17,
        "text": "Что, нет сфер? Как непредусмотрительно!",
        "need": -23,
        "var_no_more": [
          "g",
          0
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "text": "Взаимодействие нескольких операторов",
        "id": 18,
        "var_need": [
          "g",
          1
        ],
        "need": -18,
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "text": "Отрицательные значения переменных",
        "forget": [
          100,
          101,
          102,
          103,
          100,
          101,
          102,
          103,
          100,
          101,
          102,
          103,
          100,
          101,
          102,
          103
        ],
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 19,
        "var_need": [
          "g",
          1
        ],
        "need": [
          -19
        ],
        "addToHistory": 99
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 20,
        "text": "Нецелочисленные значения переменных",
        "need": [
          -20
        ],
        "var_need": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1,
          "joy",
          1
        ],
        "text": "Запись оператора для нескольких переменных",
        "id": 63,
        "var_need": [
          "g",
          1
        ],
        "need": [
          -63
        ],
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 61,
        "text": "Сочетание var show и var max",
        "need": -61,
        "var_need": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 62,
        "text": "Особенности var max и var min",
        "need": -62,
        "var_need": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 66,
        "text": "Оператор var showtime",
        "need": -66,
        "var_need": [
          "g",
          1
        ]
      },
      {
        "var_sub": [
          "g",
          1
        ],
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "g",
          1
        ],
        "id": 73,
        "text": "Переменная как аргумент",
        "need": -73,
        "var_set": [
          "ice",
          10,
          "dur",
          0
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "g",
          1
        ],
        "id": 75,
        "text": "Оператор var random",
        "need": -75,
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 78,
        "var_need": [
          "g",
          1
        ],
        "need": -78,
        "text": "Использование текста после оператора \"var show\""
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 79,
        "var_need": [
          "g",
          1
        ],
        "need": -79,
        "text": "Операторы строгих условий"
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 81,
        "var_need": [
          "g",
          1
        ],
        "need": -81,
        "text": "Операторы var mult и var div"
      },
      {
        "var_add": [
          "page",
          1
        ],
        "text": "Оператор calculate",
        "id": 84,
        "var_need": [
          "g",
          1
        ],
        "need": -84,
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          3
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 87,
        "var_need": [
          "g",
          1
        ],
        "need": -87,
        "text": "Текстовые переменные"
      },
      {
        "var_add": [
          "page",
          1
        ],
        "text": "Оператор goto",
        "id": 91,
        "var_need": [
          "g",
          1
        ],
        "need": -91,
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "text": "\"Глобальные\" переменные",
        "id": 92,
        "var_need": [
          "g",
          1
        ],
        "need": -91,
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 94,
        "var_need": [
          "g",
          1
        ],
        "need": -91,
        "text": "Оператор run"
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "g",
          1
        ],
        "id": 96,
        "text": "Операторы \"var random from\" и \"var random from weight\"",
        "need": -96,
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "g",
          1
        ],
        "id": 97,
        "text": "Указатели \"var pointer get\" и \"var pointer put\"",
        "need": -97,
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "g",
          1
        ],
        "id": 98,
        "text": "\"Служебные\" переменные",
        "need": -98,
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "g",
          1
        ],
        "id": 99,
        "text": "Отображение переменных с помощью виджетов",
        "need": -99,
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 100,
        "text": "Конкатенация",
        "need": [
          -100
        ],
        "var_need": [
          "g",
          1,
          "global version",
          224
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "g",
          1,
          "global version",
          224
        ],
        "id": 102,
        "text": "Оператор var set from",
        "need": [
          -102
        ],
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 103,
        "text": "Оператор update",
        "need": [
          -103
        ],
        "var_need": [
          "g",
          1,
          "global version",
          224
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_need": [
          "g",
          1,
          "global version",
          272
        ],
        "id": 105,
        "text": "Блокировка использования закладок",
        "need": [
          -105
        ],
        "var_sub": [
          "g",
          1
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "id": 69,
        "text": "Список операторов для работы с переменными",
        "need": [
          63,
          18,
          19,
          20,
          67,
          61,
          62,
          66,
          73,
          75,
          78
        ],
        "var_need": [
          "g",
          1
        ]
      }
    ]
  },
  {
    "id": 18,
    "text": "Да, числовые операторы могут действовать на одном варианте ответа вместе, хоть все сразу. Для этого нужно просто ввести их последовательно друг за другом. То есть ввести один, сохранить результат, ввести следующий, сохранить, и т.д.\nТаким образом, можно программировать сложные действия, например покупку чего-либо.\nДля того, чтобы вариант ответа позволил купить что-то, используя валюту – переменную, достаточно всего лишь использовать операторы var need и var sub вместе.",
    "answers": [
      {
        "id": 18,
        "text": "Пример записи операторов для покупки: var need [\"money\",100]    var sub [\"money\",100]",
        "comment": true
      },
      {
        "id": 18,
        "text": "Очков радости у Вас:",
        "comment": true,
        "var_show": [
          "joy"
        ]
      },
      {
        "id": 18,
        "text": "Сфер божественного откровения:",
        "comment": true,
        "var_show": [
          "g"
        ]
      },
      {
        "var_add": [
          "g",
          1
        ],
        "id": 18,
        "var_need": [
          "joy",
          2
        ],
        "text": "Купить сферу божественного откровения за 2 очка радости",
        "var_sub": [
          "joy",
          2
        ]
      },
      {
        "id": 17,
        "text": "В радостной эйфории читать дальше",
        "var_need": [
          "joy",
          10
        ]
      },
      {
        "id": 17,
        "text": "Радостно читать дальше",
        "var_need": [
          "joy",
          3
        ],
        "var_no_more": [
          "joy",
          9
        ]
      },
      {
        "id": 17,
        "text": "Читать дальше",
        "var_no_more": [
          "joy",
          3
        ]
      },
      {
        "id": 18,
        "text": "small"
      }
    ]
  },
  {
    "id": 19,
    "text": "Числовые переменных могут принимать отрицательные значения, причём это происходит по умолчанию, если не добавить к варианту ответа \"var min [\"name\",0]\". Для чего это может быть полезно? Чтобы показать отрицательное количество чего-то, разумеется.\nВот, например, абстрактная величина Вашей \"хорошести\":",
    "answers": [
      {
        "id": 19,
        "text": "Вы оторвали мишке лапы, это просто чудовищно! Разумеется, Ваша \"хорошесть\" сильно уменьшилась.",
        "need": 101,
        "comment": true
      },
      {
        "id": 19,
        "text": "Вы уронили мишку, ничего хорошего в этом нет, Ваша \"хорошесть\" отрицательна.",
        "comment": true,
        "need": 100
      },
      {
        "id": 19,
        "text": "Вы не бросили мишку, это меньшее, что Вы могли сделать после всего этого. И теперь Вы знаете про отрицательные переменные.",
        "need": 103,
        "comment": true
      },
      {
        "id": 19,
        "text": "Вы бросили мишку после всего, что сделали с ним. Но Вы хотя бы узнали про отрицательные переменные.",
        "comment": true,
        "need": 102
      },
      {
        "id": 19,
        "text": "Вы хороший вот настолько:",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "id": 19,
        "text": "На стуле в комнате лежит мишка.",
        "comment": true,
        "need": [
          99
        ]
      },
      {
        "var_sub": [
          "gg",
          2
        ],
        "id": 19,
        "forget": 99,
        "text": "Уронить мишку на пол",
        "need": 99,
        "addToHistory": 100
      },
      {
        "var_sub": [
          "gg",
          8
        ],
        "id": 19,
        "forget": 100,
        "text": "Оторвать мишке лапы",
        "need": 100,
        "addToHistory": 101
      },
      {
        "var_sub": [
          "gg",
          5
        ],
        "forget": 101,
        "id": 19,
        "text": "Бросить мишку",
        "need": 101,
        "addToHistory": 102
      },
      {
        "var_set": [
          "gg",
          2
        ],
        "forget": 101,
        "id": 19,
        "text": "Всё равно не бросать мишку",
        "need": 101,
        "addToHistory": 103
      },
      {
        "need_sometimes": true,
        "id": 17,
        "text": "Читать дальше",
        "need": [
          102,
          103
        ],
        "forget": [
          102,
          103
        ]
      }
    ]
  },
  {
    "id": 20,
    "text": "Переменные могут принимать не только целочисленные значения. Для того, чтобы оперировать с такими числами, просто запишите их в виде десятичной дроби (например 0.5).",
    "answers": [
      {
        "id": 20,
        "text": "Ваша жалость не сильно поможет несчастному мишке, но Вы хотя бы попытались.",
        "comment": true,
        "need": 99
      },
      {
        "id": 20,
        "text": "Ваша \"хорошесть\":",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "var_add": [
          "gg",
          0.5
        ],
        "id": 20,
        "text": "Пожалеть мишку",
        "need": -99,
        "addToHistory": 99
      },
      {
        "id": 17,
        "text": "Дальше",
        "need": 99,
        "forget": 99
      },
      {
        "id": 20,
        "text": "very small top"
      },
      {
        "id": 20,
        "text": "very small bottom"
      }
    ]
  },
  {
    "id": 21,
    "text": "Здесь приведен список описанных ранее операторов для работы с числовыми переменными.<s>r\nvar set [\"name\",x] – устанавливает выбранное значение переменной;<s>r\nvar random [\"name\",x,y] – устанавливает значение переменной случайными образом из диапазона от х до y;\nvar add [\"name\",x] – добавляет к переменной заданное значение;<s>r\nvar sub [\"name\",x] – отнимает от переменной заданное значение;<s>r\nvar str set [\"name\",\"text\"] – устанавливает текстовый фрагмент \"text\" в качестве аргумента переменной \"name\";\nvar str copy [\"name1\",\"name2\"] – присваивает переменной \"name1\" значение текстовой переменной \"name2\";\nvar mult [\"name\",x] – умножает значение переменной на х;\nvar max [\"name\",x] – ограничивает изменение значения переменной так, что результат не может превосходить заданное значение;<s>r\nvar min [\"name\",x] – ограничивает изменение значения переменной так, что результат не может быть меньше заданного значения;<s>r\nvar more [\"name\",x] – ответ будет виден, только если значение переменной больше заданного;<s>ufeff\nvar need [\"name\",x] – ответ будет виден, только если значение переменной достигает или превосходит заданное значение (больше или равно);<s>r\nvar less [\"name\",x] – ответ будет виден, только если значение переменной меньше заданного;<s>ufeff\nvar no more [\"name\",x] –  ответ будет виден, только если значение переменной не превосходит заданное значение (меньше или равно);\nvar equal [\"name\",x] – ответ будет виден, только если значение переменной равно заданному значению.\nvar show [\"name\"] – в конце ответа будет показано текущее значение переменной;\nvar showtime [\"name\"] – в конце ответа будет показано значение переменной, представленное в виде: \"xчас yмин\";\ngoto [\"name\"] – ответ приведёт читателя на страницу, номер которой соответствует значению переменной;\ncalculate – операторы, записанные в ответе выполнятся автоматически при переходе читателя нас данную страницу;\nrun [Х] – при переходе читателя на данную страницу вместо этого варианта ответа будут вставлены все ответы со страницы Х;\nслово \"global ...\" в имени переменной – переводит переменную в \"глобальный\" режим (без обнуления при повторном прохождении квеста).",
    "answers": [
      {
        "id": 1,
        "text": "В начало"
      },
      {
        "id": 22,
        "text": "Пройти тест",
        "var_add": [
          "page",
          1
        ],
        "addToHistory": 98
      }
    ]
  },
  {
    "id": 22,
    "text": "   Внезапно перед Вами возник призрак безграмотного автора.<s>r\n",
    "answers": [
      {
        "comment": true,
        "id": 22,
        "text": "– Ошибки, мемчики, примитивный сюжет и плагиат, – прогнусавил он, – присоединяйся ко мне, и тогда мы будем писать только то, что сами захотим, без дурацких правил и ограничений!",
        "var_need": [
          "22",
          1
        ],
        "merge": true
      },
      {
        "comment": true,
        "var_equal": [
          "22",
          2
        ],
        "id": 22,
        "text": "\n– Ну... Звучит очень заманчиво, думаю, что я готов согласиться. У вас ведь есть печеньки, да?\n– Эмм... – замялся призрак. – Вообще-то нет, никаких печенек..\n– Что?! Нет печенек?! Тогда готовься к бою, отвратительный безграмотный монстр!",
        "merge": true
      },
      {
        "comment": true,
        "var_equal": [
          "22",
          3
        ],
        "id": 22,
        "text": "\n– Ни за что! Я не стану таким же безграмотным как ты, я докажу, что разбираюсь во всех этих переменных. Готовься к бою!",
        "merge": true
      },
      {
        "id": 22,
        "text": "Кажется, он что-то Вам говорит",
        "var_set": [
          "22",
          1
        ],
        "var_equal": [
          "22",
          0
        ]
      },
      {
        "id": 22,
        "text": "Присоединиться к призраку безграмотного автора",
        "var_equal": [
          "22",
          1
        ],
        "var_set": [
          "22",
          2
        ]
      },
      {
        "id": 22,
        "text": "Отказаться",
        "var_set": [
          "22",
          3
        ],
        "var_equal": [
          "22",
          1
        ]
      },
      {
        "need_sometimes": true,
        "id": 24,
        "text": "Начать бой",
        "var_need": [
          "22",
          2
        ],
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 23,
    "text": "Важно! Одинаковые операторы с разными переменными не совместимы в одном варианте ответа при последовательном вводе, последующий сохранится вместо предыдущего!\n\nДля того, чтобы в одном варианте ответа использовать один и тот же оператор  для нескольких переменных, необходимо записать его в следующем виде:\nvar add [\"name_a\",x_a,\"name_b\",x_b]\nгде \"name_a\" и \"name_b\" – это разные переменные, а x_a и x_b – соответствующие им значения.\n\nДля оператора \"var show\" такая запись невозможна, он может работать только с одной переменной.",
    "answers": [
      {
        "id": 23,
        "text": "Например",
        "comment": true
      },
      {
        "id": 23,
        "text": "var show",
        "comment": true,
        "var_show": [
          "joy"
        ]
      },
      {
        "id": 23,
        "text": "Новый ответ. введите текст",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "id": 23,
        "text": "Новый ответ. введите текст",
        "comment": true
      },
      {
        "id": 61,
        "text": "Читать дальше",
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 24,
    "text": "– Чтобы победить меня, ты должен справиться со всеми этими дурацкими правилами, – зло проговорил призрак. – Не думаю, что ты преуспеешь в этом.\nВот, например, тебе нужно сделать так, чтобы читателю было видно количество заработанного золота, как будет записан оператор?",
    "answers": [
      {
        "id": 25,
        "text": "Это элементарно: show var \"gold\"",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 26,
        "text": "Проще простого: var show [gold, all]",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 27,
        "text": "Всё просто: show var [\"gold\",all]",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 28,
        "text": "Оператор будет выглядеть так: var show [\"fcngld\"]",
        "var_add": [
          "page",
          1
        ],
        "var_set": [
          "gl",
          6
        ]
      },
      {
        "id": 29,
        "text": "Я запишу его так: \"var show[\"gold\"]\"",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      }
    ]
  },
  {
    "id": 25,
    "text": "– Хах, это неверный ответ! Даже безграмотный призрак знает, что аргумент оператора должен стоять в квадратных скобках!",
    "answers": [
      {
        "id": 25,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 26,
    "text": "– У-ха-ха, ты и впрямь решил записать имя переменной без кавычек?!",
    "answers": [
      {
        "id": 26,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 27,
    "text": "– Вот умора, ты не знал, что все операторы переменных начинаются со слова \"var\"?!",
    "answers": [
      {
        "id": 27,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 28,
    "text": "– Откуда ты знаешь верный ответ?! Ну ничего, это был самый лёгкий вопрос, дальше будет сложнее.",
    "answers": [
      {
        "id": 28,
        "text": "Вы смогли ввести оператор \"var show\" верно, теперь Вы можете увидеть здоровье противника.\nТеперь, каждый неверный ответ повышает его здоровье на 1.",
        "comment": true
      },
      {
        "id": 28,
        "text": "Здоровье призрака:",
        "comment": true,
        "var_show": [
          "gl"
        ]
      },
      {
        "id": 30,
        "text": "Дальше",
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 29,
    "text": "– А-ха-ха, купился! Ты думал, что последний ответ будет верным?! И тебя не смутили внешние кавычки и отсутствие пробела перед скобкой?!",
    "answers": [
      {
        "id": 29,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 30,
    "text": "– А вот ты хочешь записать продажу душ за золото, какова будет запись, а?",
    "answers": [
      {
        "id": 30,
        "text": "Здоровье призрака:",
        "comment": true,
        "var_show": [
          "gl"
        ]
      },
      {
        "id": 25,
        "text": "Ну сначала я введу: var buy \"spirit\",\"gold\"",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 26,
        "text": "Я запишу: var buy [spirit, gold]",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 31,
        "text": "Этот оператор будет выглядеть: var buy [\"soul\",1,\"gold\",10]",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 32,
        "text": "Сначала я введу: var sub [\"soul\",1]\nА затем...",
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 31,
    "text": "– Ха-ха-ха, ты сам придумал такой оператор?! Нет, постой, это Я его сам придумал!",
    "answers": [
      {
        "id": 31,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 32,
    "text": "– ...а затем я..",
    "answers": [
      {
        "id": 32,
        "text": "Здоровье призрака:",
        "comment": true,
        "var_show": [
          "gl"
        ]
      },
      {
        "id": 33,
        "text": ".. введу и сохраню: вар эдд голд",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 25,
        "text": ".. введу через запятую: var add \"gold\"",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 35,
        "text": ".. введу через точку с запятой: var add [\"gold\"]",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 36,
        "text": ".. сохраню, потом введу: var sub [\"gold\",10]",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 37,
        "text": ".. сохраню, потом введу: var set [\"gold\",10]",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 38,
        "text": ".. сохраню, потом введу: var need [\"gold\",10]",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 39,
        "text": ".. сохраню, потом введу: var add [\"gold\",10]",
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 33,
    "text": "– Серьёзно?! Вот прямо на кириллице возьмёшь и введешь?!",
    "answers": [
      {
        "id": 33,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 34,
    "text": "– Мой последний вопрос самый сложный, – прошипел призрак. – Тебе нужно записать условия для боя читателя с персонажем.\n",
    "answers": [
      {
        "id": 34,
        "text": "Здоровье призрака:",
        "comment": true,
        "var_show": [
          "gl"
        ]
      },
      {
        "id": 34,
        "text": "– Сколько переменных будешь использовать?",
        "comment": true
      },
      {
        "id": 40,
        "text": "– Мне хватит и одной!",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 41,
        "text": "– Двух будет достаточно",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 42,
        "text": "– Понадобится не меньше трёх",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 42,
        "text": "– Здесь не обойтись без четырёх переменных",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      }
    ]
  },
  {
    "id": 35,
    "text": "– Воу, точка с запятой, мощный у тебя синтаксис!",
    "answers": [
      {
        "id": 35,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 36,
    "text": "– Отличная у тебя выйдет продажа, отдаёшь и золото, и душу! Побольше бы таких бизнесменов!",
    "answers": [
      {
        "id": 36,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 37,
    "text": "– Я бы посмотрел, каких отзывов тебе оставит читатель, котрый имел 200 золота, а после продажи остался только с десятью!",
    "answers": [
      {
        "id": 37,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 38,
    "text": "– Так это же вообще условие! Какая разница, сколько у читателя золота, если он продаёт душу?!",
    "answers": [
      {
        "id": 38,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 39,
    "text": "– Ну да, правильно... Но с последним вопросом тебе точно не справиться!",
    "answers": [
      {
        "id": 39,
        "text": "Здоровье призрака:",
        "comment": true,
        "var_show": [
          "gl"
        ]
      },
      {
        "id": 39,
        "text": "Теперь, когда Вы смогли записать условия покупки, Вы можете купить себе оружие.",
        "comment": true
      },
      {
        "id": 39,
        "text": "Ваша \"хорошесть\":",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "var_sub": [
          "gg",
          1
        ],
        "var_need": [
          "gg",
          0.5
        ],
        "id": 39,
        "text": "Купить Волшебную Палочку Добра за 1 \"хорошесть\"",
        "need": -99,
        "addToHistory": 99
      },
      {
        "text": "Купить серебряный меч за 3 \"хорошести\"",
        "id": 39,
        "var_sub": [
          "gg",
          3
        ],
        "need": [
          -99,
          -100,
          -101
        ],
        "addToHistory": 100
      },
      {
        "var_no_more": [
          "gg",
          0
        ],
        "var_sub": [
          "gg",
          10
        ],
        "id": 39,
        "text": "Купить Злобный Аннигилятор за 10 \"хорошести\"",
        "need": [
          -99,
          -100,
          -101
        ],
        "addToHistory": 101
      },
      {
        "need_sometimes": true,
        "id": 34,
        "text": "Дальше",
        "need": [
          99,
          100,
          101
        ],
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 40,
    "text": "– Это неверный ответ! Или ты собираешься сделать читателя бессмертным?!",
    "answers": [
      {
        "id": 40,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 41,
    "text": "– Да, это так. Одна – здоровье читателя, вторая – его противника.",
    "answers": [
      {
        "id": 41,
        "text": "– С чего начнёшь?",
        "comment": true,
        "need": [
          -43,
          -44,
          -45
        ]
      },
      {
        "comment": true,
        "id": 41,
        "text": "– Что дальше?!",
        "need": [
          43,
          44,
          45
        ],
        "need_sometimes": true
      },
      {
        "id": 41,
        "text": "Здоровье призрака:",
        "comment": true,
        "var_show": [
          "gl"
        ]
      },
      {
        "id": 43,
        "text": "– Сделаю варианты ответа для атаки читателя и атаки противника",
        "need": -43,
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 44,
        "text": "– Сделаю варианты ответа для показа здоровья читателя и противника",
        "need": -44,
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 46,
        "text": "– Сделаю варианты ответа на случай победы читателя и его противника",
        "need": [
          43,
          44,
          45
        ],
        "var_add": [
          "page",
          1
        ]
      },
      {
        "need_sometimes": true,
        "id": 48,
        "text": "– Сделаю варианты ответа на случай победы читателя и его противника",
        "need": [
          -43,
          -44,
          -45
        ],
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 45,
        "text": "– Установлю перед страницей боя здоровье читателя и противника на каком-либо уровне",
        "need": -49,
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 42,
    "text": "– Нет, неправильно! Зачем тебе так много? Или ты думаешь прикрутить шкалу суперспособностей?",
    "answers": [
      {
        "id": 42,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 43,
    "text": "– Уух, как страшно! И читатель будет нажимать только собственную атаку, оставаясь невредимым?!",
    "answers": [
      {
        "id": 53,
        "text": "– Я не знаю, как сделать, чтобы ответы показывались поочерёдно...",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 52,
        "text": "– Я знаю, как сделать, чтобы ответы показывались поочерёдно",
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 44,
    "text": "– О, какой предусмотрительный! И как же?!",
    "answers": [
      {
        "id": 50,
        "text": "Использую оператор \"var show\" два раза в одном ответе",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 51,
        "text": "Использую оператор \"var show\" в двух разных ответах",
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 45,
    "text": "– Ха, установишь! Каким оператором?!",
    "answers": [
      {
        "id": 47,
        "text": "– \"var need\"",
        "var_add": [
          "gl",
          1
        ]
      },
      {
        "id": 47,
        "text": "– \"var sub\"",
        "var_add": [
          "gl",
          1
        ]
      },
      {
        "id": 49,
        "text": "– \"var add\""
      },
      {
        "id": 47,
        "text": "– \"var max\"",
        "var_add": [
          "gl",
          1
        ]
      },
      {
        "id": 49,
        "text": "– \"var set\""
      }
    ]
  },
  {
    "id": 46,
    "text": "– Варианты!? Победы!? И как ты их одновременно разместишь на одной странице? Ведь читатель будет выбирать только свою победу!",
    "answers": [
      {
        "id": 46,
        "text": "Здоровье призрака:",
        "comment": true,
        "var_show": [
          "gl"
        ]
      },
      {
        "id": 54,
        "text": "– Я использую оператор \"var need\"",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 54,
        "text": "– Я использую оператор \"var min\"",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 56,
        "text": "– Я использую оператор \"var no more\" в 1 варианте ответа",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 54,
        "text": "– Я использую оператор \"var set\"",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      },
      {
        "id": 55,
        "text": "– Я использую оператор \"var no more\" для двух переменных в двух ответах",
        "need": 56,
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 47,
    "text": "– Ты ошибся, автор!",
    "answers": [
      {
        "id": 47,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 48,
    "text": "– Слиш-ш-ш-ком рано, – протянул призрак. – Победу нужно заслужить.",
    "answers": [
      {
        "id": 48,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 49,
    "text": "– Да, это один из вариантов, – задумчиво изрёк призрак. – Что дальше?!",
    "answers": [
      {
        "id": 41,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 50,
    "text": "– Ха-ха-ха, последний введённый просто заменит предыдущий!",
    "answers": [
      {
        "id": 50,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 51,
    "text": "– Разумеется, это было слишком легко...",
    "answers": [
      {
        "id": 41,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 52,
    "text": "– В самом деле знаешь?! Эмм.. А я не знаю и даже не могу тебя проверить, это ведь не связано с переменными..",
    "answers": [
      {
        "id": 41,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 53,
    "text": "– Хе-хе, так я и думал! Вот она, неграмотность! Между прочим, так как это не связано с переменными, я бы поверил тебе на слово!",
    "answers": [
      {
        "id": 53,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 54,
    "text": "– Пффф, он тебе не поможет здесь!",
    "answers": [
      {
        "id": 54,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 55,
    "text": "– Да...для двух.. Я не могу проверить, что ты мог справиться со всеми вопросами..",
    "answers": [
      {
        "id": 55,
        "text": "Здоровье призрака:",
        "comment": true,
        "var_show": [
          "gl"
        ]
      },
      {
        "id": 55,
        "text": "Ваша \"хорошесть\":",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "id": 55,
        "text": "Вы смогли записать базовые условия для реализации боя. Теперь Вы можете сразиться с призраком безграмотного автора.",
        "comment": true
      },
      {
        "id": 57,
        "text": "Сразиться",
        "var_set": [
          "h",
          3
        ],
        "addToHistory": 1
      },
      {
        "id": 58,
        "text": "Пощадить призрака",
        "var_add": [
          "gg",
          15
        ],
        "addToHistory": 55
      }
    ]
  },
  {
    "id": 56,
    "text": "– Ха, оператор–шмоператор! Один на две переменные?!",
    "answers": [
      {
        "isBack": true,
        "id": 56,
        "text": "Я и забыл, что так нельзя..",
        "backstepCount": 1,
        "var_sub": [
          "m",
          1,
          "gl",
          1
        ]
      },
      {
        "id": 64,
        "text": "Конечно, я просто введу переменные и их значения через запятую внутри квадратных скобок",
        "var_add": [
          "page",
          1,
          "gl",
          1,
          "m",
          1
        ]
      }
    ]
  },
  {
    "id": 57,
    "text": "Начался бой!",
    "answers": [
      {
        "id": 57,
        "text": "Здоровье призрака:",
        "comment": true,
        "var_show": [
          "gl"
        ]
      },
      {
        "id": 57,
        "text": "Ваше здоровье:",
        "comment": true,
        "var_show": [
          "h"
        ]
      },
      {
        "comment": true,
        "id": 57,
        "text": "Призрак готовится атаковать.",
        "need": [
          55,
          -200,
          -201,
          -202,
          -203
        ],
        "var_need": [
          "h",
          1,
          "gl",
          1
        ]
      },
      {
        "comment": true,
        "id": 57,
        "text": "Призрак защищается.",
        "need": [
          -55,
          -200,
          -201,
          -202,
          -203
        ],
        "var_need": [
          "h",
          1,
          "gl",
          1
        ]
      },
      {
        "id": 57,
        "need": [
          55,
          200
        ],
        "comment": false,
        "var_need": [
          "h",
          1,
          "gl",
          1
        ],
        "forget": [
          200,
          201,
          203,
          202,
          55
        ],
        "text": "Призрак и Вы атаковали одновременно, но только Вы получаете урон",
        "var_min": [
          "h",
          0
        ],
        "var_sub": [
          "h",
          1
        ]
      },
      {
        "forget": [
          200,
          201,
          203,
          202
        ],
        "comment": false,
        "var_need": [
          "h",
          1,
          "gl",
          1
        ],
        "id": 57,
        "text": "И призрак, и Вы защищаетесь, никто не получает урон",
        "need": [
          -55,
          201
        ],
        "addToHistory": 55
      },
      {
        "comment": false,
        "id": 57,
        "text": "Вы атакуете, а призрак защищается, призрак контратакует, Вы получаете урон",
        "var_min": [
          "h",
          0
        ],
        "need": [
          -55,
          202
        ],
        "forget": [
          200,
          201,
          203,
          202
        ],
        "var_sub": [
          "h",
          1
        ],
        "var_need": [
          "h",
          1,
          "gl",
          1
        ],
        "addToHistory": 55
      },
      {
        "id": 57,
        "need": [
          55,
          203
        ],
        "comment": false,
        "var_need": [
          "h",
          1,
          "gl",
          1
        ],
        "forget": [
          200,
          201,
          202,
          203,
          55
        ],
        "text": "Призрак атакует, а Вы защищаетесь, Вы контратакуете, призрак получает урон",
        "var_min": [
          "gl",
          0
        ],
        "var_sub": [
          "gl",
          2
        ]
      },
      {
        "var_need": [
          "h",
          1,
          "gl",
          1
        ],
        "id": 57,
        "text": "Атаковать призрака",
        "need": [
          55,
          -200,
          -201,
          -202,
          -203
        ],
        "addToHistory": 200
      },
      {
        "var_need": [
          "h",
          1,
          "gl",
          1
        ],
        "id": 57,
        "text": "Защищаться",
        "need": [
          55,
          -200,
          -201,
          -202,
          -203
        ],
        "addToHistory": 203
      },
      {
        "var_need": [
          "h",
          1,
          "gl",
          1
        ],
        "id": 57,
        "text": "Атаковать призрака",
        "need": [
          -55,
          -200,
          -201,
          -202,
          -203
        ],
        "addToHistory": [
          202
        ]
      },
      {
        "var_need": [
          "h",
          1,
          "gl",
          1
        ],
        "id": 57,
        "text": "Защищаться",
        "need": [
          -55,
          -200,
          -201,
          -202,
          -203
        ],
        "addToHistory": [
          201
        ]
      },
      {
        "id": 59,
        "text": "Вы победили призрака!",
        "var_no_more": [
          "gl",
          0
        ]
      },
      {
        "id": 60,
        "text": "Призрак Вас одолел!",
        "var_no_more": [
          "h",
          0
        ]
      }
    ]
  },
  {
    "id": 58,
    "text": "Вы решили не сражаться с призраком, а вместо этого взялись обучать его. Пораженный Вашими знаниями он, поколебавшись, всё же согласился. Спустя какое-то время из него непременно выйдет толк. \nВы завершили прохождение этого обучающего квеста, здесь Вы можете взглянуть на свою статистику:",
    "answers": [
      {
        "id": 58,
        "text": "Прочитано обучающих страниц:",
        "comment": true,
        "var_show": [
          "page"
        ]
      },
      {
        "id": 58,
        "text": "Очков радости:",
        "comment": true,
        "var_show": [
          "joy"
        ]
      },
      {
        "id": 58,
        "text": "Сфер божественного откровения:",
        "comment": true,
        "var_show": [
          "g"
        ]
      },
      {
        "id": 58,
        "text": "Ваша \"хорошесть\":",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "var_show": [
          "m"
        ],
        "comment": true,
        "id": 58,
        "text": "Допущено ошибок в тесте:",
        "need": [
          65
        ],
        "need_ever": true
      },
      {
        "need_ever": true,
        "comment": true,
        "id": 58,
        "text": "Допущено ошибок при первом прохождении теста:",
        "need": [
          -65
        ],
        "var_show": [
          "m"
        ]
      },
      {
        "id": 65,
        "text": "В начало",
        "addToHistory": 65
      }
    ]
  },
  {
    "id": 59,
    "text": "Вы смогли сразить призрак неграмотного автора, поздравляю! Теперь в мире квестов будет на одного безграмотного автора меньше!\nВы завершили прохождение обучающего квеста, здесь Вы можете увидеть свою статистику.",
    "answers": [
      {
        "id": 58,
        "text": "Прочитано обучающих страниц:",
        "comment": true,
        "var_show": [
          "page"
        ]
      },
      {
        "id": 58,
        "text": "Очков радости:",
        "comment": true,
        "var_show": [
          "joy"
        ]
      },
      {
        "id": 58,
        "text": "Сфер божественного откровения:",
        "comment": true,
        "var_show": [
          "g"
        ]
      },
      {
        "id": 58,
        "text": "Ваша \"хорошесть\":",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "var_show": [
          "m"
        ],
        "comment": true,
        "id": 58,
        "text": "Допущено ошибок в тесте:",
        "need": [
          65
        ],
        "need_ever": true
      },
      {
        "need_ever": true,
        "comment": true,
        "id": 58,
        "text": "Допущено ошибок при первом прохождении теста:",
        "need": [
          -65
        ],
        "var_show": [
          "m"
        ]
      },
      {
        "id": 65,
        "text": "В начало",
        "addToHistory": 65
      }
    ]
  },
  {
    "id": 60,
    "text": "Вы не смогли сразить призрак безграмотного автора. Теперь он будет вечно скитаться в мире квестов, набирать сторонников и творить свои грязные делишки.\nВы закончили прохождение обучающего квеста, здесь Вы можете просмотреть свою статистику.",
    "answers": [
      {
        "id": 58,
        "text": "Прочитано обучающих страниц:",
        "comment": true,
        "var_show": [
          "page"
        ]
      },
      {
        "id": 58,
        "text": "Очков радости:",
        "comment": true,
        "var_show": [
          "joy"
        ]
      },
      {
        "id": 58,
        "text": "Сфер божественного откровения:",
        "comment": true,
        "var_show": [
          "g"
        ]
      },
      {
        "id": 58,
        "text": "Ваша \"хорошесть\":",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "var_show": [
          "m"
        ],
        "comment": true,
        "id": 58,
        "text": "Допущено ошибок в тесте:",
        "need": [
          65
        ],
        "need_ever": true
      },
      {
        "need_ever": true,
        "comment": true,
        "id": 58,
        "text": "Допущено ошибок при первом прохождении теста:",
        "need": [
          -65
        ],
        "var_show": [
          "m"
        ]
      },
      {
        "id": 65,
        "text": "В начало",
        "addToHistory": 65
      }
    ]
  },
  {
    "id": 61,
    "text": "Оператор \"var show\" в сочетании с оператором \"var max\" в одном варианте ответа приводит к тому, что значение переменной приводится вместе с установленным максимальным значением в виде x/x(max).\n\nОператор \"var show\" выводит в конце ответа значение переменной, но оформление пояснительного текста остаётся за автором. Следует внимательно следить, чтобы условное имя переменной в записи операторов (то самое \"name\", которого читатель не увидит) соответствовало пояснению, которое читатель видит.\nДля того, чтобы сочетание \"var show\" и \"var max\" не отображало результат в таком виде, необходимо использовать на этом же варианте ответа оператор \"no max\".",
    "answers": [
      {
        "var_max": [
          "joy",
          10
        ],
        "var_show": [
          "joy"
        ],
        "comment": true,
        "id": 61,
        "text": "У вас радости:",
        "no_max": false
      },
      {
        "id": 17,
        "text": "Читать дальше",
        "var_add": [
          "page",
          1
        ]
      },
      {
        "id": 61,
        "text": "small"
      }
    ]
  },
  {
    "id": 62,
    "text": "Ещё несколько слов об операторах \"var max\" и \"var min\". Так как эти операторы ограничивают РЕЗУЛЬТАТ изменения переменной, может получиться ситуация, в которой текущее значение уже превосходит установленное ограничение. Тогда после совершения действия оператор в любом случае  вернёт значение переменной в установленный предел.<s>r\nНапример, выбрав ответ, прибавляющий к переменной единицу, но с ограничением \"не больше 3\", игрок, имеющий 6 единиц, потеряет всё, что превышает предел, и останется с 3.",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 63,
    "text": "Важно! Одинаковые операторы с разными переменными несовместимы в одном варианте ответа при последовательном вводе, последующий сохранится вместо предыдущего!<s>r\n<s>r\nДля того, чтобы в одном варианте ответа использовать один и тот же оператор  для нескольких переменных, необходимо записать его в следующем виде:<s>r\nvar add [\"name1\",x,\"name2\",y]<s>r\nгде \"name1\" и \"name2\" – это разные переменные, а x и y – соответствующие им значения.<s>r\n<s>r\nДля оператора \"var show\" такая запись невозможна, он может работать только с одной переменной.",
    "answers": [
      {
        "id": 63,
        "text": "У Вас радости:",
        "comment": true,
        "var_show": [
          "joy"
        ]
      },
      {
        "id": 63,
        "text": "У Вас сфер божественного откровения:",
        "comment": true,
        "var_show": [
          "g"
        ]
      },
      {
        "id": 63,
        "text": "Ваша \"хорошесть\":",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "id": 63,
        "text": "very small top"
      },
      {
        "id": 63,
        "text": "very small bottom"
      },
      {
        "id": 67,
        "text": "Дальше",
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 64,
    "text": "– Да?! Ну вводи конечно, будет у тебя вариант ответа с двумя противоречащими условиями и вариант ответа без условий!",
    "answers": [
      {
        "id": 64,
        "text": "Назад",
        "backstepCount": 2,
        "isBack": true
      }
    ]
  },
  {
    "id": 65,
    "text": "Перейти на первую страницу?",
    "answers": [
      {
        "id": 1,
        "text": "Да"
      },
      {
        "id": 65,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 66,
    "text": "Оператор var showtime.<s>r\nРазновидностью оператора \"var show\" является оператор \"var showtime\". Его отличие от первого заключается в том, что текущее значение переменной (воспринимаемое как количество минут) будет представлено в формате времени: X час Y мин.<s>r\n<s>r\nОбратите внимание, оператор никоим образом не связан с реальным временем! Он работает с переменными, вводимыми автором, для отображения условного времени внутри мира квеста.<s>r\n<s>r\nДля использования оператора необходимо в вариант ответа записать:<s>r\nvar showtime [\"name\"]<s>r\n<s>r\nЧисленное значение переменной должно соответствовать количеству минут, для корректного отображения.<s>r\nС секундами оператор не работает!",
    "answers": [
      {
        "comment": true,
        "id": 66,
        "text": "Время, которое автор учебника провёл без сна, пытаясь сделать учебник понятным и доступным для публики:",
        "need": 850,
        "var_showtime": [
          "t"
        ]
      },
      {
        "id": 66,
        "text": "Укажите команды для картинки"
      },
      {
        "id": 68,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 67,
    "text": "Важно! Одинаковые операторы с разными переменными несовместимы в одном варианте ответа при последовательном вводе, последующий сохранится вместо предыдущего!<s>r\n<s>r\nДля того, чтобы в одном варианте ответа использовать один и тот же оператор  для нескольких переменных, необходимо записать его в следующем виде:<s>r\nvar add [\"name_a\",x_a,\"name_b\",x_b]<s>r\nгде \"name_a\" и \"name_b\" – это разные переменные, а x_a и x_b – соответствующие им значения.<s>r\n<s>r\nДля оператора \"var show\" такая запись невозможна, он может работать только с одной переменной.",
    "answers": [
      {
        "id": 63,
        "text": "У Вас радости:",
        "comment": true,
        "var_show": [
          "joy"
        ]
      },
      {
        "id": 63,
        "text": "У Вас сфер божественного откровения:",
        "comment": true,
        "var_show": [
          "g"
        ]
      },
      {
        "id": 63,
        "text": "Ваша \"хорошесть\":",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "var_add": [
          "g",
          1
        ],
        "comment": false,
        "text": "Купить сферу божественного откровения за 1 радость и 1 \"хорошесть\"",
        "id": 67,
        "var_sub": [
          "gg",
          1,
          "joy",
          1
        ],
        "var_need": [
          "joy",
          1
        ],
        "addToHistory": 99
      },
      {
        "var_max": [
          "gg",
          10,
          "joy",
          10
        ],
        "var_add": [
          "gg",
          1,
          "joy",
          1
        ],
        "text": "Продать сферу божественного откровения за 1 радость и 1 \"хорошесть\"",
        "id": 67,
        "var_need": [
          "g",
          1
        ],
        "var_sub": [
          "g",
          1
        ],
        "addToHistory": 100
      },
      {
        "var_add": [
          "page",
          1
        ],
        "id": 17,
        "text": "Дальше",
        "need": [
          99,
          100
        ],
        "forget": [
          99,
          100
        ]
      },
      {
        "id": 67,
        "text": "small"
      }
    ]
  },
  {
    "id": 68,
    "text": "Оператор var showtime.<s>r\nРазновидностью оператора \"var show\" является оператор \"var showtime\". Его отличие от первого заключается в том, что текущее значение переменной (воспринимаемое как количество минут) будет представлено в формате времени: X час Y мин.<s>r\n<s>r\nОбратите внимание, оператор никоим образом не связан с реальным временем! Он работает с переменными, вводимыми автором, для отображения условного времени внутри мира квеста.<s>r\n<s>r\nДля использования оператора необходимо в вариант ответа записать:<s>r\nvar showtime [\"name\"]<s>r\n<s>r\nЧисленное значение переменной должно соответствовать количеству минут, для корректного отображения.<s>r\nС секундами оператор не работает!",
    "answers": [
      {
        "comment": true,
        "id": 66,
        "text": "Время, которое автор учебника провёл без сна, пытаясь сделать учебник понятным и доступным для публики:",
        "need": 850,
        "var_showtime": [
          "t"
        ]
      },
      {
        "id": 17,
        "forget": [
          850,
          851
        ],
        "text": "Дальше",
        "need": [
          851
        ],
        "var_set": [
          "ice",
          10,
          "dur",
          0
        ]
      },
      {
        "var_set": [
          "t",
          2757
        ],
        "id": 68,
        "text": "Показать время, которое автор учебника провёл без сна, пытаясь сделать учебник понятным и доступным для публики.",
        "need": -850,
        "addToHistory": 850
      },
      {
        "var_add": [
          "t",
          47
        ],
        "id": 68,
        "text": "С учётом добавления описания оператора \"var showtime\"",
        "need": [
          850,
          -851
        ],
        "addToHistory": 851
      },
      {
        "id": 68,
        "text": "top"
      },
      {
        "id": 68,
        "text": "Укажите команды для картинки"
      }
    ]
  },
  {
    "id": 69,
    "text": "Здесь Вы можете освежить свои знания о числовых переменных.",
    "answers": [
      {
        "id": 22,
        "text": "[Пройти тест]"
      },
      {
        "id": 1,
        "text": "[На первую страницу]"
      },
      {
        "id": 70,
        "text": "Операторы \"действий\""
      },
      {
        "id": 71,
        "text": "Операторы \"условий\""
      },
      {
        "id": 72,
        "text": "Операторы \"отображения\""
      },
      {
        "id": 95,
        "text": "Специальные операторы и переменные"
      },
      {
        "id": 83,
        "text": "Порядок срабатывания операторов"
      },
      {
        "id": 69,
        "text": "Важно! Операторы действуют только с тем вариантом ответа, в котором они записаны.",
        "comment": true
      }
    ]
  },
  {
    "id": 70,
    "text": "   Операторы действий непосредственно изменяют значение переменной. Записанные в варианте ответа, они изменяют текущее значение переменной при выборе данного ответа читателем. Это значит, что изменение НЕ произойдёт, пока читатель не выберет вариант ответа, содержащий оператор.\n\n  var set [\"name\",x] – устанавливает x значением переменной \"name\";\n  var set from [xxxxx, \"name1\",\"name2\"] – устанавливает значение переменной \"name2\" равным текущему значению переменной \"name1\" из квеста №ххххх\n  var add [\"name\",x] – прибавляет к текущему значению переменной \"name\" указанное число x;\n  var sub [\"name\",x] — отнимает от текущего значения переменной \"name\" указанное число x;\n  var random [\"name\",x,y] — устанавливает значение переменной \"name\" случайным числом из диапазона от х до у (начиная с версии 150);\n  var random from [\"name\",x,y,...,z] – устанавливает значение переменной \"name\" случайным числом из набора значений х,y,...,z (начиная с версии 222);\n var random from weight [\"name\", x1, y1, ..., xn, yn] – присваивает переменной \"name\" случайное значение из набора x1, ..., xn, причём вероятность выпадения значений пропорциональна соответствующим величинам \"веса\" y1, ..., yn (начиная с версии 247); \n  var mult [\"name\",x] – умножает текущее значение переменной \"name\" на множитель x (начиная с версии 162);\n  var div [\"name\",x] – производит деление текущего значения переменной \"name\" на делитель х (начиная с версии 245);\n  var str set [\"name\",\"text\"] – устанавливает текстовый фрагмент \"text\" в качестве значения текстовой переменной \"name\" (начиная с версии 178);\n  var str copy [\"name1\",\"name2\"] – присваивает переменной \"name1\" значение текстовой переменной \"name2\" (начиная с версии 178);\n  var concat [\"name1\",\"name2\"] – присоединяет к значению текстовой переменной \"name1\" значение текстовой переменной \"name2\";\n  var pointer get [\"name1\",\"name2\"] – присваивает переменной \"name1\" значение переменной, имя которой соответствует значению переменной \"name2\"; \n  var pointer put [\"name1\",\"name2\"] – присваивает переменной, имя которой соответствует значению переменной \"name1\", значение переменной \"name2\",\n  где \"name\", \"name1\", \"name2\" — условные имена соответствующих переменных, х и у — числа, а \"text\" – текстовый фрагмент. Вместо любых аргументов х, у или z могут быть использованы другие переменные.\n\n   \"Имя\" переменной может быть любым удобным для автора обозначением, читатель его не увидит.\n\n   Переменная начинает \"существовать\", когда в квесте появляется любой оператор, использующий её \"имя\". До тех пор, пока к ней не будет применён один из операторов действия, её значение принимается нулевым.\n\n",
    "answers": [
      {
        "id": 70,
        "text": "Назад",
        "backstepCount": 1,
        "isBack": true
      }
    ]
  },
  {
    "id": 71,
    "text": "   К операторам \"условий\" относится \"var need\", \"var no more\", \"var equal\", \"var more\", \"var less\", \"var not\", \"var max\" и \"var min\".\n   Эти операторы накладывают условия, ограничивая либо видимость варианта ответа, либо допустимые значения переменных.\n\n\"var need\" – для того, чтобы вариант ответа был виден читателю, значение переменной должно быть не меньше, чем указанное.\n\n\"var no more\" – для того, чтобы вариант ответа был виден читателю, значение переменной должно быть не больше, чем указанное.\n\n\"var equal\" – для того, чтобы вариант ответа был виден читателю, значение переменной должно быть равно указанному.\n\n\"var more\" – для того, чтобы вариант ответа был виден читателю, значение переменной должно быть больше указанного.\n\n\"var less\" – для того, чтобы вариант ответа был виден читателю, значение переменной должно быть меньше указанного.\n\n\"var not\" – для того, чтобы вариант ответа был виден читателю, значение переменной должно быть НЕ равно указанному.\n\n\"var max\" – при использовании операторов \"действия\" полученное значение не сможет превысить указанное значение.\n\n\"var min\" – при использовании операторов \"действия\" полученное значение не сможет стать меньше, чем указанное значение.\n\n   Они записываются следующим образом:\nvar need [\"name\",x]\nvar no more [\"name\",x]\nvar equal [\"name\",x]\nvar more [\"name\",x]\nvar less [\"name\",x]\nvar not [\"name\",x]\nvar max [\"name\",x]\nvar min [\"name\",x]\nгде \"name\" – это условное имя переменной, а х – число.\n\n   Если читатель использует вариант ответа с ограничениями var max/var min когда текущее значение переменной уже выходит за рамки этих условий, то значение будет изменено на максимально/минимально допустимое.",
    "answers": [
      {
        "id": 71,
        "text": "Назад",
        "backstepCount": 1,
        "isBack": true
      }
    ]
  },
  {
    "id": 72,
    "text": "К операторам \"отображения\" относятся операторы \"var show\", \"var showtime\", сочетание \"var show\" и \"var max\".\nЭти операторы обеспечивают взаимодействие читателя с текущими значениями переменных.\n\n\"var show\" – в конце варианта ответа появляется текущее значение переменной.\n\n\"var showtime\" – в конце варианта ответа появляется текущее значение переменной в формате времени, то есть: х час у мин. Численное значение переменной будет считаться количеством минут, которое будет автоматически переведено в этот формат.\n\n\"var show\" и \"var max\" – в конце варианта ответа появляется текущее значение переменной, отнесённое к максимальному в виде Х/Хmax.\n\n\"no max\" – отображение переменной при сочетании \"var show\" и \"var max\" происходит в обычном виде;\n\nОператоры записываются следующим образом:\nvar show [\"name\"]\nvar showtime [\"name\"]\nvar show [\"name\"] сохранить, затем ввести в том же ответе: var max [\"name\",x]\n  где \"name\" – это условное имя переменной, х – это число, которое будет отображено как максимальное значение переменной.\n\nОператор \"var showtime\" отобразит любую переменную в формате времени, рассматривая её текущее значение количеством минут.\n\nСочетание \"var show\" <plus> \"var max\" не устанавливает максимальное значение переменной, это просто число, которое увидит читатель в этом варианте ответа.\n\n   Для отображения переменных с помощью виджетов:\n\n  widget init [\"id\",\"http(s)://.....png\",\"text\"] – инициализация виджета;\n  widget show [\"id\",\"name\"] – вывод виджета на экран,\nгде \"id\" — уникальное имя виджета, \"http(s)://.....png\" – адрес картинки, которую должен отображать виджет, \"text\" – пояснительная надпись, которая будет отображаться после значения переменной, \"name\" – имя отображаемой переменной.",
    "answers": [
      {
        "id": 72,
        "text": "Назад",
        "backstepCount": 1,
        "isBack": true
      }
    ]
  },
  {
    "id": 73,
    "text": "Начиная с версии 143, появилась возможность использовать переменную в качестве аргумента для оператора.\nЧто это значит?\nЕсли раньше автору нужно было в некоторых случаях предусмотреть разные варианты ответа для разных возможных значений переменной, то сейчас можно напрямую использовать текущее значение.\nНапример, теперь очень просто реализовать систему предметов с разными количественными характеристиками (да-да, теперь можно сделать тот самый Легендарный Меч Могущества на  500 к урону).\n\nПредставьте, что Вам нужно съесть 10 шариков мороженого.",
    "answers": [
      {
        "id": 73,
        "text": "Новый ответ. введите текст",
        "var_min": [
          "ice",
          0,
          "dur",
          0
        ],
        "calculate": true
      },
      {
        "id": 73,
        "text": "Осталось съесть шариков мороженого:",
        "comment": true,
        "var_show": [
          "ice"
        ]
      },
      {
        "addToHistory": 400,
        "var_need": [
          "ice",
          0.1
        ],
        "var_equal": [
          "dur",
          0
        ],
        "id": 73,
        "text": "Взять маленькую ложечку\n[0.5 шариков мороженого за клик, прочность: 10 кликов]",
        "need": -400,
        "var_set": [
          "dps",
          0.5,
          "dur",
          10
        ]
      },
      {
        "addToHistory": 401,
        "var_need": [
          "ice",
          0.1
        ],
        "var_equal": [
          "dur",
          0
        ],
        "id": 73,
        "text": "Взять среднюю ложку\n[1 шарик мороженого за клик, прочность: 5 кликов]",
        "need": -401,
        "var_set": [
          "dps",
          1,
          "dur",
          5
        ]
      },
      {
        "addToHistory": 402,
        "var_need": [
          "ice",
          0.1
        ],
        "var_equal": [
          "dur",
          0
        ],
        "id": 73,
        "text": "Взять огромную ложку\n[2 шарика мороженого за клик, прочность: 3 клика]",
        "need": -402,
        "var_set": [
          "dps",
          2,
          "dur",
          3
        ]
      },
      {
        "text": "Есть мороженое",
        "id": 73,
        "var_need": [
          "dur",
          1,
          "ice",
          0.5
        ],
        "var_min": [
          "ice",
          0
        ],
        "var_sub": [
          "dur",
          1,
          "ice",
          "dps"
        ]
      },
      {
        "var_add": [
          "page",
          1
        ],
        "forget": [
          400,
          401,
          402
        ],
        "text": "Дальше",
        "id": 74,
        "var_no_more": [
          "ice",
          0
        ]
      }
    ]
  },
  {
    "id": 74,
    "text": "Для того, чтобы в качестве аргумента оператора использовалось значение переменной, необходимо записать его в виде:\nvar 'any' [\"name1\",\"name2\"]\nгде name1 – условное обозначение переменной, над которой будет производиться действие;\nname2 – условное обозначение переменной, значение которой будет использоваться как аргумент;\nvar 'any' – любой оператор переменных, кроме \"var show\" (потому что этот оператор вообще не использует аргумент).\n",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      },
      {
        "id": 74,
        "text": "coig"
      }
    ]
  },
  {
    "id": 75,
    "text": "В версии приложения под номером 150 появилось то, чего так ждали многие писатели: возможность добавить непредсказуемость в развитие квестов. Достигается это использованием нового оператора \"var random\", который позволяет присвоить переменной случайное значение в заданном диапазоне.\nПредставьте, например, что Вы бросаете игральные кости. Таинственный незнакомец... Хотя кого мы с Вами обманываем? Автор учебника обещает, что даст Вам столько Сфер Божественного Откровения, какое значение выпадет при броске двух шестигранных кубиков.",
    "answers": [
      {
        "id": 75,
        "text": "Сейчас у Вас Сфер Божественного Откровения:",
        "comment": true,
        "var_show": [
          "g"
        ]
      },
      {
        "var_show": [
          "kub"
        ],
        "comment": true,
        "id": 75,
        "text": "Результат броска кубиков:",
        "var_need": [
          "kub",
          1
        ]
      },
      {
        "var_add": [
          "g",
          "kub",
          "1",
          1
        ],
        "var_random": [
          "kub",
          2,
          12
        ],
        "id": 75,
        "text": "[Бросить кубики]",
        "var_no_more": [
          "kub",
          1,
          "1",
          0.5
        ]
      },
      {
        "id": 75,
        "text": "Вы можете попробовать бросить кубики ещё раз и посмотреть, насколько результат случаен. Но за эти броски Божественных Сфер Вы больше не получите.",
        "comment": true,
        "var_equal": [
          "1",
          1
        ]
      },
      {
        "id": 75,
        "text": "[Бросить кубики]",
        "var_need": [
          "1",
          1
        ],
        "var_random": [
          "kub",
          2,
          12
        ]
      },
      {
        "id": 76,
        "text": "[Читать дальше]",
        "var_add": [
          "page",
          1
        ],
        "var_set": [
          "kub",
          0,
          "1",
          1
        ]
      }
    ]
  },
  {
    "id": 76,
    "text": "Для того, чтобы при выборе варианта ответа значение переменной устанавливалось случайным образом в заданном диапазоне, оператор записывают следующим образом:\nvar random [\"name\",x,y]\nгде \"name\" – это условное имя переменной, x и y – числа, ограничивающие диапазон допустимых значений.\nСтоит отметить, что вместо чисел х и у могут использоваться и переменные.\nПопробуйте установить разные значения ограничивающих переменных и увидите, что случайное значение всегда соответствует установленному диапазону.",
    "answers": [
      {
        "id": 76,
        "text": "Установить граничные значения [1–10]",
        "var_set": [
          "min",
          1,
          "max",
          10,
          "random",
          0
        ]
      },
      {
        "id": 76,
        "text": "Установить граничные значения  [11–20]",
        "var_set": [
          "min",
          11,
          "max",
          20,
          "random",
          0
        ]
      },
      {
        "id": 76,
        "text": "Минимальное допустимое значение случайного числа:",
        "comment": true,
        "var_show": [
          "min"
        ]
      },
      {
        "id": 76,
        "text": "Максимальное допустимое значение случайного числа:",
        "comment": true,
        "var_show": [
          "max"
        ]
      },
      {
        "id": 76,
        "text": "Полученное случайное значение:",
        "comment": true,
        "var_show": [
          "random"
        ]
      },
      {
        "id": 76,
        "text": "Получить случайное значение",
        "var_random": [
          "random",
          "min",
          "max"
        ]
      },
      {
        "id": 77,
        "text": "[Читать дальше]"
      },
      {
        "id": 76,
        "text": "Укажите команды для картинки"
      }
    ]
  },
  {
    "id": 77,
    "text": " Ещё одним важным моментом является то, что полученное случайное значение может сразу же быть использовано для взаимодействия с другими переменными. Иными словами, в одном варианте ответа генерируется случайное число, которое сразу же прибавляется (отнимается или устанавливается) к значению другой переменной, как это было сделано в примере с броском кубиков и получением Сфер Божественного Откровения.\nНапоследок хочется отметить, что не стоит переусердствовать с использованием случайностей в Вашем квесте. Помните, читателю может быть интересно проходить несколько раз произведение, в котором случайным образом определяются последовательности комнат, персонажей или урон противников. Но абсолютно никому не захочется искать секретную концовку, которая становится доступной случайным образом, или случайным образом иметь более лёгкое/тяжёлое прохождение.",
    "answers": [
      {
        "id": 17,
        "text": "К списку Божественных Откровений"
      },
      {
        "id": 77,
        "text": "Укажите команды для картинки"
      }
    ]
  },
  {
    "id": 78,
    "text": "Начиная с версии 150, оператор \"var show\" может отображать текстовый фрагмент после отображаемого значения. Согласитесь, что так можно подать информацию намного более эстетично, нежели просто голое число.\nДля того, чтобы фрагмент текста отображался после числа, необходимо записать оператор следующим образом:\nvar show [\"name\",\"текст\"]\nОбратите внимание, что текст фрагмента может быть записан как на латинице, так и с использованием кириллицы.\nОбязательным требованием является то, что текст самого варианта ответа должен состоять более чем из трёх символов.\nИ, разумеется, автор должен иметь в виду, что пояснительный текст может не соответствовать по форме разным числовым значениям. Например: у человека в кармане 1 монетА, 2 монетЫ, 5 монет. Использование текста, не согласующегося с отображаемым числом, может выглядеть даже хуже, чем отображение числа без пояснения.",
    "answers": [
      {
        "var_show": [
          "joy",
          "стандартную единицу радости."
        ],
        "comment": true,
        "var_equal": [
          "joy",
          1
        ],
        "id": 78,
        "text": "Сейчас Вы радостны на"
      },
      {
        "var_show": [
          "joy",
          "стандартные единицы радости."
        ],
        "comment": true,
        "id": 78,
        "text": "Сейчас Вы радостны на",
        "var_need": [
          "joy",
          2
        ],
        "var_no_more": [
          "joy",
          4
        ]
      },
      {
        "var_show": [
          "joy",
          "стандартных единиц радости."
        ],
        "comment": true,
        "id": 78,
        "text": "Сейчас Вы радостны на",
        "var_need": [
          "joy",
          5
        ]
      },
      {
        "var_show": [
          "joy",
          "стандартных единиц радости."
        ],
        "comment": true,
        "var_equal": [
          "joy",
          0
        ],
        "id": 78,
        "text": "Сейчас Вы радостны на"
      },
      {
        "id": 17,
        "text": "Дальше"
      },
      {
        "id": 78,
        "text": "Укажите команды для картинки"
      }
    ]
  },
  {
    "id": 79,
    "text": "   Начиная с версии 162 в арсенале писателей появились операторы, соответствующие по смыслу строгим математическим неравенствам: \"var more\" (больше) и \"var less\" (меньше), а также оператор \"var not\" (все значения кроме). Их отличие от ранее введенных var need и var no more – исключение граничного значения – может быть особенно полезно при построении сложных конструкций, например при использовании в качестве аргумента переменной.\n   Например,  если необходимо сделать условие, основное на сравнении двух переменных, то при использовании лишь операторов \"var need\" и \"var no more\" граничное значение будет соответствовать обоим условиям. В этом случае и помогут операторы строгих условий, позволяя исключить это значение из области определения.",
    "answers": [
      {
        "var_show": [
          "joy",
          "стандартных единиц радости"
        ],
        "comment": true,
        "id": 79,
        "text": "Вы сейчас радостны на",
        "var_not": [
          "joy",
          1,
          "joy",
          2,
          "joy",
          3,
          "joy",
          4
        ]
      },
      {
        "var_show": [
          "joy",
          "стандартную единицу радости"
        ],
        "comment": true,
        "var_equal": [
          "joy",
          1
        ],
        "id": 79,
        "text": "Вы сейчас радостны на"
      },
      {
        "var_show": [
          "joy",
          "стандартных единицы радости"
        ],
        "comment": true,
        "id": 79,
        "text": "Вы сейчас радостны на",
        "var_less": [
          "joy",
          5
        ],
        "var_more": [
          "joy",
          1
        ]
      },
      {
        "id": 79,
        "text": "Ваша хорошесть:",
        "comment": true,
        "var_show": [
          "gg"
        ]
      },
      {
        "var_add": [
          "gg",
          1
        ],
        "id": 79,
        "var_need": [
          "joy",
          1
        ],
        "text": "Обменять 1 единицу радости на \"хорошесть\"",
        "var_sub": [
          "joy",
          1
        ]
      },
      {
        "var_max": [
          "joy",
          10
        ],
        "var_add": [
          "joy",
          1
        ],
        "id": 79,
        "var_sub": [
          "gg",
          1
        ],
        "var_less": [
          "joy",
          10
        ],
        "text": "Обменять 1 единицу \"хорошести\" на радость"
      },
      {
        "id": 79,
        "text": "У Вас сейчас больше радости, чем \"хорошести\".",
        "comment": true,
        "var_more": [
          "joy",
          "gg"
        ]
      },
      {
        "id": 79,
        "text": "У Вас сейчас больше \"хорошести\", чем радости.",
        "comment": true,
        "var_less": [
          "joy",
          "gg"
        ]
      },
      {
        "id": 79,
        "text": "У вас сейчас одинаковое количество \"хорошести\" и радости.",
        "comment": true,
        "var_equal": [
          "joy",
          "gg"
        ]
      },
      {
        "id": 80,
        "text": "Дальше",
        "var_add": [
          "page",
          1
        ]
      }
    ]
  },
  {
    "id": 80,
    "text": "   Как и все операторы переменных, \"var more\", \"var less\" и \"var not\" записываются в уже привычном виде:\nvar more [\"name\",x]\nvar less [\"name\",x]\nvar not [\"name\",x]\nгде \"name\" – условное имя переменной, значение которой будет сравниваться, а х – число (или другая переменная), с которым будет проводиться сравнение.\n   Например, запись var not [\"hp\",\"maxhp\"] означает, что вариант ответа будет виден только в том случае, если значение переменной \"hp\" не будет равно значению переменной \"maxhp\".",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      },
      {
        "id": 80,
        "text": "Укажите команды для картинки"
      }
    ]
  },
  {
    "id": 81,
    "text": "   В версии 162 появился ещё один оператор действий над переменными, а именно – оператор умножения \"var mult\". С его помощью можно умножать значения переменных на любое число или значение другой переменной.\n   Если Вам необходимо реализовать деление переменной, то это также можно сделать с помощью оператора var mult, нужно всего лишь использовать в качестве аргумента число, обратное требуемому делителю (например, деление на 2 эквивалентно умножению на ½).\n   Другой вариант реализовать деление – использовать оператор \"var div\". В этом случае можно разделить значение одной переменной на другую переменную без остатка (в случае, если нужна большая точность, то можно предварительно умножить исходное значение на 100, а результат — на 0.01).\n   Если Вам не хватало возможности получать нецелые случайные значения, то и в этом поможет \"var mult\": нужно просто получить случайное целое значение (например от 0 до 10), а затем разделить его на максимальное значение.",
    "answers": [
      {
        "id": 81,
        "text": "Увеличить значение переменной \"а\" на 1.\nТекущее значение:",
        "var_add": [
          "a",
          1
        ],
        "var_show": [
          "a"
        ]
      },
      {
        "id": 81,
        "text": "Увеличить значение переменной \"b\" на 1.\nТекущее значение:",
        "var_add": [
          "b",
          1
        ],
        "var_show": [
          "b"
        ]
      },
      {
        "id": 81,
        "text": "Умножить значение переменной \"а\" на значение переменной \"b\"",
        "var_mult": [
          "a",
          "b"
        ]
      },
      {
        "id": 81,
        "text": "Разделить значение \"b\" на 2.",
        "var_mult": [
          "b",
          0.5
        ]
      },
      {
        "var_show": [
          "rand"
        ],
        "var_random": [
          "rand",
          0,
          100
        ],
        "id": 81,
        "text": "Получить случайное значение от 0 до 1.\nРезультат:",
        "var_mult": [
          "rand",
          0.01
        ]
      },
      {
        "id": 82,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 82,
    "text": "   Записываются операторы \"var mult\" и \"var div\" так же, как и другие числовые операторы:\n  var mult [\"name\",x]\nи\n  var div [\"name\",x]\nгде \"name\" – условное имя переменной, значение которой будет изменено в результате умножения или деления, а х – число (или другая переменная), выступающее в роли множителя или делителя.",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      },
      {
        "id": 82,
        "text": "Укажите команды для картинки"
      }
    ]
  },
  {
    "id": 83,
    "text": "   Когда Вы устанавливаете несколько операторов действия на один вариант ответа, у Вас есть представление того, в каком порядке они должны работать. Но важно помнить, что порядок срабатывания операторов предустановлен программой и не зависит ни от последовательности, в которой Вы их добавляли, ни от Ваших текущих потребностей.\n   Порядок выполнения действий программой следующий:\nvar set\nvar random\nvar mult\nvar add\nvar sub\nvar max\nvar min\n   Это значит, что после выбора варианта ответа сначала будут установлены все значения с помощью оператора \"var set\", затем – установлены все случайные значения оператором \"var random\", потом – проведено умножение \"var mult\" и так далее.",
    "answers": [
      {
        "id": 83,
        "text": "[Назад]",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 84,
    "text": "   Как уже отмечалось ранее, переменные связаны с конкретным вариантом ответа, на котором они размещены, и действуют только после выбора читателем этого ответа. Но это не всегда удобно, особенно при конструировании сложных последовательностей и схем из переменных.\n   Для того, чтобы обойти это ограничение, можно использовать оператор \"calculate\". Ввод этого слова в вариант ответа превращает этот вариант в автоматически запускаемую последовательность операторов, которые на нём записаны.\n   В результате, совершение действий и проверка условий происходит сразу, без всякого участия со стороны читателя, как только он перешёл на эту страницу.",
    "answers": [
      {
        "id": 85,
        "text": "[Дальше]",
        "var_add": [
          "page",
          1
        ],
        "var_set": [
          "rez",
          0
        ]
      }
    ]
  },
  {
    "id": 85,
    "text": "   Варианты ответа с оператором calculate становятся невидимыми для читателя, а их выполнение происходит последовательно от ответа, располагающегося выше других, к самому нижнему.\n   С помощью этого оператора можно программировать сложные последовательности действий, невозможные для реализации иными средствами.\n   Например, можно произвести операции с переменным, в обход предустановленной очередности выполнения действий в одном варианте ответа, и всё это без участия читателя.\n   Вот, например, небольшой расчёт: к значению Вашей радости прибавляется случайное число от -10 до 5, делится на 2, прибавляется второе случайное число из этого же диапазона и если полученый результат окажется меньше нуля, то в утешение Вы получите одну сферу Божественного Откровения.",
    "answers": [
      {
        "var_add": [
          "rez",
          "r1",
          "rez",
          "joy"
        ],
        "var_random": [
          "r1",
          -10,
          5,
          "r2",
          -10,
          5
        ],
        "id": 85,
        "calculate": true,
        "text": "Новый ответ. введите текст"
      },
      {
        "var_add": [
          "rez",
          "r2"
        ],
        "id": 85,
        "calculate": true,
        "text": "Новый ответ. введите текст",
        "var_mult": [
          "rez",
          0.5
        ]
      },
      {
        "var_add": [
          "g",
          1
        ],
        "var_less": [
          "rez",
          0
        ],
        "text": "Новый ответ. введите текст",
        "calculate": true,
        "id": 85
      },
      {
        "id": 85,
        "text": "\n   У Вас ",
        "var_show": [
          "g",
          "сфер Божественного Откровения"
        ],
        "merge": true
      },
      {
        "id": 85,
        "text": "\n   Ваша радость:",
        "var_show": [
          "joy"
        ],
        "merge": true
      },
      {
        "id": 85,
        "text": "\n   Первое случайное число:",
        "var_show": [
          "r1"
        ],
        "merge": true
      },
      {
        "id": 85,
        "text": "\n   Второе случайное число:",
        "var_show": [
          "r2"
        ],
        "merge": true
      },
      {
        "id": 85,
        "text": "\n   Результат:",
        "var_show": [
          "rez"
        ],
        "merge": true
      },
      {
        "id": 85,
        "text": "\n   Результат оказался отрицательным, но не стоит переживать, Вы получили сферу Божественного Откровения.",
        "var_less": [
          "rez",
          0
        ],
        "merge": true
      },
      {
        "id": 85,
        "text": "\n   Поздравляю, Вы получили положительный результат!",
        "var_need": [
          "rez",
          0
        ],
        "merge": true
      },
      {
        "id": 86,
        "text": "[Дальше]"
      }
    ]
  },
  {
    "id": 86,
    "text": "   Важно помнить, что выполнение команд с оператором calculate происходит каждый раз, когда читатель переходит на страницу, даже если это переход со страницы на саму себя, поэтому стоит тщательно проверять конструкции, чтобы не допустить выполнения нежелательных операций.\n   Ещё одним важным моментом является приоритет выполнения команд с оператором calculate: если ответ на странице должен прибавлять какое-то число к значению переменной, а calculate устанавливает его точное значение, то изменения не произойдёт, так как после прибавления происходит переход на эту же страницу и снова устанавливается прописанное значение.",
    "answers": [
      {
        "id": 17,
        "text": "[Дальше]"
      }
    ]
  },
  {
    "id": 87,
    "text": "   В версии приложения 178 появилась возможность использовать текстовые переменные. Что это такое? Почти то же самое, что и числовые переменные, только использующие текст вместо цифр.\n   Но давайте подумаем, для чего это может быть полезно. Во-первых, с помощью инструмента текстовых переменных можно легко интегрировать выбор игрока в дальнейшее повествование.\n   Например, Вы можете сейчас выбрать свой любимый цвет из списка предложенных.",
    "answers": [
      {
        "var_str_set": [
          "col",
          "красный"
        ],
        "var_add": [
          "c",
          1
        ],
        "id": 87,
        "text": "Красный",
        "var_less": [
          "c",
          1
        ]
      },
      {
        "var_str_set": [
          "col",
          "оранжевый"
        ],
        "var_add": [
          "c",
          1
        ],
        "id": 87,
        "text": "Оранжевый",
        "var_less": [
          "c",
          1
        ],
        "merge": false
      },
      {
        "var_str_set": [
          "col",
          "жёлтый"
        ],
        "var_add": [
          "c",
          1
        ],
        "id": 87,
        "text": "Жёлтый",
        "var_less": [
          "c",
          1
        ],
        "merge": false
      },
      {
        "var_str_set": [
          "col",
          "зелёный"
        ],
        "var_add": [
          "c",
          1
        ],
        "id": 87,
        "text": "Зелёный",
        "var_less": [
          "c",
          1
        ],
        "merge": false
      },
      {
        "var_str_set": [
          "col",
          "голубой"
        ],
        "var_add": [
          "c",
          1
        ],
        "id": 87,
        "text": "Голубой",
        "var_less": [
          "c",
          1
        ],
        "merge": false
      },
      {
        "var_str_set": [
          "col",
          "синий"
        ],
        "var_add": [
          "c",
          1
        ],
        "id": 87,
        "text": "Синий",
        "var_less": [
          "c",
          1
        ],
        "merge": false
      },
      {
        "var_str_set": [
          "col",
          "фиолетовый"
        ],
        "var_add": [
          "c",
          1
        ],
        "id": 87,
        "text": "Фиолетовый",
        "var_less": [
          "c",
          1
        ],
        "merge": false
      },
      {
        "var_str_set": [
          "col",
          "чёрный"
        ],
        "var_add": [
          "c",
          1
        ],
        "id": 87,
        "text": "Чёрный",
        "var_less": [
          "c",
          1
        ],
        "merge": false
      },
      {
        "var_str_set": [
          "col",
          "белый"
        ],
        "var_add": [
          "c",
          1
        ],
        "id": 87,
        "text": "Белый",
        "var_less": [
          "c",
          1
        ],
        "merge": false
      },
      {
        "var_show": [
          "col",
          "цвет."
        ],
        "id": 87,
        "text": "\n   Вы выбрали",
        "var_not": [
          "dr",
          1,
          "col",
          0
        ],
        "merge": true
      },
      {
        "var_show": [
          "col",
          "."
        ],
        "id": 87,
        "var_need": [
          "c",
          1
        ],
        "text": "\n   Теперь, все описывающие цвет прилагательные на следующей странице будут заменены на",
        "merge": true
      },
      {
        "id": 88,
        "text": "Дальше",
        "var_need": [
          "c",
          1
        ]
      }
    ]
  },
  {
    "id": 88,
    "text": "   На этой странице, как и было обещано, будет лишь выбранный",
    "answers": [
      {
        "id": 88,
        "text": " Вами",
        "var_show": [
          "col",
          "цвет."
        ],
        "merge": true
      },
      {
        "id": 88,
        "text": "   \n   Здесь мог бы быть классический рассказ про то, как в одной стране был древний",
        "var_show": [
          "col"
        ],
        "merge": true
      },
      {
        "id": 88,
        "text": " лес, в котором стоял старый",
        "var_show": [
          "col"
        ],
        "merge": true
      },
      {
        "id": 88,
        "text": " замок, а правил им один",
        "var_show": [
          "col"
        ],
        "merge": true
      },
      {
        "id": 88,
        "text": " волшебник, но я не стану утомлять читателя подобным, ведь это было нужно всего лишь для демонстрации использования текстовых переменных.",
        "merge": true
      },
      {
        "id": 88,
        "backstepCount": 1,
        "text": "[Выбрать другой цвет]",
        "isBack": true,
        "var_set": [
          "c",
          0
        ]
      },
      {
        "id": 89,
        "text": "[Дальше]",
        "var_set": [
          "gold",
          10
        ]
      }
    ]
  },
  {
    "id": 89,
    "text": "   Другим важным моментом является то, что текстовые переменные используют те же имена, что и числовые.",
    "answers": [
      {
        "var_show": [
          "gold",
          "золотых."
        ],
        "comment": true,
        "id": 89,
        "text": "\n   У вас есть",
        "merge": true
      },
      {
        "comment": true,
        "var_equal": [
          "phase",
          0
        ],
        "id": 89,
        "text": "\n   Но вот Вы нашли древний клад.",
        "merge": true
      },
      {
        "var_str_set": [
          "gold",
          "несчётное количество"
        ],
        "var_equal": [
          "phase",
          0
        ],
        "id": 89,
        "text": "[Открыть сундук]",
        "var_set": [
          "phase",
          1
        ]
      },
      {
        "id": 89,
        "text": "[Отдать всё состояние нуждающимся и оставить себе 12 золотых]",
        "var_set": [
          "phase",
          2,
          "gold",
          12
        ],
        "var_equal": [
          "phase",
          1
        ]
      },
      {
        "id": 89,
        "text": "\n   Текстовые переменные задаются операторами var str set и var str copy. Первый из них устанавливает определенный текстовый фрагмент как переменную, а второй – присваивает одной переменной значение другой.\n   Для того, чтобы использовать эти операторы, нужно ввести в поле ответа:\nvar str set [\"name\",\"text\"]\n  или\nvar str copy [\"name1\",\"name2\"]\n  где \"name\", \"name1\" и \"name2\" – это имена переменных, а \"text\" – необходимое текстовое значение.\n   Для отображения тестовых переменных так же, как и для числовых, используется оператор var show.",
        "merge": true,
        "var_equal": [
          "phase",
          2
        ]
      },
      {
        "id": 17,
        "text": "[Назад]",
        "var_equal": [
          "phase",
          2
        ]
      }
    ]
  },
  {
    "id": 90,
    "text": "   Описания нововведений становятся доступными в разделах «К списку \"Божественных Откровений\"» и «Краткий справочник».\n\nОбновление от 20.03.2018 (для версии 286)\n– добавлена возможность создания скриптов на языке программирования Lua посредством функций function lua_do() и function lua_if(). Для помощи по использованию Lua создана беседа ВК, доступ к которой осуществляется через ответ внизу страницы.\n\nОбновление от 04.10.2018 (для версии 272)\n– добавлено описание блокировки использования закладок.\n\nОбновление от 08.07.2018 (для версии 254)\n– добавлено описание работы оператора \"update\";\n– обновлена информация о служебных переменных в кратком справочнике.\n\nОбновление от 22.06.2018 (для версии 247)\n– добавлено описание работы операторов \"var div\" и \"var random from weight\".\n\nОбновление от 28.03.2018 (для версии 227 и выше)\n– добавлено описание работы оператора \"var set from\".\n\nОбновление от 15.03.2018 (для версии 224 и выше)\n– добавлено описание работы оператора \"var concat\".\n\nОбновление от 26.02.2018 (для версии 222 и выше)\n– добавлено описание работы оператора \"random from\";\n– добавлено описание оператора \"no max\";\n– добавлено описание работы виджетов;\n– добавлено описание работы многих специальных переменных;\n– добавлено описание работы указателей \"var pointer get\" и \"var pointer put\".\n\nОбновление от 14.01.2018\n– добавлено описание использования оператора run и команды autorun (для версии 194 и выше).\n\nОбновление от 13.01.2018\n– добавлено описание использования глобальной памяти для переменных (для версии 194 и выше).\n\nОбновление от 08.01.2018\n– добавлено описание оператора \"goto\" (для версии 191 и выше).\n\nОбновление от 30.11.2017\n– добавлено описание текстовых переменных (для версии 178 и выше).\n\nОбновление от 20.11.2017\n– добавлено описание оператора \"calculate\" (для версии 170 и выше).\n\nОбновление от 28.10.2017\n– добавлено описание операторов \"var more\", \"var less\" и \"var not\" (для версии 162 и выше);\n– добавлено описание оператора \"var mult\" (для версии 162 и выше);\n\nОбновление от 07.10.2017\n— добавлено описание оператора \"var random\" (для версии 150 и выше);\n— добавлено описание использования текста после оператора \"var show\" (для версии 150 и выше).\n\nОбновление от 17.09.2017\n— добавлено описание оператора \"var equal\";\n— добавлено описание использования переменной в качестве аргумента.\n\nОбновление от 23.08.2017\n— добавлен краткий справочник, дублирующий основную информацию учебника.\n\nОбновление от 22.08.2017\n— добавлено описание оператора \"var showtime\";\n— добавлены скриншоты, помогающие взглянуть на конкретные примеры использования переменных и операторов.\n",
    "answers": [
      {
        "id": 90,
        "text": "[Назад]",
        "backstepCount": 1,
        "isBack": true
      },
      {
        "id": 1,
        "url": "https://vk.me/join/AJQ1d/8cQQsLYijF6qGC_AhC",
        "text": "Беседа ВК для помощи с использованием Lua"
      }
    ]
  },
  {
    "id": 91,
    "text": "   В версии 191 появилась возможность использовать оператор \"goto\". С его помощью можно сделать так, чтобы вариант ответа вёл на страницу, номер которой соответствует текущему значению переменной. Это значит, что единственный вариант ответа может обеспечивать все необходимые переходы между страницами, что может существенно сократить количество \"вспомогательных\" однотипных ответов-связок.\n   Для того, чтобы установить этот оператор, необходимо в поле ответа записать:\n  goto [\"name\"]\nгде \"name\" – имя переменной, значение которой будет использовано как номер страницы для перехода.",
    "answers": [
      {
        "id": 91,
        "text": "Дальше",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 92,
    "text": "   Начиная с версии 194 в приложении появилась возможность работать с переменным в глобальной памяти. Для того, чтобы переменная работала в \"глобальном\" режиме, она должна содержать в начале своего имени слово \"global\" (например: \"global page\", \"global hp\", \"global tortik\"). Такие переменные не обнуляются при переходе на первую страницу при перепрохождении квеста, поэтому с их помощью можно, например, оформлять достижения, основные на значениях переменных.\n",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      },
      {
        "var_show": [
          "global page"
        ],
        "comment": true,
        "id": 92,
        "text": "    *  *  *\n С момента ввода глобальных переменных Вы прочитали страниц:",
        "merge": false
      }
    ]
  },
  {
    "id": 93,
    "text": "Авторан",
    "answers": [
      {
        "id": 93,
        "text": "Новый ответ. введите текст",
        "var_add": [
          "global page",
          1
        ],
        "calculate": true
      }
    ]
  },
  {
    "id": 94,
    "text": "   В версии 194 появилась удобная возможность для реализации сложных механик и подпрограмм. В её основе лежит использование оператора run и специальной команды autorun. \n   Оператор run [х] записывается в варианте ответа и сразу после перехода читателя на страницу вставляет вместо этого ответа все ответы со страницы х. При этом сохраняются все свойства ответов: условия отображения, calculate, merge и прочие, возможно даже использование другого оператора run. Таким образом, можно легко реализовать разнообразные меню или подпрограммы для самых разных ситуаций.\n   Команда autorun действует аналогично оператору run, но имеет существенные отличия. Для её использования необходимо присвоить специальной одноименной переменной (\"autorun\") значение, соответствующее номеру страницы. Все ответы с указанной страницы будут автоматически добавляться перед ответами любой страницы после каждого (!) перехода до тех пор, пока значение этой переменной не будет изменено.\n   Например, в данном учебнике с помощью команды autorun осуществляется подсчёт глобального количества прочитанных страниц. Для этого просто была создана невидимая для читателя страница с единственным вариантом ответа, содержащем операторы calculate и var add [\"global page\",1], а оператор var set [\"autorun\",x] на первой странице активирует этот механизм. Таким образом удалось избежать необходимости добавлять запись для прибавления страниц на все ответы во всем квесте и добиться такого же результата.",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 95,
    "text": "   Специальные операторы не попадают под определения основных категорий и выполняют специфические функции.\n\ngoto [\"name\"] – ответ приводит читателя на страницу, номер которой соответствует текущему значению переменной;\n\ncalculate – запускает все операторы, записанные в ответе, автоматически при переходе читателя на страницу, при этом ответ становится невидимым для читателя;\n\nrun [Х] (run [\"name\"]) – при переходе читателя на страницу автоматически вставляет вместо ответа, на котором записан, все ответы со страницы №Х (или страницы с номером, соответствующим значению переменной \"name\");\n\n\"global ...\" – переменные, содержащие в названии этот фрагмент, работают в \"глобальном\" режиме, то есть не обнуляются при переходе на первую страницу.\n\n   Специальные переменные:\n– \"global background\" — присвоение этой переменной текстового значения https://...jpg изменит фон страницы на изображение по указанной ссылке;\n— \"global theme\" — то же самое для изменения фона квеста;\n— \"global invert text color\" – установка белового цвета шрифта для тёмных фонов при значении 1, стандартный цвет при значении 0;\n— \"global transition\" — переходы между страницами. Значение \"instant\" — мгновенный переход, \"rect\" — стандартный;\n— \"global image_part_of_screen\" — максимальная часть страницы, отводящаяся под картинку. Возможные значения от 0 до 1 (≠0), значение по умолчанию – 0.6; \n— \"global fullscreen\" — переход в режим визуальной новеллы при значении 1, стандартный режим отображения при значении 0;\n \n— \"global bg_music\", \"global switch_page_sound\", \"global play_sound_once\" — переменные для работы с музыкой, отвечающие за фоновый звук, звук смены страниц и единичное воспроизведение звукового файла, соответственно;\n\n— \"recommend save [\"название_сохранения\"]\" — подсказка для читателя от автора, и выглядит как \"Автор рекомендует сохраниться здесь: название сохранения\".\n— \"global reloadFunctions\" — переменная, назначающая страницу, которая будет срабатывать один раз при входе в квест, и записанное в той странице будет иметь приоритет на вычисления перед записями на открывающейся странице квеста. \n\n— \"autorun\" (\"autorun after\") – при значении Х добавляют в начало (конец) каждой страницы все варианты ответа со страницы Х, при значении 0 неактивны; \n— \"global current_id\" (\"global previous_id) – всегда имеет значение, соответствующее номеру текущей (предыдущей посещённой) страницы;\n— \"global version\" — содержит номер версии приложения пользователя;\n— \"global time\" — содержит текущее время в секундах;\n– \"global blockSaves\" – при значении «1» делает невозможным использование закладок.\n\n   Не рекомендуется изменять значения системных переменных, для которых это не предусмотрено\" (например, назначить неправильный номер версии приложения), это может привести к критическим ошибкам.",
    "answers": [
      {
        "backstepCount": 1,
        "text": "Назад",
        "isBack": true,
        "id": 95
      }
    ]
  },
  {
    "id": 96,
    "text": "   Оператор \"var random from\" позволяет выбирать случайное значение из списка аргументов, а не из интервала значений. Он записывается следующим образом:\n  var random from [\"name\",x,y,..,z]\nгде \"name\" – имя переменной, которой будет присвоено случайное значение, а х,у,...z – числа (или переменные), из которых будет происходить выбор.\n   Оператор \"var random from weight\" позволяет получать случайное значение из списка с заданной вероятностью. Другими словами, вероятность получения каждого из значений может быть не одинакова, а тонко настроена автором. Так, можно сделать, чтобы результат действия игрока носил случайный характер, но зависел от значения какой-либо переменной, например, с повышением \"навыка\" персонажа может увеличиться шанс получения благоприятного исхода случайного события.\n   Записывается этот оператор следующим образом:\n  var random from weight [\"name\", x1, y1, ..., xn, yn]\nгде \"name\" – имя переменной, которой будет присвоено случайное значение, x1, ..., xn – числа или переменные, из которых происходит выбор, а y1, ..., yn – \"вес\" соответствующих чисел или переменных при выборе. Чем больше \"вес\", тем более вероятно будет выбрано  значение, его имеющее. Так, при записи var random from weight [\"name\", 0, 1, 1, 9] в девяти случаях из десяти переменной будет присвоено значение \"1' и только в одном – \"0\".",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 97,
    "text": "   Операторы-указатели \"var pointer\" позволяют производить манипуляции с переменной, которая напрямую не указана в самом операторе, что может быть использовано для составления сложных подпрограмм.\n\n– var pointer get [\"name1\",\"name2\"] – присваивает переменной \"name1\" значение переменной, имя которой соответствует значению переменной \"name2\"; \n– var pointer put [\"name1\",\"name2\"] – присваивает переменной, имя которой соответствует значению переменной \"name1\", значение переменной \"name2\"\n\n\nТаким образом, в расчетах участвует неизвестная переменная, которая определяется значением одной из строковых переменных, что позволяет сделать очень гибкую и общую схему расчетов, не привязываясь к конкретным переменным.",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 98,
    "text": "   \"Служебные\" или специальные переменные являются продвинутым инструментом и помогают авторам работать с \"изнанкой\" приложения. Для работы некоторых из них необходимо присваивать этим переменным определённые значения, а другие могут использоваться как аргументы для сравнения.\n\n– \"autorun\" – при ненулевом значении переменной выполняет оператор run [\"х\"] перед всеми ответами на странице при каждом совершаемом переходе, где х — значение переменной;\n– \"autorun after\" – при ненулевом значении переменной выполняет оператор run [\"х\"] после всех ответов на странице при каждом совершаемом переходе, где х — значение переменной;\n– \"global image_part_of_screen\" – определяет пропорции для картинок на экране. Стандартное значение равно 0.6, при значении 1 картинки будут квадратными, при 1.5 займут почти весь экран; \n– \"global current_id\" – содержит номер текущей страницы, может быть использован для назначения другим переменным значения текущей страницы;\n— \"global previos_id\" – содержит номер предыдущей страницы; \n— \"global version\" – содержит номер текущей версии приложения, может быть использована для запрета запуска квеста на старых версиях;\n– \"global fullscreen\" – если значение этой переменной равно 1, то квест будет отображаться в режим визуальной новеллы;\n\n   Не рекомендуется изменять значения системных переменных, для которых это не предусмотрено (например, назначить неправильный номер версии приложения), это может привести к критическим ошибкам.",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 99,
    "text": "   В версии 222 в приложении появилась возможность представлять значения переменных в виде виджетов. Для работы виджетов необходимо всего два оператора:\n\n– widget init [\"id\",\"http(s)://.....png\",\"text\"] – команда для инициализации виджета, должна запуститься один раз в начале квеста. \"id\" – уникальное имя виджета, \"http(s)://.....png\" – адрес картинки, которую должен отображать виджет, \"text\" – пояснительная надпись, которая будет отображаться после значения переменной);\n\n– widget show [\"id\",\"name\"] – выводит виджет на экран, (\"id\" — имя виджета, а \"name\" – имя переменной, которая должна отображаться в виджете. Должен быть размещён на каждой странице, на которой должен отображаться виджет.",
    "answers": [
      {
        "id": 17,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 100,
    "text": "   Конкатенацией в программировании называется операция, в результате которой два объекта \"склеиваются\" с образованием нового. Например, конкатенация слов \"микро\" и \"мир\" даёт слово \"микромир\". \n   Оператор конкатенации в приложении позволяет \"приклеивать\" значение одной текстовой (строковой) переменной к значению другой переменной. Так, запись var concat [\"name1\",\"name2\"] дополнит значение переменной \"name1\" значением \"name2\", оставив второе неизменным. По анологии с уже использованным примером, если \"name1\" имеет значение \"микро\", а \"name2\" имеет значение \"мир\", то после выполнения данного оператора, \"name1\" будет иметь значение \"микромир\". \n   Данный оператор позволяет последовательно совершать несколько операций конкатенации, для этого необходимо последовательно указывать пары \"целевая переменная\"/\"переменная для добавления\". Например, var concat [\"name1\",\"name2\",\"name1\",\"name3\"] последовательно \"приклеет\" к значению \"name1\" сначала значение \"name2\", а затем к результату добавит ещё и \"name3\", а запись var concat [\"name1\",\"name1\",\"name1\",\"name1\"] приведёт к значению, состоящему из четырёх начальных. \n   Вы можете проверить работу оператора на простом примере далее. \n ",
    "answers": [
      {
        "id": 101,
        "text": "К примеру"
      }
    ]
  },
  {
    "id": 101,
    "text": "   Давайте попробуем на практике воспроизвести пример из предыдущей страницы.",
    "answers": [
      {
        "id": 101,
        "text": "\n   Значение переменной \"name1\":",
        "var_show": [
          "name1"
        ],
        "merge": true
      },
      {
        "id": 101,
        "text": "\n   Значение переменной \"name2\":",
        "var_show": [
          "name2"
        ],
        "merge": true
      },
      {
        "id": 101,
        "text": "Установить значение \"name1\"",
        "var_equal": [
          "active",
          0
        ],
        "var_set": [
          "active",
          1
        ]
      },
      {
        "id": 101,
        "text": "Установить значение \"name2\"",
        "var_set": [
          "active",
          2
        ],
        "var_equal": [
          "active",
          0
        ]
      },
      {
        "var_str_set": [
          "name1",
          "микро"
        ],
        "var_equal": [
          "active",
          1
        ],
        "id": 101,
        "text": "\"микро\"",
        "left_answer": true,
        "var_set": [
          "active",
          0
        ]
      },
      {
        "var_str_set": [
          "name2",
          "микро"
        ],
        "var_equal": [
          "active",
          2
        ],
        "id": 101,
        "text": "\"микро\"",
        "left_answer": true,
        "var_set": [
          "active",
          0
        ]
      },
      {
        "var_str_set": [
          "name1",
          "мир "
        ],
        "right_answer": true,
        "var_equal": [
          "active",
          1
        ],
        "id": 101,
        "text": "\"мир\"",
        "var_set": [
          "active",
          0
        ]
      },
      {
        "var_str_set": [
          "name2",
          "мир "
        ],
        "right_answer": true,
        "var_equal": [
          "active",
          2
        ],
        "id": 101,
        "text": "\"мир\"",
        "var_set": [
          "active",
          0
        ]
      },
      {
        "id": 101,
        "text": "Произвести конкатенацию (var concat [\"name1\",\"name2\"])",
        "var_not": [
          "name1",
          0,
          "name2",
          0
        ],
        "var_concat": [
          "name1",
          "name2"
        ]
      },
      {
        "id": 101,
        "text": "Произвести конкатенацию (var concat [\"name2\",\"name1\"])",
        "var_not": [
          "name1",
          0,
          "name2",
          0
        ],
        "var_concat": [
          "name2",
          "name1"
        ]
      },
      {
        "id": 101,
        "text": "Произвести конкатенацию (var concat [\"name1\",\"name1\"])",
        "var_not": [
          "name1",
          0,
          "name2",
          0
        ],
        "var_concat": [
          "name1",
          "name1"
        ]
      },
      {
        "id": 17,
        "text": "Дальше",
        "var_not": [
          "name1",
          0,
          "name2",
          0
        ],
        "var_set": [
          "name1",
          0,
          "name2",
          0
        ]
      }
    ]
  },
  {
    "id": 102,
    "text": "   Оператор var set from [xxxxx, \"name1\",\"name2\"] присваивает переменной \"name2\" значение переменной \"name1\" из квеста №ххххх. Таким образом, значение целевой переменной будет различным в зависимости от того, какое значение переменной в другом квесте имел читатель при последнем прохождении.\n   Оператор поддерживает как локальные, так и глобальные переменные. Например, если нужно сделать вариант ответа доступным только если читатель смог найти секретную концовку в другом квесте, можно реализовать следующую простую схему:\n• При открытии секретной концовки в квесте №ххххх присвоить нужное значение вспомогательной глобальной переменной, например с помощью оператора var set [\"global secret\",1];\n• В новом квесте добавить секретный ответ и скрыть его с помощью оператора var equal [\"previous secret\",1];\n• Сделать на той же странице нового квеста вариант ответа, присваивающий переменной \"previous secret\" значение переменной \"secret\" из квеста №ххххх с помощью оператора var set from [xxxxx, \"global secret\",\"previous secret\"] и поставить на этот же ответ оператор calculate.\n   Вот и всё, теперь программа будет автоматически проверять, нашёл ли читатель секретную концовку в другом квесте и в зависимости от этого делать видимым спрятанный вариант ответа.",
    "answers": [
      {
        "id": 102,
        "text": "47698",
        "var_set_from": [
          47698,
          "global test passed",
          "secret"
        ],
        "calculate": true
      },
      {
        "var_equal": [
          "secret",
          1
        ],
        "id": 102,
        "instant": true,
        "text": "\n\n     *   *   *\n   Автор учебника узнал, что Вы успешно прошли тест из учебника \"Операторы для сложных квестов, примите поздравления по этому поводу!",
        "merge": true
      },
      {
        "id": 102,
        "var_not": [
          "secret",
          1
        ],
        "text": "\n   На этой странице есть скрытый ответ, который станет видимым только при успешном прохождении теста из учебника \"Операторы для сложных квестов\".",
        "merge": true
      },
      {
        "id": 17,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 103,
    "text": "   Начиная с 254 версии приложения, оператор \"update\" позволяет перевести вариант ответа в режим автообновления. Что это значит? Это значит, что вариант ответа становится динамически изменчивым, что даёт авторам огромный простор для творчества.\n   Для того, чтобы перевести ответ в режим автоматического обновления, необходимо в поле редактирования написать:\n  update [X,Y]\nгде Х – это интервал времени между обновлениями в секундах, а Y – максимальное число обновлений (этот параметр можно не указывать, тогда обновления будут бесконечны).\n   По сути, ответы с автообновлением обладают следующими отличительными признаками:\n1) Все операторы, записанные на этом варианте ответа, срабатывают автоматически каждые Х секунд, если вариант ответа отображается (!);\n2) Значения переменных, выводимых с помощью операторов отображения, обновляются каждые Х секунд;\n3) Если изменение значений переменных, произошедшее при действии автообновления, приводит к изменению видимости вариантов ответа, то происходит перезагрузка страницы и ответов.",
    "answers": [
      {
        "id": 104,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 104,
    "text": "   Стоит обратить внимание, что критичным моментом при использовании этого оператора является видимость варианта ответа для читателя. Так, при использовании автообновления на варианте ответа, содержащем операторы \"calculate\", \"run\" или \"merge\", никаких изменений не произойдёт: особенностью этих операторов является их постоянная невидимость для читателя.\n   Для того, чтобы лучше разобраться в работе оператора \"update\", попробуйте реализовать в своём тренировочном квесте следующий несложный пример:",
    "answers": [
      {
        "id": 104,
        "text": "Запустить пример",
        "var_not": [
          "104ex",
          1
        ],
        "var_set": [
          "104ex",
          1,
          "104sup",
          1
        ]
      },
      {
        "var_not": [
          "104sup",
          2,
          "104sup",
          3,
          "104sup",
          4
        ],
        "comment": false,
        "var_equal": [
          "104ex",
          1
        ],
        "id": 104,
        "text": "Каждый",
        "left_answer": true
      },
      {
        "var_not": [
          "104sup",
          2,
          "104sup",
          3,
          "104sup",
          4
        ],
        "comment": false,
        "var_equal": [
          "104ex",
          1
        ],
        "id": 104,
        "text": "Охотник",
        "right_answer": true
      },
      {
        "var_not": [
          "104sup",
          1,
          "104sup",
          3,
          "104sup",
          4
        ],
        "comment": false,
        "var_equal": [
          "104ex",
          1
        ],
        "id": 104,
        "text": "Желает",
        "left_answer": true
      },
      {
        "var_not": [
          "104sup",
          1,
          "104sup",
          3,
          "104sup",
          4
        ],
        "comment": false,
        "var_equal": [
          "104ex",
          1
        ],
        "id": 104,
        "text": "Знать",
        "right_answer": true
      },
      {
        "var_not": [
          "104sup",
          1,
          "104sup",
          2,
          "104sup",
          4
        ],
        "comment": false,
        "var_equal": [
          "104ex",
          1
        ],
        "id": 104,
        "text": "Где",
        "middle_answer": true
      },
      {
        "var_not": [
          "104sup",
          1,
          "104sup",
          2,
          "104sup",
          3
        ],
        "comment": false,
        "var_equal": [
          "104ex",
          1
        ],
        "id": 104,
        "text": "Сидит",
        "left_answer": true
      },
      {
        "var_not": [
          "104sup",
          1,
          "104sup",
          2,
          "104sup",
          3
        ],
        "comment": false,
        "var_equal": [
          "104ex",
          1
        ],
        "id": 104,
        "text": "Фазан",
        "right_answer": true
      },
      {
        "var_not": [
          "104ex",
          1
        ],
        "var_add": [
          "page",
          1
        ],
        "var_equal": [
          "104end",
          1
        ],
        "id": 17,
        "text": "Дальше",
        "forget": [
          103,
          104
        ]
      },
      {
        "comment": true,
        "var_equal": [
          "104ex",
          1
        ],
        "id": 104,
        "text": "   ",
        "update": [
          2,
          5
        ],
        "var_add": [
          "104sup",
          1
        ]
      },
      {
        "text": "   ",
        "comment": true,
        "var_need": [
          "104sup",
          5
        ],
        "id": 104,
        "calculate": false,
        "update": [
          3
        ],
        "var_set": [
          "104ex",
          0,
          "104end",
          1
        ]
      }
    ]
  },
  {
    "id": 105,
    "text": "   Для того, чтобы запретить читателям использовать закладки в определённой части квеста, необходимо присвоить специальной переменной \"global blockSaves\" значение «1». При этом читатель сможет вернуться на оставленную ранее закладку, но не сможет установить новую. Для того, чтобы снять запрет, необходимо присвоить этой переменной любое другое значение.",
    "answers": [
      {
        "id": 105,
        "text": "Активировать блокировку сохранений",
        "var_not": [
          "global blockSaves",
          1
        ],
        "var_set": [
          "global blockSaves",
          1
        ]
      },
      {
        "id": 105,
        "text": "Дективировать блокировку сохранений",
        "var_not": [
          "global blockSaves",
          0
        ],
        "var_set": [
          "global blockSaves",
          0
        ]
      },
      {
        "id": 105,
        "text": "Назад",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 106,
    "text": "   Здесь будут приведены развернутые объяснения на те вопросы, на которые затруднительно ответить в формате комментария.",
    "answers": [
      {
        "id": 107,
        "text": "Как сделать так, чтобы ответ исчез/появился через определённое время?"
      },
      {
        "id": 112,
        "text": "Как сделать так, чтобы игрок в зависимости от значения переменной переносился на определëнную страницу?"
      },
      {
        "id": 113,
        "text": "Как с помощью переменных открыть / закрыть доступ к тем или иным вариантам сюжета? "
      },
      {
        "id": 115,
        "text": "Текстовый вывод значений переменных"
      },
      {
        "id": 106,
        "text": " ",
        "comment": true
      },
      {
        "id": 1,
        "text": "В начало"
      }
    ]
  },
  {
    "id": 107,
    "text": "   Для работы с реальным временем есть несколько инструментов. Самый простой для реализации способ — использовать оператор update. Как же с его помощью реализовать варианты таймера?\n   Для начала создадим вспомогательный ответ, сотрём с него текст, поставим два пробела и сохраним, после этого введём оператор inactive и сохраним ещё раз — это нужно для того, чтобы update был видим для программы, но невидим для читателя. Теперь поставим сам оператор update, для этого запишем update [1] (это значит, что обновление будет происходить каждую секунду) и сохраним.\n   Теперь запишем конструкцию, которая будет выполняться автоматически каждую секунду – пусть это будет увеличение значения переменной – счётчика \"counter\" (имя переменной может быть любым). Откроем редактирование того же самого ответа, напишем var add [\"counter\",1] и сохраним. Теперь в режиме читателя каждую секунду будет происходить увеличение нашей переменной на единицу.\n   После этого можно настраивать сами ответы, видимость которых должна зависеть от времени. Допустим, что один ответ должен быть виден только первые 10 секунд после перехода на страницу, а другой – только после истечения 10 секунд. Напишем на первом ответе условие var no more [\"counter\",10], на другом – var more [\"counter\",10].\n   Теперь осталось только настроить начало отсчёта, для чего на ответ, ведущий на нужную страницу (или на любой ответ, запускающий таймер) пропишем var set [\"counter\",0]\n   Если необходимо, чтобы действие таймера выполнялось не на одной странице, а сразу на нескольких, то можно перенести его на страницу автоматического вызова autorun (подробнее о нём можно прочитать в этом учебнике). ",
    "answers": [
      {
        "id": 108,
        "text": "Запустить пример",
        "var_set": [
          "counter",
          0
        ]
      },
      {
        "id": 106,
        "text": "Назад"
      }
    ]
  },
  {
    "id": 108,
    "text": "   На этой странице размещён пример временно доступных ответов.",
    "answers": [
      {
        "id": 107,
        "text": "Ответ, доступный в течение первых 10 секунд\n[Назад]",
        "var_no_more": [
          "counter",
          10
        ]
      },
      {
        "id": 108,
        "text": "Ответ, доступный в течение первых 10 секунд\n(Копия ответа с оператором inactive)",
        "comment": true,
        "var_more": [
          "counter",
          10
        ]
      },
      {
        "id": 108,
        "text": "Ответ, доступный после истечения первых 10 секунд\n(На самом деле, это копия ответа с оператором inactive)",
        "comment": true,
        "var_no_more": [
          "counter",
          10
        ]
      },
      {
        "id": 107,
        "text": "Ответ, доступный после истечения первых 10 секунд\n[Назад]",
        "var_more": [
          "counter",
          10
        ]
      },
      {
        "var_add": [
          "counter",
          1
        ],
        "id": 108,
        "text": "  ",
        "update": [
          1
        ],
        "comment": true
      },
      {
        "id": 108,
        "text": "Новый ответ. введите текст",
        "url": "https://media.discordapp.net/attachments/1126760542397267998/1126760580733214760/imgonline-com-ua-Resize-0Wrfhe42QwvnWtMO.jpg"
      }
    ]
  },
  {
    "id": 109,
    "text": "   Для начала стоит прояснить, что же такое  эти переменные. В этом учебнике под переменной будет подразумеваться элемент, способный принимать различные значения (то есть способный переменяться). Переменная характеризуется двумя параметрами – именем и текущим значением.\n   Имя переменной, в отличие от её значения, является постоянной характеристикой, через него происходят все манипуляции с самой переменной. Имя переменной может быть почти любым (за исключением имён, зарезервированных под системные переменные) и включать в себя буквы (использование кириллицы возможно, но не рекомендуется), цифры и некоторые символы (например знак подчеркивания \"_“).\n   Значение переменной может быть числом, текстом (строкой) и даже таблицей, в зависимости от конкретных задач, для которых она используется.",
    "answers": [
      {
        "id": 110,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 110,
    "text": "   Итак, когда мы примерно поняли, что такое переменная, нужно разобраться, зачем этот элемент с изменяющимся значением может быть полезен автору квестов.\n   Первая цель достаточно тривиальна: с помощью переменных можно считать квестовые предметы,",
    "answers": []
  },
  {
    "id": 111,
    "text": "    ",
    "answers": [
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\n  function g.findInText(text, word, page)\n    word = utf8.gsub(word, \"([%(%)%.%%%<plus>%-%*%?%[%]%^%$])\", \"%%%0\")\n    local start, finish = utf8.find(text, word)\n    if start then\n      local result\n      result = \n  utf8.match(text, \"^[^<s>\n]-\".. word.. \"[^<s>\n]-$\") or\n  utf8.match(text, \"^[^<s>\n]-\".. word.. \"[^<s>\n]-<s>\n\") or\n  utf8.match(text, \"<s>\n[^<s>\n]-\".. word.. \"[^<s>\n]-$\") or\n  utf8.match(text, \"<s>\n[^<s>\n]-\".. word.. \"[^<s>\n]-<s>\n\")\n      result = utf8.gsub(result, \"[%s<s>\n]<plus>\", \" \")\n      if #result > 100 then\n        result = utf8.sub(result, 1, 100)\n        if utf8.sub(result, 100, 100) == \" \" then\n          result = utf8.sub(result, 1, -2)\n        else\n          result = utf8.sub(result, 1, -2) .. \"...\"\n        end\n      end\n      table.insert(results, {text = result, \n      fontSize = 0.9, pressListener = \n      function() \n        showPage{id = page} \n        hideDialog() \n      end})\n      return true\n    end\n    return false\n  end\nend",
        "calculate": false,
        "text": "Поиск в тексте",
        "id": 23
      },
      {
        "comment": false,
        "super_calculate": true,
        "id": 23,
        "text": "Поиск",
        "calculate": false,
        "lua_do": "function lua_do()\ntimer.performWithDelay(1, function()\nlocal cw, ch = display.contentWidth, display.contentHeight\nlocal w = cw*0.1\nlocal find = display.newImage(canvas.parent.parent.parent.parent.parent, \"detective-md.png\", 0, 0)\nfind.xScale = w/find.width\nfind.yScale = find.xScale\nfind.x = cw - find.contentWidth/2 - 0.04*cw\nfind.y = find.contentHeight/2 <plus> 0.03*cw\nfind:setFillColor(0)\n\nfind:addEventListener(\"tap\",   \n  function(event)\n    if not event.target.input then\n      local cw, ch = display.contentWidth, display.contentHeight\n      local input = native.newTextField(cw*0.5, cw*0.07, cw*0.6, cw*0.075)\ncanvas.parent.parent.parent.parent.parent:insert(input)\n      event.target.input = input\n    else\n      local word = event.target.input.text or \"  \"\n      if utf8.match(word, \"^%s*$\") then\n        if event.target.input and event.target.input.removeSelf then\n          event.target.input: removeSelf()\n        end\n        event.target.input = nil\n        return true\n      end\n\n      results = {{text = \"Назад\", fontSize = 0.9}}\n      local findPages = 0\n      for i = 1, #pages do\n        local successFind\n        if g.findInText(pages[i].text, word, i) then\n          successFind = true\n        end \n        for j = 1, #pages[i].answers do\n          local answer = pages[i].answers[j]\n          if answer.comment and not (answer.calculate or answer.super_calculate) then\n            if g.findInText(answer.text, word, i) then\n              successFind = true\n            end\n          end\n        end\n        if successFind then\n          findPages = findPages <plus> 1\n        end\n        if #results >= 50 then\n          break\n        end\n      end\n      if event.target.input and event.target.input.removeSelf then\n        event.target.input:removeSelf()\n      end\n      event.target.input = nil\n      if #results <=1 then\n        message(\"Ничего не нашлось\")\n      else\n        dialog{header = 'Результаты поиска \"' .. word .. '\"',\n        text = \"Вхождений: \".. (#results - 1) .. \", страниц: \" .. findPages,\n        fontSizeForBody = 0.9,\n        answers = results}\n      end\n    end\n  return true\n  end)\nend)\nend"
      }
    ]
  },
  {
    "id": 112,
    "text": "Для этого потребуется совершить несколько действий:",
    "answers": [
      {
        "var_set": [
          "A1",
          1,
          "A2",
          0,
          "A3",
          0
        ],
        "id": 114,
        "instant": true,
        "text": "Шаг 1 — написать небольшую команду:",
        "var_no_more": [
          "A1",
          0
        ]
      },
      {
        "no_transition": false,
        "instant": true,
        "id": 112,
        "text": "Шаг 2 — оформить ответ:",
        "var_no_more": [
          "A2",
          0
        ],
        "var_set": [
          "A1",
          0,
          "A2",
          1,
          "A3",
          0
        ]
      },
      {
        "id": 112,
        "text": "Шаг 2 — оформить ответ:\n\nСотрите текст ответа и напишите без кавычек \"no transition\". Этот оператор отменит стандартный скрипт перехода на страницу. Сделать это обязательно, иначе после перехода через код Lua, произойдëт повторный переход.\n\nСохранив, вы получаете рабочую конструкцию вариативного перехода на одном ответе. Это лишь малая толика возможностей, которые вы получаете, используя язык программирования Lua.",
        "comment": true,
        "var_need": [
          "A2",
          1
        ]
      },
      {
        "no_transition": false,
        "instant": true,
        "id": 112,
        "text": "Варианты использования:",
        "var_no_more": [
          "A3",
          0
        ],
        "var_set": [
          "A1",
          0,
          "A2",
          0,
          "A3",
          1
        ]
      },
      {
        "id": 112,
        "text": "Варианты использования:\n\n1 — оставить ответ кликабельным. В таком случае переходы между страницами будут совершаться по нажатию читателя на ответ.\n\n2 — ещë раз стереть текст ответа (предварительно сохранив), и написать без ковычек оператор \"calculate\". В таком случае ответ перестанет быть видимым пользователю, однако при достижении определëнных вами условий, будет автоматически производиться переход.\n\nОднако во втором варианте есть нюансы!\nИз-за особенностей оператора действие может производиться не в момент изменения значения переменных, а при следующем обновлении страницы.\nЕсли вы видите, что нужное вам значение уже достигнуто, а переход не происходит — либо воспользуйтесь Вариантом 1, либо создайте отдельную техническую страницу, на которую перенесите ответ с calculate, а на нужной вам разместите оператор run[номер технической страницы]. В таком случае реакция на изменения будет следовать незамедлительно.",
        "comment": true,
        "var_need": [
          "A3",
          1
        ]
      },
      {
        "id": 112,
        "text": " ",
        "comment": true
      },
      {
        "id": 106,
        "text": "Назад"
      }
    ]
  },
  {
    "id": 113,
    "text": "На ключевых выборах расставьте операторы присваивания (var add / set / sub). Используйте понятные для себя имена переменных (запись латиницей).\n\nНа ответах, зависимых от выбора игрока, используйте операторы, проверяюзие условия (var less / more / need / no more / equal). \n\nПодробнее об использовании этих операторов вы можете прочитать в этом учебнике.\n\nКомбинируйте условия между собой, к примеру на одном ответе может быть и var need[\"v1\", 1], так и var no more[\"v2\", 0], и кроме этих ещë неограниченное количество других условий. \n\nСоздавайте ветвление любой сложности, главное не запутайтесь :)",
    "answers": [
      {
        "id": 106,
        "text": "Назад"
      }
    ]
  },
  {
    "id": 114,
    "text": "Для этого потребуется совершить несколько действий:",
    "answers": [
      {
        "id": 114,
        "var_need": [
          "A1",
          1
        ],
        "comment": true,
        "text": "Шаг 1 — написать небольшую команду на языке програмирования Lua. Ничего сложного, ниже вы даже сможете скопировать этот код. Выглядит она так:\n\nВариант с двумя вариациями:\n\nfunction lua_do()\n  if X == Y then\n   showPage{id = \"номер\"}\n  else\n    showPage{id = \"номер\"}\n  end\nend\n\nВторая и третья строка здесь отвечает за исполнение условия, третья и четвëртая за результат при всех остальных возможных состояниях. X — значение переменной, Y — требуемое значение, вместо \"номер\" внутри кавычек напишите номер страницы для перехода. Всë остальное перенесите без изменений.\n\nВариант с тремя и больше вариациями.\nДля этого дополним код конструкцией elseif:\n\nfunction lua_do()\n  if X == Y then\n   showPage{id = \"номер\"}\n  elseif X == Z then\n    showPage{id = \"номер\"}\n  else\n    showPage{id = \"номер\"}\n  end\nend\n\nВ данном варианте исполнения вставку —\n\n  elseif X == Z then\n    showPage{id = \"номер\"}\n\n— можно вставлять неограниченное количество раз, меняя число Z под нужное вам значение, и подробно настраивая таким образом все возможные исходы. \nК тому же, если вам нужно не точное число, а \" больше, чем\" или \"меньше, чем\", то замените \"==\" на \">\" или \"<\" соответственно. Более подробно про возможности Lua читайте в учебнике."
      },
      {
        "instant": true,
        "lua_text": "function lua_text()\n  if copy == 1 then\n    return \"Убрать поле\"\n  end\nend",
        "var_need": [
          "A1",
          1
        ],
        "lua_do": "function lua_do()\n  if copy == 0 then\n    copy = 1\n  elseif copy == 1 then\n    copy = 0\n  end\nend",
        "text": "Копировать код:",
        "middle_answer": true,
        "id": 114
      },
      {
        "text": " function lua_do()\n  if X == Y then\n   showPage{id = \"номер\"}\n  else\n    showPage{id = \"номер\"}\n  end\nend",
        "input_var": "",
        "instant": true,
        "id": 114,
        "var_need": [
          "copy",
          1,
          "A1",
          1
        ]
      },
      {
        "text": " function lua_do()\n  if X == Y then\n   showPage{id = \"номер\"}\n  elseif X == Z then\n    showPage{id = \"номер\"}\n  else\n    showPage{id = \"номер\"}\n  end\nend",
        "input_var": "",
        "instant": true,
        "id": 114,
        "var_need": [
          "copy",
          1,
          "A1",
          1
        ]
      },
      {
        "id": 114,
        "var_need": [
          "A1",
          1,
          "copy",
          1
        ],
        "comment": true,
        "text": "*/ Обязательно уберите пробел перед function, иначе код будет восприниматься как обычный текст!"
      },
      {
        "id": 1,
        "comment": false,
        "var_need": [
          "A1",
          1
        ],
        "middle_answer": true,
        "targetbookid": 49000,
        "text": "[Учебник Lua]",
        "var_set": [
          "copy",
          0
        ]
      },
      {
        "var_set": [
          "A1",
          0,
          "A2",
          1,
          "A3",
          0,
          "copy",
          0
        ],
        "var_no_more": [
          "A2",
          0
        ],
        "id": 112,
        "text": "Шаг 2 — оформить ответ:",
        "instant": false,
        "no_transition": false
      },
      {
        "var_set": [
          "A1",
          0,
          "A2",
          0,
          "A3",
          1,
          "copy",
          0
        ],
        "var_no_more": [
          "A3",
          0
        ],
        "id": 112,
        "text": "Варианты использования:",
        "instant": false,
        "no_transition": false
      },
      {
        "id": 112,
        "text": " ",
        "comment": true
      },
      {
        "id": 106,
        "text": "Назад"
      }
    ]
  },
  {
    "id": 115,
    "text": "Простейший текстовый вывод какой-либо характеристики можно осуществить с помощью оператора var show[\"name\"] (подробнее о нëм в этом учебнике)\n\nЗначение переменной (в данном примере name) выведется сразу после текстового описания ответа (поэтому не забудьте в конце написать пробел, иначе число прилепится к последнему слову).\n\nЕсли же вы хотите встроить эти значения внутрь текста, нужно использовать function lua_text() с конкатенацией (соединением текста и значений переменных в коде). О правилах оформления и использования такого кода читайте в учебнике по Lua. \n\nОбратите внимание, что операторы и код работают только на ответах. Если написать тот же код в текстовом поле страницы, он не будет работать так, как вы ожидаете (чаще всего будет просто восприниматься как текст).",
    "answers": [
      {
        "id": 1,
        "text": "Учебник Lua",
        "middle_answer": true,
        "targetbookid": 49000
      },
      {
        "id": 115,
        "text": " ",
        "comment": true
      },
      {
        "id": 106,
        "text": "Назад"
      }
    ]
  },
  {
    "id": 116,
    "text": "",
    "answers": []
  }
]