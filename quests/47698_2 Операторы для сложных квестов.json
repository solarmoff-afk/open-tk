[
  {
    "id": 1,
    "text": "<s>r\nАвторы: AntiHero (Дмитрий Стойков), elChem (Артём Стрельников)\n<s>r\nАннотация: этот учебник рассказывает о том, что такое \"операторы\", какие функции они могут выполнять и как их использовать при написании квестов.\n\n   *   *   *\n\nУважаемые авторы! По ряду причин ваши вопросы в комментариях к учебникам могут долгое время оставаться без внимания. Для оперативной помощи рекомендуем задавать их в нашей группе ВК, в беседе авторов или в дискорде ",
    "answers": [
      {
        "id": 2,
        "text": "[Открыть учебник] ",
        "middle_answer": true,
        "var_set": [
          "copy",
          0
        ]
      },
      {
        "id": 1,
        "text": "system",
        "canEditCover": true,
        "system": true
      },
      {
        "super_calculate": false,
        "id": 1,
        "text": "Поиск по квесту",
        "calculate": true,
        "lua_do": "function lua_do()\ng[\"autorun after\"] = 58\nend"
      },
      {
        "id": 58,
        "text": "Поиск по квесту",
        "run": [
          58
        ]
      },
      {
        "id": 1,
        "text": " ",
        "comment": true
      },
      {
        "id": 1,
        "text": "Группа ТК в ВК",
        "url": "https://vk.com/text_quest_shaba"
      },
      {
        "id": 1,
        "text": "Канал ТК в Телеграме",
        "url": "https://t.me/shaba_quest"
      },
      {
        "id": 1,
        "text": "Сервер ТК в Discord",
        "comment": false,
        "url": "https://discord.com/invite/8DaZ3YHKk8"
      },
      {
        "id": 1,
        "text": " ",
        "comment": true
      },
      {
        "id": 61,
        "text": "Ответы на частые вопросы"
      },
      {
        "id": 1,
        "text": " ",
        "comment": true
      },
      {
        "id": 61,
        "text": "Чат ответов на сложные вопросы в Телеграме",
        "url": "https://t.me/luartirs"
      }
    ]
  },
  {
    "id": 2,
    "text": "Операторы - это инструмент, при помощи которого в этом приложении авторы связывают между собой страницы своих произведений. Для создания нелинейного повествования необходимо использовать особые связки между страницами: \"если посетил страницу номер Х\", \"если  не посетил страницу номер Х\", \"забыть, что посещал страницу Х\", \"вернуться на один шаг назад\" и т.д. За каждое из этих действий отвечает свой оператор.\n\nЧтобы использовать оператор, необходимо нажать \"редактировать\" на нужном варианте ответа, удалить текст ответа (после внесения изменений он вернется, т.к. текст и операторы сохраняются на разных уровнях) и вписать в опустевшее поле необходимый оператор с номером страницы (для некоторых операторов), после чего нажать иконку сохранения. \n\nРассмотрим каждый из них подробнее...",
    "answers": [
      {
        "id": 3,
        "text": "\"Переход на определенную страницу\" [Оператор \"!Х\"] "
      },
      {
        "id": 4,
        "text": "\"Условие посещения определенной страницы\" [Оператор \"?Х\"] "
      },
      {
        "id": 5,
        "text": "\"Условие непосещения определенной страницы\" [Оператор \"?-Х\"] "
      },
      {
        "id": 6,
        "text": "\"Перевод условия в глобальную (вечную) память\" [Оператор \"??\"]\nДостижения"
      },
      {
        "id": 7,
        "text": "\"Забыть о посещении определенной страницы\" [Оператор #Х] "
      },
      {
        "id": 8,
        "text": "\"Вернуться назад по истории посещений\" [Операторы \"!!\" и \"!!!\"]"
      },
      {
        "id": 26,
        "text": "\"Использование нескольких условий в одном варианте ответа\""
      },
      {
        "id": 35,
        "text": "\"Условие ИЛИ\" [Оператор \"?or[х,у]\"]"
      },
      {
        "id": 36,
        "text": "\"Проверка количества посещений страницы\" [Оператор \"?*[х,у]\"]",
        "need": 1000
      },
      {
        "id": 38,
        "text": "[Операторы \"inactive\" и \"merge\"]"
      },
      {
        "id": 37,
        "text": "\"Копирование\""
      },
      {
        "id": 34,
        "text": "\"Перемещение вариантов ответа относительно друг друга\""
      },
      {
        "id": 27,
        "text": "\"Добавление изображений на страницу\""
      },
      {
        "id": 39,
        "text": "\"Мгновенная отрисовка страницы\" [Оператор \"instant\"]"
      },
      {
        "id": 40,
        "text": "\"Переход в другой квест\" [Оператор \"!quest xxxxx\"]"
      },
      {
        "id": 41,
        "text": "\"Создание кооперативного режима\" [Оператор \"room [x,y]\""
      },
      {
        "id": 43,
        "text": "\"Добавление картинки на вариант ответа\""
      },
      {
        "id": 44,
        "text": "\"Варианты ответа \"да/нет\"\n[left, middle, right] "
      },
      {
        "id": 45,
        "text": "\"Переход с затемнением\" [blackout] "
      },
      {
        "id": 46,
        "text": "\"Таймеры\""
      },
      {
        "id": 47,
        "text": "\"Запрет перезагрузки страницы\""
      },
      {
        "id": 48,
        "text": "\"Удаление всех ответов со страницы\"\n[clear page]"
      },
      {
        "id": 49,
        "text": "\"Изменение цвета текста, тени и фона ответа\" [text color, bg color, shadow color]",
        "text_color": []
      },
      {
        "id": 51,
        "text": "\"Контентлист и автоматическая загрузка\" \n[contentList [ ]] "
      },
      {
        "id": 56,
        "text": "\"Смена стандартного фона ответов\" \n[global defaultBgAnswerImage] "
      },
      {
        "id": 55,
        "text": "\"Отправить квест другому автору\" \n[send komu@mail.ru] ",
        "need": [
          999
        ]
      },
      {
        "id": 52,
        "text": "\"Правое сайд-меню\" ",
        "need": [
          99999
        ],
        "lua_do": "function lua_do()\ng.side_menu = 54\ng.right_icon = \"https://rff.ru/5f29b66.png\"\ng.menu_background = \"https://rff.ru/e59409c7.jpg\"\nend"
      },
      {
        "id": 54,
        "text": "...страница для сайд-меню...",
        "need": [
          9999
        ]
      },
      {
        "id": 57,
        "text": "\"Предстартовые расчёты и обновление функций\" [global reloadFunctions]"
      },
      {
        "id": 9,
        "text": "[Тест на закрепление материала по операторам]"
      },
      {
        "id": 1,
        "text": "[Закрыть учебник]"
      }
    ]
  },
  {
    "id": 3,
    "text": "Оператор \"!Х\"<s>r\n<s>r\nЭтот оператор служит для перенаправления варианта ответа на конкретную страницу, нужную Вам. В редактируемый вариант ответа необходимо вписать \"!Х\" (без кавычек), где Х — это номер страницы, после чего нажать иконку сохранения.<s>r\n<s>r\nОбратите внимание, это именно тот самый оператор, с помощью которого можно делать концовки!",
    "answers": [
      {
        "id": 17,
        "text": "[Подробный пример использования оператора \"!Х\"] "
      },
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 4,
    "text": "Оператор \"?Х\"<s>r\n<s>r\nЭтот оператор служит для создания условия \"если страница номер Х посещена\", иными словами, вариант ответа с этим оператором будет виден только в том случае, если читатель уже посетил страницу номер Х во время текущего прохождения Вашего квеста. В редактируемый вариант ответа необходимо вписать \"?Х\" (без кавычек), где Х — это номер страницы, после чего нажать иконку сохранения.<s>r\n\nОбратите внимание, этот оператор не будет работать для \"достижений\", так как информация о посещенных страницах стирается из памяти программы после возвращения читателя на первую страницу.",
    "answers": [
      {
        "id": 13,
        "text": "[Подробный пример использования оператора \"?Х\"]"
      },
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 5,
    "text": "Оператор \"?-Х\"<s>r\n<s>r\nЭтот оператор служит для создания условия \"если страница номер Х не посещена\", иными словами, вариант ответа с этим оператором будет виден  в том случае, если читатель не посетил страницу номер Х во время текущего прохождения Вашего квеста. В редактируемый вариант ответа необходимо вписать \"?-Х\" (без кавычек), где Х — это номер страницы, после чего нажать иконку сохранения.<s>r\n<s>r\nОБРАТИТЕ ВНИМАНИЕ, это именно тот самый оператор, который нужно поставить, чтобы ОТВЕТ ИСЧЕЗ ПОСЛЕ ВЫБОРА!",
    "answers": [
      {
        "id": 21,
        "text": "[Подробный пример использования оператора \"?-Х\"] "
      },
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 6,
    "text": "Оператор \"??\"\n\nЭтот оператор служит для перевода условия из локальной памяти в глобальную и обратно. По умолчанию условия \"?Х\" и \"?-Х\" находятся в локальной памяти и сбрасываются, если читатель возвращается концовкой на первую страницу или нажимает \"сбросить прогресс\". В некоторых случаях необходимо, чтобы книга навсегда запомнила, что читатель посетил определенную страницу хотя бы в одном из прохождений. В редактируемый вариант ответа, в котором уже использован оператор \"?Х\" или \"?-Х\", необходимо вписать \"??\" (без кавычек и цифр). Кроме того, можно в ответ, не содержащий вышеназванных операторов, сразу ввести \"??Х\" или \"??-Х\", где Х - это номер страницы, после чего нажать иконку сохранения.",
    "answers": [
      {
        "id": 28,
        "text": "[Создание \"Достижений\"] "
      },
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 7,
    "text": "Оператор \"#Х\"<s>r\n<s>r\nЭтот оператор предназначен для того, чтобы \"забыть\" о том, что читатель посетил конкретную страницу. Он убирает страницу, которую нужно \"забыть\", из списка посещенных. В редактируемый вариант ответа необходимо вписать \"#Х\", где Х - это номер страницы, которую нужно \"забыть\", после чего нажать иконку сохранения. <s>r\n<s>r\nТакже существует оператор \"#плюсХ\" (\"плюс\" необходимо писать символом), добавляющий страницу к списку посещённых вне зависимости от того, был читатель на этой странице или нет.<s>r\n<s>r\nЭти операторы работают с несколькими страницами:  \"#[1,2,3]\" и \"#плюс[1,2,3]\" ",
    "answers": [
      {
        "id": 20,
        "text": "[Подробный пример использования оператора \"#Х\"] "
      },
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 8,
    "text": "Оператор \"!!\"<s>r\n<s>r\nЭтот оператор предназначен для возвращения на одну страницу назад по истории посещения страниц. Иными словами, он возвращает читателя назад на ту страницу, с которой он попал на данную. В редактируемый вариант ответа необходимо вписать \"!!\" (без кавычек), номер страницы указывать не нужно, после чего нажать иконку сохранения.<s>r \n\nЕсли необходимо вернуть читателя более чем на одну страницу назад, то стоит использовать запись \"!!х\", где х — количество страниц.\n\nОператор \"!!!\" действует тем же образом, но при этом происходит автоматическое стирание из памяти информации о посещении страницы, на которой размещён ответ с эти оператором.",
    "answers": [
      {
        "id": 18,
        "text": "[Подробный пример использования оператора \"!!\"] "
      },
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 9,
    "text": "Чтобы проверить себя на знание функций операторов, Вы можете пройти этот небольшой тест.\n\nЕсли Вы еще не уверены в своих силах, лучше вернитесь на предыдущие страницы этого учебника и внимательно изучите свойства операторов. ",
    "answers": [
      {
        "id": 10,
        "text": "[Начать тест] "
      },
      {
        "id": 2,
        "text": "[Назад] "
      }
    ]
  },
  {
    "id": 10,
    "text": "Вопрос 1\n\nВам необходимо, чтобы конкретный вариант ответа отображался только после того, как читатель посетит страницу номер Х. Какой оператор Вы используете? ",
    "answers": [
      {
        "id": 11,
        "text": "\"!Х\""
      },
      {
        "id": 11,
        "text": "\"#Х\" "
      },
      {
        "id": 12,
        "text": "\"?Х\" "
      },
      {
        "id": 11,
        "text": "\"?-Х\" "
      }
    ]
  },
  {
    "id": 11,
    "text": "Это неверный ответ. Попробуете еще раз? ",
    "answers": [
      {
        "id": 11,
        "text": "Новый ответ. введите текст",
        "calculate": true,
        "var_set": [
          "global test passed",
          0
        ]
      },
      {
        "id": 9,
        "text": "\"Да\" "
      },
      {
        "id": 2,
        "text": "\"Нет\""
      }
    ]
  },
  {
    "id": 12,
    "text": "Вопрос 2\n\nПри помощи какого оператора задается переход между страницами?",
    "answers": [
      {
        "id": 11,
        "text": "\"!!Х\" "
      },
      {
        "id": 11,
        "text": "\"!!\" "
      },
      {
        "id": 30,
        "text": "\"!Х\" "
      },
      {
        "id": 11,
        "text": "\"#Х\" "
      }
    ]
  },
  {
    "id": 13,
    "text": "Подробный пример использования оператора \"?Х\":\n\nДанный оператор позволяет создавать всевозможные ключи. Самый простой пример - это ситуация \"ключ - замок\":\nДопустим, Вы создаете страницу, описывающую \"запертую дверь\", и Вы хотите, чтобы читатель мог \"открыть\" эту дверь только после того, как посетит страницу номер Х и \"найдет там ключ\". Для реализации этого необходимо:\n\n- Создать новый ответ. По умолчанию он назван \"Новый ответ. введите текст\". \n\n- Нажать на кнопку редактирования (\"карандаш\") и дать имя кнопке, открывающей \"дверь\": \"Отпереть дверь\", \"Далее\" или другое название.\n\n- Сохранить нажатием на иконку сохранения (\"дискета\").",
    "answers": [
      {
        "id": 24,
        "text": "[Далее] "
      }
    ]
  },
  {
    "id": 14,
    "text": "[Это страница \"Дверь\"]\n\nВы подошли к огромной деревянной двери, сколоченной из грубых досок. Как бы Вы ни пытались - открыть ее не выходит. ",
    "answers": [
      {
        "id": 15,
        "text": "[Открыть дверь ключом] ",
        "need": 16
      },
      {
        "id": 16,
        "text": "[Осмотреться] "
      }
    ]
  },
  {
    "id": 15,
    "text": "Вы только что увидели на примере работу оператора \"?Х\". ",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 16,
    "text": "[Это страница \"Ключ\"]\n\nРядом стоял столик, заваленный ржавыми ключами. ",
    "answers": [
      {
        "id": 14,
        "text": "[Взять ключ и вернуться к двери] "
      }
    ]
  },
  {
    "id": 17,
    "text": "Подробный пример использования оператора \"!Х\":\n\nПредположим, вы хотите сделать концовку своей книге. Для этого нужно:\n\n- Создать новый ответ. По умолчанию он назван \"Новый ответ. введите текст\". \n\n- Нажать на кнопку редактирования (\"карандаш\") и дать имя кнопке, завершающей книгу: \"Конец\", \"Далее\", \"Попробовать еще\" или другое название.\n\n- Сохранить нажатием на иконку сохранения (\"дискета\").",
    "answers": [
      {
        "id": 23,
        "text": "[Далее] "
      }
    ]
  },
  {
    "id": 18,
    "text": "Подробный пример использования оператора \"!!\":\n\nДанный оператор можно использовать для создания \"блуждающей\" страницы, то есть такой страницы, на которую Вы хотели бы направить читателя много раз из разных мест книги. Примером такой \"блуждающей\" страницы может служить страница с \"картой\" или страница с \"инвентарем\" персонажа книги. Рассмотрим пример создания \"карты\". Для этого необходимо:\n\n- Создать новый ответ. По умолчанию он назван \"Новый ответ. введите текст\". \n\n- Нажать на кнопку редактирования (\"карандаш\") и дать имя кнопке, ведущей к \"карте\": \"Карта\", \"Клочок бумаги\" или другое название.\n\n- Сохранить нажатием на иконку сохранения (\"дискета\").",
    "answers": [
      {
        "id": 19,
        "text": "[Далее] "
      }
    ]
  },
  {
    "id": 19,
    "text": "Далее нужно перейти по этой кнопке на страницу, изображающую Вашу \"карту\". Чтобы читатель мог вернуться с этой страницы именно на ту, с которой он на нее попал, нужно создать на ней вариант ответа, например \"назад\":\n\n- Нажать опять на иконку редактирования этого же варианта ответа (\"карандаш\"), потом на текст, который Вы написали ранее. В пустом поле нужно написать \"!!\" (без кавычек и цифр). \n\n- Нажать на иконку сохранения (\"дискету\").\n\nТеперь на страницу с картой можно делать ссылку с любой страницы книги  - с нее читатель будет возвращаться на ту страницу, с которой на нее зашел при помощи нашей кнопки \"назад\" с оператором \"!!\".",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 20,
    "text": "Подробный пример использования оператора \"#Х\":\n\nДанный оператор позволяет \"терять\" полученные ранее \"ключи\". Самый простой пример - это ситуация \"ключ - замок\". Допустим, Вы создаете страницу, описывающую \"запертую дверь\", от которой читатель уже нашел \"ключ\" на странице Х, и Вы хотите, чтобы читатель не мог \"открыть\" эту дверь, если он \"попал в ловушку и выронил ключ\" на странице У. Для реализации такой \"ловушки\" необходимо:\n\n- Создать новый ответ. По умолчанию он назван \"Новый ответ. введите текст\". \n\n- Нажать на кнопку редактирования (\"карандаш\") и дать имя кнопке, отбирающей ключ: \"выбросить ключ\" или другое название.\n\n- Сохранить нажатием на иконку сохранения (\"дискета\").",
    "answers": [
      {
        "id": 25,
        "text": "[Далее] "
      }
    ]
  },
  {
    "id": 21,
    "text": "Подробный пример использования оператора \"?-Х\":\n\nДанный оператор используется как аналог \"?Х\", лишь с той разницей, что для отображения варианта ответа с этим оператором необходимо не посетить данную страницу Х. Например, в Вашей книге на странице Х читатель находит \"билет в театр\" - если читатель не посетил эту страницу, то у входа в театр у него появится возможность \"подраться с билетером\":\n\n- Создать новый ответ. По умолчанию он назван \"Новый ответ. введите текст\". \n\n- Нажать на кнопку редактирования (\"карандаш\") и дать имя кнопке, дающей проход в \"театр\": \"Пробраться тайком\", \"Подраться с билетером\" или другое название.\n\n- Сохранить нажатием на иконку сохранения (\"дискета\").",
    "answers": [
      {
        "id": 22,
        "text": "[Далее] "
      }
    ]
  },
  {
    "id": 22,
    "text": "Теперь вам необходимо использовать оператор, который скроет этот вариант от читателя, если тот взял \"билет\":\n\n- Нажать опять на иконку редактирования этого же варианта ответа (\"карандаш\"), потом на текст, который Вы написали ранее. В пустом поле нужно написать \"?-Х\" (без кавычек), где Х - это номер страницы с \"билетом\". \n\n- Нажать на иконку сохранения (\"дискету\") и прочесть возникшую надпись. Условие создано. Теперь читатель сможет \"грубо вломиться в театр\" только если не взял \"билет\".",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 23,
    "text": "Теперь вам необходимо использовать оператор, который сможет перенести Вас на главную страницу (это необходимо для создания концовки):\n\n- Нажать опять на иконку редактирования этого же варианта ответа (\"карандаш\"), потом на текст, который Вы написали ранее. В пустом поле нужно написать \"!1\" (без кавычек).\n\n- Нажать на иконку сохранения (\"дискету\"): в поле появится надпись \"теперь ответ ведет на страницу 1\" - это значит, что вы все сделали правильно. Концовка готова.\n\nВместо цифры 1 можно указывать любую страницу из книги, таким образом, создавая ложные ответвления, циклы и воплощая другие авторские задумки.",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 24,
    "text": "Теперь вам необходимо использовать оператор, который скроет этот вариант от читателя до тех пор, пока он не посетит страницу с \"ключом\":\n\n- Нажать опять на иконку редактирования этого же варианта ответа (\"карандаш\"), потом на текст, который Вы написали ранее. В пустом поле нужно написать \"?Х\" (без кавычек), где Х - это номер страницы с \"ключом\". \n\n- Нажать на иконку сохранения (\"дискету\") и прочесть возникшую надпись. Условие создано. Теперь читатель сможет отпереть \"дверь\" только если взял \"ключ\".",
    "answers": [
      {
        "id": 14,
        "text": "[\"Живой\" пример] "
      },
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 25,
    "text": "Теперь вам необходимо использовать оператор, который удалит из истории посещения ту страницу Х, где читатель нашел ключ (подробнее о ключах в разделе \"?Х\"):\n\n- Нажать опять на иконку редактирования этого же варианта ответа (\"карандаш\"), потом на текст, который Вы написали ранее. В пустом поле нужно написать \"#Х\" (без кавычек), где Х - это номер страницы с \"ключом\". \n\n- Нажать на иконку сохранения (\"дискету\") и прочесть возникшую надпись. Теперь читатель не сможет отпереть \"дверь\", так как \"книга\" забыла, что читатель брал \"ключ\".",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 26,
    "text": "Чтобы использовать несколько условий \"посетил/не посетил\" в одном варианте ответа, применяется следующая запись:<s>r\n<s>r\n?[A,B,C] или ?[-А,-В,-С] или ?[А,В,-С] <s>r\nгде А, В и С — номера страниц, их количество может быть любым.<s>r\n<s>r\nПри этом видимость ответа будет определяться правилами формальной логики:\n\nОтвет виден, если (выполняется условие 1) И (выполняется условие 2) И (выполняется условие 3)\n\nгде условия 1, 2 и 3 – условия посещения (А) или непосещения (-А) страниц.\n\nДля нескольких условий ИЛИ используется аналогичная форма записи:\n\n?or[A,B,C]\n\nответ виден, если (выполняется условие 1) ИЛИ (выполняется условие 2) ИЛИ (выполняется условие 3)\n\nОбратите внимание на запись оператора и используемые знаки пунктуации, другие варианты их написания НЕ БУДУТ работать!",
    "answers": [
      {
        "id": 59,
        "text": "[Пример]"
      },
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 27,
    "text": "В приложении существует множество способов работы с изображениями, подробнее об этом в учебнике \"Обложки, картинки, анимации\". Рассмотрим простейший способ добавления изображений.<s>r\n<s>r\nЧтобы добавить изображение на страницу Вашей книги, необходимо копировать ссылку на эту картинку в пустой вариант ответа под страницей. Этот вариант ответа не будет виден никому, кроме автора.<s>r\n<s>r\nПри добавлении ссылки необходимо учитывать, что она должна оканчиваться на \".jpg\".<s>r\n<s>r\nМаксимальный размер изображения 320х320 пикселей, при этом горизонтальные картинки отображаются крупнее, чем квадратные.",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 28,
    "text": "Пример создания \"Достижений\" при помощи оператора \"??\". \n\nДопустим, концовка-достижение находится на странице Х. Можно создать отдельную страницу \"Достижения\" из главной страницы, где нужно написать пояснения, что страница предназначена именно для \"Достижений\". Далее нужно создать столько вариантов ответа, сколько имеется концовок-достижений.\n\nДопустим, первый вариант отвечает за концовку на странице Х. Необходимо:\n\n- Придумать имя \"Достижению\",\n- Отправить с этого варианта на страницу-концовку: \"!х\" \n- Задать условие, при котором этот вариант будет виден только после прохождения игры на эту концовку: \"?х\" \n- Перевести условие в глобальную память, чтобы оно не сбрасывалось при \"сбросе прогресса\": \"??\" (перевод в глобальную память).\n\nПоследние два пункта можно объединить, использовав оператор \"??Х\". ",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 29,
    "text": "Вопрос 4\n\nКак правильно записать оператор условия \"если читатель не посетил страницы 1 и 2\"?",
    "answers": [
      {
        "id": 11,
        "text": "\"?[1,2]\""
      },
      {
        "id": 11,
        "text": "\"?-[1,2]\""
      },
      {
        "id": 11,
        "text": "Новый ответ. введите текст",
        "need": "[-1,2]"
      },
      {
        "id": 31,
        "text": "\"?[-1,-2]\""
      }
    ]
  },
  {
    "id": 30,
    "text": "Вопрос 3\n\nКакой оператор позволяет \"забывать\" страницы, вычеркивая их из истории посещения?",
    "answers": [
      {
        "id": 31,
        "text": "\"#Х\" "
      },
      {
        "id": 11,
        "text": "\"?-Х\" "
      },
      {
        "id": 11,
        "text": "\"??\" "
      },
      {
        "id": 11,
        "text": "\"!!\" "
      }
    ]
  },
  {
    "id": 31,
    "text": "Вопрос 4\n\nКакой оператор позволяет перемещаться на один шаг назад по истории посещения? ",
    "answers": [
      {
        "id": 11,
        "text": "\"!\" "
      },
      {
        "id": 33,
        "text": "\"!!\" "
      },
      {
        "id": 11,
        "text": "\"??\" "
      },
      {
        "id": 11,
        "text": "\"?#\" "
      }
    ]
  },
  {
    "id": 32,
    "text": "Прекрасно! Вы ответили правильно на все пять вопросов мини-теста на знание операторов! Или же очень удачно угадывали?",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] ",
        "var_set": [
          "global test passed",
          1
        ]
      }
    ]
  },
  {
    "id": 33,
    "text": "Вопрос 5\n\nКак правильно записать комплексный оператор \"если читатель не посетил страницы 1 и 2\"? ",
    "answers": [
      {
        "id": 11,
        "text": "\"?-[1,2]\""
      },
      {
        "id": 11,
        "text": "\"?[1,2]\""
      },
      {
        "id": 11,
        "text": "\"?[-1,2]\" "
      },
      {
        "id": 32,
        "text": "\"?[-1,-2]\""
      }
    ]
  },
  {
    "id": 34,
    "text": "   Существует набор инструментов для перемещения вариантов ответа друг относительно друга. Начиная с версии 194 в боковом меню появился пункт \"В режим перемещения\", в котором перемещение ответов осуществляется с помощью \"стрелочек\", направленных вверх или вниз. Нажатие на стрелочку осуществляет перенос ответа в выбранном направлении на одну позицию.\n   Также, существуют операторы для быстрого изменения позиции:\n<s>r\n\"up\" — переносит вариант ответа на одну позицию вверх;\n\"down\" — переносит вариант ответа на одну позицию вниз;\n\"move X\" – устанавливает ответ на позицию №Х (относительно ВСЕХ вариантов ответа, включая неактивные; нумерация начинается с самого верхнего ответа).",
    "answers": [
      {
        "id": 2,
        "text": "[К оглавлению]"
      }
    ]
  },
  {
    "id": 35,
    "text": "Оператор \"?or[Х,Y]\"<s>r\n<s>r\nЭтот оператор служит для создания условия \"если одна из страниц с номерами Х, Y посещена\" (логическое условие ИЛИ), иными словами, вариант ответа с этим оператором будет виден в том случае, если читатель посетил либо страницу номер Х, либо страницу номер Y во время текущего прохождения Вашего квеста. В редактируемый вариант ответа необходимо вписать \"?or[Х,Y]\" (без кавычек), где Х,Y - это номера страниц, после чего нажать иконку сохранения (возможно использование большего числа страниц, чем две: \"?or[Х,Y,Z,...]\").<s>r\n<s>r\nДанный оператор возможно также использовать для случая \"если не посетил данную страницу\": \"?or[-Х,-Y]\", \"?or[Х,-Y]\" и т.д.",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению]"
      }
    ]
  },
  {
    "id": 36,
    "text": "Оператор \"?*[Х,Y]\"<s>r\n<s>r\nЭтот оператор служит для создания условия \"если страница с номером Х посещена Y раз\", иными словами, вариант ответа с этим оператором будет виден в том случае, если читатель посетил страницу номер Х несколько раз, а именно Y раз во время текущего прохождения Вашего квеста. В редактируемый вариант ответа необходимо вписать \"?*[Х,Y]\" (без кавычек), где Х - это номер страницы, а Y - число посещений, после чего нажать иконку сохранения.",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению]"
      }
    ]
  },
  {
    "id": 37,
    "text": "Иногда появляется необходимость копировать страницу Вашего квеста полностью или частично. Для этого применяется следующий набор операторов, которые необходимо вводить в редактируемый вариант ответа:<s>r\n<s>r\n\"copy answers Х\" — копировать варианты ответов страницы номер Х на текущую страницу;\n\n\"copy text Х\" — копировать текст страницы номер Х на текущую страницу;\n\n\"copy all Х\" — копировать варианты ответов и текст страницы номер Х на текущую страницу;\n\n\"copy all X 123321\" — копировать всю страницу Х из квеста, номер которого записан в операторе (необходимо поставить в том квесте на первой странице \"var set [\"global allowCopy\", 1]\");\n\n\"duplicate\" – копировать вариант ответа со всеми его свойствами и операторами на текущую страницу;\n\n\"copy this\" – копировать вариант ответа со всеми его свойствами и операторами в буфер обмена;\n\n\"paste here\" – копировать все свойства и операторы варианта ответа из буфера обмена в текущий вариант ответа.",
    "answers": [
      {
        "id": 2,
        "text": "[К оглавлению]"
      }
    ]
  },
  {
    "id": 38,
    "text": "Операторы \"inactive\" и \"merge\"<s>r\n<s>r\nЭти операторы служат для изменения характера отображения вариантов ответа.<s>r\nОператор \"inactive\" делает вариант ответа неактивным, то есть невозможным для выбора читателем, оставляя его на прежднем месте и в той же форме, что и активные ответы. Для того, чтобы сделать вариант неактивным, нужно вписать в поле ответа<s>r\n   inactive<s>r\nи сохранить.<s>r\nОператор \"merge\" объединяет текст варианта ответа с текстом самой страницы, при этом его видимость зависит от условий, установленных для данного варианта ответа. Для того, чтобы \"приклеить\" текст ответа к основному тексту, нужно вписать в поле ответа<s>r\n   merge<s>r\nи сохранить.<s>r\n",
    "answers": [
      {
        "id": 38,
        "text": "[Активировать пример использования оператора \"merge\"]",
        "var_set": [
          "m",
          1
        ],
        "var_equal": [
          "m",
          0
        ]
      },
      {
        "id": 38,
        "text": "[Скрыть пример использования оператора \"merge\"]",
        "var_equal": [
          "m",
          1
        ],
        "var_set": [
          "m",
          0
        ]
      },
      {
        "id": 1,
        "text": "  *  *  *<s>r\nПример варианта ответа, \"приклеенного\" оператором \"merge\".",
        "merge": true,
        "var_equal": [
          "m",
          1
        ]
      },
      {
        "id": 2,
        "text": "[К оглавлению]"
      },
      {
        "id": 1,
        "text": "  *  *  *<s>r\nПример неактивного варианта ответа.",
        "comment": true
      }
    ]
  },
  {
    "id": 39,
    "text": "   Для того, чтобы выбранный читателем вариант ответа не вызвал анимацию перелистывания страницы, а мгновенно отображал следующую, можно использовать оператор \"instant\". Для этого необходимо написать в поле ответа:\n  instant\nи сохранить изменение.",
    "answers": [
      {
        "var_equal": [
          "inst",
          3
        ],
        "id": 39,
        "calculate": true,
        "text": "Новый ответ. введите текст",
        "var_set": [
          "inst",
          0
        ]
      },
      {
        "var_add": [
          "inst",
          1
        ],
        "var_equal": [
          "inst",
          1
        ],
        "id": 39,
        "text": "Пример",
        "instant": true
      },
      {
        "id": 39,
        "var_not": [
          "inst",
          1
        ],
        "var_add": [
          "inst",
          1
        ],
        "text": "Пример"
      },
      {
        "id": 39,
        "text": "\n   Эта часть текста добавлена без использования оператора \"instant\" со стандартной анимацией смены страницы.",
        "var_need": [
          "inst",
          1
        ],
        "merge": true
      },
      {
        "var_equal": [
          "inst",
          2
        ],
        "id": 39,
        "instant": true,
        "text": "\n   А этот фрагмент был добавлен с помощью оператора мгновенной отрисовки без анимации перехода.",
        "merge": true
      },
      {
        "id": 39,
        "text": "[К оглавлению]",
        "isBack": true,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 40,
    "text": "   Для создания перехода из одного квеста в другой нужно вписать в поле ответа оператор \"!quest xxxxx\", где ххххх — номер квеста, переход в который необходимо совершить. Переход осуществляется только на первую страницу указанного квеста, при этом вернуться назад автоматически нельзя.",
    "answers": [
      {
        "id": 2,
        "text": "[К оглавлению]"
      },
      {
        "id": 1,
        "text": "[Перейти к другому квесту]",
        "targetbookid": 30
      }
    ]
  },
  {
    "id": 41,
    "text": "   Для реализации кооперативного режима в Вашем квесте необходимо понимать принцип его работы и иметь общие представления о работе переменных. Оператор \"room [x,y]\", где х — это время, в течение которого вариант ответа будет доступен читателям, у — время обновления. При вводе этого оператора в варианте ответа автоматически добавляется вспомогательная информация, видимая в режиме читателя.\n   Все читатели, которые выбрали вариант ответа, содержащий оператор \"room\", получают одинаковые значения случайных переменных, записанных в этом же ответе.",
    "answers": [
      {
        "id": 42,
        "text": "\"Room\"",
        "room": [
          100,
          0
        ],
        "var_random": [
          "roo",
          0,
          10
        ]
      },
      {
        "id": 2,
        "text": "[К оглавлению]"
      }
    ]
  },
  {
    "id": 42,
    "text": "   В этой \"комнате\" значение случайной переменной \"room\" одинаково для всех читателей. ",
    "answers": [
      {
        "id": 42,
        "text": "Текущее значение:",
        "var_show": [
          "roo"
        ],
        "merge": true
      },
      {
        "id": 2,
        "text": "[К оглавлению]"
      }
    ]
  },
  {
    "id": 43,
    "text": "   Добавление изображения на вариант ответа может привнести дополнительную информацию или сделать квест более красочным. Для того, чтобы снабдить ответ картинкой, необходимо вписать в него:\n  image [\"http://....jpg\"]\nгде \"http://....jpg\" – ссылка на нужное изображение.\n   Обратите внимание, что картинка будет заполнять поле ответа по всей высоте (зависит от количества строк в ответе) без изменения пропорций. Не рекомендуется использовать слишком большие изображения, оптимальная высота –30 пикселей для ответа, занимающего одну строку.",
    "answers": [
      {
        "isBack": true,
        "text": "Дальше",
        "backstepCount": 1,
        "id": 43
      }
    ]
  },
  {
    "id": 44,
    "text": "   Дуальные варианты ответа наподобие пары \"да/нет\" возможно разместить на экране в одной строке. Для настройки положения варианта ответа на странице используются операторы:\n  left – ответ располагается слева, при его выборе происходит анимация перелистывания влево;\n  right – ответ располагается справа, при его выборе происходит анимация перелистывания вправо;\n middle – ответ располагается по центру, не занимая всей ширины страницы.",
    "answers": [
      {
        "id": 44,
        "text": "Влево",
        "left_answer": true
      },
      {
        "id": 44,
        "text": "Вправо",
        "right_answer": true
      },
      {
        "id": 2,
        "text": "[Назад]",
        "middle_answer": true
      }
    ]
  },
  {
    "id": 45,
    "text": "   Для создания эффектного перехода между страницами с затемнением служит оператор \"blackout\". Для его реализации в Вашем собственном квесте достаточно просто записать в поле варианта ответа:\n  blackout\nи нажать иконку сохранения.",
    "answers": [
      {
        "id": 45,
        "text": "Пример перехода с затемнением",
        "blackout": true
      },
      {
        "id": 2,
        "text": "Назад"
      }
    ]
  },
  {
    "id": 46,
    "text": "   Система таймеров позволяет авторам осуществить в квесте \"ожидание\" в реальном времени. Вариант ответа, на котором стоит таймер, будет недоступен для читателя до тех пор, пока не пройдёт заданное время от момента его запуска, а оставшееся время ожидания отображается на самом варианте ответа вместо его текста.\n   Работа таймеров построена на использовании трёх операторов. Первый оператор записывается как\n  launchtimer [\"name\",X]\nгде \"name\" – это идентификатор таймера, а Х – время работы таймера с этим идентификатором в секундах. Оператор \"launchtimer\" делает вариант ответа, на котором он установлен, кнопкой запуска всех таймеров с указанным идентификатором на указанное время Х. Это означает, что нажатие читателя на этот вариант ответа запустит сразу все используемые в квесте таймеры с таким идентификатором на одинаковое время.\n   Следующий рассматриваемый оператор устанавливается на те ответы, которые должны быть скрыты таймером, необходимо написать:\n  timer [\"name\",X]\nгде \"name\" – это идентификатор таймера, а Х – любое число, например 0. Отсчёт времени на этом таймере начнётся только после активации варианта ответа с \"launchtimer\", содержащего такой же идентификатор. По истечении заданного времени вариант ответа становится доступным для выбора читателя.\n   Последний оператор для работы с таймерами используется для досрочной остановки таймера. В вариант ответа необходимо записать:\n  reset timer [\"name\"]\nгде \"name\" – это идентификатор таймера. При нажатии на этот вариант ответа отсчёт всех таймеров в квесте с этим идентификатором будет прекращён.",
    "answers": [
      {
        "id": 46,
        "text": "Запуск таймера (\"launchtimer\")",
        "launchtimer": [
          "test",
          60
        ]
      },
      {
        "id": 46,
        "text": "Таймер (\"timer\")",
        "timer": [
          "test",
          0
        ]
      },
      {
        "id": 46,
        "text": "Сброс таймера (\"reset timer\")",
        "reset_timer": [
          "test"
        ]
      },
      {
        "id": 2,
        "text": "Дальше"
      }
    ]
  },
  {
    "id": 47,
    "text": "   В приложении каждое нажатие на вариант ответа по умолчанию вызывает перезагрузку страницы, как будто был совершён переход с неё на саму себя. Благодаря этому приложение обрабатывает изменения, вызванные этим нажатием: срабатывают \"калкулейты\", пересчитываются условия видимости ответов, изменяются отображаемые значения операторов \"var show\" и \"function lia_text()\".\n   Но в некоторых случаях это может оказаться нежелательным, для того, чтобы установить для ответа запрет на перезагрузку страницы, нужно установить на него оператор \"no transition\", путём ввода этой фразы в поле редактирования ответа и сохранения. Повторный ввод этого словосочетания отменит действие оператора.",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      },
      {
        "var_show": [
          "global test_47"
        ],
        "comment": true,
        "id": 47,
        "calculate": false,
        "text": "Демонстрационный раздел:\nНа этой странице установлен оператор \"calculate\", увеличивающий значение глобальной переменной на единицу при каждой загрузке этой страницы. Текущее значение переменной:"
      },
      {
        "id": 47,
        "text": "Обычный вариант ответа",
        "calculate": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "left_answer": false,
        "text": "Вариант ответа с оператором \"no transition\"",
        "id": 47,
        "calculate": false,
        "no_transition": true,
        "var_mult": [
          "global test_47",
          -1
        ]
      },
      {
        "id": 47,
        "text": "Новый ответ. введите текст",
        "var_add": [
          "global test_47",
          1
        ],
        "calculate": true
      },
      {
        "id": 47,
        "text": "Создаётся впечатление, что правый ответ \"не работает\", но это не так: на самом деле все команды, записанные на нём срабатывают, просто результат их работы не будет виден до перезагрузки страницы (даже в режиме автора!). В этом примере правый ответ умножает значение переменной на -1, что можно увидеть, если после нажатия на него перезагрузить страницу нажатием на левый вариант ответа.",
        "comment": true
      }
    ]
  },
  {
    "id": 48,
    "text": "   Для быстрого удаления всех ответов со страницы можно использовать команду \"clear page\". После ввода этой команды в поле редактирования ответа и сохранения произойдёт удаление всех ответов на текущей странице. Обратите внимание, что текст страницы и все ответы, ведущие на неё с других страниц, останутся без изменений.",
    "answers": [
      {
        "id": 2,
        "text": "[Вернуться к оглавлению] "
      }
    ]
  },
  {
    "id": 49,
    "text": "   С 300 версии появилась возможность менять цвет текста, тени текста, фона ответа.\n   Цвета отпределяются по раскладке соотношений RGB (red / green / blue), и записываются соотношением от 0 до 1.\n   Чтобы узнать нужные соотношения — необходимо разделить пропорции на 256. То есть,  чтобы получить синий из RGB нужно соотношение синего RGB [ 40, 80, 180 ] разделить на 256. Получится [0.156, 0.312, 0.7 ] — полученный ответ записан ниже.\n   Чтобы текст был виден на тёмном фоне — нужно сменить цвет текста. Расчёт цвета текста происходит тем же способом.\n   Черный цвет — [ 0, 0, 0 ]\n   Белый цвет — [ 1, 1, 1 ]\n\n   Операторы:\n   text color [ ]\n   bg color [ ]\n   shadow color [ ]",
    "answers": [
      {
        "id": 49,
        "text": "Сайт, на котором можно выбрать цвет и взять соотношение цвета.",
        "comment": false,
        "url": "https://colorscheme.ru/color-converter.html"
      },
      {
        "bg_color": [
          0.156,
          0.312,
          0.7
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 49,
        "text": " bg color [0.156, 0.312, 0.7]\n text color [1, 1, 1]"
      },
      {
        "id": 50,
        "text": "Посмотреть  другие цвета в списке"
      },
      {
        "id": 2,
        "text": "В начало"
      }
    ]
  },
  {
    "id": 50,
    "text": "Список:",
    "answers": [
      {
        "bg_color": [
          0,
          0,
          0
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0, 0, 0]",
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0, 0, 0.3]",
        "bg_color": [
          0,
          0,
          0.3
        ]
      },
      {
        "bg_color": [
          0,
          0,
          0.6
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0, 0, 0.6]",
        "left_answer": true
      },
      {
        "bg_color": [
          0,
          0,
          1
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0, 0, 1]",
        "right_answer": true
      },
      {
        "id": 50,
        "text": "   ",
        "comment": true
      },
      {
        "bg_color": [
          0,
          0.2,
          0
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0, 0.2, 0]",
        "left_answer": true
      },
      {
        "bg_color": [
          0,
          0.5,
          0
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0, 0.5, 0]",
        "right_answer": true
      },
      {
        "bg_color": [
          0,
          0.75,
          0
        ],
        "comment": false,
        "id": 50,
        "text": " [0, 0.75, 0]",
        "left_answer": true
      },
      {
        "bg_color": [
          0,
          1,
          0
        ],
        "comment": false,
        "id": 50,
        "text": " [0, 1, 0]",
        "right_answer": true
      },
      {
        "id": 50,
        "text": "   ",
        "comment": true
      },
      {
        "bg_color": [
          0.3,
          0,
          0
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0.3, 0, 0]",
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0.5, 0, 0]",
        "bg_color": [
          0.5,
          0,
          0
        ]
      },
      {
        "bg_color": [
          0.75,
          0,
          0
        ],
        "comment": false,
        "id": 50,
        "text": " [0.75, 0, 0]",
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": false,
        "id": 50,
        "text": " [1, 0, 0]",
        "bg_color": [
          1,
          0,
          0
        ]
      },
      {
        "id": 50,
        "text": "   ",
        "comment": true
      },
      {
        "bg_color": [
          0.2,
          0.2,
          0.2
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0.2, 0.2, 0.2]",
        "left_answer": true
      },
      {
        "bg_color": [
          0.4,
          0.4,
          0.4
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0.4, 0.4, 0.4]",
        "right_answer": true
      },
      {
        "bg_color": [
          0.6,
          0.6,
          0.6
        ],
        "comment": false,
        "id": 50,
        "text": " [0.6, 0.6, 0.6]",
        "left_answer": true
      },
      {
        "bg_color": [
          0.8,
          0.8,
          0.8
        ],
        "comment": false,
        "id": 50,
        "text": " [0.8, 0.8, 0.8]",
        "right_answer": true
      },
      {
        "id": 50,
        "text": "   ",
        "comment": true
      },
      {
        "bg_color": [
          1,
          0.5,
          0
        ],
        "comment": false,
        "id": 50,
        "text": " [1, 0.5, 0]",
        "left_answer": true
      },
      {
        "bg_color": [
          1,
          0.6,
          0.2
        ],
        "comment": false,
        "id": 50,
        "text": " [1, 0.6, 0.2]",
        "right_answer": true
      },
      {
        "bg_color": [
          1,
          0.8,
          0.3
        ],
        "comment": false,
        "id": 50,
        "text": " [1, 0.8, 0.3]",
        "left_answer": true
      },
      {
        "bg_color": [
          1,
          1,
          0.5
        ],
        "comment": false,
        "id": 50,
        "text": " [1, 1, 0.5]",
        "right_answer": true
      },
      {
        "id": 50,
        "text": "   ",
        "comment": true
      },
      {
        "bg_color": [
          0,
          0.5,
          1
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0, 0.5, 1]",
        "left_answer": true
      },
      {
        "bg_color": [
          0.2,
          0.7,
          1
        ],
        "comment": false,
        "text_color": [
          1,
          1,
          1
        ],
        "id": 50,
        "text": " [0.2, 0.7, 1]",
        "right_answer": true
      },
      {
        "bg_color": [
          0.4,
          0.9,
          1
        ],
        "comment": false,
        "id": 50,
        "text": " [0.4, 0.9, 1]",
        "left_answer": true
      },
      {
        "bg_color": [
          0.7,
          1,
          1
        ],
        "comment": false,
        "id": 50,
        "text": " [0.7, 1, 1]",
        "right_answer": true
      },
      {
        "id": 50,
        "text": "   ",
        "comment": true
      },
      {
        "bg_color": [
          0.2,
          1,
          0.5
        ],
        "comment": false,
        "id": 50,
        "text": " [0.2, 1, 0.5]",
        "left_answer": true
      },
      {
        "bg_color": [
          0.5,
          1,
          0.2
        ],
        "comment": false,
        "id": 50,
        "text": " [0.5, 1, 0.2]",
        "right_answer": true
      },
      {
        "bg_color": [
          0.2,
          1,
          0.8
        ],
        "comment": false,
        "id": 50,
        "text": " [0.2, 1, 0.8]",
        "left_answer": true
      },
      {
        "bg_color": [
          0.8,
          1,
          0.2
        ],
        "comment": false,
        "id": 50,
        "text": " [0.8, 1, 0.2]",
        "right_answer": true
      },
      {
        "id": 50,
        "text": "   ",
        "comment": true
      },
      {
        "id": 2,
        "text": "В начало"
      }
    ]
  },
  {
    "id": 51,
    "text": "   Можно настроить автозагрузку картинок в квесте. Для этого на первой странице нужно присвоить переменной \"global instantDownload\" значение 1.\n\n   var set [\"global instantDownload\", 1]\n\n   Теперь все встреченные читателем contantList будут закачиваться автоматически, а не огромной пачкой на первой странице.\n   Это позволит загружать только те картинки, которые встретятся в отдельной ветке, снизив время ожидания читателя.",
    "answers": [
      {
        "isBack": true,
        "text": "Назад",
        "id": 51,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 52,
    "text": "   Есть такие переменные, которые позволят вам создать боковое игровое меню. При этом содержание меню вы определите сами.\n\n   global side_menu = 10\n   global right_icon = \"https://rff.ru/29b66.png\"\n   global menu_background = \"https://rff.ru/1409c7.jpg\"\n\n   global side_menu = 10 — переменная, которая позволит включить сайд-меню, а вместо значения 10 нужно вписать номер страницы, которая и будет содержанием этого меню.\n   global right_icon = \"ссылка\" — это сам значок (и ссылка на него) этого бокового меню. Сейчас его видно в верхнем правом углу (три полоски).\n   global menu_background = \"ссылка\" — это фон сайд-меню. Можно обойтись и без него — он не обязателен для работоспособности сайд-меню.\n\n   Меню можно отключить, но значок никуда не исчезнет. Для этого нужно задать переменной global side_menu значение 0:\n\n  global side_menu = 0\n\n   Для включения сайд-меню вновь — нужно задать значение страницы к этой же переменной. Исходя из текущего примера:\n\n   global side_menu = 10\n\n   Чтобы заполнить сайд-меню нужно: создать страницу, которая будет тем самым меню; создать нужные ответы, которые будут в этом меню; настроить эти ответы, чтобы визуализировать их в меню.\n   Особенностью является то, что это пассивная страница, и она не выполняет записанный на ней lua_text и var show. Но срабатывает lua_if, lua_do и прочие квестовые операторы условий. Также не отображается написанный текст на странице, и не срабатывает merge. \n   Для примера можно видеть кнопку \"под 1\", которая имеет условие отображения lua_if и исполнение lua_do. Для примера я направляю на текущую страницу, чтобы не пересылать никуда при помощи goto [\"global current_id\"]. Стоит нажать на неё, как сайд-меню закроется, но вместо \"под 1\" будет ответ \"под 2\", который имеет другие условия отображения. Тоже самое будет и с \"под 3\", который обнулит значение переменной, которая отвечает на условие отображение этих \"под\"-ответов.\n\n   Давайте же подумаем, для чего можно использовать это сайд меню? \n   Самое логичное, что приходит на ум — навигация. Если это квест с поместьем, где можно передвигаться из комнаты в комнату... Или рпг-игра с открытым миром, состоящая из множества локаций (для этого можно создать несколько страниц под сайд-меню, и переключаться между ними, забивая в переменную global side_menu нужное значение).\n   Также можно сделать быстрое меню для доступа к основным характеристикам персонажа, например, инвентарю, состоянию персонажа, отношения окружающих персонажей. \n   \n   Важно помнить, что читатель может воспользоваться сайд-меню в любой момент, если меню не отключено, а значит нужно позаботиться о том, чтобы потом вернуть читателя на прежнюю страницу.\n\n   inactive — работает.\n   text color, bg color, shadow color — работают.\n   left/right/middle — не работают.\n\n   Можно включать только global side_menu, но тогда будет стандартный серый фон и не будет значка сайд-меню, а открыть сайд-меню можно протягиванием экрана с правого края влево в середине экрана.",
    "answers": [
      {
        "id": 53,
        "text": "Посмотреть страницу, которая использована под сайд-меню"
      },
      {
        "id": 2,
        "text": "К списку операторов"
      }
    ]
  },
  {
    "id": 53,
    "text": "сайд-меню",
    "answers": [
      {
        "id": 1,
        "text": "На первую страницу\n!1"
      },
      {
        "id": 54,
        "text": "ответ с inactive",
        "comment": true
      },
      {
        "id": 2,
        "text": "К списку операторов\n!2"
      },
      {
        "id": 53,
        "text": "  ",
        "comment": true
      },
      {
        "id": 54,
        "text": " = закрыть меню =\n\n goto [\"global current_id\"]",
        "go_to": [
          "global current_id"
        ]
      }
    ]
  },
  {
    "id": 54,
    "text": "сайд-меню",
    "answers": [
      {
        "id": 1,
        "text": "На первую страницу"
      },
      {
        "id": 54,
        "text": "ответ с inactive ",
        "comment": true
      },
      {
        "id": 2,
        "text": "К списку операторов"
      },
      {
        "id": 54,
        "text": "  ",
        "comment": true
      },
      {
        "id": 54,
        "text": "= закрыть меню =",
        "go_to": [
          "global current_id"
        ]
      }
    ]
  },
  {
    "id": 55,
    "text": "   Для отправки нужно написать в комментариях к квесту команду с почтой получателя, зарегистрированный в Текстовых квестах.\n\n   ",
    "answers": [
      {
        "id": 55,
        "text": "send komu@mail.ru\n\n   komu@mail.ru — замените на почту получателя. ",
        "merge": true
      },
      {
        "id": 2,
        "text": "В начало"
      }
    ]
  },
  {
    "id": 56,
    "text": "   Переменная global defaultBgAnswerImage хранит ссылку на фон, который используется по умолчанию для ответов. Он будет применен, если никакой другой фон ответу не задан, например, через bg_image.\n\n   Пример:\n\n   var str set [\"global defaultBgAnswerImage\", \"ссылка\"]\n   \n   или... \n\n   function lua_do()\n   g.defaultBgAnswerImage = \"ссылка\"\n   end\n\n\n   Для удаления своего фона и возврату к стандартному нужно обнулить значение этой переменной. Напишите в ответе:\n\n   var str set [\"global defaultBgAnswerImage\", \"\"]\n   \n   или... \n\n   function lua_do()\n   g.defaultBgAnswerImage = nil\n   end",
    "answers": [
      {
        "id": 56,
        "text": "*/ Внимание! Для корректной работы требуется прямая ссылка! Подробнее читайте в соответствующем разделе, или в ответах на частые вопросы. ",
        "comment": true
      },
      {
        "id": 2,
        "text": "[К оглавлению]",
        "comment": false,
        "var_set": [
          "copy",
          0
        ]
      },
      {
        "lua_text": "function lua_text()\n  if copy == 1 then\n    return \"Убрать поле\"\n  end\nend",
        "middle_answer": true,
        "id": 56,
        "instant": true,
        "lua_do": "function lua_do()\n  if copy == 0 then\n    copy = 1\n  elseif copy == 1 then\n    copy = 0\n  end\nend",
        "text": "Копировать код"
      },
      {
        "comment": false,
        "var_need": [
          "copy",
          1
        ],
        "id": 56,
        "text": " var str set [\"global defaultBgAnswerImage\", \"ссылка\"]",
        "middle_answer": true,
        "input_var": ""
      },
      {
        "comment": false,
        "input_var": "",
        "middle_answer": true,
        "text": " function lua_do()\ng.defaultBgAnswerImage = \"ссылка\"\nend",
        "var_need": [
          "copy",
          1
        ],
        "id": 56
      },
      {
        "id": 56,
        "text": "*/ обязательно сотрите пробел перед кодом, иначе он будет восприниматься как текст ответа!",
        "comment": true,
        "var_need": [
          "copy",
          1
        ]
      }
    ]
  },
  {
    "id": 57,
    "text": "   Если вам нужно, чтобы какие-то расчёты и функции сработали именно в момент открытия квеста читателем/игроком, то данный оператор поможет вам с этим. \n   Например, если я разместил нужные расчёты и функции на странице 6, то запись должна быть такой:\n\n   var set [\"global reloadFunctions\", 6] \n\n   Его нужно записать в calculate на первой странице. Сразу эта опция не работает, так как она срабатывает один раз в момент запуска квеста. То есть, нужно выйти и зайти в квест заново. Опция сработает один раз, произведя расчёты и обновив функции. ",
    "answers": [
      {
        "id": 2,
        "text": "Назад"
      }
    ]
  },
  {
    "id": 58,
    "text": "       ",
    "answers": [
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\n  function g.findInText(text, word, page)\n    word = utf8.gsub(word, \"([%(%)%.%%%<plus>%-%*%?%[%]%^%$])\", \"%%%0\")\n    local start, finish = utf8.find(text, word)\n    if start then\n      local result\n      result = \n  utf8.match(text, \"^[^<s>\n]-\".. word.. \"[^<s>\n]-$\") or\n  utf8.match(text, \"^[^<s>\n]-\".. word.. \"[^<s>\n]-<s>\n\") or\n  utf8.match(text, \"<s>\n[^<s>\n]-\".. word.. \"[^<s>\n]-$\") or\n  utf8.match(text, \"<s>\n[^<s>\n]-\".. word.. \"[^<s>\n]-<s>\n\")\n      result = utf8.gsub(result, \"[%s<s>\n]<plus>\", \" \")\n      if #result > 100 then\n        result = utf8.sub(result, 1, 100)\n        if utf8.sub(result, 100, 100) == \" \" then\n          result = utf8.sub(result, 1, -2)\n        else\n          result = utf8.sub(result, 1, -2) .. \"...\"\n        end\n      end\n      table.insert(results, {text = result, \n      fontSize = 0.9, pressListener = \n      function() \n        showPage{id = page} \n        hideDialog() \n      end})\n      return true\n    end\n    return false\n  end\nend",
        "text": "Поиск в тексте",
        "id": 23,
        "calculate": false
      },
      {
        "comment": false,
        "super_calculate": true,
        "id": 23,
        "text": "Поиск",
        "lua_do": "function lua_do()\ntimer.performWithDelay(1, function()\nlocal cw, ch = display.contentWidth, display.contentHeight\nlocal w = cw*0.1\nlocal find = display.newImage(canvas.parent.parent.parent.parent.parent, \"detective-md.png\", 0, 0)\nfind.xScale = w/find.width\nfind.yScale = find.xScale\nfind.x = cw - find.contentWidth/2 - 0.04*cw\nfind.y = find.contentHeight/2 <plus> 0.03*cw\nfind:setFillColor(0)\n\nfind:addEventListener(\"tap\",   \n  function(event)\n    if not event.target.input then\n      local cw, ch = display.contentWidth, display.contentHeight\n      local input = native.newTextField(cw*0.5, cw*0.07, cw*0.6, cw*0.075)\ncanvas.parent.parent.parent.parent.parent:insert(input)\n      event.target.input = input\n    else\n      local word = event.target.input.text or \"  \"\n      if utf8.match(word, \"^%s*$\") then\n        if event.target.input and event.target.input.removeSelf then\n          event.target.input: removeSelf()\n        end\n        event.target.input = nil\n        return true\n      end\n\n      results = {{text = \"Назад\", fontSize = 0.9}}\n      local findPages = 0\n      for i = 1, #pages do\n        local successFind\n        if g.findInText(pages[i].text, word, i) then\n          successFind = true\n        end \n        for j = 1, #pages[i].answers do\n          local answer = pages[i].answers[j]\n          if answer.comment and not (answer.calculate or answer.super_calculate) then\n            if g.findInText(answer.text, word, i) then\n              successFind = true\n            end\n          end\n        end\n        if successFind then\n          findPages = findPages <plus> 1\n        end\n        if #results >= 50 then\n          break\n        end\n      end\n      if event.target.input and event.target.input.removeSelf then\n        event.target.input:removeSelf()\n      end\n      event.target.input = nil\n      if #results <=1 then\n        message(\"Ничего не нашлось\")\n      else\n        dialog{header = 'Результаты поиска \"' .. word .. '\"',\n        text = \"Вхождений: \".. (#results - 1) .. \", страниц: \" .. findPages,\n        fontSizeForBody = 0.9,\n        answers = results}\n      end\n    end\n  return true\n  end)\nend)\nend",
        "calculate": false
      }
    ]
  },
  {
    "id": 59,
    "text": "Для понимания рассмотрим несколько конкретных примеров.\n\n?[2,3,4]\nОтвет будет отображаться, когда выполнены все условия: (страница 2 посещена) И  (страница 3 посещена) И  (страница 4 посещена). То есть, пока не будут посещены все страницы, ответ отображаться не будет.\n\n?[-2,-3,-4]\nОтвет будет отображаться, когда выполнены все условия: (страница 2 НЕ посещена) И (страница 3 НЕ посещена) И  (страница 4 НЕ посещена). То есть, ответ будет отображаться до посещения любой из страниц.\n\n?or[2,3,4]\nОтвет будет отображаться, когда выполнено любое из условий: (страница 2 посещена) ИЛИ (страница 3 посещена) ИЛИ  (страница 4 посещена). То есть, ответ будет отображаться после посещения любой из страниц.\n\n?or[-2,-3,-4]\nОтвет будет отображаться, когда выполнено любое из условий: (страница 2 НЕ посещена) ИЛИ (страница 3 НЕ посещена) ИЛИ (страница 4 НЕ посещена).\nТо есть, ответ будет отображаться, пока не будут посещены все страницы.",
    "answers": [
      {
        "id": 26,
        "text": "[Назад]"
      }
    ]
  },
  {
    "id": 60,
    "text": "",
    "answers": []
  },
  {
    "id": 61,
    "text": "Если здесь есть один из интересующих вас вопросов, нажмите на него.\n",
    "answers": [
      {
        "comment": false,
        "var_set": [
          "A1",
          1,
          "A2",
          0,
          "A3",
          0,
          "A4",
          0,
          "A5",
          0
        ],
        "id": 61,
        "text": "1) «Я пишу оператор, но ничего не происходит/работает не так, как должно быть!»",
        "instant": true,
        "var_no_more": [
          "A1",
          0
        ]
      },
      {
        "id": 61,
        "text": "1) «Я пишу оператор, но ничего не происходит/работает не так, как должно быть!»\n\n— Обязательно проверяйте правильность написания кода, наличие всех необходимых знаков препинания, вычищайте лишние пробелы, которые любят случайно закрасться туда, куда их не просят. Как это не банально, но 99% ошибок исправляется уже здесь.",
        "comment": true,
        "var_need": [
          "A1",
          1
        ]
      },
      {
        "comment": false,
        "var_set": [
          "A1",
          0,
          "A2",
          1,
          "A3",
          0,
          "A4",
          0,
          "A5",
          0
        ],
        "id": 61,
        "text": "2) «Условия посещения не работают в концовках. Почему?»",
        "instant": true,
        "var_no_more": [
          "A2",
          0
        ]
      },
      {
        "id": 61,
        "text": "2) «Условия посещения не работают в концовках. Почему?»\n\n— Все условия, не переведëнные в глобальную память, стираются при возвращении на первую страницу (если читатель возвращается не через боковое меню, а посредством нажатия на ответ с оператором \"!1\"). О том, как сохранить условия в глобальной памяти, читайте в этом учебнике.",
        "comment": true,
        "var_need": [
          "A2",
          1
        ]
      },
      {
        "comment": false,
        "var_set": [
          "A1",
          0,
          "A2",
          0,
          "A3",
          1,
          "A4",
          0,
          "A5",
          0
        ],
        "id": 61,
        "text": "3) «Сколько условий можно повесить на ответ?»",
        "instant": true,
        "var_no_more": [
          "A3",
          0
        ]
      },
      {
        "id": 61,
        "text": "3) «Сколько условий можно повесить на ответ?»\n\n— Неограниченное количество.",
        "comment": true,
        "var_need": [
          "A3",
          1
        ]
      },
      {
        "comment": false,
        "var_set": [
          "A1",
          0,
          "A2",
          0,
          "A3",
          0,
          "A4",
          1,
          "A5",
          0
        ],
        "id": 61,
        "instant": true,
        "text": "4) «Картинка не отображается / не принимается обложка!»",
        "var_no_more": [
          "A4",
          0
        ]
      },
      {
        "id": 61,
        "text": "4) «Картинка не отображается / не принимается обложка!»\n\n— Ссылка на картинку должна быть прямой, то есть на еë настоящюю копию на сервере. Такая ссылка всегда оканчивается обозначением формата, например .jpg /.png. Самостоятельное приписывание к ссылке этих окончаний ситуации не поможет — нужно искать хостинги, дающие прямые ссылки. Например сайт IMGBB, или другие. \n\nЕсли обложка / фон не принимаются, значит параметры вашей картинки не соответствуют обязательным для данного типа изображений. Сверьтесь с рекомендациями и проверьте ещë раз свойства вашей будущей обложки.",
        "comment": true,
        "var_need": [
          "A4",
          1
        ]
      },
      {
        "var_need": [
          "A4",
          1
        ],
        "middle_answer": true,
        "targetbookid": 47701,
        "id": 1,
        "text": "[Открыть учебник по анимации]"
      },
      {
        "comment": false,
        "var_set": [
          "A1",
          0,
          "A2",
          0,
          "A3",
          0,
          "A4",
          0,
          "A5",
          1
        ],
        "id": 61,
        "text": "5) «Помогите создать инвентарь / броню / боевую систему!»",
        "instant": true,
        "var_no_more": [
          "A5",
          0
        ]
      },
      {
        "id": 61,
        "text": "5) «Помогите создать инвентарь / броню / боевую систему!»\n\n— Платформа «Текстовые квесты» даëт множество возможностей для программирования ответов и условий. Изучайте, экспериментируйте, комбинируйте — дайте волю воображению, и у вас получится создать свой уникальный инвентарь / броню / боевую систему, или даже то, до чего никто до сих пор не додумался! Никто не сумеет сделать это лучше вас самих! \n\nВсë в ваших руках, стоит только попробовать :)",
        "comment": true,
        "var_need": [
          "A5",
          1
        ]
      },
      {
        "id": 61,
        "text": " ",
        "comment": true
      },
      {
        "id": 1,
        "text": "На первую страницу"
      }
    ]
  },
  {
    "id": 62,
    "text": "",
    "answers": []
  },
  {
    "id": 63,
    "text": "",
    "answers": []
  },
  {
    "id": 64,
    "text": "",
    "answers": []
  },
  {
    "id": 65,
    "text": "",
    "answers": []
  },
  {
    "id": 66,
    "text": "",
    "answers": []
  },
  {
    "id": 67,
    "text": "",
    "answers": []
  },
  {
    "id": 68,
    "text": "",
    "answers": []
  },
  {
    "id": 69,
    "text": "",
    "answers": []
  },
  {
    "id": 70,
    "text": "",
    "answers": []
  },
  {
    "id": 71,
    "text": "",
    "answers": []
  }
]