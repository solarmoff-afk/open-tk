[
  {
    "id": 1,
    "text": "Автор: Aleks Otter<s>r\n<s>r\nТерренс всегда был серьёзным мальчиком — энциклопедии отлично заменяли ему друзей. Он совершенно не горел желанием ехать в детский лагерь, да ещё и палаточный! Терренс не подозревал, что под прикрытием развлечения готовится ритуал инициации юных волшебников.<s>r\n<s>r\nНо магия существует только для тех, кто в неё верит. Не сорвётся ли ритуал? Сможет ли Терренс коснуться чуда и завести друзей?<s>r\n<s>r\n—----<s>r\nКвест находится в процессе написания!<s>r\nПрогресс готовности:<s>r\n✓  Пролог<s>r\n✓  День первый<s>r\n✓  Ночь<s>r\n✗  День второй<s>r\n✗  Эпилог<s>r\n<s>r\nПожалуйста, если Вы столкнётесь с ошибками, сообщите о них в чат тестирования.",
    "answers": [
      {
        "comment": false,
        "id": 10,
        "text": "Начать",
        "lua_do": "function lua_do()\nsceneImageUrl = \n\"http://188.120.236.127/aleks_otter/magical_weekend/locations/living_room.png\"\nlocal img = display.newImage(sceneImageUrl)\nimg.isVisible = false\ng.image_part_of_screen = math.min(img.height/img.width, 0.5)\ng.defaultBgAnswerImage = \"http://188.120.236.127/aleks_otter/magical_weekend/button1.jpg\"\ng.blockNightMode = 1\np10 = 0\ncuriosity, tediousness = 0, 0\ng.achievements = g.achievements or {count = 0}\ng.endings = g.endings or {count = 0}\nend",
        "var_set": [
          "autorun",
          6
        ]
      },
      {
        "id": 4,
        "text": "Достижения и концовки",
        "comment": false,
        "lua_do": "function lua_do()\ng.blockNightMode = 1\ng.achievements = g.achievements or {count = 0}\ng.endings = g.endings or {count = 0}\nend"
      },
      {
        "id": 1,
        "text": "             ",
        "comment": true
      },
      {
        "id": 1,
        "text": "Чат тестирования VK",
        "comment": false,
        "url": "https://vk.me/join/mKeJyKiPEb8BxeQtbuOKe/25nN78r7jM7vA="
      },
      {
        "id": 1,
        "text": "Группа автора VK",
        "url": "https://vk.com/aleks_otter_quest"
      },
      {
        "id": 19,
        "text": "Навигация текст",
        "lua_if": "function lua_if()\nreturn g.isAuthor == 1\nend"
      },
      {
        "lua_if": "function lua_if()\nreturn g.isAuthor == 1\nend",
        "id": 7,
        "text": "Навигация техн",
        "lua_do": "function lua_do()\nsceneImageUrl = \n\"http://188.120.236.127/aleks_otter/magical_weekend/zero.png\"\nlocal img = display.newImage(sceneImageUrl)\nimg.isVisible = false\ng.image_part_of_screen = math.min(img.height/img.width, 0.5)\ng.defaultBgAnswerImage = \"http://188.120.236.127/aleks_otter/magical_weekend/button1.jpg\"\nend",
        "var_set": [
          "autorun",
          6
        ]
      },
      {
        "id": 1,
        "text": "",
        "pageImg": "http://188.120.236.127/aleks_otter/magical_weekend/background.jpg",
        "system": true
      },
      {
        "id": 1,
        "text": "",
        "bgImg": "http://188.120.236.127/aleks_otter/magical_weekend/background.jpg",
        "system": true
      },
      {
        "id": 1,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/1page.jpg"
      }
    ]
  },
  {
    "id": 2,
    "text": ":: Заголовок 1<s>r\nТекст страницы 1<s>r\nНовый параграф страницы 1<s>r\n[[кнопка_1_на_2|Заголовок 2]]<s>r\n[[кнопка_2_на_3|Заголовок 3]]<s>r\n<s>r\n:: Заголовок 2<s>r\nТекст страницы 2<s>r\n[[кнопка_1_на_3|Заголовок 3]]<s>r\n<s>r\n:: Заголовок 3<s>r\nТекст страницы 3<s>r\n[[кнопка_1_на_1|Заголовок 1]]<s>r\n[[кнопка_2_на_4|Заголовок 4]]<s>r\n[[кнопка_3_на_5|Заголовок 5]]<s>r\n[[кнопка_4_на_6]]<s>r\n<s>r\n:: Заголовок 4<s>r\nТекст страницы 4<s>r\n<s>r\n",
    "answers": [
      {
        "id": 2,
        "text": "Символы разбиения текста",
        "comment": true,
        "middle_answer": true
      },
      {
        "id": 2,
        "comment": true,
        "super_calculate": false,
        "middle_answer": false,
        "text": "Символы разбиения текста",
        "calculate": true,
        "lua_do": "function lua_do()\nnewTitleSeparator = \":: \"\nnewTitleSeparatorReg = \":: \"\nendTitleSeparator = \"<s>\n\"\nendTitleSeparatorReg = \"%c%c\"\nendPageSeparator = \"<s>\n<s>\n\"\nendPageSeparatorReg = \"%c%c%c%c\"\nnewParagraphSeparator = \"<s>\n\"\nnewParagraphSeparatorReg = \"%c%c\"\nnewButtonSeparator = \"[[\"\nnewButtonSeparatorReg = \"%[%[\"\nendButtonSeparator = \"]]\"\nendButtonSeparatorReg = \"%]%]\"\nnewLinkSeparator = \"|\"\nnewLinkSeparatorReg = \"|\"\ntab = \"     \" -- в ТК не работает табуляция, заменяем её пробелами\n\nfunction getMask(separator)\n   return string.gsub(separator, \"<s>\n\", \"<s><s><s>\n\")\nend\n\nfunction trim(textWithSpaces)\n   return utf8.match((textWithSpaces or \"\"), \"^[%s%c]*(.-)[%s%c]*$\")\nend\nend"
      },
      {
        "id": 2,
        "text": "Вывод разделителей",
        "comment": true,
        "lua_text": "function lua_text()\nlocal text = \"Начало заголовка: \" .. getMask(newTitleSeparator) .. \n                   \"<s>\nКонец заголовка: \" .. getMask(endTitleSeparator) .. \n                   \"<s>\nКонец страницы: \" .. getMask(endPageSeparator) .. \n                   \"<s>\nНовый абзац: \" .. getMask(newParagraphSeparator) .. \n                   \"<s>\n<s>\nНовая кнопка: \" .. getMask(newButtonSeparator) .. \n                   \"<s>\nНачало ссылки: \" .. getMask(newLinkSeparator) .. \n                    \"<s>\nКонец кнопки: \" .. getMask(endButtonSeparator)\nif tabulation then\n   text = text .. \"<s>\nДобавлять табуляцию для абзацев.\"\nelse\n   text = text .. \"<s>\nНе добавлять табуляцию для абзацев.\"\nend\n\nif creatingLinks then\n   text = text .. \"<s>\nВключено автоматическое создание связей между страницами. \" \nelse\n   text = text .. \"<s>\nАвтоматическое создание связей между страницами отключено.\"\nend\n\nreturn text\nend"
      },
      {
        "text": "Включить / выключить табуляцию",
        "lua_do": "function lua_do()\ntabulation = not tabulation\nend",
        "instant": true,
        "id": 2,
        "go_to": [
          "global current_id"
        ]
      },
      {
        "text": "Включить / выключить автоматическое создание связей между страницами",
        "lua_do": "function lua_do()\ncreatingLinks = not creatingLinks\nend",
        "instant": true,
        "id": 2,
        "go_to": [
          "global current_id"
        ]
      },
      {
        "id": 2,
        "text": "  ",
        "comment": true
      },
      {
        "comment": false,
        "instant": true,
        "lua_do": "function lua_do()\n   createNewPages()   --подготовка\n   prepareMerge()   --подготовка\n   merge()    -- непосредственно загрузка\n   success = true\n   newPages = nil\nend",
        "text": "Загрузить квест",
        "id": 2,
        "go_to": [
          "global current_id"
        ]
      },
      {
        "id": 2,
        "text": "Загрузка успешно завершена.\nПожалуйста, перейдите в режим редактирования, сохраните квест и переоткройте его.",
        "comment": true,
        "lua_if": "function lua_if()\nreturn success\nend"
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction createNewPages()\n   -- разрезаем исходный текст на страницы\n   local preparePages = {}\n   for newPage in utf8.gmatch(pages[g.current_id].text, \"(.-\" .. endPageSeparatorReg .. \")\") do\n      table.insert(preparePages, newPage)\n   end\n\n   -- выделяем из текста страницы Заголовок, собственно Текст и Кнопки\n   newPages = {}\n   local pageText, pageTitle, link = \"\"\n   local pageButtons = {}\n   for i, v in ipairs(preparePages) do\n      pageText = \"\" .. v\n\n      -- выделяем Заголовки,\n      -- они будут использоваться в качестве ссылок, если нужно\n      pageTitle, pageText = utf8.match(v, newTitleSeparatorReg .. \"(.-)\" .. endTitleSeparatorReg .. \"(.*)\")\n      pageTitle = trim(pageTitle)\n      \n      -- создание кнопок\n      pageButtons = createButtons(pageText)\n      \n      -- отрезаем ненужный мусор про кнопки и добавляем табуляцию\n      if utf8.find(pageText, \"(.-)\" .. newButtonSeparatorReg) then\n         pageText = utf8.match(pageText, \"(.-)\" .. newButtonSeparatorReg)\n      end\n      pageText = trim(pageText)\n      if tabulation then\n         pageText = utf8.gsub (tab .. pageText, newParagraphSeparator, (newParagraphSeparator .. tab))\n      end\n      table.insert(newPages , {title = pageTitle, text = pageText, buttons = pageButtons})\n   end\nend\nend",
        "calculate": true,
        "text": "Обработка исходного текста: разбиение на страницы; выделение заголовков (если нужно сосдание переходов по кнопкам); создание кнопок; добавление табуляции.\n",
        "id": 2
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction createLinks(buttonsTable, linksTable)\n   -- перебираем кнопки и указываем, на какую страницу они будут ссылаться\n   for kb, curButton in ipairs(buttonsTable) do\n      if (curButton.linkText) and (utf8.len(curButton.linkText) > 0) then\n         -- определяем номер страницы\n         notFound = true\n         for kl, curLink in ipairs(linksTable) do\n            if (curLink.title == curButton.linkText) then \n               curButton.id = 0 <plus> curLink.pageId\n               notFound = false\n               break -- нашли\n            end\n         end\n         \n         -- Если не нашли целевую страницу, ссылаемся на НЕСУЩЕСТВУЮЩУЮ страницу\n         if notFound then \n               curButton.id = table.count(pages) <plus> table.count(newPages) <plus>1\n         end\n\n         -- подчищаем хвост\n         curButton.linkText = nil \n      end\n   end\nend\nend",
        "calculate": true,
        "text": "Создание переходов с кнопки на страницу.\nАргументы: 1 - таблица кнопок; 2 - таблица сопоставления заголовков и номеров страниц",
        "id": 2
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction prepareMerge()\n   -- определяем номера будущих страниц\n   local curPagesCount = table.count(pages)\n   local links = {}\n   for i, curPage in ipairs(newPages) do\n      curPage.id = curPagesCount <plus> i\n      -- сопоставляем номера страниц с их заголовками для создания ссылок\n      if creatingLinks then\n         table.insert(links , {title = \"\" .. curPage.title, pageId = curPage.id})\n      end\n   end\n\n   -- перебираем все кнопки\n   if creatingLinks then\n      for i, curPage in ipairs(newPages) do\n         if curPage.buttons then\n             createLinks(curPage.buttons, links) -- создание ссылок\n         end\n      end\n   end\nend\nend",
        "calculate": true,
        "text": "Подготовка к мерджу в массив существующих страниц: определение номеров новых страниц; создание связей между ними, если это нужно.\n",
        "id": 2
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction merge()\n   for i, curPage in ipairs(newPages) do\n      table.insert(pages, {id = curPage.id, text = curPage.text or \"\", answers = curPage.buttons or {}})\n   end\nend\nend",
        "calculate": true,
        "id": 2,
        "text": "Mердж в массив существующих страниц\n"
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction createButtons(pageText)\n   local pageButtons = {}\n   local link = \"\"\n   for newButton in utf8.gmatch(pageText, newButtonSeparatorReg .. \"(.-)\" .. endButtonSeparatorReg) do\n      newButton = trim(newButton)\n\n     -- определяем, есть ли в кнопке ссылка\n     linkSepPos = utf8.find(newButton, newLinkSeparatorReg)\n     if linkSepPos then\n        -- определяем, на что кнопки ссылаются\n        newButton, link = utf8.match(newButton, \"(.-)\" .. newLinkSeparatorReg .. \"(.*)\")\n      else\n        -- В кнопке нет разделителя ссылки, значит, её название и есть ссылка\n        linkText = newButton .. \"\"\n      end\n      if creatingLinks then\n         table.insert(pageButtons , {text = newButton, linkText = link})\n      else\n         -- если ссылки не нужны - просто отсекаем их\n         table.insert(pageButtons , {text = newButton})\n      end\n   end\n   return pageButtons\nend\nend",
        "calculate": true,
        "id": 2,
        "text": "Создание кнопок\nаргумент - исходный текст одной страницы"
      },
      {
        "id": 1,
        "text": "На первую страницу",
        "lua_if": "function lua_if()\n-- Чтобы нельзя было листать квест сразу после загрузки\nreturn not success\nend"
      }
    ]
  },
  {
    "id": 3,
    "text": "::4 <100,100>\nТекст страницы 1<s>r\nНовый параграф страницы 1\n[[кнопка_1_на_2|5]]\n[[кнопка_2_на_3|6]]\n\n::5 <200,100>\nТекст страницы 2\n[[кнопка_1_на_3|6]]\n\n::6 <300,100>\nТекст страницы 3\n[[кнопка_1_на_1|4]]\n[[кнопка_2_на_4|7]]\n[[кнопка_3_на_5|8]]\n\n::7 <400,100>\nТекст страницы 4\n\n::8 <500,100>\n",
    "answers": [
      {
        "id": 2,
        "text": "Символы разбиения текста",
        "comment": true,
        "middle_answer": true
      },
      {
        "id": 2,
        "comment": true,
        "super_calculate": false,
        "middle_answer": false,
        "text": "Символы разбиения текста",
        "calculate": true,
        "lua_do": "function lua_do()\nnewTitleSeparator = \"::\"\nendTitleSeparator = \"<s>\n\"\nendPageSeparator = \"<s>\n<s>\n\"\nnewParagraphSeparator = \"<s>\n\"\nnewButtonSeparator = \"[[\"\nendButtonSeparator = \"]]\"\nnewLinkSeparator = \"|\"\ntab = \"     \" -- в ТК не работает табуляция, она может быть заменена пробелами\n\nfunction getMask(separator)\n   return string.gsub(separator, \"<s>\n\", \"<s><s><s>\n\")\nend\n\nfunction ltrim(textWithSpaces)\n   return utf8.match((textWithSpaces or \"\"), \"^[%s]*(.-)$\")\nend\n\nend"
      },
      {
        "id": 2,
        "text": "Вывод разделителей",
        "comment": true,
        "lua_text": "function lua_text()\nlocal text = \"Начало заголовка: \" .. getMask(newTitleSeparator) .. \n                   \"<s>\nКонец заголовка: \" .. getMask(endTitleSeparator) .. \n                   \"<s>\nКонец страницы: \" .. getMask(endPageSeparator) .. \n                   \"<s>\nНовый абзац: \" .. getMask(newParagraphSeparator) .. \n                   \"<s>\n<s>\nНовая кнопка: \" .. getMask(newButtonSeparator) .. \n                   \"<s>\nНачало ссылки: \" .. getMask(newLinkSeparator) .. \n                    \"<s>\nКонец кнопки: \" .. getMask(endButtonSeparator)\n\nif unloadTabs then\n   text = text .. \"<s>\nВыгружать пробелы табуляции.\"\nelse\n   text = text .. \"<s>\nНе выгружать пробелы табуляции.\"\nend\n\nif unloadLinks then\n   text = text .. \"<s>\n<s>\nВключена выгрузка связей между страницами. <s>\n\"\nelse\n   text = text .. \"<s>\n<s>\nАвтоматическое создание связей между страницами отключено.\"\nend\n\nreturn text\nend"
      },
      {
        "instant": true,
        "lua_do": "function lua_do()\nunloadTabs = not unloadTabs\nend",
        "text": "Включить / выключить выгрузку пробелов табуляции",
        "id": 9,
        "go_to": [
          "global current_id"
        ]
      },
      {
        "instant": true,
        "lua_do": "function lua_do()\nunloadLinks = not unloadLinks\nend",
        "text": "Включить / выключить выгрузку связей между страницами",
        "id": 9,
        "go_to": [
          "global current_id"
        ]
      },
      {
        "id": 2,
        "text": "  ",
        "comment": true
      },
      {
        "comment": false,
        "instant": true,
        "lua_do": "function lua_do()\n   -- укажите в переменной pages номера и/или диапазоны страниц через запятую\n   -- диапазоны указываются через \"-\"\n\n   local pageNumsStr = \"4, 5-7, 8\"   \n\n   local pageNumbers = preparePagesNums(pageNumsStr)   -- подготовка\n   unloadQuest(pageNumbers) -- загрузка\nend",
        "text": "Выгрузить квест",
        "id": 19,
        "go_to": [
          "global current_id"
        ]
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction preparePagesNums(pageNumsStr)\n   local pageNumbers = {}\n   local startPage, endPage, num = -1\n   local startPageStr, endPageStr =\"\"\n   for numStr in utf8.gmatch(\" \" .. pageNumsStr .. \",\", \"(.-),\") do\n\n      -- если указан диапазон страниц, \n      if utf8.find(numStr, \"-\") then\n         startPageStr, endPageStr = utf8.match(numStr, \"(%d<plus>)-(%d<plus>)\")\n         startPage, endPage = -1\n         if startPageStr and endPageStr then\n            startPage = tonumber(startPageStr)\n            endPage = tonumber(endPageStr)\n         end\n\n         -- если удалось определить границы диапазона, добавляем в массив каждую из них\n         if startPage and endPage and startPage > 0 and endPage > startPage then\n            for i = startPage, endPage do\n               table.insert(pageNumbers, i)\n            end\n         end\n      else\n         -- отдельная страница\n         num = tonumber(numStr)\n         if num then table.insert(pageNumbers, num) end\n      end\n   end\n   return pageNumbers\nend\nend",
        "calculate": true,
        "id": 2,
        "text": "Определяем номера страниц, которые нужно выгружать\nаргумент - строка, содержащая номера и/или диапазоны страниц через запятую\n"
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction unloadQuest(pageNums)\n   pages[g.current_id].text = \"\"\n   local curPage = {}\n   local x = 1\n   local y = 1 \n   for i, curNum in ipairs(pageNums) do\n      curPage = pages[curNum]\n      if curPage then\n         unloadPage(curPage, x*100, y*100)\n         \n         if math.fmod(x, 10) == 0 then\n            y = y <plus> 1\n            x = 1\n         else\n            x = x <plus> 1\n         end\n      end\n   end\nend\nend",
        "calculate": true,
        "text": "Перебор страниц и их поочерёдная выгрузка\nаргумент pageNums - массив чисел\n",
        "id": 2
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction unloadPage(currentPage, x, y)\n   if not currentPage then return end\n   resultText = pages[g.current_id].text\n   -- начало новой страницы\n   if resultText ~= \"\" then\n      resultText = resultText .. endPageSeparator\n   end\n\n   -- номер страницы - в качестве заголовка\n   resultText = resultText .. newTitleSeparator .. currentPage.id .. \" <\" .. x .. \",\" .. y .. \">\" .. endTitleSeparator\n   \n   -- текст страницы\n   if unloadTabs then\n      resultText = resultText .. currentPage.text\n   else\n      resultText = resultText .. utf8.gsub (ltrim(currentPage.text), (newParagraphSeparator .. tab), newParagraphSeparator)\n   end\n   \n   -- кнопки\n   local buttons = currentPage.answers\n   for i, curButton in ipairs(buttons) do\n      resultText = resultText .. newParagraphSeparator .. newButtonSeparator .. curButton.text\n      -- ссылки на страницы, если надо\n      if unloadLinks then\n         resultText = resultText .. newLinkSeparator .. curButton.id\n      end\n      resultText = resultText .. endButtonSeparator\n   end\n\n   pages[g.current_id].text = resultText\nend\nend",
        "calculate": true,
        "text": "Загрузка одной страницы\nаргументы: currentPage - таблица загружаемой страницы;  x и y - координаты параграфа в Twine\n",
        "id": 2
      },
      {
        "id": 1,
        "text": "На первую страницу"
      }
    ]
  },
  {
    "id": 4,
    "text": "empty",
    "answers": [
      {
        "id": 1,
        "text": "На первую страницу",
        "middle_answer": false,
        "merge": false
      },
      {
        "lua_text": "function lua_text()\nreturn \"Достижения (\".. g.achievements.count .. \" из 5)\"\nend",
        "comment": true,
        "middle_answer": true,
        "text": "Достижения",
        "id": 4,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn g.achievements.friendPenny\nend",
        "id": 4,
        "text": "✩  Друг Пенни",
        "comment": true,
        "merge": false
      },
      {
        "comment": true,
        "id": 4,
        "text": "✩  Друг Лейлы",
        "lua_if": "function lua_if()\nreturn g.achievements.friendLayla\nend",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn g.achievements.friendAshley\nend",
        "id": 4,
        "text": "✩  Друг Эшли",
        "comment": true,
        "merge": false
      },
      {
        "comment": true,
        "id": 4,
        "text": "✩  Второй шанс",
        "lua_if": "function lua_if()\nreturn g.achievements.secondChance\nend",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn g.achievements.firstHand\nend",
        "id": 4,
        "text": "✩  Из первых рук",
        "comment": true,
        "merge": false
      },
      {
        "id": 4,
        "text": "    ",
        "comment": true,
        "merge": false
      },
      {
        "comment": true,
        "lua_text": "function lua_text()\nreturn \"Концовки (\".. g.endings.count .. \" из 2)\"\nend",
        "middle_answer": true,
        "text": "Концовки ",
        "id": 4,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn g.endings.boringWeekend\nend",
        "id": 4,
        "text": "✯  Самый скучный уикенд",
        "comment": true,
        "merge": false
      },
      {
        "comment": true,
        "id": 4,
        "text": "✯  Хоровод фей",
        "lua_if": "function lua_if()\nreturn g.endings.fairy\nend",
        "merge": false
      }
    ]
  },
  {
    "id": 5,
    "text": "Функции картинок",
    "answers": [
      {
        "super_calculate": true,
        "id": 5,
        "text": "Назначение картинки",
        "lua_do": "function lua_do()\nfunction setImage(imgUrl)\nsceneImageUrl = imgUrl\nlocal img = display.newImage(imgUrl)\nimg.isVisible = false\ng.image_part_of_screen = math.min(img.height/img.width, 0.5)\nend\nend",
        "calculate": false
      },
      {
        "super_calculate": true,
        "id": 5,
        "text": "Отображение картинки",
        "lua_do": "function lua_do()\nfunction showImage()\n   local sceneImage = display.newImage(sceneImageUrl)\n   sceneImage.x = canvas.width / 2\n   sceneImage.y = canvas.height / 2\n   sceneImage.x = canvas.width/2\n   sceneImage.y = canvas.height/2\n   local xs = canvas.width/sceneImage.width\n   local ys = canvas.height/sceneImage.height\n   sceneImage.xScale = math.min (xs, ys)\n   sceneImage.yScale = sceneImage.xScale\nend\nend",
        "calculate": false
      }
    ]
  },
  {
    "id": 6,
    "text": "авторан",
    "answers": [
      {
        "lua_if": "function lua_if()\nlocal tf = type(\"setImage\")\nreturn (tf == 'nil') or (tf == 'string')\nend",
        "super_calculate": true,
        "id": 6,
        "calculate": false,
        "run": [
          5
        ],
        "text": "Функции картинок"
      },
      {
        "super_calculate": true,
        "id": 6,
        "text": "Картинка",
        "lua_do": "function lua_do()\nshowImage()\nend",
        "calculate": false
      },
      {
        "id": 6,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/zero.png"
      }
    ]
  },
  {
    "id": 7,
    "text": "Навигация",
    "answers": [
      {
        "id": 1,
        "text": "Загрузка (2-польз, 3-твайн)"
      },
      {
        "id": 5,
        "text": "Функции картинок"
      },
      {
        "id": 6,
        "text": "Авторан"
      },
      {
        "id": 8,
        "text": "Картинки локаций"
      },
      {
        "id": 9,
        "text": "Фехтование",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_day.png\")\nenemyName = \"Валери\"\nenemyIsGirl = true\nend"
      },
      {
        "id": 20,
        "text": "Шишки",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nbuttons = {0,0,0,0,0,0,0,0}\nend"
      }
    ]
  },
  {
    "id": 8,
    "text": "Картинки локаций",
    "answers": [
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/living_room.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/oak.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/room.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/hot_well.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_night.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_day.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/fireflies.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/bus.png"
      },
      {
        "id": 8,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/locations/handmade.jpg"
      },
      {
        "id": 108,
        "text": "Тут прячутся две картинки рунного стола, для которых можно добавить механику"
      }
    ]
  },
  {
    "id": 9,
    "text": "empty",
    "answers": [
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction enemyAction()\n   if energy_t < 1 then\n      if energy_e >= 2 then return 3 \n      else return 1 end\n   else\n      local minA, maxA = 1, 4\n      if energy_e >= 4 then minA = 2\n         elseif energy_e < 1 then maxA = 1\n         elseif energy_e < 2 then maxA = 3\n      end\n   return math.random(minA, maxA)\n   end\nend\nend",
        "text": "Ход противника",
        "id": 9,
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\nlives_t = lives_t or 10   lives_e = lives_e or 10\nenergy_t = energy_t or 4   energy_e = energy_e or 4\nif energy_t > 4 then energy_t = 4 elseif energy_t < 0 then energy_t = 0 end\nif energy_e > 4 then energy_e = 4 elseif energy_e < 0 then energy_e = 0 end\nemptyStr = \"\"\nroundText = roundText or \"\"\nend",
        "super_calculate": false,
        "id": 9,
        "text": "Первичные переменные",
        "calculate": true,
        "merge": false
      },
      {
        "comment": true,
        "id": 9,
        "text": "Терренс",
        "merge": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\nreturn enemyName\nend",
        "id": 9,
        "text": "Противник",
        "comment": true,
        "merge": false
      },
      {
        "id": 9,
        "text": "Вывод текста раунда",
        "lua_text": "function lua_text()\nreturn roundText\nend",
        "merge": true
      },
      {
        "super_calculate": false,
        "id": 20,
        "calculate": true,
        "widget": [
          "widget_lives",
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/heart.png",
          "",
          "widget_energy",
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/energy.png",
          "/4",
          "widget_empty",
          "http://188.120.236.127/aleks_otter/magical_weekend/zero.png",
          ""
        ],
        "text": "Создание виджетов"
      },
      {
        "super_calculate": true,
        "id": 20,
        "widget_show": [
          "widget_lives",
          "lives_t",
          "widget_energy",
          "energy_t",
          "widget_empty",
          "emptyStr",
          "widget_lives",
          "lives_e",
          "widget_energy",
          "energy_e"
        ],
        "text": "Отображение виджетов",
        "calculate": false
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/shield.png"
        ],
        "lua_if": "function lua_if()\nreturn lives_t > 0 and lives_e > 0\nend",
        "text": "Защита            \n<plus> 1 энергия    ",
        "id": 9,
        "instant": true,
        "lua_do": "function lua_do()\nif energy_t < 4 then\nenergy_t = energy_t <plus> 1\nend\nlocal action_e = enemyAction()\nif action_e == 1 then\n   energy_e = energy_e <plus> 1\n   roundText = \"Терренс ждал удара, но его не последовало. \" .. enemyName .. \" тоже решил\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" восстановить силы.\"\n\nelseif action_e == 2 then\n   energy_e = energy_e - 1\n   roundText = enemyName .. \" атаковал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \", но Терренс ловко отбил удар.\"\n\nelseif action_e == 3 then\n   energy_e = energy_e - 1\n   roundText =  enemyName .. \" ждал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" атаку Терренса, но потом решил\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" напасть сам\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \". Терренс ловко отбил удар.\"\n\nelseif action_e == 4 then\n   energy_e = energy_e - 2\n   lives_t = lives_t - 1\n   roundText = enemyName .. \" атаковал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \". Терренс попытался отбить удар, но попался на обманный манёвр.\"\nend\nend",
        "left_answer": true
      },
      {
        "comment": true,
        "id": 9,
        "text": "Блокирует атаку и контратаку противника",
        "lua_if": "function lua_if()\nreturn  lives_t > 0 and lives_e > 0\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/sword.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn energy_t > 0 and lives_t > 0 and lives_e > 0\nend",
        "id": 9,
        "text": "Атака             \n-1 энергия    ",
        "lua_do": "function lua_do()\nenergy_t = energy_t - 1\nlocal action_e = enemyAction()\nif action_e == 1 then\n   energy_e = energy_e <plus> 1\n   roundText = \"Терренс атаковал, но \" .. enemyName .. \" ловко отбил\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" удар.\"\n\nelseif action_e == 2 then\n   energy_e = energy_e - 2\n   lives_e = lives_e - 1\n   energy_t = energy_t - 1\n   lives_t = lives_t - 1\n   roundText = \"Терренс атаковал, но и \" .. enemyName .. \" тоже. Терренс не успел заблокировать удар.\"\n\nelseif action_e == 3 then\n   energy_e = energy_e - 1\n   lives_t = lives_t - 1\n   roundText = \"Терренс атаковал, но \" .. enemyName .. \" ждал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" этого. Он\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" легко обил\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" выпад Терренса и ударил\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" в ответ. Терренс не успел защититься.\"\n\nelseif action_e == 4 then\n   energy_e = energy_e - 3\n   lives_e = lives_e - 1\n   lives_t = lives_t - 1\n   roundText = \"Терренс атаковал, но и \" .. enemyName .. \" тоже. Оба не успели защититься.\"\nend\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/sword.png"
        ],
        "right_answer": true,
        "comment": true,
        "id": 9,
        "text": "Атака             \n-1 энергия    ",
        "instant": false,
        "lua_if": "function lua_if()\nreturn energy_t <= 0 and lives_t > 0 and lives_e > 0\nend"
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 9,
        "text": "Наносит урон и отнимает энергию противника",
        "lua_if": "function lua_if()\nreturn  lives_t > 0 and lives_e > 0\nend"
      },
      {
        "id": 9,
        "text": "   ",
        "comment": true,
        "lua_if": "function lua_if()\nreturn  lives_t > 0 and lives_e > 0\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/sword2.png"
        ],
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn energy_t >= 1 and lives_t > 0 and lives_e > 0\nend",
        "text": "Контратака    \n- 1 энергия    ",
        "id": 9,
        "instant": true,
        "lua_do": "function lua_do()\nenergy_t = energy_t - 1\nlocal action_e = enemyAction()\nif action_e == 1 then\n   energy_e = energy_e <plus> 1\n   roundText = \"Терренс ждал удар, но \" .. enemyName .. \" не нападал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \". Тогда Терренс атаковал сам, но \" .. enemyName\n   if enemyIsGirl then roundText = roundText .. \" увернулась.\" \n   else  roundText = roundText .. \" увернулся.\" end\n\nelseif action_e == 2 then\n   energy_e = energy_e - 1\n   lives_e = lives_e - 1\n   roundText = enemyName .. \" атаковал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \", но Терренс ждал этого. Он ловко увернулся и ударил в ответ. \" .. enemyName .. \" не успел\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" защититься.\"\n\nelseif action_e == 3 then\n   energy_e = energy_e - 1\n   lives_e = lives_e - 1\n   lives_t = lives_t - 1\n   roundText = \"Терренс ждал удар, но \" .. enemyName .. \" не нападал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \". Тогда Терренс атаковал сам, но то же самое сделал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" \" .. enemyName .. \". Оба не успели защититься.\"\n\nelseif action_e == 4 then\n   energy_e = energy_e - 2\n   lives_e = lives_e - 1\n   lives_t = lives_t - 1\n   roundText = enemyName .. \" ударил\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" не туда, куда ожидал Терренс. Однако Терренс смог тоже попасть по \"\n   if enemyIsGirl then roundText = roundText .. \"ней.\" \n   else  roundText = roundText .. \"противнику.\" end\nend\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/sword2.png"
        ],
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn energy_t < 1 and lives_t > 0 and lives_e > 0\nend",
        "id": 9,
        "text": "Контратака    \n- 1 энергия    ",
        "comment": true,
        "left_answer": true
      },
      {
        "right_answer": false,
        "comment": true,
        "id": 9,
        "text": "Блокирует атаку противника и носит урон",
        "lua_if": "function lua_if()\nreturn  lives_t > 0 and lives_e > 0\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/sword1.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn energy_t >=2 and lives_t > 0 and lives_e > 0\nend",
        "id": 9,
        "lua_do": "function lua_do()\nenergy_t = energy_t - 2\nlives_e = lives_e - 1\nlocal action_e = enemyAction()\nif action_e == 1 then\n   energy_e = energy_e <plus> 1\n   roundText = \"Терренс замахнулся, но ударил не в то место, куда смотрел. \" .. enemyName .. \" не смог\"\n   if enemyIsGirl then roundText = roundText .. \"ла\" end\n   roundText = roundText .. \" защититься.\"\n\nelseif action_e == 2 then\n   energy_e = energy_e - 1\n   energy_t = energy_t - 1\n   lives_t = lives_t - 1\n   roundText = \"Терренс атаковал, но и\" .. enemyName .. \" тоже. Терренс не успел заблокировать удар.\"\n\nelseif action_e == 3 then\n   energy_e = energy_e - 1\n   lives_t = lives_t - 1\n   roundText = \"Терренс замахнулся, но ударил не в то место, куда смотрел. \" .. enemyName .. \" не смог\"\n   if enemyIsGirl then roundText = roundText .. \"ла\" end\n   roundText = roundText .. \" защититься, однако атаковал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \" в ответ. Терренс не успел отбить удар.\"\n\nelseif action_e == 4 then\n   energy_e = energy_e - 2\n   lives_t = lives_t - 1\n   roundText = \"Терренс атаковал, но и \" .. enemyName .. \" тоже. Терренс не успел заблокировать удар.\"\nend\nend",
        "text": "Финт               \n- 2 энергии    ",
        "instant": true,
        "left_answer": false
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/sword1.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn energy_t < 2 and lives_t > 0 and lives_e > 0\nend",
        "id": 9,
        "text": "Финт               \n- 2 энергии    ",
        "comment": true,
        "left_answer": false
      },
      {
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn lives_t > 0 and lives_e > 0\nend",
        "id": 9,
        "text": "Наносит урон в обход защиты противника",
        "comment": true,
        "left_answer": false
      },
      {
        "id": 23,
        "text": "— Всё, хватит!",
        "lua_if": "function lua_if()\nreturn lives_t < 1 and lives_e > 0\nend"
      },
      {
        "id": 23,
        "text": "Опустить меч",
        "lua_if": "function lua_if()\nreturn lives_e < 1\nend"
      },
      {
        "lua_do": "function lua_do()\n   roundText = roundText .. \" \" .. enemyName .. \" тяжело дышал\"\n   if enemyIsGirl then roundText = roundText .. \"а\" end\n   roundText = roundText .. \".\"\nend",
        "lua_if": "function lua_if()\nreturn lives_e < 1\nend",
        "super_calculate": false,
        "id": 9,
        "text": "Противник повержен",
        "calculate": true,
        "merge": false
      },
      {
        "comment": false,
        "lua_if": "function lua_if()\nreturn lives_e < 1\nend",
        "super_calculate": false,
        "id": 9,
        "text": " [Добавить текст про каждого]",
        "calculate": false,
        "merge": true
      },
      {
        "id": 9,
        "text": "Заново!\n[Только для автора]",
        "lua_if": "function lua_if()\nreturn g.isAuthor == 1 and (lives_e < 1 or lives_t < 1)\nend",
        "lua_do": "function lua_do()\nlives_t, lives_e = 10, 10\nenergy_t, energy_e = 4, 4\nroundText = \"\"\nend"
      }
    ]
  },
  {
    "id": 10,
    "text": "Дверной звонок разрывался задорной трелью. Так трезвонил лишь один человек.<s>r\n<s>r\nТерренс начал спешно собирать разложенные энциклопедии и распечатки научных статей, чтобы подняться к себе в комнату.",
    "answers": [
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/book3.png"
        ],
        "no_transition": true,
        "lua_if": "function lua_if()\nreturn not p10_1\nend",
        "id": 10,
        "lua_do": "function lua_do()\np10 = p10 <plus> 1\np10_1 = true\nif p10 < 5 then showPage{id = 10, transition = \"instant\"} \nelse \nshowPage{id = 34}\np10, p10_1, p10_2, p10_3, p10_4, p10_5, p10_6 = nil, nil, nil, nil, nil, nil, nil \nend\nend",
        "text": "[ Взять ]",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/article.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn not p10_2\nend",
        "instant": true,
        "lua_do": "function lua_do()\np10 = p10 <plus> 1\np10_2 = true\nif p10 < 5 then showPage{id = 10, transition = \"instant\"} \nelse \nshowPage{id = 34}\np10, p10_1, p10_2, p10_3, p10_4, p10_5, p10_6 = nil, nil, nil, nil, nil, nil, nil \nend\nend",
        "text": "[ Взять ]",
        "id": 10,
        "no_transition": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/article.png"
        ],
        "no_transition": true,
        "lua_if": "function lua_if()\nreturn not p10_3\nend",
        "id": 10,
        "lua_do": "function lua_do()\np10 = p10 <plus> 1\np10_3 = true\nif p10 < 5 then showPage{id = 10, transition = \"instant\"} \nelse \nshowPage{id = 34}\np10, p10_1, p10_2, p10_3, p10_4, p10_5, p10_6 = nil, nil, nil, nil, nil, nil, nil \nend\nend",
        "text": "[ Взять ]",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/book2.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn not p10_4\nend",
        "instant": true,
        "lua_do": "function lua_do()\np10 = p10 <plus> 1\np10_4 = true\nif p10 < 5 then showPage{id = 10, transition = \"instant\"} \nelse \nshowPage{id = 34}\np10, p10_1, p10_2, p10_3, p10_4, p10_5, p10_6 = nil, nil, nil, nil, nil, nil, nil \nend\nend",
        "text": "[ Взять ]",
        "id": 10,
        "no_transition": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/book4.png"
        ],
        "no_transition": true,
        "lua_if": "function lua_if()\nreturn not p10_5\nend",
        "id": 10,
        "lua_do": "function lua_do()\np10 = p10 <plus> 1\np10_5 = true\nif p10 < 5 then showPage{id = 10, transition = \"instant\"} \nelse \nshowPage{id = 34}\np10, p10_1, p10_2, p10_3, p10_4, p10_5, p10_6 = nil, nil, nil, nil, nil, nil, nil \nend\nend",
        "text": "[ Взять ]",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/article.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn not p10_6\nend",
        "instant": true,
        "lua_do": "function lua_do()\np10 = p10 <plus> 1\np10_6 = true\nif p10 < 5 then showPage{id = 10, transition = \"instant\"} \nelse \nshowPage{id = 34}\np10, p10_1, p10_2, p10_3, p10_4, p10_5, p10_6 = nil, nil, nil, nil, nil, nil, nil \nend\nend",
        "text": "[ Взять ]",
        "id": 10,
        "no_transition": true
      }
    ]
  },
  {
    "id": 11,
    "text": "Стараясь быть как можно менее заметным, Терренс устремился к лестнице по периметру гостинной.<s>r\n<s>r\n— Линди, представляешь, вчера енот украл мои очки! — Весело тараторила тётушка. — Я лишь на секунду отвлеклась, оборачиваюсь — фьють! Только хвост мелькнул!<s>r\n<s>r\n— Кстати, о хвостах, — прервала её мама. — Терренс, а ну вернись.<s>r\n<s>r\nРугнувшись про себя, Терренс натянул виноватую улыбку и обернулся к гостье.",
    "answers": [
      {
        "id": 13,
        "text": "— Здравствуйте."
      }
    ]
  },
  {
    "id": 12,
    "text": "Терренс изобразил на лице максимально радостную улыбку и подошёл к гостье.<s>r\n<s>r\n— Здравствуйте. Как добрались? — спросил он и протянул руку, чтобы принять вызывающую красную сумочку тётушки.<s>r\n<s>r\n— Ах, мой любимый племянничек! Как же ты повзрослел! — воскликнула та, легко подхватывая Терренса и кружа с ним по прихожей. — А где же шарики? Линди, почему здесь нет шариков? У Терри должен быть самый лучший день рождения! Десять лет — это не шуточки!",
    "answers": [
      {
        "id": 15,
        "text": "— Мне тринадцать!"
      },
      {
        "id": 16,
        "text": "— Меня зовут Терренс!"
      }
    ]
  },
  {
    "id": 13,
    "text": "Тётушка изумлённо уставилась на книги в руках Терренса.<s>r\n<s>r\n— Терри, милый, разве так нужно праздновать свой день рождения?<s>r\n<s>r\nМама всплеснула руками и засмеялась.<s>r\n<s>r\n— Мелоди, ты снова всё перепутала. Его день рождения был в апреле. <s>r\n<s>r\n— Но ведь сейчас… — тётушка растерянно оглянулась на сад за окнами. На яблонях завязались плоды. — Я совсем потерялась во времени… Ну что ж, лучше получить подарок поздно, чем никогда.",
    "answers": [
      {
        "id": 59,
        "text": "[ Закатить глаза ]"
      }
    ]
  },
  {
    "id": 14,
    "text": "Неужели ему наконец-то подарили деньги?! Терренс давно хотел новый мощный микроскоп, но старому был всего год, и попросить прибор у родителей он не решался.<s>r\n<s>r\nОсторожно разорвав конверт по линии сгиба, Терренс разочарованно уставился на сложенный втрое печатный бланк. Это была путёвка в трёхдневный детский палаточный лагерь. Датой въезда стояло двадцатое июня. Завтра.",
    "answers": [
      {
        "id": 60,
        "text": "[ Поблагодарить ]",
        "var_set": [
          "p60",
          1
        ]
      },
      {
        "id": 60,
        "text": "[ Разочарованно молчать ]",
        "var_set": [
          "p60",
          2
        ]
      }
    ]
  },
  {
    "id": 15,
    "text": "Терренс возмущённо сложил руки на груди. Мама выразительно закатила глаза.<s>r\n<s>r\n— Видишь, Мелоди, какой он серьёзный. Целыми днями корпит над книжками. Кстати, ему тринадцать. Уже два месяца как.<s>r\n<s>r\nТётушка весело рассмеялась.<s>r\n<s>r\n— Наш маленький профессор! Прости, солнышко, я совсем потеряла счёт времени. Но лучше ведь поздно, чем никогда?",
    "answers": [
      {
        "id": 59,
        "text": "[ Насуплено молчать ]"
      }
    ]
  },
  {
    "id": 16,
    "text": "Терренс возмущённо сложил руки на груди.<s>r\n<s>r\n— И день рождения у меня был два месяца назад!<s>r\n<s>r\nМама опустила ладонь ему на плечо.<s>r\n<s>r\n— Не горячись. Мелоди не хотела тебя обидеть.<s>r\n<s>r\nТётушка выглядела обескураженной.<s>r\n<s>r\n— Ох, в самом деле? — запричитала она. — Я такая рассеянная… А ведь я привезла тебе подарок… Что же, лучше поздно, чем никогда. Так ведь?",
    "answers": [
      {
        "id": 59,
        "text": "[ Закатить глаза ]"
      }
    ]
  },
  {
    "id": 17,
    "text": "Терренс и сам был рад удалиться. Подхватив книги, он начал подниматься по лестнице. <s>r\n<s>r\nОбщение с взбалмошной тётушкой радовало Терренса разве что в раннем детстве. Она вела себя так непосредственно, будто была ровесницей Теренса, и одевалась непозволительно аляповато в свои сорок с хвостиком. <s>r\n<s>r\nОбщество сверстников Терренсу тоже не нравилось — за суету, легкомысленность, мечтательность. Но больше всего за то, что дети считали Терренса скучным и занудным. <s>r\n<s>r\nВсё же странно, что тётушка приехала именно теперь. Она всегда пропускала день рождения Терренса, но неизменно приезжала через пару дней. Впервые она так припозднилась.",
    "answers": [
      {
        "id": 18,
        "text": "[ Подслушать разговор взрослых ]"
      },
      {
        "id": 22,
        "text": "[ Искать информацию о лагере в интернете ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/room.png\")\nend"
      },
      {
        "id": 24,
        "text": "[ Заняться своими делами ]",
        "var_add": [
          "tediousness",
          1
        ],
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/room.png\")\nend"
      }
    ]
  },
  {
    "id": 18,
    "text": "Терренс поднялся на второй этаж, лёг на пол и просунул голову между столбиками перил. С кухни доносились приглушённые голоса.<s>r\n<s>r\n— … да ещё когда Джон уехал. Ты же знаешь, как сложно Терри ладит с другими детьми. Мелоди, что, если у него не получится?<s>r\n<s>r\n— Я уверена, что он справится. Он талантливый мальчик. Линди, только подумай, что он потеряет, если не поедет! Ты же столько раз жалела, что не можешь туда вернуться.<s>r\n<s>r\n— Но Терри совсем не похож на меня в его возрасте. И тем более — на тебя, Мел! Что, если лес выберет его? — голос мамы дрогнул.",
    "answers": [
      {
        "id": 25,
        "text": "[ Слушать дальше ]"
      }
    ]
  },
  {
    "id": 19,
    "text": "Навигация текст",
    "answers": [
      {
        "id": 30,
        "text": "В автобус"
      },
      {
        "id": 44,
        "text": "Приехали в лагерь"
      },
      {
        "id": 58,
        "text": "Крафт / кухня"
      },
      {
        "id": 88,
        "text": "Бой шишками"
      }
    ]
  },
  {
    "id": 20,
    "text": "empty",
    "answers": [
      {
        "var_more": [
          "hits",
          9
        ],
        "super_calculate": true,
        "id": 20,
        "calculate": false,
        "lua_do": "function lua_do()\n  showPage{id = 92, transition = \"instant\"}\nend",
        "text": "Победа"
      },
      {
        "text": "Поражение",
        "super_calculate": true,
        "id": 20,
        "calculate": false,
        "lua_do": "function lua_do()\n  showPage{id = 92, transition = \"instant\"}\nend",
        "var_less": [
          "lives",
          1
        ]
      },
      {
        "lua_if": "function lua_if()\nreturn not cones\nend",
        "super_calculate": false,
        "lua_do": "function lua_do()\ncones, lives, hits = 0, 10, 0\nemptyStr = \"\"\nbuttons = {0,0,0,0,0,0,0,0}\nend",
        "calculate": true,
        "text": "Установка начальных значений",
        "id": 20
      },
      {
        "super_calculate": false,
        "id": 20,
        "calculate": true,
        "widget": [
          "widget_lives",
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/heart.png",
          "",
          "widget_cones",
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone.png",
          "",
          "widget_hits",
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/target.png",
          "",
          "widget_empty",
          "http://188.120.236.127/aleks_otter/magical_weekend/zero.png",
          ""
        ],
        "text": "Создание виджетов"
      },
      {
        "super_calculate": true,
        "id": 20,
        "text": "Отображение виджетов",
        "calculate": false,
        "widget_show": [
          "widget_lives",
          "lives",
          "widget_empty",
          "emptyStr",
          "widget_cones",
          "cones",
          "widget_empty",
          "emptyStr",
          "widget_hits",
          "hits"
        ]
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone_red.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[1] == 1\nend",
        "instant": true,
        "lua_do": "function lua_do()\nbuttons[1] = 2\nend",
        "text": "Увернуться!",
        "id": 20,
        "left_answer": true
      },
      {
        "comment": true,
        "id": 20,
        "text": "   ",
        "lua_if": "function lua_if()\nreturn buttons[1] == 0\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[1] == 2\nend",
        "instant": true,
        "id": 20,
        "text": "Подобрать",
        "lua_do": "function lua_do()\nbuttons[1] = 0\ncones = cones <plus> 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[1] == 3 and cones > 0\nend",
        "instant": true,
        "id": 20,
        "text": "Мальчик",
        "lua_do": "function lua_do()\nif avsa then hits = hits <plus> 1 else lives = lives - 1 end\ncones = cones - 1\nbuttons[1] = 0\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn buttons[1] == 3 and cones == 0\nend",
        "id": 20,
        "text": "Мальчик",
        "comment": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[1] == 4 and cones > 0\nend",
        "instant": true,
        "id": 20,
        "text": "Девочка",
        "lua_do": "function lua_do()\nhits = hits <plus> 1\nbuttons[1] = 0\ncones = cones - 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": false,
        "comment": true,
        "text": "Девочка",
        "id": 20,
        "instant": false,
        "lua_if": "function lua_if()\nreturn buttons[1] == 4 and cones == 0\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone_red.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[2] == 1\nend",
        "lua_do": "function lua_do()\nbuttons[2] = 2\nend",
        "text": "Увернуться!",
        "id": 20,
        "instant": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 20,
        "text": "   ",
        "lua_if": "function lua_if()\nreturn buttons[2] == 0 \nend",
        "left_answer": false
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[2] == 2\nend",
        "id": 20,
        "text": "Подобрать",
        "lua_do": "function lua_do()\nbuttons[2] = 0\ncones = cones <plus> 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[2] == 3 and cones > 0\nend",
        "id": 20,
        "text": "Мальчик",
        "lua_do": "function lua_do()\nif avsa then hits = hits <plus> 1 else lives = lives - 1 end\ncones = cones - 1\nbuttons[2] = 0\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[2] == 3 and cones == 0\nend",
        "id": 20,
        "text": "Мальчик",
        "comment": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[2] == 4 and cones > 0\nend",
        "id": 20,
        "text": "Девочка",
        "lua_do": "function lua_do()\nhits = hits <plus> 1\nbuttons[2] = 0\ncones = cones - 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": true,
        "comment": true,
        "id": 20,
        "text": "Девочка",
        "instant": false,
        "lua_if": "function lua_if()\nreturn buttons[2] == 4 and cones == 0\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone_red.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[3] == 1\nend",
        "text": "Увернуться!",
        "lua_do": "function lua_do()\nbuttons[3] = 2\nend",
        "instant": true,
        "id": 20,
        "left_answer": true
      },
      {
        "lua_if": "function lua_if()\nreturn buttons[3] == 0 \nend",
        "id": 20,
        "text": "   ",
        "comment": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[3] == 2\nend",
        "instant": true,
        "id": 20,
        "text": "Подобрать",
        "lua_do": "function lua_do()\nbuttons[3] = 0\ncones = cones <plus> 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[3] == 3 and cones > 0\nend",
        "text": "Мальчик",
        "id": 20,
        "instant": true,
        "lua_do": "function lua_do()\nif avsa then hits = hits <plus> 1 else lives = lives - 1 end\nbuttons[3] = 0\ncones = cones - 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn buttons[3] == 3 and cones == 0\nend",
        "id": 20,
        "text": "Мальчик",
        "comment": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[3] == 4 and cones > 0\nend",
        "text": "Девочка",
        "id": 20,
        "instant": true,
        "lua_do": "function lua_do()\nhits = hits <plus> 1\nbuttons[3] = 0\ncones = cones - 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": false,
        "comment": true,
        "lua_if": "function lua_if()\nreturn buttons[3] == 4 and cones == 0\nend",
        "id": 20,
        "text": "Девочка",
        "instant": false,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone_red.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[4] == 1\nend",
        "lua_do": "function lua_do()\nbuttons[4] = 2\nend",
        "text": "Увернуться!",
        "id": 20,
        "instant": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 20,
        "text": "   ",
        "lua_if": "function lua_if()\nreturn buttons[4] == 0 \nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[4] == 2\nend",
        "id": 20,
        "text": "Подобрать",
        "lua_do": "function lua_do()\nbuttons[4] = 0\ncones = cones <plus> 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[4] == 3 and cones > 0\nend",
        "id": 20,
        "text": "Мальчик",
        "lua_do": "function lua_do()\nif avsa then hits = hits <plus> 1 else lives = lives - 1 end\nbuttons[4] = 0\ncones = cones - 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[4] == 3 and cones == 0\nend",
        "id": 20,
        "text": "Мальчик",
        "comment": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[4] == 4 and cones > 0\nend",
        "id": 20,
        "text": "Девочка",
        "lua_do": "function lua_do()\nhits = hits <plus> 1\nbuttons[4] = 0\ncones = cones - 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": true,
        "comment": true,
        "id": 20,
        "text": "Девочка",
        "lua_if": "function lua_if()\nreturn buttons[4] == 4 and cones == 0\nend",
        "instant": false
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone_red.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[5] == 1\nend",
        "text": "Увернуться!",
        "lua_do": "function lua_do()\nbuttons[5] = 2\nend",
        "instant": true,
        "id": 20,
        "left_answer": true
      },
      {
        "lua_if": "function lua_if()\nreturn buttons[5] == 0 \nend",
        "id": 20,
        "text": "   ",
        "comment": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[5] == 2\nend",
        "text": "Подобрать",
        "id": 20,
        "instant": true,
        "lua_do": "function lua_do()\nbuttons[5] = 0\ncones = cones <plus> 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[5] == 3 and cones > 0\nend",
        "text": "Мальчик",
        "id": 20,
        "instant": true,
        "lua_do": "function lua_do()\nif avsa then hits = hits <plus> 1 else lives = lives - 1 end\nbuttons[5] = 0\ncones = cones - 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn buttons[5] == 3 and cones == 0\nend",
        "id": 20,
        "text": "Мальчик",
        "comment": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[5] == 4 and cones > 0\nend",
        "text": "Девочка",
        "id": 20,
        "instant": true,
        "lua_do": "function lua_do()\nhits = hits <plus> 1\nbuttons[5] = 0\ncones = cones - 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": false,
        "comment": true,
        "lua_if": "function lua_if()\nreturn buttons[5] == 4 and cones == 0\nend",
        "id": 20,
        "text": "Девочка",
        "instant": false,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone_red.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[6] == 1\nend",
        "lua_do": "function lua_do()\nbuttons[6] = 2\nend",
        "text": "Увернуться!",
        "id": 20,
        "instant": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 20,
        "text": "   ",
        "lua_if": "function lua_if()\nreturn buttons[6] == 0 \nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[6] == 2\nend",
        "id": 20,
        "text": "Подобрать",
        "lua_do": "function lua_do()\nbuttons[6] = 0\ncones = cones <plus> 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[6] == 3 and cones > 0\nend",
        "id": 20,
        "text": "Мальчик",
        "lua_do": "function lua_do()\nif avsa then hits = hits <plus> 1 else lives = lives - 1 end\nbuttons[6] = 0\ncones = cones - 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[6] == 3 and cones == 0\nend",
        "id": 20,
        "text": "Мальчик",
        "comment": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[6] == 4 and cones > 0\nend",
        "id": 20,
        "text": "Девочка",
        "lua_do": "function lua_do()\nhits = hits <plus> 1\nbuttons[6] = 0\ncones = cones - 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": true,
        "comment": true,
        "id": 20,
        "text": "Девочка",
        "instant": false,
        "lua_if": "function lua_if()\nreturn buttons[6] == 4 and cones == 0\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone_red.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[7] == 1\nend",
        "text": "Увернуться!",
        "lua_do": "function lua_do()\nbuttons[7] = 2\nend",
        "instant": true,
        "id": 20,
        "left_answer": true
      },
      {
        "lua_if": "function lua_if()\nreturn buttons[7] == 0\nend",
        "id": 20,
        "text": "   ",
        "comment": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[7] == 2\nend",
        "text": "Подобрать",
        "id": 20,
        "instant": true,
        "lua_do": "function lua_do()\nbuttons[7] = 0\ncones = cones <plus> 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[7] == 3 and cones > 0\nend",
        "text": "Мальчик",
        "id": 20,
        "instant": true,
        "lua_do": "function lua_do()\nif avsa then hits = hits <plus> 1 else lives = lives - 1 end\nbuttons[7] = 0\ncones = cones - 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": false,
        "lua_if": "function lua_if()\nreturn buttons[7] == 3 and cones == 0\nend",
        "id": 20,
        "text": "Мальчик",
        "comment": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "lua_if": "function lua_if()\nreturn buttons[7] == 4 and cones > 0\nend",
        "text": "Девочка",
        "id": 20,
        "instant": true,
        "lua_do": "function lua_do()\nhits = hits <plus> 1\nbuttons[7] = 0\ncones = cones - 1\nend",
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": false,
        "comment": true,
        "lua_if": "function lua_if()\nreturn buttons[7] == 4 and cones == 0\nend",
        "id": 20,
        "text": "Девочка",
        "instant": false,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone_red.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[8] == 1\nend",
        "lua_do": "function lua_do()\nbuttons[8] = 2\nend",
        "text": "Увернуться!",
        "id": 20,
        "instant": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 20,
        "text": "   ",
        "lua_if": "function lua_if()\nreturn buttons[8] == 0\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/cone.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[8] == 2\nend",
        "id": 20,
        "text": "Подобрать",
        "lua_do": "function lua_do()\nbuttons[8] = 0\ncones = cones <plus> 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[8] == 3 and cones > 0\nend",
        "id": 20,
        "text": "Мальчик",
        "instant": true,
        "lua_do": "function lua_do()\nif avsa then hits = hits <plus> 1 else lives = lives - 1 end\nbuttons[8] = 0\ncones = cones - 1\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/man.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[8] == 3 and cones == 0\nend",
        "id": 20,
        "text": "Мальчик",
        "instant": false,
        "comment": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn buttons[8] == 4 and cones > 0\nend",
        "id": 20,
        "text": "Девочка",
        "lua_do": "function lua_do()\nhits = hits <plus> 1\nbuttons[8] = 0\ncones = cones - 1\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/woman.png"
        ],
        "right_answer": true,
        "comment": true,
        "id": 20,
        "text": "Девочка",
        "instant": false,
        "lua_if": "function lua_if()\nreturn buttons[8] == 4 and cones == 0\nend"
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nfunction flash()\nlocal sw = display.contentWidth\nlocal sh = display.contentHeight\nlocal rect = display.newRect (sw/2, sh/2, sw, sh)\nrect:setFillColor(1, 0, 0)\nrect.alpha = 0\ntransition.to (rect, {time = 200, alpha = 0.5, transition = easing.continuousLoop,\nonComplete=function()\nif rect and rect.removeSelf then\nrect:removeSelf()\nrect = nill\nend\nend})\nend\nend",
        "text": "Вспышка",
        "calculate": false,
        "id": 20
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nfunction updateButtons()\n-- типы кнопок: 0 -- мимо; \n-- 1 -- уклониться; 2 -- подобрать шишку; \n-- 3 -- мальчик; 4 -- девочка\n\n-- даём подобрать упавшую шишку\nlocal dodge = true\nfor i, val in ipairs(buttons) do\n   if val == 1 then \n     -- if cones < 3 then buttons[i] = 2 else buttons[i] = 0 end\n      buttons[i] = 2\n      dodge = false \n   end\n   if val >= 3 then buttons[i] = 0 end\nend\n\n-- генерим девочек и мальчиков\nfor i = 1, math.random(2) do\n   if math.random(5) < 4 then \n      buttons[math.random(8)] = 4\n   else \n      buttons[math.random(8)] = 3\n   end \nend\n\n-- генерим летящую шишку\nlocal danger = 1\nif not avsa then -- если НЕ все против всех\n   danger = math.random(3)\nend\nif danger == 1 or cones < 1 then buttons[math.random(8)] = 1 end\n\nif not dodge then -- не увернулся\n   lives = lives - 1 \n   flash()\nend\n\nend\nend",
        "calculate": false,
        "id": 20,
        "text": "Действия при обновлении"
      },
      {
        "comment": true,
        "id": 20,
        "text": "   ",
        "update": [
          2
        ],
        "no_transition": false,
        "lua_if": "function lua_if()\nreturn  hits < 10 and lives > 0\nend",
        "super_calculate": false,
        "calculate": false,
        "instant": false,
        "lua_do": "function lua_do()\n-- обновление каждые 2 секунды\nupdateButtons()\n\nif lives < 1 then\n   showPage{id = 92, transition = \"instant\"}\nend\nend"
      }
    ]
  },
  {
    "id": 21,
    "text": "empty",
    "answers": [
      {
        "super_calculate": true,
        "id": 20,
        "widget_show": [
          "widget_lives",
          "lives",
          "widget_empty",
          "emptyStr",
          "widget_cones",
          "cones",
          "widget_empty",
          "emptyStr",
          "widget_hits",
          "hits"
        ],
        "text": "Отображение виджетов",
        "calculate": false
      },
      {
        "id": 23,
        "text": "Поражение =((",
        "lua_if": "function lua_if()\nreturn lives < 1\nend"
      },
      {
        "id": 23,
        "text": "Победа!",
        "lua_if": "function lua_if()\nreturn lives > 0\nend"
      }
    ]
  },
  {
    "id": 22,
    "text": "Поднявшись в свою комнату, Терренс разбудил компьютер и вгляделся в бланк путёвки. Палаточный лагерь «Старый дуб». Скучнее названия не придумаешь.  <s>r\n<s>r\nЕхать туда Терренсу совершенно не хотелось. Там, наверное, даже интернета не было, а может и электричества. Чем вообще можно заниматься без интернета два дня? Наверняка придётся играть в какие-нибудь бессмысленные физические игры.<s>r\n<s>r\n К удивлению, Google ничего не знал о таком лагере — не было ни официального сайта, ни упоминаний в соцсетях, ни статей в СМИ. Это лишь больше убедило его, что лагерь посредственный и устарелый. <s>r\n<s>r\nВ дверь комнаты постучали.",
    "answers": [
      {
        "id": 26,
        "text": "— Да, мам?",
        "var_set": [
          "p26",
          1
        ]
      }
    ]
  },
  {
    "id": 23,
    "text": "Выбирите миниигру:",
    "answers": [
      {
        "id": 9,
        "text": "Фехтование с Валери",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_day.png\")\nenemyName = \"Валери\"\nenemyIsGirl = true\nlives_t, lives_e = 10, 10\nenergy_t, energy_e = 4, 4\nroundText = \"\"\nend"
      },
      {
        "id": 20,
        "text": "Перестрелка шишками: \nМальчики против девочек",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\ncones, lives, hits = 0, 10, 0\nbuttons = {0,0,0,0,0,0,0,0}\navsa = false\nend",
        "left_answer": false
      },
      {
        "id": 20,
        "text": "Перестрелка шишками: \nВсе против всех",
        "lua_do": "function lua_do()\ncones, lives, hits = 0, 5, 0\nbuttons = {0,0,0,0,0,0,0,0}\navsa = true\nend",
        "left_answer": false
      }
    ]
  },
  {
    "id": 24,
    "text": "Ехать в лагерь, да ещё и палаточный, Терренсу совершенно не хотелось. Может быть, удастся уговорить маму проигнорировать этот подарок? Тётушке можно и соврать.<s>r\n<s>r\nНо прежде Терренс хотел узнать, чем закончилось исследование в статье по рентгеноструктурному анализу, от чтения которой его оторвал внезапный визит тётушки. <s>r\n<s>r\nК сожалению, найти нужную распечатку в кипе наскоро собранных листов оказалось не так просто. Едва Терренс рассортировал бумаги и склонился над заветной статьёй, в дверь постучали.",
    "answers": [
      {
        "id": 26,
        "text": "— Да, мам?",
        "var_set": [
          "p26",
          1
        ]
      }
    ]
  },
  {
    "id": 25,
    "text": "— Не хочу врать, что это невозможно. Но сейчас не средние века. Мир изменился, Линди. Дети изменились. Они адаптируются так быстро… Закинь их в другой мир — отменят рабство, пробудят древних богов и станут королями в придачу. Теперь лес требует жертву нечасто. Поедет ли Терри — решать тебе, но как по мне, тут и думать не о чем.<s>r\n<s>r\nМама ответила не сразу.<s>r\n<s>r\n— Хорошо… Скажу, чтобы собирал вещи.<s>r\n<s>r\nПослышались шаги. Терренс тихонько поднялся и осторожно, стараясь не топать, поспешил в свою комнату.",
    "answers": [
      {
        "id": 26,
        "text": "[ В комнату ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/room.png\")\n\nend",
        "var_set": [
          "p26",
          1
        ]
      }
    ]
  },
  {
    "id": 26,
    "text": "empty",
    "answers": [
      {
        "id": 26,
        "text": "Едва он успел сложить книги на обычное место и лечь на кровать с энциклопедией в руках, как в дверь постучали.\n\n",
        "need": [
          25
        ],
        "merge": true
      },
      {
        "id": 26,
        "text": "В комнату вошла мама. Она напряжённо поджала губы, как всегда делала перед неприятными разговорами. \n\n— Милый, я понимаю, что ты не хочешь ехать, но это отличный лагерь. Такой шанс выпадает раз в жизни.",
        "merge": true
      },
      {
        "var_add": [
          "tediousness",
          1
        ],
        "lua_do": "function lua_do()\np26 = nil\nend",
        "text": "— Тётушка не узнает, что я не поехал, если ты не расскажешь.",
        "id": 27,
        "merge": false
      },
      {
        "var_set": [
          "p26",
          2
        ],
        "instant": true,
        "var_equal": [
          "p26",
          1
        ],
        "id": 26,
        "text": "— Такой отличный, что о нём никто ничего не знает.",
        "need": [
          22
        ],
        "merge": false
      },
      {
        "instant": true,
        "var_equal": [
          "p26",
          2
        ],
        "id": 26,
        "text": "\n\n— Такой отличный, что о нём никто ничего не знает.",
        "need": [
          22
        ],
        "merge": true
      },
      {
        "var_add": [
          "curiosity",
          1
        ],
        "id": 28,
        "lua_do": "function lua_do()\np26 = nil\nend",
        "text": "— Я поеду.",
        "need": [
          25
        ],
        "merge": false
      },
      {
        "var_equal": [
          "p26",
          1
        ],
        "id": 26,
        "text": "— А нельзя вернуть путёвку? Это ведь даже не научный лагерь.",
        "instant": true,
        "var_set": [
          "p26",
          3
        ]
      },
      {
        "id": 26,
        "text": "\n\n— А нельзя вернуть путёвку? Это ведь даже не научный лагерь.",
        "var_equal": [
          "p26",
          3
        ],
        "merge": true
      },
      {
        "id": 26,
        "text": "\n\n— Мы с Мелоди были там в твоём возрасте. Самые волшебные воспоминания моего детства — об этом лагере. Детей набирают только по приглашениям. Большая удача, что Мелоди смогла достать для тебя путёвку.",
        "var_more": [
          "p26",
          1
        ],
        "merge": true
      },
      {
        "id": 29,
        "text": "—  Ладно, но это будет в первый и последний раз.",
        "var_more": [
          "p26",
          1
        ]
      }
    ]
  },
  {
    "id": 27,
    "text": "Терренс осёкся, говорить такое не следовало. Лицо мамы стало жёстким.<s>r\n<s>r\n— Как это пришло тебе в голову? Я никогда не врала Мелоди, и тебе не советую. Она чует неискренность за милю.<s>r\n<s>r\nМама начала перебирать вещи в шкафу и откладывать их на кровать. Вечер прошёл в напряжённом молчании и сборах, пока тётушка Мелоди колдовала над ужином.",
    "answers": [
      {
        "id": 30,
        "text": "[ Далее ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/bus.png\")\nend"
      }
    ]
  },
  {
    "id": 28,
    "text": "Стыдно было признать, но подслушанный разговор заинтриговал Терренса. Ясно было одно — в лагере происходят странные вещи. А встретившись с непонятным явлением настоящий учёный обязан его исследовать. Теперь поездка не виделась Терренсу каторгой.<s>r\n<s>r\nМама облегчённо вздохнула.<s>r\n<s>r\n— Вот и славно. Давай посмотрим, что из одежды тебе взять с собой.<s>r\n<s>r\nОна стала перебирать вещи в шкафу и откладывать их на кровать. Вечер прошёл в сборах, пока тётушка Мелоди колдовала над ужином.<s>r\n",
    "answers": [
      {
        "id": 30,
        "text": "[ Далее ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/bus.png\")\nend"
      }
    ]
  },
  {
    "id": 29,
    "text": "Терренс видел, как решительно настроена мама, и не хотел ссориться. Если она настаивает, то он как-нибудь продержится три дня в богом забытом месте вдали от цивилизации. В конце концов, можно будет отсидеться в стороне с книгой.<s>r\n<s>r\nМама облегчённо вздохнула.<s>r\n<s>r\n— Вот и замечательно. Давай посмотрим, что из одежды тебе взять с собой.<s>r\n<s>r\nОна стала перебирать вещи в шкафу и откладывать их на кровать. Вечер прошёл в сборах, пока тётушка Мелоди колдовала над ужином.",
    "answers": [
      {
        "id": 30,
        "text": "[ Далее ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/bus.png\")\nend"
      }
    ]
  },
  {
    "id": 30,
    "text": "Следующим утром Терренс стоял у ворот с чемоданом и сочувственно разглядывал зевающих собачников. Их тоже против воли подняли в такую рань.<s>r\n<s>r\nДолго горевать не пришлось — вскоре прямо перед Терренсом затормозил микроавтобус, такой странный, что не оставалось сомнений — в лагерь повезёт именно он.<s>r\n<s>r\nИз кабины выскочил парень лет семнадцати.<s>r\n<s>r\n— Привет. Ты ведь Терренс? Лезь внутрь, а я загружу твой чемодан.<s>r\n<s>r\nТерренс послушно выпустил ручку и вошёл в автобус.",
    "answers": [
      {
        "id": 31,
        "text": "[ Сесть к девочке-мулатке, спящей у окна ]"
      },
      {
        "id": 32,
        "text": "[ Сесть между юным Кеном и угрюмым парнем с рассечённой скулой ]",
        "var_set": [
          "p32",
          1
        ]
      },
      {
        "id": 33,
        "text": "[ Сесть рядом с девочкой, болтающей с рыжей соседкой ]"
      }
    ]
  },
  {
    "id": 31,
    "text": "Терренс листал новости паблика «Наука сегодня» и предусмотрительно загрузил несколько свежих статей, пока интернет не пропал. От чтения его отвлёк голос парня из кабины.<s>r\n<s>r\n— Теперь все в сборе, самое время для завтрака! Разбирайте ланч-боксы!<s>r\n<s>r\nПарень стал передавать пластиковые контейнеры поверх сидения, а Кен — дальше по салону.",
    "answers": [
      {
        "id": 39,
        "text": "[ Взять завтрак ]"
      },
      {
        "id": 41,
        "text": "[ Разбудить спящую девочку ]"
      }
    ]
  },
  {
    "id": 32,
    "text": "Угрюмый парень отвернулся к окну, всем видом демонстрируя, что болтать не намерен, а Кен печально вздохнул и сразу же лучезарно улыбнулся.<s>r\n<s>r\n— Привет. Я Адриан, а наш неприветливый сосед — Эшли.",
    "answers": [
      {
        "var_equal": [
          "p32",
          1
        ],
        "id": 32,
        "instant": true,
        "text": "— Рад знакомству, я Терренс.",
        "var_set": [
          "p32",
          2
        ]
      },
      {
        "var_equal": [
          "p32",
          1
        ],
        "id": 32,
        "text": "— Он мне уже нравится.",
        "instant": true,
        "var_set": [
          "p32",
          3
        ]
      },
      {
        "var_add": [
          "tediousness",
          1
        ],
        "var_equal": [
          "p32",
          1
        ],
        "id": 40,
        "instant": true,
        "text": "[ Проигнорировать и уткнуться в смартфон ]"
      },
      {
        "id": 32,
        "text": "\n\n— Рад знакомству, я Терренс.\n\nВежливо закончив формальность, Терренс готов был уткнуться в смартфон, но Адриан жаждал общения.\n\n— Ты раньше бывал в лагерях? Мы с Бадди — ни разу. Да и вообще, впервые отец отпустил меня без охраны. И как только господин директор его уговорил?",
        "var_equal": [
          "p32",
          2
        ],
        "merge": true
      },
      {
        "id": 35,
        "text": "— Я тоже никогда не был в лагере. ",
        "var_equal": [
          "p32",
          2
        ]
      },
      {
        "id": 36,
        "text": "— У тебя есть охрана?",
        "var_set": [
          "p36",
          1
        ],
        "var_equal": [
          "p32",
          2
        ]
      },
      {
        "id": 37,
        "text": "— Господин директор?",
        "var_set": [
          "p37",
          1
        ],
        "var_equal": [
          "p32",
          2
        ]
      },
      {
        "id": 38,
        "text": "— А Бадди — это кто?",
        "var_equal": [
          "p32",
          2
        ]
      },
      {
        "id": 32,
        "text": "\n\n— Он мне уже нравится.\n\nАдриан разочарованно хмыкнул.\n\n— Похоже, ты тоже не в настроении. Не буду донимать тебя расспросами.\n\nОн бросил взгляд на пустое кресло напротив и пробормотал себе под нос:\n\n — Ничего, Бадди, мы ещё успеем подружиться.",
        "merge": true,
        "var_equal": [
          "p32",
          3
        ]
      },
      {
        "id": 38,
        "text": "— Бадди?",
        "var_equal": [
          "p32",
          3
        ]
      },
      {
        "id": 40,
        "text": "[ Уткнуться в смартфон ]",
        "var_equal": [
          "p32",
          3
        ]
      }
    ]
  },
  {
    "id": 33,
    "text": "— Ничегошеньки! — воскликнула русая девочка. — Мальчики обычно стесняются садиться к девчонкам. Ты, наверное, очень смелый, прямо как эта дочь викингов.<s>r\n<s>r\nОна кивнула на соседку.<s>r\n<s>r\n— Это не правда, — смущённо возразила рыжая. — Мои родители — культурные и уважаемые люди.<s>r\n<s>r\n— Конечно, — серьёзно согласилась русая, — викинги оказали влияние на культуру всей Европы, так моя сестра говорит, а она о-очень умная.",
    "answers": [
      {
        "id": 42,
        "text": "— Боюсь, она другое имела ввиду."
      },
      {
        "id": 42,
        "text": "— Рыжие волосы встречались не только у викингов. И вообще, викинги не были одним народом."
      },
      {
        "id": 43,
        "text": "[ Проигнорировать и уткнуться в смартфон ]"
      }
    ]
  },
  {
    "id": 34,
    "text": "Не успел — сияющая мама выпорхнула из кухни в прихожую и отворила дверь.<s>r\n<s>r\nНа пороге, хлопая в ладоши от нетерпения, стояла тётушка Мелоди Виз. На сей раз она вырядилась в жёлтое бумажное платье выше колен. На левом чулке расползалась дыра. На носу тётушки красовались огромные очки в синей роговой оправе, которые делали её похожей на стрекозу.<s>r\n<s>r\n— Мелоди, как я рада тебя видеть! — воскликнула мама, заключая старшую сестру в объятия.",
    "answers": [
      {
        "id": 11,
        "text": "[ Попытаться ускользнуть в свою комнату ]"
      },
      {
        "id": 12,
        "text": "[ Поздороваться с тётушкой ]"
      }
    ]
  },
  {
    "id": 35,
    "text": "— А в палатке спал? Наверное, звучит глупо, но я палаточные лагеря видел только в фильмах. Как и рыбалку, походы, дикую природу, котелки для костра… — с энтузиазмом перечислял Адриан.<s>r\n<s>r\nАвтобус тронулся.<s>r\n<s>r\n— Тебе всё это нравится? — изумился Терренс. — Что же в этом хорошего?<s>r\n<s>r\n— Понимаешь, для меня это всё было недоступно. Я даже в школу не ходил никогда — отец считает, что частное образование лучше.<s>r\n<s>r\nАдриана прервал голос парня из кабины.<s>r\n<s>r\n— Теперь все в сборе, самое время для завтрака! Разбирайте ланч-боксы!<s>r\n<s>r\nПарень стал передавать пластиковые контейнеры поверх сидения, а Адриан — дальше по салону.",
    "answers": [
      {
        "id": 39,
        "text": "[ Взять завтрак ]"
      },
      {
        "id": 41,
        "text": "[ Разбудить спящую девочку ]"
      }
    ]
  },
  {
    "id": 36,
    "text": "— Папа очень переживает за меня, — тихо ответил Адриан. — Мама погибла, когда я был совсем маленьким, и папа считает, что это как-то связано с его бизнесом…<s>r\n<s>r\nАвтобус тронулся.",
    "answers": [
      {
        "var_equal": [
          "p36",
          1
        ],
        "id": 36,
        "instant": true,
        "text": "— Если ты рассказываешь такие вещи кому попало, он правильно делает, что переживает.",
        "var_set": [
          "p36",
          2
        ]
      },
      {
        "var_equal": [
          "p36",
          1
        ],
        "id": 36,
        "text": "— Сочувствую…",
        "instant": true,
        "var_set": [
          "p36",
          3
        ]
      },
      {
        "id": 36,
        "text": "\n\n— Если ты рассказываешь такие вещи кому попало, он правильно делает, что переживает.\n\nАдриан невесело усмехнулся.\n\n— Думаешь, я глупый? «Такие вещи» знает любой, кто слышал мою фамилию до знакомства.",
        "var_equal": [
          "p36",
          2
        ],
        "merge": true
      },
      {
        "id": 36,
        "text": "\n\n— Сочувствую…\n\nТакая откровенность ошарашила Терренса, как реагировать он не знал. Но Адриан лишь отмахнулся.\n\n— Всё нормально. Это было так давно, я почти не помню маму. ",
        "merge": true,
        "var_equal": [
          "p36",
          3
        ]
      },
      {
        "id": 36,
        "text": "\n\nЕго прервал голос парня из кабины.\n\n— Теперь все в сборе, самое время для завтрака! Разбирайте ланч-боксы!\n\nПарень стал передавать пластиковые контейнеры поверх сидения, а Адриан — дальше по салону.",
        "var_more": [
          "p36",
          1
        ],
        "merge": true
      },
      {
        "id": 39,
        "text": "[ Взять завтрак ]",
        "var_more": [
          "p36",
          1
        ]
      },
      {
        "id": 41,
        "text": "[ Разбудить спящую девочку ]",
        "var_more": [
          "p36",
          1
        ]
      }
    ]
  },
  {
    "id": 37,
    "text": "— Директор лагеря, — пояснил Адриан. — Тот господин, что ведёт автобус.<s>r\n<s>r\nСловно услышав его слова, автобус тронулся.",
    "answers": [
      {
        "var_equal": [
          "p37",
          1
        ],
        "id": 37,
        "instant": true,
        "text": "— Директор лагеря — шофёр?!",
        "var_set": [
          "p37",
          2
        ]
      },
      {
        "var_equal": [
          "p37",
          1
        ],
        "id": 37,
        "instant": true,
        "text": "— Тебя пригласил лично директор?! Мне просто подарили путёвку.",
        "var_set": [
          "p37",
          3
        ]
      },
      {
        "id": 36,
        "text": "\n\n— Директор лагеря — шофёр?!\n\nАдриан пожал плечами.\n\n— Мой отец говорит, что благородный человек не должен стесняться чёрной работы, тем более если она приносит ему удовольствие.",
        "merge": true,
        "var_equal": [
          "p37",
          2
        ]
      },
      {
        "id": 36,
        "text": "\n\n— Кажется, мой отец давно знаком с господином директором. Во всяком случае, беседовали они наедине, а когда вышли из кабинета, отец был очень почтителен.",
        "var_equal": [
          "p37",
          3
        ],
        "merge": true
      },
      {
        "id": 36,
        "text": "\n\nАдриана прервал голос парня из кабины.\n\n— Теперь все в сборе, самое время для завтрака! Разбирайте ланч-боксы!\n\nПарень стал передавать пластиковые контейнеры поверх сидения, а Адриан — дальше по салону.",
        "var_more": [
          "p37",
          1
        ],
        "merge": true
      },
      {
        "id": 39,
        "text": "[ Взять завтрак ]",
        "var_more": [
          "p37",
          1
        ]
      },
      {
        "id": 41,
        "text": "[ Разбудить спящую девочку ]",
        "var_more": [
          "p37",
          1
        ]
      }
    ]
  },
  {
    "id": 38,
    "text": "— Это мой воображаемый друг. Ты сел на него, поэтому Бадди пришлось перебраться к той спящей девочке, — как ни в чём ни бывало ответил Адриан.<s>r\n<s>r\nАвтобус тронулся.",
    "answers": [
      {
        "id": 61,
        "instant": false,
        "text": "— Воображаемый друг? Тебе что, пять лет?",
        "var_set": [
          "p61",
          1
        ]
      },
      {
        "id": 61,
        "instant": false,
        "text": "— Оу… Понятно.",
        "var_set": [
          "p61",
          2
        ]
      },
      {
        "id": 31,
        "instant": false,
        "var_add": [
          "tediousness",
          1
        ],
        "text": "[ Пересть к девочке-мулатке, спящей у окна ]"
      },
      {
        "var_add": [
          "tediousness",
          1
        ],
        "id": 33,
        "instant": false,
        "need": [
          -33
        ],
        "text": "[ Пересть к девочке, болтающей с рыжей соседкой ]"
      }
    ]
  },
  {
    "id": 39,
    "text": "Ланч-бокс оказался неожиданно горячим. Задуматься о природе этого явления Терренс не успел, потому что в автобусе божественно запахло жареным беконом. <s>r\n<s>r\nВнутри обнаружились столовые приборы, золотистый омлет, несколько полосок хрустящего бекона и фруктовый салат в отдельной чашечке.",
    "answers": [
      {
        "id": 39,
        "text": " \n\n— Валери, ты точно ведьма! — восхищённо воскликнула Пенни.",
        "merge": true,
        "var_equal": [
          "p42",
          2
        ]
      },
      {
        "id": 32,
        "text": " \n\n— Не хуже, чем в ресторане, — заключил Адриан.",
        "var_more": [
          "p38",
          1
        ],
        "merge": true
      },
      {
        "id": 44,
        "text": "[ Приняться за еду ]",
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/food1.png"
        ],
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 40,
    "text": "Терренс листал новости паблика «Наука сегодня» и предусмотрительно загрузил несколько свежих статей, пока интернет не пропал. От чтения его отвлёк голос парня из кабины.<s>r\n<s>r\n— Теперь все в сборе, самое время для завтрака! Разбирайте ланч-боксы!<s>r\n<s>r\nПарень стал передавать пластиковые контейнеры поверх сидения, а Адриан — дальше по салону.",
    "answers": [
      {
        "id": 39,
        "text": "[ Взять завтрак ]"
      },
      {
        "id": 41,
        "text": "[ Разбудить спящую девочку ]"
      }
    ]
  },
  {
    "id": 41,
    "text": "Терренс осторожно потряс мулатку за плечо. Она что-то недовольно побурчала и уткнулась в сгиб локтя. Густые курчавые волосы полностью скрывали её лицо. Терренс подумал, что с такой гривой солнце не помешает спать хоть в полдень на лугу.<s>r\n<s>r\n— Эй, ты завтракать будешь? — спросил он.<s>r\n<s>r\n— Оставь её в покое, — вмешался угрюмый парень. — Голодной не останется.",
    "answers": [
      {
        "id": 41,
        "text": "\n\nОн открыл свой ланч-бокс, и в автобусе божественно запахло жареным беконом. Терренс принял у Адриана контейнер с завтраком, который оказался неожиданно горячим. Внутри обнаружились столовые приборы, золотистый омлет, несколько полосок хрустящего бекона и фруктовый салат в отдельной чашечке.\n\n— Не хуже, чем в ресторане, — заключил Адриан.",
        "need": [
          32
        ],
        "merge": true
      },
      {
        "id": 41,
        "text": "\n\nОн открыл свой ланч-бокс, и в автобусе божественно запахло жареным беконом. Терренс принял у Кена контейнер с завтраком, который оказался неожиданно горячим. Внутри обнаружились столовые приборы, золотистый омлет, несколько полосок хрустящего бекона и фруктовый салат в отдельной чашечке.",
        "need": [
          -32
        ],
        "merge": true
      },
      {
        "id": 44,
        "text": "[ Приняться за еду ]",
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/food1.png"
        ],
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 42,
    "text": "Но девчонка пропустила это мимо ушей.<s>r\n<s>r\n— Если бы у меня были волосы, как у Валери, я бы гордилась своей родословной, а не стеснялась.<s>r\n<s>r\nВалери залилась краской.<s>r\n<s>r\n— Пенни, пожалуйста, хватит!",
    "answers": [
      {
        "id": 63,
        "text": "— Ты всегда такая болтливая?",
        "instant": false
      },
      {
        "id": 43,
        "text": "[ Проигнорировать и уткнуться в смартфон ]"
      },
      {
        "id": 31,
        "text": "[ Пересть к девочке-мулатке, спящей у окна ]",
        "var_add": [
          "tediousness",
          1
        ]
      },
      {
        "var_add": [
          "tediousness",
          1
        ],
        "id": 32,
        "text": "[ Сесть между юным Кеном и угрюмым парнем ]",
        "need": [
          -32
        ],
        "var_set": [
          "p32",
          1
        ]
      }
    ]
  },
  {
    "id": 43,
    "text": "Девчачья болтовня Терренса не интересовала. Он попытался читать научный паблик, представляя, что слушает щебет птиц в саду, но вышло плохо.<s>r\n<s>r\n— Эй, ты ведь даже не представился! Это очень невежливо. Мой брат говорит, что мужчина должен проявлять инициативу к знакомству. А он очень хорошо умеет знакомиться, вокруг него всегда полно людей.",
    "answers": [
      {
        "id": 46,
        "text": " — Терренс"
      },
      {
        "id": 31,
        "text": "[ Пересть к девочке-мулатке, спящей у окна ]",
        "var_add": [
          "tediousness",
          1
        ]
      },
      {
        "var_add": [
          "tediousness",
          1
        ],
        "id": 32,
        "text": "[ Сесть между юным Кеном и угрюмым парнем ]",
        "need": [
          -32
        ],
        "var_set": [
          "p32",
          1
        ]
      }
    ]
  },
  {
    "id": 44,
    "text": "Кажется, Терренс задремал. Во всяком случае, он не заметил, когда автобус съехал с трассы на узкую лесную дорогу. Спустя ещё полчаса тряски, автобус остановился на большой поляне.<s>r\n<s>r\nПодростки высыпали из автобуса. По периметру поляны были разбиты палатки и тенты, по центру в окружении скамеек сложено кострище.<s>r\n<s>r\nКабинный парень вытащил из багажника чемоданы.<s>r\n<s>r\n— Так, детвора, разбираем свои вещи и тащим в палатки! Палатка мальчиков, палатка девочек, — он показывал пальцем, — с другой стороны моя с директором, тент столовой, кухни и вон там за деревьями — санитарный. Жду всех у костра через пять минут!",
    "answers": [
      {
        "id": 45,
        "text": "[ Унести чемодан и вернуться к костру ]"
      },
      {
        "id": 47,
        "text": "[ Проследить за директором ]",
        "need": [
          37
        ],
        "var_add": [
          "curiosity",
          1
        ]
      }
    ]
  },
  {
    "id": 45,
    "text": "Когда все собрались и расселись по лавочкам, кабинный парень вышел к костру. Терренс подумал, что он похож на вампира из девчачьих романов — бледный, сухой и со странным взглядом. В последнем, возможно, была вина очень тёмных глаз.<s>r\n<s>r\n— Я буду вашим вожатым. Зовут меня Сэмюэль, можно Сэм. Со всеми проблемами обращайтесь ко мне, директора не беспокойте. Есть вопросы?",
    "answers": [
      {
        "id": 48,
        "text": "— Ты ведь старше нас лет на пять?",
        "var_set": [
          "p48",
          1
        ]
      },
      {
        "id": 48,
        "text": "[ Промолчать ]",
        "var_set": [
          "p48",
          2
        ]
      }
    ]
  },
  {
    "id": 46,
    "text": "— А я Пенни, а это — Валери. До того, как ты подошёл, мы как раз обсуждали, что бы нам хотелось поесть.<s>r\n<s>r\n— Ты обсуждала, — робко поправила Валери.<s>r\n<s>r\n— Ну хорошо, я. Мне бы очень хотелось глазунью с хрустящими тостами.<s>r\n<s>r\nЕё прервал голос парня из кабины.<s>r\n<s>r\n— Теперь все в сборе, самое время для завтрака! Разбирайте ланч-боксы!<s>r\n<s>r\nПарень стал передавать пластиковые контейнеры поверх сидения, а Кен — дальше по салону.",
    "answers": [
      {
        "id": 39,
        "text": "[ Взять завтрак ]"
      }
    ]
  },
  {
    "id": 47,
    "text": "Из-за руля вышел высокий мужчина и быстрым шагом направился к палатке. Одет он был в лёгкую светлую мантию и джинсы, а лица Терренс не разглядел. Важной шишкой директор не выглядел. Ведомый любопытством, Терренс последовал за мужчиной, и чуть не врезался в кабинного парня.<s>r\n<s>r\n— Ты палатки перепутал, — усмехнулся тот. — Эта моя. Давай скорее, не люблю ждать.",
    "answers": [
      {
        "id": 45,
        "text": "[ Унести чемодан и вернуться к костру ]"
      }
    ]
  },
  {
    "id": 48,
    "text": "empty",
    "answers": [
      {
        "id": 48,
        "text": "— Ты ведь старше нас лет на пять?\n\n— Вроде того, — уклончиво ответил Сэмюэль, — но это не помешает мне позаботиться о вас. ",
        "var_equal": [
          "p48",
          1
        ],
        "merge": true
      },
      {
        "need_sometimes": true,
        "var_equal": [
          "p48",
          2
        ],
        "id": 48,
        "text": "— Ты вампир? — выпалила Пенни. — Какая группа крови тебе нравится?\n\n",
        "need": [
          42,
          46
        ],
        "merge": true
      },
      {
        "var_equal": [
          "p48",
          2
        ],
        "id": 48,
        "text": "— Ты вампир? — выпалила русая девочка. — Какая группа крови тебе нравится? \n\n",
        "need": [
          -42,
          -46
        ],
        "merge": true
      },
      {
        "id": 48,
        "text": "Сэмюэль рассмеялся.\n\n— Предпочитаю гранатовый сок. ",
        "var_equal": [
          "p48",
          2
        ],
        "merge": true
      },
      {
        "id": 48,
        "text": "Что же, если других вопросов нет, то давайте знакомиться. Пусть каждый расскажет о своём увлечении и о большом желании, а потом назовёт следующего. Мне, как видите, нравится быть вожатым, и я очень хочу, чтобы ваш отдых здесь стал незабываемым. Парень со ссадиной, твоя очередь!",
        "merge": true
      },
      {
        "id": 49,
        "text": "[ Обернуться к Эшли ]",
        "need": [
          32
        ]
      },
      {
        "id": 49,
        "text": "[ Обернуться к парню со ссадиной ]",
        "need": [
          -32
        ]
      }
    ]
  },
  {
    "id": 49,
    "text": "— Я Эшли. Не люблю глупые вопросы. Хочу передать эстафету Болтушке.<s>r\n<s>r\n— Бунтарь, значит, — усмехнулся Сэмюэль. — Что ж, это будет интересно. Ребята, хотите его о чём-нибудь спросить?<s>r\n<s>r\n— С кем ты подрался? Их было много? Ты победил? — начала атаку ",
    "answers": [
      {
        "need_sometimes": true,
        "id": 49,
        "text": "Пенни.\n\n",
        "need": [
          42,
          46
        ],
        "merge": true
      },
      {
        "id": 49,
        "text": "Болтушка.\n\n",
        "need": [
          -42,
          -46
        ],
        "merge": true
      },
      {
        "id": 49,
        "text": "Эшли скрестил руки на груди и хмуро уставился в землю перед собой. Даже ссутулившись он был выше других подростков и уступал в росте только Сэму.\n\n— Может быть, он за кого-нибудь вступился, — предположил ",
        "merge": true
      },
      {
        "id": 49,
        "text": "Кен.",
        "need": [
          -32
        ],
        "merge": true
      },
      {
        "id": 49,
        "text": "Адриан.",
        "need": [
          32
        ],
        "merge": true
      },
      {
        "id": 50,
        "text": "— Ты тоже не хотел ехать в лагерь? ",
        "var_set": [
          "p50",
          1
        ]
      },
      {
        "id": 50,
        "text": "[ Промолчать и рассмотреть его внимательнее ]",
        "var_set": [
          "p50",
          2
        ]
      }
    ]
  },
  {
    "id": 50,
    "text": "empty",
    "answers": [
      {
        "id": 50,
        "text": "Костяшки у Эшли были красные, колени содраны. Похоже, он действительно любил подраться. Терренс подумал, что с ним общаться точно не стоит.\n\n",
        "merge": true,
        "var_equal": [
          "p50",
          2
        ]
      },
      {
        "id": 50,
        "text": "— Не будет он отвечать, — лениво протянула мулатка. — Болтушка, рассказывай.\n\nТа словно не обиделась, вскочила и вышла в центр круга, к кострищу. Это была внешне неприметная девочка — русая, сероглазая и немного пухленькая. Однако её энергичность вызывала желание отстраниться. \n\n— Меня зовут Пенни. Мне нравится, ну, знаете, мне всё нравится! Только когда врут — это я не люблю. И жаренный лук ещё. А хочу я… стать великой актрисой! Или режиссёром из Голливуда, хотя писательницей тоже можно.",
        "merge": true
      },
      {
        "id": 51,
        "text": "— Можно ещё королевой.",
        "var_set": [
          "p51",
          1
        ]
      },
      {
        "id": 51,
        "text": "— Короче, кем угодно, лишь бы знаменитой.",
        "var_set": [
          "p51",
          2
        ]
      },
      {
        "id": 51,
        "text": "— Какая у тебя максимальная скорость речи?",
        "var_set": [
          "p51",
          3
        ]
      },
      {
        "id": 51,
        "text": "— Ты хотя бы иногда молчишь?",
        "var_set": [
          "p51",
          4
        ]
      }
    ]
  },
  {
    "id": 51,
    "text": "empty",
    "answers": [
      {
        "id": 51,
        "text": "Пенни поморщилась.\n\n— Ой нетушки, королевой быть очень скучно. Встречаться только с теми, с кем должна, сплошные ограничения из-за статуса. Нет, королевой я быть ни капельки не хочу!\n\n",
        "merge": true,
        "var_equal": [
          "p51",
          1
        ]
      },
      {
        "id": 51,
        "text": "— Ну уж нетушки! — возмутилась Пенни. — Быть знаменитым надо за то, что хорошего ты сделал и необычного. \n\n",
        "var_equal": [
          "p51",
          2
        ],
        "merge": true
      },
      {
        "id": 51,
        "text": "— Когда это нужно, — обиженно надулась Пенни. — Но точно делаю это лучше, чем ты.\n\n",
        "var_equal": [
          "p51",
          4
        ],
        "merge": true
      },
      {
        "var_not": [
          "p51",
          3
        ],
        "id": 51,
        "text": "— А ты умная, — мягко улыбнулся Кен.\n\n",
        "need": [
          -32
        ],
        "merge": true
      },
      {
        "var_not": [
          "p51",
          3
        ],
        "id": 51,
        "text": "— А ты умная, — мягко улыбнулся Адриан.\n\n",
        "need": [
          32
        ],
        "merge": true
      },
      {
        "id": 51,
        "var_not": [
          "p51",
          3
        ],
        "text": "— Следующим будет Принц Чарминг, — сказала Пенни и села на прежнее место.\n\n",
        "merge": true
      },
      {
        "id": 51,
        "text": "— Понятия не имею, — смутилась Пенни. — Следующим будет Принц Чарминг!\n\nОна села на прежнее место.\n\n",
        "merge": true,
        "var_equal": [
          "p51",
          3
        ]
      },
      {
        "id": 51,
        "text": "Кен блеснул безупречной улыбкой. Его глаза в лучах яркого солнца казались голубее неба.\n\n— Я Адриан, и мне кажется, моё желание уже исполнилось, когда отец отпустил меня сюда. Мне нечасто выпадает возможность пообщаться… в неформальной обстановке.",
        "merge": true
      },
      {
        "id": 52,
        "text": "— То есть воображаемого друга тебе мало?",
        "need": [
          38
        ],
        "var_set": [
          "p52",
          1
        ]
      },
      {
        "id": 52,
        "text": "— Ты что, реально принц?",
        "var_set": [
          "p52",
          2
        ]
      },
      {
        "id": 52,
        "text": "[ Промолчать ]",
        "var_set": [
          "p52",
          3
        ]
      }
    ]
  },
  {
    "id": 52,
    "text": "empty",
    "answers": [
      {
        "id": 52,
        "text": "— Воображаемого друга? — прыснула в кулак мулатка.\n\nЭшли прикрыл ладонью лицо. Но Адриан даже не перестал улыбаться.\n\n— Подло, но ты не первый. ",
        "var_equal": [
          "p52",
          1
        ],
        "merge": true
      },
      {
        "id": 52,
        "text": "Улыбка сползла с лица Адриана.\n\n— Нет, но с золотой клеткой я знаком не по наслышке. ",
        "merge": true,
        "var_equal": [
          "p52",
          2
        ]
      },
      {
        "id": 52,
        "text": " —  Так и лучишься превосходством, — буркнул Эшли.\n\nУлыбка сползла с лица Адриана.\n\n— Первое впечатление часто бывает обманчиво. ",
        "merge": true,
        "var_equal": [
          "p52",
          3
        ]
      },
      {
        "id": 52,
        "text": "Спящая Красавица, прошу.\n\nМулатка грациозно потянулась и отбросила с лица кучерявую прядь. Девчонка двигалась плавно, словно перетекала из одной позы в другую.\n\n— Лейла. Я люблю природу и мечтаю выспаться. Пожалуйста, не будите меня утром.\n\n— Прослежу, чтобы никто не съел твой завтрак, — серьёзно сказал Сэмюэль.",
        "merge": true
      },
      {
        "id": 53,
        "text": "— Ты поздно ложишься?",
        "var_set": [
          "p53",
          1
        ]
      },
      {
        "id": 53,
        "text": "— Ты занимаешься гимнастикой?",
        "var_add": [
          "curiosity",
          1
        ],
        "var_set": [
          "p53",
          2
        ]
      },
      {
        "id": 53,
        "text": "[ Промолчать ]",
        "var_set": [
          "p53",
          3
        ]
      }
    ]
  },
  {
    "id": 53,
    "text": "empty",
    "answers": [
      {
        "id": 53,
        "text": "— Можно и так сказать. Рыжая, твоя очередь.\n\n",
        "var_not": [
          "p53",
          3
        ],
        "merge": true
      },
      {
        "id": 53,
        "text": "— Ты такая красивая, — восхищённо протянула Пенни.\n\nЛейла довольно прищурилась.\n\n— Лесть засчитана. Рыжая, твоя очередь.\n\n",
        "merge": true,
        "var_equal": [
          "p53",
          3
        ]
      },
      {
        "need_ever": false,
        "need_sometimes": true,
        "id": 53,
        "text": "Валери ",
        "need": [
          42,
          46
        ],
        "merge": true
      },
      {
        "need_sometimes": false,
        "id": 53,
        "text": "Девочка ",
        "need": [
          -42,
          -46
        ],
        "merge": true
      },
      {
        "id": 53,
        "text": "робко разгладила подол платья. Она была высокая, угловатая, и бирюзовое платье в цветочек ей совершенно не шло. Она глубоко вдохнула и выпалила:\n\n— Меня зовут Валери, и больше всего на свете я хочу фехтовать.\n\nНа этом смелость покинула её, и закончила Валери почти шёпотом:\n\n— А занимаюсь я танцами...",
        "merge": true
      },
      {
        "id": 54,
        "text": "— Девчонкам оружие не к чему.",
        "var_set": [
          "p54",
          1
        ]
      },
      {
        "id": 54,
        "text": "— Лучше карате займись, не придётся везде носить с собой шпагу.",
        "var_set": [
          "p54",
          2
        ]
      },
      {
        "id": 54,
        "text": "— Почему танцами?",
        "var_set": [
          "p54",
          3
        ]
      },
      {
        "id": 54,
        "text": "[ Промолчать ]",
        "var_set": [
          "p54",
          4
        ]
      }
    ]
  },
  {
    "id": 54,
    "text": "empty",
    "answers": [
      {
        "id": 54,
        "text": "— Вот и мои родители так считают…\n\n",
        "var_equal": [
          "p54",
          1
        ],
        "merge": true
      },
      {
        "id": 54,
        "text": "— Мои родители считают, что это больше подходит девочке…\n\n",
        "merge": true,
        "var_equal": [
          "p54",
          3
        ]
      },
      {
        "id": 54,
        "text": "Эшли фыркнул. Лица Пенни и Лейлы выражали крайнее изумление.\n\n",
        "merge": true,
        "var_equal": [
          "p54",
          4
        ]
      },
      {
        "id": 54,
        "text": "Валери совершенно поникла.\n\n— Фехтование — прекрасный вид спорта, — примиряюще сказал Адриан. \n\n— И во многом похож на танцы, — поддержал Сэмюэль и повернулся к Терренсу. — Ну а ты что расскажешь?",
        "merge": true
      },
      {
        "id": 55,
        "text": "— Я Терренс. Увлекаюсь наукой, особенно естественными дисциплинами…",
        "var_set": [
          "p55",
          1
        ]
      }
    ]
  },
  {
    "id": 55,
    "text": "Эшли насмешливо ухмыльнулся:<s>r\n<s>r\n— Настоящий ботаник, да?",
    "answers": [
      {
        "var_equal": [
          "p55",
          1
        ],
        "id": 55,
        "instant": true,
        "text": "— Не надеялся, что ты поймёшь. Ты учебники-то открывал?",
        "var_set": [
          "p55",
          2
        ]
      },
      {
        "var_equal": [
          "p55",
          1
        ],
        "id": 55,
        "instant": true,
        "text": "— Ботаника — древняя и важная для человечества наука. Почему никому не приходит в голову насмехаться над физиками?",
        "var_set": [
          "p55",
          3
        ]
      },
      {
        "var_add": [
          "curiosity",
          1
        ],
        "var_equal": [
          "p55",
          1
        ],
        "id": 55,
        "instant": true,
        "text": "— … и мечтаю сделать множество открытий.",
        "var_set": [
          "p55",
          4
        ]
      },
      {
        "var_equal": [
          "p55",
          1
        ],
        "id": 55,
        "instant": true,
        "text": "— … и хочу стать известным учёным.",
        "var_set": [
          "p55",
          5
        ]
      },
      {
        "id": 55,
        "text": "\n\n— Не надеялся, что ты поймёшь. Ты учебники-то открывал?\n\n— Борзый, как и все ботаники.\n\nЭшли презрительно фыркнул и отвернулся.",
        "var_equal": [
          "p55",
          2
        ],
        "merge": true
      },
      {
        "id": 55,
        "text": "\n\n— Ботаника — древняя и важная для человечества наука. Почему никому не приходит в голову насмехаться над физиками?\n\nЭшли хмыкнул и отвернулся.",
        "merge": true,
        "var_equal": [
          "p55",
          3
        ]
      },
      {
        "id": 55,
        "text": "\n\n— … и мечтаю сделать множество открытий.\n\n— Достойное желание, — сказал Сэмюэль. — На этой весёлой ноте объявляю знакомство свершившимся. А теперь скажите, кто уже догадался о тематике нашего лагеря?",
        "var_equal": [
          "p55",
          4
        ],
        "merge": true
      },
      {
        "id": 55,
        "text": "\n\n— … и хочу стать известным учёным.",
        "var_equal": [
          "p55",
          5
        ],
        "merge": true
      },
      {
        "var_not": [
          "p55",
          4
        ],
        "id": 55,
        "text": "\n\n— На этой весёлой ноте объявляю знакомство свершившимся. — сказал Сэмюэль. — А теперь скажите, кто уже догадался о тематике нашего лагеря?",
        "var_more": [
          "p55",
          1
        ],
        "merge": true
      },
      {
        "id": 56,
        "text": "— Выживание?",
        "var_more": [
          "p55",
          1
        ],
        "var_set": [
          "p56",
          1
        ]
      },
      {
        "id": 56,
        "text": "— Наблюдение за природой?",
        "var_more": [
          "p55",
          1
        ],
        "var_set": [
          "p56",
          2
        ]
      },
      {
        "id": 56,
        "text": "— Сбор желудей?",
        "var_more": [
          "p55",
          1
        ],
        "var_set": [
          "p56",
          3
        ]
      },
      {
        "id": 56,
        "text": "— Принудительное общение?",
        "var_more": [
          "p55",
          1
        ],
        "var_set": [
          "p56",
          4
        ]
      },
      {
        "id": 56,
        "text": "[ Промолчать ]",
        "var_more": [
          "p55",
          1
        ],
        "var_set": [
          "p56",
          5
        ]
      }
    ]
  },
  {
    "id": 56,
    "text": "empty",
    "answers": [
      {
        "id": 56,
        "text": "— Выживание? — предположила Валери.\n\n",
        "var_not": [
          "p56",
          1
        ],
        "merge": true
      },
      {
        "id": 56,
        "text": "— Наблюдение за природой? — зевнула Лейла.\n\n",
        "var_not": [
          "p56",
          2
        ],
        "merge": true
      },
      {
        "id": 56,
        "text": "— Сбор желудей? — хмыкнул Эшли.\n\n",
        "var_not": [
          "p56",
          3
        ],
        "merge": true
      },
      {
        "id": 56,
        "text": "— Социализация? — Адриан снова раздражающе улыбался совершенно по-Кеновски.\n\n",
        "var_not": [
          "p56",
          4
        ],
        "merge": true
      },
      {
        "id": 56,
        "text": "Но Сэмюэль только качал головой:\n — Нет, нет, нет, тоже нет.\n\n— Летнее Рождество? — ляпнула Пенни.\n\n— А вот это почти в точку, — кивнул Сэм.",
        "merge": true
      },
      {
        "id": 57,
        "text": "— Серьёзно?!",
        "var_set": [
          "p57",
          1
        ]
      },
      {
        "id": 57,
        "text": "— Солнцестояние?",
        "var_add": [
          "curiosity",
          1
        ],
        "var_set": [
          "p57",
          2
        ]
      }
    ]
  },
  {
    "id": 57,
    "text": "— ",
    "answers": [
      {
        "id": 57,
        "text": "Именно. ",
        "var_equal": [
          "p57",
          1
        ],
        "merge": true
      },
      {
        "id": 57,
        "text": "Раз уж вы приехали накануне солнцестояния, — продолжил Сэмюэль, — мы уподобимся друидам и встретим Литу — праздник, который древнее Рождества. Кельты верили, что к этому дню мир напитывается силой и достигает зрелости, и в Литу каждый получит по справедливости то, что заслуживает.",
        "merge": true
      },
      {
        "text": "— Принесём в жертву белого быка?",
        "id": 57,
        "instant": true,
        "var_less": [
          "p57",
          3
        ],
        "var_set": [
          "p57",
          3
        ]
      },
      {
        "text": "— Будем плясать в балахонах вокруг дуба?",
        "var_less": [
          "p57",
          3
        ],
        "instant": true,
        "id": 57,
        "var_set": [
          "p57",
          4
        ]
      },
      {
        "text": "[ Промолчать ]",
        "var_less": [
          "p57",
          3
        ],
        "instant": true,
        "id": 57,
        "var_set": [
          "p57",
          5
        ]
      },
      {
        "var_equal": [
          "p57",
          3
        ],
        "id": 57,
        "instant": false,
        "text": "\n\n— Принесём в жертву белого быка?\n\n— Ты видишь здесь быка? — Сэм плотоядно улыбнулся, совсем как настоящий вампир. — Шучу, постараемся обойтись без жертв. А для этого сделаем себе амулеты. ",
        "merge": true
      },
      {
        "var_equal": [
          "p57",
          4
        ],
        "id": 57,
        "text": "\n\n— Будем плясать в балахонах вокруг дуба?\n\n— Отличная идея! Пожалуй, я даже пожертвую тебе на костюм наш запасной тент. Но cначала мы сделаем себе амулеты. ",
        "instant": false,
        "merge": true
      },
      {
        "var_equal": [
          "p57",
          5
        ],
        "id": 57,
        "text": "\n\nСэм продолжил:\n\n— Для начала мы сделаем себе амулеты. ",
        "instant": false,
        "merge": true
      },
      {
        "var_more": [
          "p57",
          2
        ],
        "id": 57,
        "instant": false,
        "text": "А пока я всё подготовлю, у вас есть немного свободного времени. Приходите сюда, когда услышите флейту.",
        "merge": true
      },
      {
        "id": 58,
        "text": "[ Далее ]",
        "var_need": [
          "p57",
          3
        ]
      }
    ]
  },
  {
    "id": 58,
    "text": "Над лагерем разлилась задорная мелодия флейты. Сэмюэль играл, сидя на столе. Терренс захлопнул книгу и вылез из своего убежища в тени орешника. <s>r\n<s>r\n— Ребятня, помните, что амулетом может быть любой предмет, важен лишь смысл, который вы в него вложите, — сказал Сэм. — Материалы на столе, а если хотите научиться плести настоящие кельтские узлы — подходите ко мне. Начали!<s>r\n<s>r\n— Вау, волшебный кристалл! — воскликнула Пенни, схватив что-то со стола.",
    "answers": [
      {
        "id": 64,
        "text": "— Как же, волшебный… Пф!"
      },
      {
        "id": 65,
        "text": "— Всё равно работать не будут.",
        "var_add": [
          "tediousness",
          2
        ]
      },
      {
        "id": 66,
        "text": "[ Рассмотреть материалы ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/handmade.jpg\")\nend"
      },
      {
        "super_calculate": false,
        "id": 58,
        "calculate": true,
        "text": "Артефакт",
        "var_set": [
          "artifact",
          0
        ]
      }
    ]
  },
  {
    "id": 59,
    "text": "Она подошла к журнальному столику и вытряхнула на него содержимое своей вызывающей красной сумочки. По полированному клёну покатились крупные чёрные ягоды и сосновые шишки. Вслед за ними выпал небольшой золотистый конверт. Схватив его, тётушка радостно подпрыгнула.<s>r\n<s>r\n— С прошедшим, дорогой! — она протянула конверт Терренсу.",
    "answers": [
      {
        "id": 14,
        "text": " [ Принять подарок ]",
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/mail.png"
        ]
      }
    ]
  },
  {
    "id": 60,
    "text": "empty",
    "answers": [
      {
        "id": 60,
        "text": "— Спасибо… — расстроенно протянул Терренс.\n\n",
        "merge": true,
        "var_equal": [
          "p60",
          1
        ]
      },
      {
        "id": 60,
        "text": "Заметив его недовольство, мама подошла и мягко забрала лист. \n\n— Уже завтра, — прошептала она. На её лице радость боролась с беспокойством. — Милый, иди к себе. Нам с Мелоди надо кое-что обсудить. ",
        "merge": true
      },
      {
        "id": 17,
        "text": "[ Подняться наверх ]"
      }
    ]
  },
  {
    "id": 61,
    "text": "empty",
    "answers": [
      {
        "id": 36,
        "text": "— Воображаемый друг? Тебе что, пять лет? — изумился Терренс.\n\n",
        "merge": true,
        "var_equal": [
          "p61",
          1
        ]
      },
      {
        "id": 36,
        "text": "— Оу… Понятно.\n\nНа самом деле Терренс понятия не имел, как реагировать на такое заявление.\n\n",
        "var_equal": [
          "p61",
          2
        ],
        "merge": true
      },
      {
        "id": 36,
        "text": "— Считаешь меня странным, да? У меня не было возможности завести настоящих друзей. Я даже в школу не ходил никогда — отец считает, что частное образование лучше.\n\nАдриана прервал голос парня из кабины.\n\n— Теперь все в сборе, самое время для завтрака! Разбирайте ланч-боксы!\n\nПарень стал передавать пластиковые контейнеры поверх сидения, а Адриан — дальше по салону.",
        "var_more": [
          "p38",
          1
        ],
        "merge": true
      },
      {
        "id": 39,
        "text": "[ Взять завтрак ]"
      },
      {
        "id": 41,
        "text": "[ Разбудить спящую девочку ]"
      }
    ]
  },
  {
    "id": 62,
    "text": "Но девчонка не растерялась.<s>r\n<s>r\n— Точно, ведьмы тоже были рыжими! Валери, так ты ведьма? Это так здорово!<s>r\n<s>r\nВалери залилась краской.<s>r\n<s>r\n— Пенни, пожалуйста, хватит!",
    "answers": [
      {
        "id": 63,
        "text": "— Ты всегда такая болтливая?",
        "instant": false
      },
      {
        "id": 43,
        "text": "[ Проигнорировать и уткнуться в смартфон ]"
      },
      {
        "id": 31,
        "text": "[ Пересть к девочке-мулатке, спящей у окна ]",
        "var_add": [
          "tediousness",
          1
        ]
      },
      {
        "var_add": [
          "tediousness",
          1
        ],
        "id": 32,
        "text": "[ Сесть между юным Кеном и угрюмым парнем ]",
        "need": [
          -32
        ],
        "var_set": [
          "p32",
          1
        ]
      }
    ]
  },
  {
    "id": 63,
    "text": "— Ты всегда такая болтливая? — обречённо спросил Терренс.<s>r\n<s>r\nАвтобус тронулся.<s>r\n<s>r\n— Как невежливо! — возмутилась Пенни. — Между прочим, ты даже не представился! Мой брат говорит, что мужчина должен проявлять инициативу к знакомству. А он очень хорошо умеет знакомиться, вокруг него всегда полно людей.",
    "answers": [
      {
        "id": 46,
        "text": "— Терренс."
      }
    ]
  },
  {
    "id": 64,
    "text": "— Точно волшебный, ты посмотри!<s>r\n<s>r\nПенни протянула Терренсу крупный, с большой палец, розоватый кристалл. Трещины внутри него переливались на солнце. <s>r\n<s>r\n— Иногда волшебство кроется в самых простых вещах, — философски заметил Сэмюэль. ",
    "answers": [
      {
        "id": 67,
        "text": "[ Прогуляться по лагерю ]",
        "var_add": [
          "tediousness",
          1
        ]
      },
      {
        "id": 66,
        "text": "[ Рассмотреть материалы ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/handmade.jpg\")\nend"
      }
    ]
  },
  {
    "id": 65,
    "text": "— Какой же ты противный! — Возмутилась Пенни и показала Терренсу язык. — От таких, как ты, любая магия прокиснет и завянет!<s>r\n<s>r\nРядом хохотнул Эшли.<s>r\n<s>r\n— Иногда волшебство кроется в самых простых вещах, — философски заметил Сэмюэль. — Может быть, эти амулеты и не защитят вас от злых сил, но будут напоминать о времени, проведённом с друзьями.",
    "answers": [
      {
        "id": 67,
        "text": "[ Прогуляться по лагерю ]",
        "var_add": [
          "tediousness",
          1
        ]
      },
      {
        "id": 66,
        "text": "[ Рассмотреть материалы ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/handmade.jpg\")\nend"
      }
    ]
  },
  {
    "id": 66,
    "text": "На столе были разложены всевозможные материалы и инструменты: верёвочки и трубочки для макраме, деревянные, стеклянные и самоцветные бусины, швейный набор, застёжки, цепочки и даже куски кожи со специальными ножами.",
    "answers": [
      {
        "id": 66,
        "text": "\n\nА вот кристалл Пенни, похоже, был единственным.",
        "need": [
          64
        ],
        "merge": true
      },
      {
        "id": 66,
        "text": "\n\nСэм вернулся с рулоном грубой ткани и мотком паракорда.",
        "need": [
          69
        ],
        "merge": true
      },
      {
        "id": 66,
        "text": "\n\nТерренс задумался, что из этого можно сделать. ",
        "merge": true
      },
      {
        "var_equal": [
          "p57",
          4
        ],
        "id": 66,
        "text": " Он вспомнил, что Сэмюэль предложил пожертвовать запасной тент.",
        "need": [
          -69
        ],
        "merge": true
      },
      {
        "id": 68,
        "text": "[ Кожаный браслет ]",
        "var_set": [
          "artifact",
          1
        ]
      },
      {
        "id": 68,
        "text": "[ Браслет из тёмных камней ]",
        "var_set": [
          "artifact",
          2
        ]
      },
      {
        "id": 68,
        "text": "[ Закладку для книг ]",
        "var_set": [
          "artifact",
          3
        ]
      },
      {
        "id": 68,
        "text": "[ Кожаный брелок ]",
        "var_set": [
          "artifact",
          4
        ]
      },
      {
        "id": 69,
        "text": "— Сэм, ты обещал мне тент.",
        "need": [
          -69
        ],
        "var_equal": [
          "p57",
          4
        ]
      },
      {
        "id": 68,
        "text": "[ Балахон с капюшоном ]",
        "need": [
          69
        ],
        "var_set": [
          "artifact",
          5
        ]
      },
      {
        "id": 68,
        "text": "[ Браслет из паракорда ]",
        "need": [
          69
        ],
        "var_set": [
          "artifact",
          6
        ]
      }
    ]
  },
  {
    "id": 67,
    "text": "Терренс не любил поделки. Но раз уж от чтения пришлось оторваться, стоило размяться, пока все заняты и риск быть втянутым в нездоровую активность сведён к минимуму. <s>r\n<s>r\nБлизилось время обеда. Терренс понял, что проголодался, когда подошёл к кухонному тенту. ",
    "answers": [
      {
        "id": 67,
        "text": "Из-за тканевой стены доносились звуки готовки — бурлила вода, стучал о разделочную доску нож.",
        "merge": true,
        "var_no_more": [
          "tediousness",
          "curiosity"
        ]
      },
      {
        "id": 75,
        "text": "[ Поискать еду ]",
        "var_more": [
          "tediousness",
          "curiosity"
        ]
      },
      {
        "id": 76,
        "text": "[ Войти и попросить еду ]",
        "var_no_more": [
          "tediousness",
          "curiosity"
        ]
      },
      {
        "id": 85,
        "text": "[ Вернуться к остальным ]"
      }
    ]
  },
  {
    "id": 68,
    "text": "empty",
    "answers": [
      {
        "id": 68,
        "text": "Терренс не любил поделки, а потому решил не усложнять себе жизнь тонкой работой. ",
        "var_less": [
          "artifact",
          6
        ],
        "merge": true
      },
      {
        "id": 68,
        "text": "Он отрезал от куска кожи три тонких полосы, сплёл их косичкой, а края зажал подходящей застёжкой. Получился простой и элегантный браслет. От размышлений о том, не слишком ли он девчачий, Терренса отвлёк крик Лейлы.",
        "var_equal": [
          "artifact",
          1
        ],
        "merge": true
      },
      {
        "id": 68,
        "text": "Он нанизал грубые, почти чёрные бусины на толстый шнур, закрепил концы металлической застёжкой. Получился нарочито брутальный, но по-своему стильный браслет. От размышлений о том, не слишком ли он мрачный и массивный, Терренса отвлёк крик Лейлы.",
        "merge": true,
        "var_equal": [
          "artifact",
          2
        ]
      },
      {
        "id": 68,
        "text": "Он продел в деревянную бусину пару верёвочек и сплёл их косичкой. Получилась простая закладка. Терренс завязывал финальный узелок, когда услышал крик Лейлы.",
        "merge": true,
        "var_equal": [
          "artifact",
          3
        ]
      },
      {
        "id": 68,
        "text": "Он вырезал из кожи несколько плоских овалов и круг, наложил друг на друга и прошил центры ниткой. При некоторой интуиции в получившемся брелоке можно было угадать форму атома. Терренс закреплял на нём металлическое кольцо, когда услышал крик Лейлы.",
        "merge": true,
        "var_equal": [
          "artifact",
          4
        ]
      },
      {
        "id": 68,
        "text": "На глаз он вырезал несколько деталей, места швов скрепил суперклеем и отрезал излишки. Получился очень грубый и косой плащ с капюшоном. От размышлений о том, можно ли списать кривизну на аутентичность, Терренса отвлёк крик Лейлы.",
        "merge": true,
        "var_equal": [
          "artifact",
          5
        ]
      },
      {
        "id": 68,
        "text": "Терренс решил сделать что-то полезное. Он попросил Сэмюэля показать плетение, которое легко можно было бы распустить, и сплёл широкий браслет из длинного шнура паракорда. Терренс крепил застёжку, когда услышал крик Лейлы.",
        "merge": true,
        "var_equal": [
          "artifact",
          6
        ]
      },
      {
        "id": 70,
        "text": "[ Посмотреть, что случилось ]"
      },
      {
        "id": 80,
        "text": "[ Игнорировать ]",
        "var_add": [
          "tediousness",
          1
        ],
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 69,
    "text": "— Ты и правда сделаешь балахон? — развеселился Сэмюэль. — Сейчас принесу, и кое-что ещё.",
    "answers": [
      {
        "id": 66,
        "text": "[ Подождать ]"
      }
    ]
  },
  {
    "id": 70,
    "text": "Девчонка зализывала кровящий палец. Перед ней лежал кусочек кожи с аккуратным рисунком и с совсем неаккуратной дыркой.<s>r\n<s>r\n— Каждый раз, когда пытаюсь сделать что-то руками, случается подобное!<s>r\n<s>r\nГолос Лейлы дрожал. Валери попыталась её утешить:<s>r\n<s>r\n— Но это очень сложный рисунок, любой бы порезался.",
    "answers": [
      {
        "id": 72,
        "text": "— Если хочешь, возьми мой амулет."
      },
      {
        "id": 73,
        "text": "— Валери, сможешь повторить рисунок?"
      },
      {
        "id": 74,
        "text": "— Ты делала амулет неудачи? "
      }
    ]
  },
  {
    "id": 71,
    "text": "empty",
    "answers": [
      {
        "id": 71,
        "text": "Эшли только отмахнулся.\n\n",
        "var_less": [
          "p71",
          3
        ],
        "merge": true
      },
      {
        "id": 71,
        "text": "Валери нахмурилась и поставила посуду на стол. Следующую шишку она поймала в полёте и швырнула обратно. Получив отпор, Эшли довольно усмехнулся и попятился к лесу, по пути подбирая шишки и безостановочно кидая их в Валери.\n\nЭто заметила Пенни и обеспечила подруге поддержу перекрёстным огнём. Назревала массовая перестрелка.",
        "merge": true
      },
      {
        "var_add": [
          "tediousness",
          1
        ],
        "var_equal": [
          "p71",
          3
        ],
        "id": 89,
        "text": "[ Покинуть поле боя, пока не поздно ]",
        "var_set": [
          "p89",
          1
        ]
      },
      {
        "id": 90,
        "text": "[ Бросить шишку в Эшли ]",
        "var_set": [
          "p90",
          1
        ]
      },
      {
        "id": 91,
        "text": "[ Бросить шишку в Валери ]",
        "var_set": [
          "p91",
          1
        ]
      },
      {
        "id": 90,
        "text": "[ Бросить шишку в Адриана ]",
        "var_set": [
          "p90",
          2
        ]
      },
      {
        "id": 91,
        "text": "[ Бросить шишку в Пенни ]",
        "var_set": [
          "p91",
          2
        ]
      },
      {
        "id": 91,
        "text": "[ Бросить шишку в Лейлу ]",
        "var_set": [
          "p91",
          3
        ]
      }
    ]
  },
  {
    "id": 72,
    "text": "Терренс протянул Лейле ",
    "answers": [
      {
        "id": 72,
        "text": "браслет.",
        "lua_if": "function lua_if()\nreturn artifact <= 2 or artifact == 6\nend",
        "merge": true
      },
      {
        "id": 72,
        "text": "\n\n— Какая прелесть! — восхитилась девчонка. — Но я такое постоянно теряю, а с шеи амулет точно никуда не денется.",
        "var_no_more": [
          "artifact",
          2
        ],
        "merge": true
      },
      {
        "id": 72,
        "text": "закладку.",
        "var_equal": [
          "artifact",
          3
        ],
        "merge": true
      },
      {
        "id": 72,
        "text": "брелок.",
        "merge": true,
        "var_equal": [
          "artifact",
          4
        ]
      },
      {
        "id": 72,
        "text": "плащ.",
        "merge": true,
        "var_equal": [
          "artifact",
          5
        ]
      },
      {
        "id": 72,
        "text": "\n\n— Спасибо, но зачем мне это? — удивилась девчонка. — Я кулон хочу.",
        "var_need": [
          "artifact",
          3
        ],
        "merge": true
      },
      {
        "id": 73,
        "text": "— Валери, сможешь повторить рисунок?"
      }
    ]
  },
  {
    "id": 73,
    "text": "— Не уверена, но попробую.<s>r\n<s>r\nОна вооружилась карандашом и принялась переносить узор с амулета Лейлы. Вырезать его Терренс не собирался. Когда Валери закончила, он обвёл контур рисунка клеем и выложил по нему тонкий белый шнурок.<s>r\n<s>r\n— Как я сама не догадалась? Это же так просто! — Лейла порывисто обняла Терренса. — Спасибо!<s>r\n",
    "answers": [
      {
        "need_ever": true,
        "lua_if": "function lua_if()\nreturn not g.achievements.friendLayla\nend",
        "id": 73,
        "text": "\n\n\n— ✧ — ✧ — ✧ — \nРазблокировано достижение:\n✩  Друг Лейлы",
        "merge": true
      },
      {
        "id": 81,
        "text": "— Этот узор что-то значит?",
        "var_add": [
          "curiosity",
          1
        ],
        "lua_do": "function lua_do()\nif not g.achievements.friendLayla then\n   g.achievements.friendLayla = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend"
      },
      {
        "id": 82,
        "text": "— Валери, а ты что сделала?",
        "lua_do": "function lua_do()\nif not g.achievements.friendLayla then\n   g.achievements.friendLayla = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend"
      }
    ]
  },
  {
    "id": 74,
    "text": "— Нет, чтобы помочь, ты ещё издеваешься?! — возмутилась Валери.<s>r\n<s>r\n— Я не виноват, что у неё лапки! — попытался оправдаться Терренс.<s>r\n<s>r\n— Да как тебе не стыдно! Джентльмены так себя не ведут!<s>r\n<s>r\n— Что не делают джентльмены? — подошедший Адриан посмотрел на Терренса, на Лейлу, и улыбка сползла с его лица. — Понятно… Как говорит мой друг Бадди, починить можно всё, кроме подорванного доверия. <s>r\n<s>r\nОн жестом попросил Терренса уйти, сел на место Лейлы и взял нож.",
    "answers": [
      {
        "id": 80,
        "text": "[ Вернуться к чтению ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 75,
    "text": "Идея была сомнительная. Терренс надеялся, что среди пачек макарон и круп удастся найти хотя бы пачку печенья. Но, обойдя тент, он увидел совсем не то, что ожидал.<s>r\n<s>r\nНа столе в беспорядке валялись ножи, поварёшки и немытые овощи. На земле лежал большой кусок мяса, над которым кружили мухи. В тазу с водой громоздились тарелки и чашки, некоторые треснули. Нормально выглядела только огромная кастрюля на походной плите, огонь не горел.",
    "answers": [
      {
        "id": 78,
        "text": "[ Позвать Сэмюэля ]"
      }
    ]
  },
  {
    "id": 76,
    "text": "empty",
    "answers": [
      {
        "id": 76,
        "text": "Неужели водитель автобуса ещё и повар? Терренс вспомнил, что по приезду не видел ни его, ни директора лагеря даже мельком. ",
        "need": [
          -37
        ],
        "merge": true
      },
      {
        "id": 76,
        "text": "Неужели загадочный Директор ещё и повар? Терренс вспомнил, что по приезду не видел его даже мельком. Впрочем, как и других взрослых.",
        "need": [
          37
        ],
        "merge": true
      },
      {
        "id": 76,
        "text": "\n\nКак ни странно, обойдя тент, Терренс никого не застал. На походной плите что-то бурлило в огромной кастрюле. На столе лежали разделочные доски с недорезанными морковью и картошкой. Всё выглядело так, будто повар только что покинул кухню по срочному делу.",
        "merge": true
      },
      {
        "id": 84,
        "text": "[ Подождать повара ]",
        "var_add": [
          "curiosity",
          1
        ]
      },
      {
        "id": 85,
        "text": "[ Вернуться к остальным ]"
      }
    ]
  },
  {
    "id": 77,
    "text": "— В лесу много всяких тайн и секретиков, — затараторила Пенни. — Например, грибы. Грибочки чувствуют магию и вырастают кругами вокруг тех мест, где колдовали ведьмы. Или, может быть, это у ведьм волшебство получается сильнее, если творить его в кругу грибов? Но тогда приходилось бы искать грибные кольца для каждого колдунства, а это сложно и так надоедает. Так что, пожалуй, сначала ведьмы волшебствуют, а потом грибочки появляются, а тем злее колдунство, тем ядовитее гриб. Если кто-то болезнь насылает, то там, конечно, мухоморы вырастают. А если наоборот, хорошее волшебство, то грузди, большие и хрустящие, и их на следующий день можно собирать и солить. А когда…",
    "answers": [
      {
        "id": 83,
        "text": "— Стоп!",
        "var_set": [
          "p83",
          0
        ]
      }
    ]
  },
  {
    "id": 78,
    "text": "Сэм показывал Эшли, как аккуратно вырезать детали из куска выделанной кожи.<s>r\n<s>r\n— Бардак на кухне? — непонимающе повторил он. — Что ты вообще там делал?<s>r\n<s>r\nТерренс скрестил руки на груди.<s>r\n<s>r\n— Гулял. Я ничего не трогал, честно.<s>r\n<s>r\nС сомнением покосившись на него, Сэмюэль поднялся и направился к кухонному тенту. Вернулся он мрачнее тучи.<s>r\n<s>r\n— Так, ребятня, обед немного задерживается. У вас есть время, чтобы доделать амулеты, ну или сами придумайте, чем себя занять.",
    "answers": [
      {
        "var_add": [
          "curiosity",
          1
        ],
        "var_equal": [
          "p51",
          3
        ],
        "id": 79,
        "text": "— Пенни, давай проведём эксперимент и замерим твою скорость речи?",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_day.png\")\nend"
      },
      {
        "id": 80,
        "text": "[ Вернуться к чтению ]"
      }
    ]
  },
  {
    "id": 79,
    "text": "— Да! — она даже подпрыгнула от радости. — А как?<s>r\n<s>r\n— Нам понадобятся секундомер, блокнот и тихое место.<s>r\n<s>r\nТерренс прихватил из палатки оборудование и потянул Пенни к тропинке, уходящей в лес. Они отошли от лагеря шагов на пятьдесят и ещё видели палатки, но этого хватило, чтобы чужие голоса стихли.<s>r\n<s>r\n— Я засеку время, а ты говори. Так быстро, как можешь.<s>r\n<s>r\n— Что говорить? — не поняла Пенни.<s>r\n<s>r\n— Что угодно говори, главное, осознанно, не стихи и не песни.<s>r\n<s>r\nДевчонка кивнула.",
    "answers": [
      {
        "id": 77,
        "text": "— Поехали!"
      },
      {
        "text": "Обнуляет проклятие Пенни, если оно было",
        "super_calculate": false,
        "id": 79,
        "calculate": true,
        "need": [
          65
        ],
        "var_sub": [
          "tediousness",
          2
        ]
      }
    ]
  },
  {
    "id": 80,
    "text": "empty",
    "answers": [
      {
        "id": 80,
        "text": "Что бы там ни случилось, Терренса это не касалось. ",
        "need": [
          66,
          -70
        ],
        "merge": true
      },
      {
        "id": 80,
        "text": "До обеда ещё оставалось время, а у Терренса — недочитанная глава. Он вернулся на облюбованное место под кустом орешника и погрузился в основы мироздания, замаскированные под учебник по физике для технического колледжа.\n\nА потом звуки флейты вновь позвали к столу. Но теперь на нём стояли глубокие тарелки с золотистым супом и с густым рагу. От ароматов желудок урчал в предвкушении.",
        "merge": true
      },
      {
        "id": 88,
        "text": "[ Приняться за еду ]",
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/food2.png"
        ]
      }
    ]
  },
  {
    "id": 81,
    "text": "— Бабушка говорит, что эти символы помогают сосредоточиться, трезво мыслить. Мои предки…<s>r\n<s>r\nЕё перебила подлетевшая Пенни.<s>r\n<s>r\n— Посмотрите, что у меня! Волшебный браслет!<s>r\n<s>r\nОна оплела свой кристалл верёвочками. Держался камень на честном слове, но девчонка была в восторге. Валери и Лейле тоже понравилась безделушка.",
    "answers": [
      {
        "var_add": [
          "curiosity",
          1
        ],
        "var_equal": [
          "p51",
          3
        ],
        "id": 79,
        "text": "— Пенни, давай проведём эксперимент и замерим твою скорость речи?",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_day.png\")\nend"
      },
      {
        "id": 80,
        "text": "[ Вернуться к чтению ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 82,
    "text": "— Я… я ещё не успела. Надеюсь, закончу до завтра. Сэмюэль говорил, что завтра мы...<s>r\n<s>r\nЕё перебила подлетевшая Пенни.<s>r\n<s>r\n— Посмотрите, что у меня! Волшебный браслет!<s>r\n<s>r\nОна оплела свой кристалл верёвочками. Держался камень на честном слове, но девчонка была в восторге. Валери и Лейле тоже понравилась безделушка.",
    "answers": [
      {
        "var_add": [
          "curiosity",
          1
        ],
        "var_equal": [
          "p51",
          3
        ],
        "id": 79,
        "text": "— Пенни, давай проведём эксперимент и замерим твою скорость речи?",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_day.png\")\nend"
      },
      {
        "id": 80,
        "text": "[ Вернуться к чтению ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 83,
    "text": "Пенни оборвалась на полуслове.<s>r\n<s>r\n— Сколько? Сколько?!<s>r\n<s>r\nТерренс подсчитывал количество чёрточек, которые ставил в блокноте на каждое произнесённое слово.<s>r\n<s>r\n— Да подожди, надо ещё десяток замеров, для точности. Готова?<s>r\n<s>r\n— Ага.",
    "answers": [
      {
        "id": 83,
        "text": "\n\n— На старт,",
        "merge": true,
        "var_equal": [
          "p83",
          1
        ]
      },
      {
        "id": 83,
        "text": "\n\n— На старт, внимание, ",
        "var_equal": [
          "p83",
          2
        ],
        "merge": true
      },
      {
        "var_add": [
          "p83",
          1
        ],
        "var_equal": [
          "p83",
          0
        ],
        "id": 83,
        "text": "— На старт,",
        "instant": true
      },
      {
        "var_add": [
          "p83",
          1
        ],
        "var_equal": [
          "p83",
          1
        ],
        "id": 83,
        "text": "— Внимание,",
        "instant": true
      },
      {
        "id": 87,
        "text": "— Марш!",
        "lua_do": "function lua_do()\np83 = nil\nend",
        "var_equal": [
          "p83",
          2
        ]
      }
    ]
  },
  {
    "id": 84,
    "text": "Постояв некоторое время у стола, Терренс стащил кружочек моркови. Повар не возвращался. Из кастрюли ароматно пахло мясным бульоном.<s>r\n<s>r\nТерренс подождал ещё немного, затем обошёл лагерь, тщательно высматривая взрослого, но никого не заметил. Когда он возвратился на кухню, овощей на столе уже не было.",
    "answers": [
      {
        "id": 85,
        "text": "[ Вернуться к остальным ]"
      }
    ]
  },
  {
    "id": 85,
    "text": "Эшли ещё корпел над амулетом, но другие уже закончили мастерить. Сэмюэль и Валери убирали со стола материалы. Пенни хвасталась Адриану и Лейле браслетом — она оплела свой кристалл верёвочками. Держался камень на честном слове, но девчонка была в восторге.<s>r\n<s>r\nЛейла выглядела расстроенной, на её пальце красовался пластырь.",
    "answers": [
      {
        "var_add": [
          "curiosity",
          1
        ],
        "var_equal": [
          "p51",
          3
        ],
        "id": 79,
        "text": "— Пенни, давай проведём эксперимент и замерим твою скорость речи?",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_day.png\")\nend"
      },
      {
        "id": 86,
        "instant": false,
        "text": "— Что-то случилось?"
      },
      {
        "id": 80,
        "text": "[ Вернуться к чтению ]"
      }
    ]
  },
  {
    "id": 86,
    "text": "— Всё нормально, — сказала Лейла.<s>r\n<s>r\nАдриан покачал головой и пояснил:<s>r\n<s>r\n— Кто-то слишком гордый, чтобы просить помощи. Она поранилась, когда делала амулет, и подарки тоже принимать отказывается. ",
    "answers": [
      {
        "var_add": [
          "curiosity",
          1
        ],
        "var_equal": [
          "p51",
          3
        ],
        "id": 79,
        "text": "— Пенни, давай проведём эксперимент и замерим твою скорость речи?",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_day.png\")\nend"
      },
      {
        "id": 80,
        "text": "[ Вернуться к чтению ]"
      }
    ]
  },
  {
    "id": 87,
    "text": "Пенни трещала без устали, а Терренс всё больше поражался её неуёмной фантазии. В какой-то момент Пенни начала рассказывать о своих родственниках. Терренс быстро запутался в многочисленных дядях, тётях, братьях и сёстрах, о которых Пенни говорила с неизбывным восхищением. Казалось, её человеколюбие не знает границ.<s>r\n<s>r\n— В два раза быстрее нормы, — подытожил Терренс. — Насчёт режиссёра не знаю, а рэпером ты можешь стать запросто.<s>r\n<s>r\nИх позвали назад звуки флейты. На столе стояли глубокие тарелки с золотистым супом и с густым рагу. От ароматов желудок урчал в предвкушении.",
    "answers": [
      {
        "id": 87,
        "text": "\n\n\n— ✧ — ✧ — ✧ — \nРазблокировано достижение:\n✩  Друг Пенни",
        "lua_if": "function lua_if()\nreturn not g.achievements.friendPenny\nend",
        "merge": true
      },
      {
        "id": 88,
        "text": "[ Приняться за еду ]",
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/food2.png"
        ],
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nif not g.achievements.friendPenny then\n   g.achievements.friendPenny = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend"
      }
    ]
  },
  {
    "id": 88,
    "text": "В руках Валери громоздилась гора грязных тарелок.<s>r\n<s>r\n— Только посмотри на эту примерную хозяюшку, — хмыкнул Эшли и запустил в девочку шишкой.<s>r\n<s>r\nОна вскрикнула, обернулась и увидела ухмыляющуюся физиономию.<s>r\n<s>r\n— Зачем ты это сделал?! <s>r\n<s>r\nЭшли не ответил. Он бросил новую шишку и попал Валери в плечо. ",
    "answers": [
      {
        "id": 71,
        "text": "— Прекрати! ",
        "var_set": [
          "p71",
          1
        ]
      },
      {
        "id": 71,
        "text": "[ Бросить шишку в Эшли ]",
        "var_set": [
          "p71",
          2
        ]
      },
      {
        "id": 71,
        "text": "[ Не вмешиваться ]",
        "var_set": [
          "p71",
          3
        ]
      }
    ]
  },
  {
    "id": 89,
    "text": "Когда крики стихли, в палатку влез запыхавшийся Адриан.<s>r\n<s>r\n— Зачем ты ушёл? — спросил он. — Ты пропустил всё веселье.",
    "answers": [
      {
        "super_calculate": false,
        "var_equal": [
          "p89",
          1
        ],
        "id": 89,
        "text": "считаем грубость. нуль",
        "calculate": true,
        "var_set": [
          "p89_o",
          0
        ]
      },
      {
        "text": "считаем грубость. Обидел Лейлу",
        "var_add": [
          "89_o",
          1
        ],
        "super_calculate": false,
        "id": 89,
        "calculate": true,
        "need": [
          74
        ],
        "var_equal": [
          "p89",
          1
        ]
      },
      {
        "calculate": true,
        "var_add": [
          "89_o",
          1
        ],
        "super_calculate": false,
        "id": 89,
        "text": "считаем грубость. Обидел Пенни",
        "need": [
          -79
        ],
        "var_equal": [
          "p51",
          4,
          "p89",
          1
        ]
      },
      {
        "var_add": [
          "89_o",
          1
        ],
        "var_equal": [
          "p54",
          1,
          "p89",
          1
        ],
        "id": 89,
        "calculate": true,
        "super_calculate": false,
        "text": "считаем грубость. Обидел Валери"
      },
      {
        "var_add": [
          "89_o",
          1
        ],
        "super_calculate": false,
        "id": 89,
        "text": "считаем грубость. Обидел Эшли",
        "calculate": true,
        "var_equal": [
          "p55",
          2,
          "p89",
          1
        ]
      },
      {
        "var_add": [
          "89_o",
          1
        ],
        "super_calculate": false,
        "id": 89,
        "text": "считаем грубость. Обидел Адриана",
        "var_equal": [
          "p52",
          1,
          "p89",
          1
        ],
        "calculate": true
      },
      {
        "id": 89,
        "text": "\n\nВзгляд Адриана упал на учебник. Парень нахмурился. \n\n— Знаешь, Терренс, твоя страсть к науке помогла бы завести друзей, если бы ты не считал себя лучше других.",
        "var_more": [
          "p89",
          2
        ],
        "merge": true
      },
      {
        "var_more": [
          "p89_o",
          2
        ],
        "var_add": [
          "tediousness",
          1
        ],
        "var_equal": [
          "p89",
          1
        ],
        "id": 99,
        "instant": false,
        "text": "— Тебя забыл спросить.",
        "merge": false
      },
      {
        "merge": false,
        "text": "— Я не считаю себя лучше других.",
        "var_equal": [
          "p89",
          1
        ],
        "id": 89,
        "instant": true,
        "var_more": [
          "p89_o",
          2
        ],
        "var_set": [
          "p89",
          2
        ]
      },
      {
        "var_equal": [
          "p89",
          2
        ],
        "id": 89,
        "text": "\n\n— Я не считаю себя лучше других.\n\n— Если так, пошли к остальным. Сэмюэль подготовил что-то интересное.",
        "var_more": [
          "p89_o",
          2
        ],
        "merge": true
      },
      {
        "id": 89,
        "text": "\n\nВзгляд Адриана упал на учебник. \n\n— Знаешь, книга никуда не убежит, а Сэмюэль подготовил что-то интересное.",
        "var_no_more": [
          "p89_o",
          2
        ],
        "merge": true
      },
      {
        "id": 99,
        "text": "— Я почитаю до ужина.",
        "lua_if": "function lua_if()\nreturn p89 == 2 or p89_o < 3\nend",
        "var_add": [
          "tediousness",
          1
        ]
      },
      {
        "id": 96,
        "text": "— Хорошо, пойдём.",
        "lua_if": "function lua_if()\nreturn p89 == 2 or p89_o < 3\nend"
      }
    ]
  },
  {
    "id": 90,
    "text": "empty",
    "answers": [
      {
        "id": 90,
        "text": "Ничего не подозревающий Адриан ойкнул и рассмеялся.\n\n— ",
        "merge": true,
        "var_equal": [
          "p90",
          2
        ]
      },
      {
        "var_equal": [
          "p90",
          2
        ],
        "id": 90,
        "var_more": [
          "tediousness",
          "curiosity"
        ],
        "text": "А ты не безнадёжен! ",
        "merge": true
      },
      {
        "id": 90,
        "text": "Зададим им жару, Бадди!\n\n",
        "merge": true,
        "var_equal": [
          "p90",
          2
        ]
      },
      {
        "id": 90,
        "text": "Разразилась битва, и не было в ней союзов. ",
        "merge": true
      },
      {
        "id": 90,
        "text": "Даже Адриан палил шишками в кого попало.",
        "merge": true,
        "var_equal": [
          "p90",
          2
        ]
      },
      {
        "comment": true,
        "text_color": [
          0.9,
          0,
          0.4
        ],
        "id": 90,
        "text": "\n\n\nВнимание! Сейчас начнётся мини-игра на скорость реакции. Терренс должен уворачиваться от вражеских шишек, подбирать упавшие и бросать их в любых противников.\n",
        "merge": false
      },
      {
        "id": 20,
        "text": "[ В бой! ]",
        "lua_do": "function lua_do()\ncones, lives, hits = 0, 5, 0\nbuttons = {0,0,0,0,0,0,0,0}\navsa = true\nemptyStr = \"\"\nend"
      }
    ]
  },
  {
    "id": 91,
    "text": "empty",
    "answers": [
      {
        "id": 91,
        "text": "Лейла не успела скрыться в палатке, как собиралась. Снаряд Терренса вынудил её вступить в битву против мальчиков.",
        "merge": true,
        "var_equal": [
          "p91",
          3
        ]
      },
      {
        "id": 91,
        "text": "— Ах, так?! — возмущённо вскрикнула Пенни. — Ну держитесь, мальчишки!",
        "var_less": [
          "p91",
          3
        ],
        "merge": true
      },
      {
        "comment": true,
        "text_color": [
          0.9,
          0,
          0.4
        ],
        "id": 91,
        "text": "\n\n\nВнимание! Сейчас начнётся мини-игра на скорость реакции. Терренс должен уворачиваться от вражеских шишек, подбирать упавшие и бросать их в девочек. Попадания по мальчикам будут отнимать жизни. \n",
        "merge": false
      },
      {
        "id": 20,
        "text": "[ В бой! ]",
        "lua_do": "function lua_do()\ncones, lives, hits = 0, 10, 0\nbuttons = {0,0,0,0,0,0,0,0}\navsa = false\nemptyStr = \"\"\nend"
      }
    ]
  },
  {
    "id": 92,
    "text": "empty",
    "answers": [
      {
        "id": 92,
        "text": "Девчонки одна за другой подняли руки вверх. Может быть, в этой победе чести было немного, но мальчики радостно завопили.",
        "lua_if": "function lua_if()\nreturn lives > 5 and not avsa\nend",
        "merge": true
      },
      {
        "id": 92,
        "text": "Сложно было сказать, кому досталась победа — все выбились из сил, но выглядели вполне счастливыми. ",
        "lua_if": "function lua_if()\nif avsa then\n  return lives <= 3\nelse\n  return lives > 0 and lives <= 5\nend\nend",
        "merge": true
      },
      {
        "id": 92,
        "text": "Терренс поднял руки вверх, за ним — Адриан. Последним сдался Эшли. Девчонки радостно завизжали. Не смотря на поражение, мальчики выглядели вполне довольными.",
        "lua_if": "function lua_if()\nreturn hp == 0 and not avsa\nend",
        "merge": true
      },
      {
        "id": 92,
        "text": "Один за другим подростки поднимали вверх руки. Последним сдался Эшли.\n\n— А ботаник-то не промах, — сказал он.",
        "lua_if": "function lua_if()\nreturn avsa and lives > 3\nend",
        "merge": true
      },
      {
        "id": 92,
        "text": "\n\n— Йод кому-нибудь нужен? — поинтересовался Сэмюэль и помахал аптечкой.\n\nК нему сразу же бросилась Пенни. Пострадала она не столько от шишек, сколько от неудачного падения.\n\n— Мне, мне! Ой, Валери, у тебя такая царапина, давай обработаю!\n\nПрежде, чем пойти за подругой, рыжая оглянулась на Эшли.",
        "merge": true
      },
      {
        "id": 93,
        "text": "— Эшли, зачем ты это затеял?",
        "lua_if": "function lua_if()\nif p55 ~= 2 then\n   return lives > 0\nelseif avsa then\n   return lives > 3\nelse\n   return lives > 7 \nend\nend",
        "lua_do": "function lua_do()\nfriendAshley = true\nend"
      },
      {
        "id": 94,
        "text": "— Эшли, зачем ты это затеял?",
        "lua_if": "function lua_if()\nif p55 ~= 2 then return false\nelseif avsa then\n   return lives <= 3\nelse\n   return lives <= 7 \nend\nend",
        "var_set": [
          "p94",
          0,
          "p94_o",
          0
        ]
      },
      {
        "id": 95,
        "text": "— Эшли, зачем ты это затеял?",
        "var_not": [
          "p55",
          2
        ],
        "var_equal": [
          "lives",
          0
        ]
      },
      {
        "id": 96,
        "text": "[ Заняться обработкой боевых ранений ]"
      }
    ]
  },
  {
    "id": 93,
    "text": "Парень довольно усмехнулся.<s>r\n<s>r\n— Если наша скромняшка хочет фехтовать, то должна привыкать к синякам.<s>r\n<s>r\n— Боевой дух у неё отменный, — заметил Адриан. — Когда вернёмся, постараюсь переубедить её родителей. Если не получится у меня, отец точно сможет.<s>r\n<s>r\n— Она должна сделать это сама, — безапелляционно отрезал Эшли.<s>r\n<s>r\n— У тебя есть план?<s>r\n<s>r\n— Добуду пару мечей. Пойдёте со мной?<s>r\n<s>r\nАдриан продемонстрировал два больших пальца.<s>r\n<s>r\n— Отличная идея, но я хочу посмотреть, что ещё подготовил для нас Сэмюэль.",
    "answers": [
      {
        "id": 97,
        "text": "— Я пойду.",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_day.png\")\nend"
      },
      {
        "id": 96,
        "text": "— Я тоже останусь."
      }
    ]
  },
  {
    "id": 94,
    "text": "— Не твоё дело, ботаник.<s>r\n<s>r\n Эшли и демонстративно направился прочь. <s>r\n<s>r\n— Ты его обидел, — заметил Адриан. ",
    "answers": [
      {
        "merge": false,
        "var_equal": [
          "p94",
          0,
          "p54",
          1,
          "p51",
          4
        ],
        "text": "обидел всех",
        "super_calculate": false,
        "id": 94,
        "calculate": true,
        "need": [
          -79,
          74
        ],
        "var_set": [
          "p94_o",
          1
        ]
      },
      {
        "var_set": [
          "p94_o",
          2
        ],
        "super_calculate": false,
        "calculate": true,
        "var_equal": [
          "p94",
          0,
          "p54",
          1
        ],
        "id": 94,
        "text": "обидел Лейлу и Валери, но не Пенни",
        "need": [
          74
        ],
        "merge": false
      },
      {
        "var_set": [
          "p94_o",
          3
        ],
        "super_calculate": false,
        "calculate": true,
        "var_equal": [
          "p94",
          0,
          "p54",
          1,
          "p51",
          4
        ],
        "id": 94,
        "text": "обидел Пенни и Валери, но не Лейлу",
        "need": [
          -79,
          -74
        ],
        "merge": false
      },
      {
        "id": 94,
        "text": "обидел Пенни и Лейлу, но не Валери",
        "need": [
          -79,
          74
        ],
        "var_not": [
          "p54",
          1
        ],
        "super_calculate": false,
        "var_set": [
          "p94_o",
          4
        ],
        "calculate": true,
        "var_equal": [
          "p94",
          0,
          "p51",
          4
        ],
        "merge": false
      },
      {
        "id": 94,
        "text": " — Вообще-то, ты только и делаешь, что всех обижаешь. Знаешь, Терренс, если тебе здесь не нравится, это не повод портить отдых другим.",
        "merge": true,
        "var_equal": [
          "p94_o",
          1
        ]
      },
      {
        "id": 94,
        "var_more": [
          "p94_o",
          1
        ],
        "text": "— Да и девочкам нагрубил.",
        "merge": true
      },
      {
        "merge": false,
        "instant": true,
        "var_add": [
          "tediousness",
          1
        ],
        "var_equal": [
          "p94",
          0
        ],
        "id": 94,
        "var_more": [
          "p94_o",
          0
        ],
        "text": "— Тебя забыл спросить.",
        "var_set": [
          "p94",
          1
        ]
      },
      {
        "var_set": [
          "p94",
          2
        ],
        "instant": true,
        "var_equal": [
          "p94",
          0
        ],
        "id": 94,
        "text": "[ Пристыжённо уставиться в землю ]",
        "var_more": [
          "p94_o",
          0
        ],
        "merge": false
      },
      {
        "id": 94,
        "text": "\n\n— Тебя забыл спросить, — огрызнулся Терренс.\n\n— Что же, тогда не ожидай, что к тебе будут относиться иначе.\n\nОн ушёл прежде, чем Терренс успел что-то ответить.",
        "merge": true,
        "var_equal": [
          "p94",
          1
        ]
      },
      {
        "id": 94,
        "text": "\n\nЗаметив смущение Терренса, Адриан улыбнулся и похлопал его по плечу.\n\n— Но они не злопамятные. Да и Эшли пытается казаться жестче, чем есть. Ты сможешь найти с ним общий язык, если захочешь, конечно.\n\nОн кивнул на лес, где за деревьями мелькала удаляющаяся спина Эшли, и ушёл прежде, чем Терренс успел что-то ответить.",
        "merge": true,
        "var_equal": [
          "p94",
          2
        ]
      },
      {
        "id": 94,
        "text": "— Но он не такой грубый, каким пытается казаться. Ты сможешь найти с ним общий язык, если захочешь, конечно.\n\nОн кивнул на лес, где за деревьями мелькала удаляющаяся спина Эшли, и ушёл прежде, чем Терренс успел что-то ответить.",
        "merge": true,
        "var_equal": [
          "p94",
          0,
          "p94_o",
          0
        ]
      },
      {
        "id": 98,
        "text": "[ Следить за Эшли ]",
        "lua_if": "function lua_if()\nreturn (p94 == 0 and p94_o == 0) or p94 == 2\nend",
        "var_add": [
          "curiosity",
          1
        ]
      },
      {
        "id": 96,
        "text": "[ Заняться обработкой боевых ранений ]",
        "lua_if": "function lua_if()\nreturn (p94 == 0 and p94_o == 0) or p94 > 0\nend",
        "var_equal": [
          "p94",
          5
        ]
      }
    ]
  },
  {
    "id": 95,
    "text": "— Дерёшься хуже девчонки, — бросил Эшли и демонстративно направился прочь. <s>r\n<s>r\n— Он не такой грубый, каким пытается казаться, — заметил Адриан. — Ты сможешь найти с ним общий язык, если захочешь.<s>r\n<s>r\nОн кивнул на лес, где за деревьями мелькала удаляющаяся спина Эшли, и ушёл прежде, чем Терренс успел что-то ответить.",
    "answers": [
      {
        "id": 98,
        "text": "[ Следить за Эшли ]",
        "var_add": [
          "curiosity",
          1
        ]
      },
      {
        "id": 96,
        "text": "[ Заняться обработкой боевых ранений ]"
      }
    ]
  },
  {
    "id": 96,
    "text": "empty",
    "answers": [
      {
        "id": 96,
        "text": "Терренс отложил учебник и вылез из палатки. Девчонки ещё обрабатывали йодом царапины, полученные в шишечном бою. Пенни ободрала коленку.\n\n",
        "need": [
          89
        ],
        "merge": true
      },
      {
        "id": 96,
        "text": "— Как хотите.\n\nЭшли пожал плечами и направился в лес.\n\n",
        "need": [
          93
        ],
        "merge": true
      },
      {
        "id": 96,
        "text": "Дождавшись, когда ему вернут аптечку, Сэмюэль захлопал в ладоши, привлекая внимание.\n\n— Я смотрю, не обошлось без потерь, — усмехнулся он, обведя подопечных взглядом и не найдя Эшли. — Займёмся кое-чем более безопасным.\n\nСэмюэль жестом поманил всех к столу и высыпал на него гладкие камешки из мешочка.\n\n— Кельтские руны. Употреблялись в письменности, при гадании, при создании оберегов. Мы выучим несколько слов, можете добавить их на свои амулеты. ",
        "merge": true
      },
      {
        "id": 100,
        "text": "[ Внимательно слушать ]",
        "lua_do": "function lua_do()\nconatus = 1\ncurStr = \"TRU\"\nuserStr = \"\"\ntime = 4\nautorun = nil\nrb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = false, false, false, false, false, false, false, false, false, false\nend"
      },
      {
        "id": 99,
        "text": "[ Уйти в палатку и читать до ужина ]",
        "var_add": [
          "tediousness",
          1
        ]
      }
    ]
  },
  {
    "id": 97,
    "text": "Эшли прихватил рюкзак из палатки и направился прямиком в лес. Внимательно осматриваясь, он уходил всё дальше от лагеря, который вскоре потерялся за деревьями.<s>r\n<s>r\nТерренс едва поспевал за Эшли. Ветки кустов цеплялись за одежду, густая трава так и норовила спутать ноги. Терренс несколько раз запнулся о выступающие корни деревьев и подскользнулся на камне. Эшли же шёл спокойно, словно по просторной улице, лишь иногда отводил с пути ветки и что-то перешагивал.",
    "answers": [
      {
        "id": 109,
        "text": "— А нельзя было по тропинке?",
        "var_set": [
          "p109",
          1
        ]
      },
      {
        "id": 109,
        "text": "— Что мы вообще ищем?",
        "var_set": [
          "p109",
          2
        ]
      }
    ]
  },
  {
    "id": 98,
    "text": "Терренс последовал за Эшли, стараясь быть незаметным, и едва поспевал за ним. Ветки кустов цеплялись за одежду, густая трава так и норовила спутать ноги. Терренс несколько раз запнулся о выступающие корни деревьев и подскользнулся на камне. <s>r\n<s>r\nЭшли же шёл спокойно, словно по просторной улице, лишь иногда отводил с пути ветки и что-то перешагивал. На плече у него висел рюкзак. Эшли уходил всё дальше от лагеря. Вскоре палатки вовсе потерялись за деревьями. Иногда парень наклонялся и что-то разглядывал под ногами.",
    "answers": [
      {
        "id": 125,
        "text": "[ Подобраться ближе ]"
      }
    ]
  },
  {
    "id": 99,
    "text": "empty",
    "answers": [
      {
        "id": 99,
        "text": "— Хуже, чем жить в одиночестве, может быть только желание жить в одиночестве, — сказал Адриан и ушёл.",
        "need": [
          89,
          -96
        ],
        "merge": true
      },
      {
        "id": 99,
        "text": "Эту антинаучную чушь можно было бы вынести, если бы Сэмюэль рассказывал о культуре, но с точки зрения магии руны совершенно не интересовали Терренса.\n\nСквозь брезент палатки проникало достаточно света, чтобы можно было с головой погрузиться в учебник.",
        "need": [
          96
        ],
        "merge": true
      },
      {
        "id": 99,
        "text": "\n\nТерренс читал, пока не начало темнеть, и потом, в свете фонарика, пока снова не заиграла флейта.",
        "merge": true
      },
      {
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "text": "[ Вылезти из палатки ]",
        "id": 110,
        "var_no_more": [
          "tediousness",
          "curiosity"
        ]
      },
      {
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "var_more": [
          "tediousness",
          "curiosity"
        ],
        "text": "[ Вылезти из палатки ]",
        "id": 111
      }
    ]
  },
  {
    "id": 100,
    "text": "empty",
    "answers": [
      {
        "id": 100,
        "text": "— Ты ошибся. Попробуй ещё раз.",
        "lua_if": "function lua_if()\nreturn conatus > 1 and time > 0\nend",
        "merge": true
      },
      {
        "id": 100,
        "text": "— Первое слово — «вера». Без веры никакое волшебство не произойдёт, — сказал Сэмюэль. — Повторите, чтобы запомнить.",
        "var_equal": [
          "conatus",
          1
        ],
        "merge": true
      },
      {
        "id": 100,
        "text": "— Верно!",
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "merge": true
      },
      {
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "lua_do": "function lua_do()\nconatus = 1\ncurStr = \"VISKA\"\nuserStr = \"\"\ntime = 4\nend",
        "text": "— Что дальше?",
        "id": 101,
        "merge": false
      },
      {
        "var_show": [
          "time",
          " с"
        ],
        "comment": true,
        "id": 100,
        "lua_do": "function lua_do()\ntime = time - 1\nif time == 0 then\n   rb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = true, true, true, true, true, true, true, true, true, true\nend\nend",
        "text": "\nНовая попытка через: ",
        "update": [
          1
        ],
        "var_more": [
          "time",
          0
        ]
      },
      {
        "lua_if": "function lua_if()\nlocal strLen = string.len(userStr)\nreturn strLen > 0 and (userStr ~= string.sub(curStr, 1, strLen))\nend",
        "super_calculate": false,
        "id": 100,
        "calculate": true,
        "lua_do": "function lua_do()\nconatus = conatus <plus> 1\ntime = 5\nuserStr = \"\"\nrb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = false, false, false, false, false, false, false, false, false, false\nend",
        "text": "Проверяем, нет ли ошибки. Если есть -- перезапуск"
      },
      {
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "super_calculate": false,
        "id": 100,
        "calculate": true,
        "text": "Слово завершено",
        "lua_do": "function lua_do()\nrb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = false, false, false, false, false, false, false, false, false, false\nend"
      },
      {
        "super_calculate": true,
        "lua_do": "function lua_do()\nimages[\"table\"].isVisible = false\nimages[\"TRU\"].isVisible = false\nimages[\"TR\"].isVisible = false\nimages[\"T\"].isVisible = false\n\nif string.len(userStr) > 0 then\n  images[userStr].isVisible = true\nelseif time > 0  then\n   images[\"TRU\"].isVisible = true\nelse\n   images[\"table\"].isVisible = true\nend\nend",
        "text": "Убираем картинки, ставим нужную",
        "id": 100,
        "calculate": false
      },
      {
        "super_calculate": true,
        "var_equal": [
          "time",
          5
        ],
        "lua_do": "function lua_do()\nimages[\"table\"].isVisible = true\nend",
        "calculate": false,
        "text": "Убираем картинки, ставим нужную",
        "id": 100
      },
      {
        "id": 100,
        "text": "TRU",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/TRU.jpg"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/F.png"
        ],
        "lua_if": "function lua_if()\nreturn rb1\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"F\"\nrb1 = false\nend",
        "id": 100,
        "text": " \nФеху              ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/D.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb2\nend",
        "id": 100,
        "text": " \nДагаз             ",
        "instant": true,
        "lua_do": "function lua_do()\nuserStr = userStr .. \"D\"\nrb2 = false\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/S.png"
        ],
        "lua_if": "function lua_if()\nreturn rb3\nend",
        "id": 100,
        "lua_do": "function lua_do()\nuserStr = userStr .. \"S\"\nrb3 = false\nend",
        "text": " \nСоулу            ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/T.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb4\nend",
        "id": 100,
        "text": " \nТиваз             ",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"T\"\nrb4 = false\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/R.png"
        ],
        "lua_if": "function lua_if()\nreturn rb5\nend",
        "id": 100,
        "lua_do": "function lua_do()\nuserStr = userStr .. \"R\"\nrb5 = false\nend",
        "text": " \nРайдо            ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/P.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb6\nend",
        "id": 100,
        "text": " \nПерт              ",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"P\"\nrb6 = false\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/L.png"
        ],
        "lua_if": "function lua_if()\nreturn rb7\nend",
        "id": 100,
        "lua_do": "function lua_do()\nuserStr = userStr .. \"L\"\nrb7 = false\nend",
        "text": " \nЛагуз             ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/Z.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb8\nend",
        "id": 100,
        "text": " \nАльгиз           ",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"Z\"\nrb8 = false\nend",
        "instant": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/K.png"
        ],
        "lua_if": "function lua_if()\nreturn rb9\nend",
        "id": 100,
        "lua_do": "function lua_do()\nuserStr = userStr .. \"K\"\nrb9 = false\nend",
        "text": " \nКеназ             ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/U.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb10\nend",
        "id": 100,
        "text": " \nУруз               ",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"U\"\nrb10 = false\nend",
        "instant": true
      },
      {
        "id": 100,
        "text": "TR",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/TR.jpg"
      },
      {
        "id": 100,
        "text": "T",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/T.jpg"
      },
      {
        "id": 100,
        "text": "table",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/table.jpg"
      }
    ]
  },
  {
    "id": 101,
    "text": "empty",
    "answers": [
      {
        "id": 100,
        "text": "— Ты ошибся. Попробуй ещё раз.",
        "lua_if": "function lua_if()\nreturn conatus > 1 and time > 0\nend",
        "merge": true
      },
      {
        "id": 100,
        "text": "— Следующее слово — «мудрость». Использовать магию надлежит с умом, и никогда — из эгоистичных соображений.",
        "merge": true,
        "var_equal": [
          "conatus",
          1
        ]
      },
      {
        "id": 100,
        "text": "— А у тебя талант.",
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "merge": true
      },
      {
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "id": 102,
        "text": "— Что дальше?",
        "lua_do": "function lua_do()\nconatus = 1\ncurStr = \"KRAFTUR\"\nuserStr = \"\"\ntime = 4\nend",
        "merge": false
      },
      {
        "var_show": [
          "time",
          " с"
        ],
        "comment": true,
        "var_more": [
          "time",
          0
        ],
        "lua_do": "function lua_do()\ntime = time - 1\nif time == 0 then\n   rb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = true, true, true, true, true, true, true, true, true, true\nend\nend",
        "text": "\nНовая попытка через: ",
        "update": [
          1
        ],
        "id": 100
      },
      {
        "lua_if": "function lua_if()\nlocal strLen = string.len(userStr)\nreturn strLen > 0 and (userStr ~= string.sub(curStr, 1, strLen))\nend",
        "super_calculate": false,
        "id": 100,
        "calculate": true,
        "text": "Проверяем, нет ли ошибки. Если есть -- перезапуск",
        "lua_do": "function lua_do()\nconatus = conatus <plus> 1\ntime = 5\nuserStr = \"\"\nrb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = false, false, false, false, false, false, false, false, false, false\nend"
      },
      {
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "super_calculate": false,
        "id": 100,
        "calculate": true,
        "lua_do": "function lua_do()\nrb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = false, false, false, false, false, false, false, false, false, false\nend",
        "text": "Слово завершено"
      },
      {
        "super_calculate": true,
        "id": 100,
        "text": "Убираем картинки, ставим нужную",
        "calculate": false,
        "lua_do": "function lua_do()\nimages[\"table\"].isVisible = false\nimages[\"VISKA\"].isVisible = false\nimages[\"VISK\"].isVisible = false\nimages[\"VIS\"].isVisible = false\nimages[\"VI\"].isVisible = false\nimages[\"V\"].isVisible = false\n\nif string.len(userStr) > 0 then\n  images[userStr].isVisible = true\nelseif time > 0  then\n   images[\"VISKA\"].isVisible = true\nelse\n   images[\"table\"].isVisible = true\nend\nend"
      },
      {
        "id": 100,
        "super_calculate": true,
        "lua_do": "function lua_do()\nimages[\"table\"].isVisible = true\nend",
        "calculate": false,
        "text": "Убираем картинки, ставим нужную",
        "var_equal": [
          "time",
          5
        ]
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/I.png"
        ],
        "lua_if": "function lua_if()\nreturn rb1\nend",
        "id": 101,
        "lua_do": "function lua_do()\nuserStr = userStr .. \"I\"\nrb1 = false\nend",
        "text": " \nИса                ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/D.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb2\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"D\"\nrb2 = false\nend",
        "instant": true,
        "id": 101,
        "text": " \nДагаз             "
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/U.png"
        ],
        "lua_if": "function lua_if()\nreturn rb3\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"U\"\nrb3 = false\nend",
        "id": 101,
        "text": " \nУруз               ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/T.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb4\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"T\"\nrb4 = false\nend",
        "instant": true,
        "id": 101,
        "text": " \nТиваз             "
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/K.png"
        ],
        "lua_if": "function lua_if()\nreturn rb5\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"K\"\nrb5 = false\nend",
        "id": 101,
        "text": " \nКеназ             ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/V.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb6\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"V\"\nrb6 = false\nend",
        "instant": true,
        "id": 101,
        "text": " \nТурисаз         "
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/L.png"
        ],
        "lua_if": "function lua_if()\nreturn rb7\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"L\"\nrb7 = false\nend",
        "id": 101,
        "text": " \nЛагуз             ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/A.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb8\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"A\"\nrb8 = false\nend",
        "instant": true,
        "id": 101,
        "text": " \nАнсуз             "
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/F.png"
        ],
        "lua_if": "function lua_if()\nreturn rb9\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"F\"\nrb9 = false\nend",
        "id": 101,
        "text": " \nФеху              ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/S.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb10\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"S\"\nrb10 = false\nend",
        "instant": true,
        "id": 101,
        "text": " \nСоулу            "
      },
      {
        "id": 101,
        "text": "VISKA",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/VISKA.jpg"
      },
      {
        "id": 101,
        "text": "VISK",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/VISK.jpg"
      },
      {
        "id": 101,
        "text": "VIS",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/VIS.jpg"
      },
      {
        "id": 101,
        "text": "VI",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/VI.jpg"
      },
      {
        "id": 101,
        "text": "V",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/V.jpg"
      },
      {
        "id": 101,
        "text": "table",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/table.jpg"
      }
    ]
  },
  {
    "id": 102,
    "text": "empty",
    "answers": [
      {
        "id": 100,
        "text": "— Ты ошибся. Попробуй ещё раз.",
        "lua_if": "function lua_if()\nreturn conatus > 1 and time > 0\nend",
        "merge": true
      },
      {
        "id": 100,
        "text": "— Это слово означает силу и энергию, которые использует заклинатель. Это могут быть как внутренние ресурсы, так и внешние, например, силы природы.",
        "merge": true,
        "var_equal": [
          "conatus",
          1
        ]
      },
      {
        "id": 100,
        "text": "— Молодец! На этом наш урок закончен.\n\nСэмюэль начал собирать руны в мешочек.",
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "merge": true
      },
      {
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "var_set": [
          "autorun",
          6
        ],
        "id": 103,
        "text": "[ Уйти ]",
        "lua_do": "function lua_do()\nsceneImageUrl = \n\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\"\nend",
        "merge": false
      },
      {
        "merge": false,
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "id": 104,
        "lua_do": "function lua_do()\nsceneImageUrl = \n\"http://188.120.236.127/aleks_otter/magical_weekend/runes/HUGREKKI.jpg\"\nend",
        "text": "— Покажи ещё пару слов?",
        "var_add": [
          "curiosity",
          1
        ],
        "var_set": [
          "autorun",
          6
        ]
      },
      {
        "var_show": [
          "time",
          " с"
        ],
        "comment": true,
        "var_more": [
          "time",
          0
        ],
        "lua_do": "function lua_do()\ntime = time - 1\nif time == 0 then\n   rb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = true, true, true, true, true, true, true, true, true, true\nend\nend",
        "text": "\nНовая попытка через: ",
        "update": [
          1
        ],
        "id": 100
      },
      {
        "lua_if": "function lua_if()\nlocal strLen = string.len(userStr)\nreturn strLen > 0 and (userStr ~= string.sub(curStr, 1, strLen))\nend",
        "super_calculate": false,
        "id": 100,
        "calculate": true,
        "text": "Проверяем, нет ли ошибки. Если есть -- перезапуск",
        "lua_do": "function lua_do()\nconatus = conatus <plus> 1\ntime = 5\nuserStr = \"\"\nrb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = false, false, false, false, false, false, false, false, false, false\nend"
      },
      {
        "lua_if": "function lua_if()\nreturn userStr == curStr\nend",
        "super_calculate": false,
        "id": 100,
        "calculate": true,
        "lua_do": "function lua_do()\nrb1, rb2, rb3, rb4, rb5, rb6, rb7, rb8, rb9, rb10 = false, false, false, false, false, false, false, false, false, false\nend",
        "text": "Слово завершено"
      },
      {
        "super_calculate": true,
        "id": 100,
        "text": "Убираем картинки, ставим нужную",
        "calculate": false,
        "lua_do": "function lua_do()\nimages[\"table\"].isVisible = false\nimages[\"KRAFTUR\"].isVisible = false\nimages[\"KRAFTU\"].isVisible = false\nimages[\"KRAFT\"].isVisible = false\nimages[\"KRAF\"].isVisible = false\nimages[\"KRA\"].isVisible = false\nimages[\"KR\"].isVisible = false\nimages[\"K\"].isVisible = false\n\nif string.len(userStr) > 0 then\n  images[userStr].isVisible = true\nelseif time > 0  then\n   images[\"KRAFTUR\"].isVisible = true\nelse\n   images[\"table\"].isVisible = true\nend\nend"
      },
      {
        "id": 100,
        "super_calculate": true,
        "lua_do": "function lua_do()\nimages[\"table\"].isVisible = true\nend",
        "calculate": false,
        "text": "Убираем картинки, ставим нужную",
        "var_equal": [
          "time",
          5
        ]
      },
      {
        "id": 102,
        "text": "TRU",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/TRU.jpg"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/F.png"
        ],
        "lua_if": "function lua_if()\nreturn rb1\nend",
        "id": 102,
        "lua_do": "function lua_do()\nuserStr = userStr .. \"F\"\nrb1 = false\nend",
        "text": " \nФеху              ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/A.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb2\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"A\"\nrb2 = false\nend",
        "instant": true,
        "id": 102,
        "text": " \nАнсуз             "
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/S.png"
        ],
        "lua_if": "function lua_if()\nreturn rb3\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"S\"\nrb3 = false\nend",
        "id": 102,
        "text": " \nСоулу            ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/T.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb4\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"T\"\nrb4 = false\nend",
        "instant": true,
        "id": 102,
        "text": " \nТиваз             "
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/R.png"
        ],
        "lua_if": "function lua_if()\nreturn rb5\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"R\"\nrb5 = false\nend",
        "id": 102,
        "text": " \nРайдо            ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/P.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb6\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"P\"\nrb6 = false\nend",
        "instant": true,
        "id": 102,
        "text": " \nПерт              "
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/Z.png"
        ],
        "lua_if": "function lua_if()\nreturn rb7\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"Z\"\nrb7 = false\nend",
        "id": 102,
        "text": " \nАльгиз           ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/R.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb8\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"R\"\nrb8 = false\nend",
        "instant": true,
        "id": 102,
        "text": " \nРайдо            "
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/K.png"
        ],
        "lua_if": "function lua_if()\nreturn rb9\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"K\"\nrb9 = false\nend",
        "id": 102,
        "text": " \nКеназ             ",
        "instant": true,
        "left_answer": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/runes_icons/U.png"
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nreturn rb10\nend",
        "lua_do": "function lua_do()\nuserStr = userStr .. \"U\"\nrb10 = false\nend",
        "instant": true,
        "id": 102,
        "text": " \nУруз               "
      },
      {
        "id": 102,
        "text": "KRAFTUR",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/KRAFTUR.jpg"
      },
      {
        "id": 102,
        "text": "KRAFTU",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/KRAFTU.jpg"
      },
      {
        "id": 102,
        "text": "KRAFT",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/KRAFT.jpg"
      },
      {
        "id": 102,
        "text": "KRAF",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/KRAF.jpg"
      },
      {
        "id": 102,
        "text": "KRA",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/KRA.jpg"
      },
      {
        "id": 102,
        "text": "KR",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/KR.jpg"
      },
      {
        "id": 102,
        "text": "K",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/K.jpg"
      },
      {
        "id": 102,
        "text": "table",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/table.jpg"
      }
    ]
  },
  {
    "id": 103,
    "text": "Солнце клонилось к горизонту. Из леса вышел Эшли. Он нёс пару метровых палок, потом выпросил у Сэмюэля куски кожи и принялся обматывать ею трофеи.<s>r\n<s>r\nДевочки расположились на ковриках у палатки. Валери плела что-то из полосок кожи, Пенни привычно наседала ей на уши, а Лейла просто дремала.<s>r\n<s>r\nБлизилось время ужина. Сэм скрылся за кухонным тентом. Терренс задумался, что за весь день так и не видел ни одного взрослого. Он подошёл к девчонкам.",
    "answers": [
      {
        "id": 105,
        "text": "— Вы не видели того человека, который вёл автобус?"
      },
      {
        "id": 106,
        "text": "— Как думаете, кто готовит нам еду?"
      }
    ]
  },
  {
    "id": 104,
    "text": "Сэмюэль взглянул на солнце, оно клонилось к горизонту.<s>r\n<s>r\n— Запоминай быстро, не то ужинать будем ночью.<s>r\n<s>r\nВожатый сложил руны в слова.<s>r\n<s>r\n— Это слово означает храбрость, которая требуется человеку, чтобы реализовать свой потенциал.",
    "answers": [
      {
        "id": 107,
        "text": "[ Запомнить ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/runes/NSN.jpg\")\nend"
      }
    ]
  },
  {
    "id": 105,
    "text": "Пенни пожала плечами.<s>r\n<s>r\n— Может быть, он всё время сидит в палатке? Или по лесу гуляет.<s>r\n<s>r\nЛейла приоткрыла один глаз и посмотрела на Терренса.<s>r\n<s>r\n— Его давно здесь нет.<s>r\n<s>r\n— Что это значит? — Терренс оглянулся. Автобус был припаркован там же, где остановился по приезду.<s>r\n<s>r\n— Запасись терпением, завтра ты всё узнаешь.<s>r\n<s>r\nЛейла снова притворилась спящей, показывая, что разговор окончен. Послышались звуки флейты.",
    "answers": [
      {
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "text": "[ Подойти к Сэмюэлю ]",
        "id": 110,
        "var_no_more": [
          "tediousness",
          "curiosity"
        ]
      },
      {
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "var_more": [
          "tediousness",
          "curiosity"
        ],
        "text": "[ Подойти к Сэмюэлю ]",
        "id": 111
      }
    ]
  },
  {
    "id": 106,
    "text": "Пенни пожала плечами.<s>r\n<s>r\n— Может быть тот мистер, который вёл автобус?<s>r\n<s>r\nЛейла приоткрыла один глаз и посмотрела на Терренса.<s>r\n<s>r\n— Сэмюэль, конечно. Не мешай ему.<s>r\n<s>r\n— Сэм не может находится в двух местах одновременно.<s>r\n<s>r\n— Никто не может. Запасись терпением, завтра он поделится своими секретами.<s>r\n<s>r\nЛейла снова притворилась спящей, показывая, что разговор окончен. Послышались звуки флейты.",
    "answers": [
      {
        "id": 110,
        "text": "[ Подойти к Сэмюэлю ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "var_no_more": [
          "tediousness",
          "curiosity"
        ]
      },
      {
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "text": "[ Подойти к Сэмюэлю ]",
        "id": 111,
        "var_more": [
          "tediousness",
          "curiosity"
        ]
      }
    ]
  },
  {
    "id": 107,
    "text": "— Кроме того руны несут смысл сами по себе. Кельты верили, что они сохранят силу даже когда остальная магия иссякнет. Эта руническая формула рассеивает негативные эффекты. И вот теперь нам действительно пора заканчивать.<s>r\n<s>r\nСэмюэль собрал руны и скрылся за кухонным тентом. Но спустя всего несколько минут он снова заиграл на флейте, привлекая общее внимание.",
    "answers": [
      {
        "id": 110,
        "text": "[ Подойти ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "var_no_more": [
          "tediousness",
          "curiosity"
        ]
      },
      {
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "text": "[ Подойти ]",
        "id": 111,
        "var_more": [
          "tediousness",
          "curiosity"
        ]
      }
    ]
  },
  {
    "id": 108,
    "text": "   ",
    "answers": [
      {
        "id": 108,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/NSN.jpg"
      },
      {
        "id": 108,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/runes/HUGREKKI.jpg"
      }
    ]
  },
  {
    "id": 109,
    "text": "empty",
    "answers": [
      {
        "id": 109,
        "text": "— Мечи на дороге не валяются, — отозвался Эшли. \n\n",
        "merge": true,
        "var_equal": [
          "p109",
          1
        ]
      },
      {
        "id": 109,
        "text": "— Нам нужны палки длиной от бедра до земли. Достаточно крепкие, чтобы выдержать удар по дереву. Для Валери немного короче.",
        "merge": true
      },
      {
        "id": 113,
        "text": "— Какие-то конкретные палки?"
      },
      {
        "id": 114,
        "text": "[ Сломать низко растущую ветку ]"
      },
      {
        "id": 115,
        "text": "[ Отломать невысокий сухостой ]"
      }
    ]
  },
  {
    "id": 110,
    "text": "— Кто умеет разводить костёр? — спросил вожатый, когда убедился, что все слушают. <s>r\n<s>r\nЭшли и Валери подняли руки.<s>r\n<s>r\n— Вы двое принесите с кухни еду, остальные берут это, — Сэм протянул коробок спичек, — и мучаются, пока что-нибудь не получится.<s>r\n<s>r\nКостёр разгорелся с пятой попытки. К тому моменту на столе появился ужин — салаты и ароматное картофельное пюре с сочными котлетами.<s>r\n<s>r\nКогда все поели, Сэмюэль принёс к костру огромный пакет маршмэллоу и деревянные шпажки. Пока подростки жарили сладости, он самозабвенно играл на флейте. Мелодия убаюкивала.",
    "answers": [
      {
        "id": 112,
        "text": "[ Идти спать ]",
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "var_set": [
          "p112",
          1
        ]
      }
    ]
  },
  {
    "id": 111,
    "text": "— Ужин будем готовить самостоятельно, — объявил Сэмюэль, когда убедился, что все слушают. — На кухне вы найдёте мясо, шампуры и картошку. Кто умеет разводить костёр?<s>r\n<s>r\nЭшли и Валери подняли руки.<s>r\n<s>r\n— Вы двое — за продуктами, остальные берут это, — Сэм протянул коробок спичек, — и мучаются, пока что-нибудь не получится.<s>r\n<s>r\nКостёр разгорелся с пятой попытки, шашлыки подгорели, картофель напротив был сырой в середине. Сэмюэль самозабвенно играл на флейте. К моменту, когда подростки поужинали, совершенно стемнело. <s>r\n<s>r\nМелодия убаюкивала.",
    "answers": [
      {
        "id": 112,
        "text": "[ Идти спать ]",
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "var_set": [
          "p112",
          1
        ]
      }
    ]
  },
  {
    "id": 112,
    "text": "— Мальчики?",
    "answers": [
      {
        "id": 112,
        "text": "— ?…",
        "var_set": [
          "p112",
          2
        ],
        "var_equal": [
          "p112",
          1
        ]
      },
      {
        "id": 112,
        "text": "\n\n— Мальчики!",
        "var_more": [
          "p112",
          1
        ],
        "merge": true
      },
      {
        "id": 112,
        "text": "— Ммм…",
        "var_equal": [
          "p112",
          2
        ],
        "var_set": [
          "p112",
          3
        ]
      },
      {
        "id": 112,
        "text": "\n\n— А ну просыпайтесь!\n\nВнезапно загорелся свет. Терренс закрыл глаза рукой.\n\n— Пенни, какого чёрта? — сонно возмутился Эшли. — Исчезни из нашей палатки!\n\n— Лейла пропала, — дрожжащим голосом пожаловалась девочка.\n\nВалери пояснила, не отрывая взгляд от пола:\n\n— Мы обошли лагерь, но её нигде нет. Похоже, она ушла в лес.",
        "var_more": [
          "p112",
          2
        ],
        "merge": true
      },
      {
        "id": 128,
        "text": "— И чего ты хочешь от нас? ",
        "var_more": [
          "p112",
          2
        ]
      },
      {
        "id": 129,
        "text": "— Надо рассказать Сэмюэлю.",
        "var_more": [
          "p112",
          2
        ]
      }
    ]
  },
  {
    "id": 113,
    "text": "Эшли склонился над поваленным деревом и придирчиво его осмотрел, отодрал кусок коры. Там копошились муравьи.<s>r\n<s>r\n— Ищи дерево не сырое и не слишком сухое, не поражённое насекомыми. Нам нужны всего три ветки. Чем прямее, тем лучше. Учти, что все сучки нужно будет срезать, а с осины снять кору. Берёза обычно узловатая и может быть трухлявой внутри, даже если выглядит нормально. Хвойные тоже не годятся, у них шершавая кора, да и в смоле перепачкаемся.<s>r\n<s>r\nЭта тирада немало озадачила Терренса. Он ещё не слышал от Эшли столько слов разом.",
    "answers": [
      {
        "id": 116,
        "text": "— Похоже, ты хорошо разбираешься в растениях."
      },
      {
        "id": 117,
        "text": "— Так это ты здесь ботаник, а не я!",
        "var_add": [
          "tediousness",
          1
        ]
      }
    ]
  },
  {
    "id": 114,
    "text": "Терренс с силой потянул ветку невысокого клёна. Ветка скрипнула и наклонилась, но поддаваться не желала. Тогда Терренс подпрыгнул и повис на ней всем весом. <s>r\n<s>r\n— Ты что творишь?! — зарычал Эшли и ударил Терренса кулаком в живот.<s>r\n<s>r\nОт боли Терренс выпустил несчастную ветку и повалился на землю.<s>r\n<s>r\n— Ты псих?! — крикнул он.<s>r\n<s>r\n— Эта ветка старше тебя, придурок!",
    "answers": [
      {
        "id": 121,
        "text": "[ Успокоиться и признать вину ]"
      },
      {
        "id": 122,
        "text": "[ Возмущаться ]"
      }
    ]
  },
  {
    "id": 115,
    "text": "Безжизненный ствол поддался легко.<s>r\n<s>r\n— Ну-ка дай.<s>r\n<s>r\nЭшли забрал палку из рук Терренса и с размаху ударил ею о ствол дуба. Палка разлетелась на части, в ладони Эшли остался короткий острый обломок.<s>r\n<s>r\n— Не годится, — заключил парень и побрёл дальше.",
    "answers": [
      {
        "id": 113,
        "text": "— Нужны какие-то конкретные палки?"
      },
      {
        "id": 114,
        "text": "[ Сломать низко растущую ветку ]",
        "need": [
          -98
        ]
      }
    ]
  },
  {
    "id": 116,
    "text": "Парень недоверчиво оглянулся на Терренса.<s>r\n<s>r\n— Люблю природу. Отец часто брал меня в походы, пока… — он осёкся. — Однажды мы жили в лесу целую неделю. Ставили силки на птиц и зайцев.<s>r\n<s>r\n— И ели?!<s>r\n<s>r\n— Отпустили всех, кроме одного. Нет смысла охотиться ради забавы. Но разделывать дичь отец меня научил. Смотри, ольха. Рядом есть вода.",
    "answers": [
      {
        "id": 118,
        "text": "— Я думал, ты обычный хулиган, но твои знания просто поразительны!",
        "var_set": [
          "p118",
          1
        ]
      },
      {
        "id": 118,
        "text": "— Так ты изображаешь грубияна, чтобы тебя не сочли ботаником?",
        "var_set": [
          "p118",
          2
        ]
      }
    ]
  },
  {
    "id": 117,
    "text": "Эшли зло прищурился.",
    "answers": [
      {
        "id": 117,
        "text": "\n\n— Ты тащился за мной, чтобы получить в челюсть? ",
        "need": [
          98
        ],
        "merge": true
      },
      {
        "id": 117,
        "text": "\n\n— Очень хочешь получить в челюсть? ",
        "need": [
          97
        ],
        "merge": true
      },
      {
        "id": 117,
        "text": "Проваливай! Дорогу найдёшь, протоптал.\n\nОн развернулся и быстрым шагом скрылся за густой порослью. Пока Терренс продирался сквозь цепкие ветки, Эшли уже и след простыл.",
        "merge": true
      },
      {
        "id": 123,
        "text": "[ Вернуться в лагерь ]",
        "var_add": [
          "tediousness",
          1
        ],
        "lua_do": "function lua_do()\nfriendAshley = false\nend"
      }
    ]
  },
  {
    "id": 118,
    "text": "empty",
    "answers": [
      {
        "id": 118,
        "text": "— Продолжай думать, как думал, — буркнул Эшли, но заметно расслабился.\n\n",
        "merge": true,
        "var_equal": [
          "p118",
          1
        ]
      },
      {
        "id": 118,
        "text": "— Сболтнёшь кому-нибудь — нос сломаю, — пригрозил Эшли, но заметно расслабился.\n\n",
        "var_equal": [
          "p118",
          2
        ],
        "merge": true
      },
      {
        "id": 118,
        "text": "Спустя некоторое время Терренс убедился, что найти в лесу упавшее дерево не так просто. Но Эшли будто знал, куда идти. Земля под ногами становилась каменистее, и подростки вышли к ручью. На его берегу подходящий валежник нашёлся быстро.\n\nЭшли достал из рюкзака пугающих размеров нож и срубил со ствола четыре ветви.",
        "merge": true
      },
      {
        "id": 119,
        "text": "— Откуда у тебя нож?!",
        "var_set": [
          "p119",
          1
        ]
      },
      {
        "id": 119,
        "text": "— Почему четыре?",
        "var_set": [
          "p119",
          2
        ]
      }
    ]
  },
  {
    "id": 119,
    "text": "empty",
    "answers": [
      {
        "id": 119,
        "text": "— Только дурак идёт в лес без ножа и огнива, — казалось, Эшли даже удивился. ",
        "merge": true,
        "var_equal": [
          "p119",
          1
        ]
      },
      {
        "id": 119,
        "text": "— Прозапас или Чармингу, — казалось, Эшли даже удивился. — Второй раз я в такую даль не попрусь.",
        "var_equal": [
          "p119",
          2
        ],
        "merge": true
      },
      {
        "id": 119,
        "text": "\n\nОн обтесал мелкие веточки, срезал тонкую верхушку. Вскоре перед ним лежали четыре дрына. Терренс посмотрел на небо — солнце начало клониться к горизонту. Внезапно он осознал, что совершенно не представляет, в какой стороне находится лагерь.\n\n— Пора возвращаться, — сказал Эшли и протянул Терренсу бутылку воды.\n\n— А как?\n\n— Эх ты, теоретик… Палки хоть понеси.",
        "merge": true
      },
      {
        "id": 119,
        "text": "\n\n\n— ✧ — ✧ — ✧ — \nРазблокировано достижение:\n✩  Друг Эшли",
        "lua_if": "function lua_if()\nreturn not g.achievements.friendAshley\nend",
        "merge": true
      },
      {
        "id": 120,
        "text": "[ Идти за Эшли ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nif not g.achievements.friendAshley then\n   g.achievements.friendAshley = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nfriendAshley = true\nend"
      }
    ]
  },
  {
    "id": 120,
    "text": "Терренс понятия не имел, на что ориентировался Эшли, но к лагерю они подошли к наступлению сумерек. <s>r\n<s>r\n— Явились, — усмехнулся Сэмюэль. — Вы как раз вовремя.<s>r\n<s>r\n— Сэм, можно я возьму ещё пару листов кожи? — спросил Эшли.<s>r\n<s>r\nВожатый согласно кивнул.<s>r\n<s>r\n— Без проблем, но после ужина.<s>r\n<s>r\nОн достал из кармана флейту и заиграл, привлекая общее внимание.",
    "answers": [
      {
        "id": 110,
        "text": "[ Слушать ]",
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) < 3\nend",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend"
      },
      {
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "text": "[ Слушать ]",
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) >= 3\nend",
        "id": 111
      }
    ]
  },
  {
    "id": 121,
    "text": " Не без труда Терренс восстановил дыхание.<s>r\n<s>r\n— Мне не следовало этого делать, — сказал он.<s>r\n<s>r\n— Мы гости в этом лесу. Веди себя прилично, — буркнул Эшли.<s>r\n<s>r\nРазвивать конфликт он явно не собирался.",
    "answers": [
      {
        "id": 124,
        "text": "— Вот уж не думал, что ты гринписовец."
      }
    ]
  },
  {
    "id": 122,
    "text": "— И что с того?! Это был бы отличный меч!<s>r\n<s>r\nРазъярённый Эшли схватил Терренса за грудки и толкнул на ствол дерева.<s>r\n<s>r\n— Какой тебе меч? Ты гость в этом лесу, а ведёшь себя как паршивая свинья! Проваливай! Дорогу найдёшь, протоптал.<s>r\n<s>r\nОн развернулся, и, пока Терренс переводил дух, скрылся за густой порослью.",
    "answers": [
      {
        "id": 123,
        "text": "[ Вернуться в лагерь ]",
        "var_add": [
          "tediousness",
          1
        ]
      }
    ]
  },
  {
    "id": 123,
    "text": "Найти обратный путь оказалось не так просто. Терренс и не подумал свериться со сторонами света, когда покидал лагерь. Спустя некоторое время, помянув Эшли всеми дурными словами, какие мог придумать, Терренс набрёл на тропинку и по ней вышел к лагерю.<s>r\n<s>r\nСгущались сумерки.<s>r\n<s>r\n— Явился, — мрачно констатировал Сэмюэль. — Даже бунтарь уже вернулся.<s>r\n<s>r\nОн кивнул на Эшли, который обматывал палку полосами кожи. Потом Сэм достал из кармана флейту и заиграл, привлекая общее внимание.Терренс понятия не имел, на что ориентировался Эшли, но к лагерю они подошли к наступлению сумерек. <s>r\n<s>r\n— Явились, — усмехнулся Сэмюэль. — Вы как раз во время.<s>r\n<s>r\n— Сэм, можно я возьму ещё пару листов кожи? — спросил Эшли.<s>r\n<s>r\nВожатый согласно кивнул.<s>r\n<s>r\n— Без проблем, но после ужина.<s>r\n<s>r\nОн достал из кармана флейту и заиграл, привлекая общее внимание.",
    "answers": [
      {
        "id": 110,
        "text": "[ Слушать ]",
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) < 3\nend",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend"
      },
      {
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend",
        "text": "[ Слушать ]",
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) >= 3\nend",
        "id": 111
      }
    ]
  },
  {
    "id": 124,
    "text": "Эшли хмыкнул и побрёл дальше.<s>r\n<s>r\n— Я люблю природу. Отец часто брал меня в походы. Даже научил ставить силки на птиц и зайцев.<s>r\n<s>r\nТерренс живо представил судьбу несчастных животных. Его замутило.<s>r\n<s>r\n— Много поймал?<s>r\n<s>r\n— Отпустил всех, кроме одного. Нет смысла охотиться ради забавы. Смотри, ольха. Тут рядом болото.",
    "answers": [
      {
        "id": 118,
        "text": "— Я думал, ты обычный хулиган, но твои умения впечатляют.",
        "var_set": [
          "p118",
          1
        ]
      },
      {
        "id": 118,
        "text": "— Так ты изображаешь грубияна, чтобы тебя не сочли ботаником?",
        "var_set": [
          "p118",
          2
        ]
      }
    ]
  },
  {
    "id": 125,
    "text": "Воспользовавшись густой порослью, Терренс сократил расстояние и с удивлением обнаружил, что Эшли внимательно рассматривал цветы.<s>r\n<s>r\n— Шумишь, как слон, — сказал парень и обернулся.<s>r\n<s>r\nТерренс сконфужено выбрался из своего укрытия.<s>r\n<s>r\n— Давно ты меня заметил?<s>r\n<s>r\nЭшли хмыкнул, скрестил руки на груди и упёрся в Терренса выжидающим взглядом. ",
    "answers": [
      {
        "id": 126,
        "text": "— Разбираешься в растениях?"
      },
      {
        "id": 117,
        "text": "— Гербарий собираешь, Рэмбо?"
      }
    ]
  },
  {
    "id": 126,
    "text": "Терренс кивнул на невзрачный кустик, от которого только что оторвался Эшли.<s>r\n<s>r\n— В этом лесу много редких видов, — угрюмо пояснил парень.<s>r\n<s>r\n— Так ты изображаешь грубияна, чтобы тебя не сочли ботаником?<s>r\n<s>r\n— Сболтнёшь кому-нибудь — нос сломаю, — пригрозил Эшли, но немного расслабился. — Раз уж ты здесь, помоги. Нужна пара палок длиной от бедра до земли. Достаточно крепкий, чтобы выдержать удар по дереву. ",
    "answers": [
      {
        "id": 127,
        "text": "— А зачем?"
      },
      {
        "id": 115,
        "text": "[ Сломать невысокий сухостой ]"
      }
    ]
  },
  {
    "id": 127,
    "text": "— Ты слышал, скромняшка хочет фехтовать. Достанем ей меч.<s>r\n<s>r\nЭшли склонился над поваленным деревом и придирчиво его осмотрел, отодрал кусок коры. Там копошились муравьи.<s>r\n<s>r\n— Ищи дерево не сырое и не слишком сухое, не поражённое насекомыми. Чем прямее ветки, тем лучше. Учти, что все сучки нужно будет срезать, а с осины снять кору. ",
    "answers": [
      {
        "id": 118,
        "text": "[ Высматривать валежник ]",
        "var_set": [
          "118",
          3
        ]
      }
    ]
  },
  {
    "id": 128,
    "text": "— Как что?! — от возмущения Пенни притопнула ногой. — Мы должны её найти!<s>r\n<s>r\n— Ночью? В лесу? — скептически уточнил Эшли. — Ты днём-то север не определишь.<s>r\n<s>r\n— Да как ты не понимаешь! Она там совсем одна! В темноте!<s>r\n<s>r\nОна тряхнула фонариком. ",
    "answers": [
      {
        "id": 128,
        "text": "Свет фонаря выразительно мигнул.",
        "var_no_more": [
          "tediousness",
          "curiosity"
        ],
        "merge": true
      },
      {
        "id": 128,
        "text": "\n\n—  Если вы не хотите идти, мы с Валери пойдём вдвоём!\n\nПенни вылетела из палатки, её подруга — следом. Эшли выругался и начал одеваться.",
        "merge": true
      },
      {
        "id": 130,
        "text": "— Ты-то куда?"
      }
    ]
  },
  {
    "id": 129,
    "text": "— Тогда Лейле влетит! — Возмутилась Пенни. — Мы должны найти её сами!<s>r\n<s>r\n— Ночью? В лесу? — скептически уточнил Эшли. — Ты днём-то север не определишь.<s>r\n<s>r\n— Да как ты не понимаешь! Она там совсем одна! В темноте!<s>r\n<s>r\nОна тряхнула фонариком. ",
    "answers": [
      {
        "id": 128,
        "text": "Свет фонаря выразительно мигнул.",
        "merge": true,
        "var_no_more": [
          "tediousness",
          "curiosity"
        ]
      },
      {
        "id": 128,
        "text": "\n\nВалери тихо кашлянула.\n\n— Вряд ли она ушла далеко.\n\n— Если даже ты не хочешь идти со мной, я пойду одна!\n\nПенни выскочила из палатки, и за ней — Валери. Эшли выругался и начал одеваться.",
        "merge": true
      },
      {
        "id": 130,
        "text": "— Ты-то куда?"
      }
    ]
  },
  {
    "id": 130,
    "text": "empty",
    "answers": [
      {
        "id": 130,
        "text": "— Заблудятся одни. Как рассветёт, приведу обратно. ",
        "lua_if": "function lua_if()\n   return friendAshley\nend",
        "merge": true
      },
      {
        "id": 130,
        "text": "Эшли не ответил. ",
        "lua_if": "function lua_if()\n   return not friendAshley\nend",
        "merge": true
      },
      {
        "id": 130,
        "text": "\n\nАдриан приложил ладонь к лицу и тоже засобирался. \n\n— Бадди говорит, команда должна держаться вместе, — обречённо пояснил он.\n\n— Да вы чокнутые!",
        "merge": true
      },
      {
        "id": 132,
        "text": "[ Идти со всеми ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_night.png\")\nend"
      },
      {
        "id": 131,
        "text": "[ Искать Сэмюэля ]"
      }
    ]
  },
  {
    "id": 131,
    "text": "— Возьми фонарик и тёплые вещи, — бросил Эшли Адриану. Сам он прихватил рюкзак.<s>r\n<s>r\nПарни выскочили из палатки и рванули за девочками.<s>r\n<s>r\nТерренс нехотя поплёлся через лагерь к палатке Сэмюэля. Но когда он откинул полог, обнаружил лишь нетронутую постель. Похоже, Сэм первым заметил отсутствие Лейлы и пошёл её искать.<s>r\n<s>r\nСо стороны тропинки маячили четыре фонарика. Внимательно оглядевшись, Терренс заметил едва различимый проблеск в чаще леса.<s>r\n",
    "answers": [
      {
        "id": 133,
        "text": "[ Идти к одинокому огоньку ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/forest_night.png\")\nend"
      }
    ]
  },
  {
    "id": 132,
    "text": "— Возьмите фонарики и тёплые вещи, — бросил Эшли. Сам он прихватил рюкзак.<s>r\n<s>r\nПарни выскочили из палатки и, стараясь не шуметь, рванули за девочками. Те уже покинули лагерь, лишь фонарик мелькал вдалеке.<s>r\n<s>r\n— Пенни, почему мы идём по тропинке? — спросил запыхавшийся Адриан.<s>r\n<s>r\n— Зачем бы Лейле гулять в чаще? Если мы не найдём её на тропинке, то вернёмся и поищем вокруг лагеря.",
    "answers": [
      {
        "id": 149,
        "text": "— Это звучит разумнее, чем предложение потеряться в лесу."
      }
    ]
  },
  {
    "id": 133,
    "text": "Терренс рассудил, что это Сэм, либо Лейла. Любой вариант был лучше, чем догонять ребят. Источником света оказался походный фонарь Сэмюэля. Вожатый разговаривал с какой-то женщиной.<s>r\n<s>r\nПрежде, чем Терренс успел удивиться, откуда в лесу взялась женщина, он узнал в гостье тётушку Мелоди. Она держала в руках огромный венок омелы.",
    "answers": [
      {
        "id": 134,
        "text": "[ Подойти ]"
      },
      {
        "id": 135,
        "text": "[ Подслушать ]",
        "var_no_more": [
          "tediousness",
          "curiosity"
        ]
      },
      {
        "id": 136,
        "text": "[ Подслушать ]",
        "lua_if": "function lua_if()\nreturn tediousness > curiosity and (tediousness - curiosity) < 3 \nend"
      },
      {
        "id": 137,
        "text": "[ Подслушать ]",
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) >= 3\nend"
      }
    ]
  },
  {
    "id": 134,
    "text": "— Тётушка? Что вы здесь делаете? <s>r\n<s>r\nОна охнула от неожиданности. Сэмюэль нахмурился.<s>r\n<s>r\n— Милый Терри! Я приехала навестить тебя, но как видишь, припозднилась. Почему ты не спишь?<s>r\n<s>r\nТерренс, конечно, не поверил, но спорить не было настроения. <s>r\n<s>r\n— Девочка пропала. Лейла, — пояснил он для Сэмюэля. — Остальные пошли по тропинке её искать.<s>r\n<s>r\nВожатый кивнул.<s>r\n<s>r\n— Я догоню их и найду Лейлу. Госпожа Виз, пожалуйста, проводите Терренса обратно в лагерь.<s>r\n<s>r\n— Пойдём, дорогуша, — сказала Тётушка.",
    "answers": [
      {
        "id": 138,
        "text": "[ Подчиниться ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend"
      }
    ]
  },
  {
    "id": 135,
    "text": "— Благодарю за помощь, госпожа Виз, — сказал Сэмюэль, принимая венок.<s>r\n<s>r\nТётушка беспокойно переминалась с ноги на ногу.<s>r\n<s>r\n— Сэмми, я не должна спрашивать, но… как справляется мой племянник?<s>r\n<s>r\n— Об этом пока рано судить, — уклончиво ответил вожатый. — У многих детей способности проявляются только в Литу.<s>r\n<s>r\nТётушка печально вздохнула.<s>r\n<s>r\n— Что ж, могло быть и хуже… До встречи, милый Седьмой.<s>r\n<s>r\n— Доброй ночи, магистр.<s>r\n<s>r\nСэмюэль коротко поклонился и пошёл к лагерю. Тётушка осталась во тьме. Стать застуканным за подслушиванием Терренс не хотел. Стараясь не шуметь, он побежал к палаткам, обогнав Сэмюэля. ",
    "answers": [
      {
        "id": 143,
        "text": "[ Притвориться спящим ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend"
      },
      {
        "id": 144,
        "text": "[ Рассказать, что все ушли ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend"
      }
    ]
  },
  {
    "id": 136,
    "text": "— Благодарю за помощь, госпожа Виз, — сказал Сэмюэль, принимая венок. — Я хотел поговорить о вашем племяннике. <s>r\n<s>r\n— Терри делает успехи? — воскликнула тётушка.<s>r\n<s>r\nВожатый тяжело вздохнул.<s>r\n<s>r\n— Напротив. Он гасит магию. Для всех будет лучше, если вы его заберёте.<s>r\n<s>r\nТётушка в отчаянии заломила руки.<s>r\n<s>r\n— Как же так, Сэмми? Терри — талантливый мальчик! Пожалуйста, дай ему шанс!",
    "answers": [
      {
        "id": 147,
        "text": "[ Слушать дальше ]"
      }
    ]
  },
  {
    "id": 137,
    "text": "— Благодарю за помощь, госпожа Виз, — сказал Сэмюэль, принимая венок. <s>r\n<s>r\n— Что происходит, Сэмми? Мне пришлось идти через лес пешком. На каблуках!<s>r\n<s>r\nВожатый тяжело вздохнул.<s>r\n<s>r\n— Не хочу вас расстраивать, но проблема в Терренсе. Вы должны забрать его.<s>r\n<s>r\n— Как же так, Сэмми? — Тётушка в отчаянии заломила руки. — Терри — талантливый мальчик! ",
    "answers": [
      {
        "id": 148,
        "text": "[ Слушать дальше ]"
      }
    ]
  },
  {
    "id": 138,
    "text": "Тётушка Мелоди бодро и по-хозяйски прошла на кухню и вскипятила воду. <s>r\n<s>r\n— Не волнуйся, милый, Сэмми обязательно со всем разберётся, он талантливый мальчик, — щебетала она, разливая по чашкам чай. — Пойдём, Солнышко, посидим у костра. А пока другие не…<s>r\n<s>r\nТерренс отпил душистый чай и ощутил, как же сильно его клонит в сон. Общаться с тётушкой посреди ночи совершенно не хотелось.<s>r\n<s>r\n— Простите, давайте отложим свидание до утра, — пробормотал он.",
    "answers": [
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) < 3\nend",
        "id": 139,
        "text": "[ Идти спать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) >= 3\nend",
        "id": 140,
        "text": "[ Идти спать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/room.png\")\nend"
      }
    ]
  },
  {
    "id": 139,
    "text": "Проснулся Терренс от того, что его старательно трясли. Адриан начинал терять терпение.<s>r\n<s>r\n— Да проснись ты. Даже Лейла уже встала. Сэм звал завтракать!<s>r\n<s>r\n— Он же обещал приберечь еду, — пробормотал Терренс, протирая глаза.<s>r\n<s>r\n— Не тебе, — хмыкнул Эшли.<s>r\n<s>r\nТерренс выполз из палатки, и его тут же атаковала Пенни.<s>r\n<s>r\n— Ты вчера такое пропустил! Мы заблудились, видели лесных духов, а из леса нас вывели светлячки!",
    "answers": [
      {
        "id": 139,
        "text": "\n\n\n— ✧ — ✧ — ✧ — \nРазблокировано достижение:\n✩  Второй шанс",
        "lua_if": "function lua_if()\nreturn not g.achievements.secondChance\nend",
        "merge": true
      },
      {
        "id": 139,
        "text": "\n\n— ✧ — ✧ — ✧ — \nПродолжение уже пишется.\nОставьте закладку на этой странице, чтобы продолжить историю позже.\n— ✧ — ✧ — ✧ — ",
        "merge": true
      },
      {
        "id": 1,
        "text": "На первую страницу",
        "lua_do": "function lua_do()\nautorun = nil\nif not g.achievements.secondChance then\n   g.achievements.secondChance = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend"
      }
    ]
  },
  {
    "id": 140,
    "text": "Терренс проснулся в своей кровати. Он не помнил, как оказался дома. На минуту он даже усомнился, не приснился ли ему лагерь",
    "answers": [
      {
        "id": 140,
        "text": ", но браслет на запятье был настоящим",
        "lua_if": "function lua_if()\nreturn artifact and artifact < 3\nend",
        "merge": true
      },
      {
        "id": 140,
        "text": ", но царапины от шишек были настоящими",
        "need": [
          20
        ],
        "merge": true
      },
      {
        "id": 140,
        "text": ". \n\nСолнце стояло высоко, но кто-то заботливо задёрнул занавеску.\n\nСпустившись, Терренс застал маму и тётушку Мелоди попивающими чай. Они выглядели расстроенными.\n\n— Дорогуша, мне показалось, что тебе не нравилось в лагере, поэтому я отвезла тебя домой, не дожидаясь утра.",
        "merge": true
      },
      {
        "id": 140,
        "text": "\n\n— ✤ — ✤ — ✤ — \nДостигнута концовка:\n✯  Самый скучный уикенд\n— ✤ — ✤ — ✤ — ",
        "merge": true
      },
      {
        "id": 141,
        "text": "[ Эпилог ]",
        "lua_do": "function lua_do()\nautorun = nil\nif not g.endings.boringWeekend then\n   g.endings.boringWeekend = true\n   g.endings.count =  g.endings.count <plus> 1\nend\nend"
      }
    ]
  },
  {
    "id": 141,
    "text": "empty",
    "answers": [
      {
        "id": 141,
        "text": "Через неделю Терренсу пришло письмо. Лейла горячо благодарила его за амулет и приложила открытку с пантерой. \n\n",
        "need": [
          73
        ],
        "merge": true
      },
      {
        "id": 141,
        "text": "Больше Терренс никогда не слышал о детях, с которыми познакомился в лагере, и постепенно забыл их. \n\nКак и мечтал, он закончил технический университет и получил докторскую степень, но значимых успехов в науке не добился. Коллеги перешёптывались, что Терренсу не хватает широты мысли. Работа Терренса состояла из кропотливых монотонных расчётов.",
        "merge": true
      },
      {
        "id": 142,
        "text": "[ Далее ] "
      },
      {
        "id": 141,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/other/boring_weekend.jpg"
      }
    ]
  },
  {
    "id": 142,
    "text": "Некоторое время Терренс преподавал в университете, но студенты не любили его предметы и попросту пропускали занятия. Глядя из окна пыльного кабинета на веселящихся юношей и девушек, Терренс задавался вопросом, что же он сделал неправильно в этой жизни. <s>r\n<s>r\nОтвета он не находил.",
    "answers": [
      {
        "id": 1,
        "text": "[ Конец ]"
      },
      {
        "id": 142,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/other/boring_weekend.jpg"
      }
    ]
  },
  {
    "id": 143,
    "text": "Терренс вернулся в палатку, намереваясь дождаться остальных и обсудить с ними услышанное. Но этому не суждено было сбыться. Терренс провалился в сон, едва его голова коснулась подушки. ",
    "answers": [
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) < 3\nend",
        "id": 146,
        "text": "[ Спать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) >= 3\nend",
        "id": 145,
        "text": "[ Спать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 144,
    "text": "Когда вожатый вышел из леса, Терренс сидел у костра и старательно изображал долгое ожидание.<s>r\n<s>r\n— Ну наконец-то! — сказал он. — Лейла пропала, а тебя нет! Все пошли её искать, по тропинке.<s>r\n<s>r\nСэмюэль нахмурился.<s>r\n<s>r\n— Я найду их. А ты иди спать.<s>r\n<s>r\nТерренс попытался возмутиться, но безрезультатно. <s>r\n<s>r\nОн заснул, едва голова коснулась подушки.",
    "answers": [
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) < 3\nend",
        "id": 146,
        "text": "[ Спать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) >= 3\nend",
        "id": 145,
        "text": "[ Спать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 145,
    "text": "Рано утром Терренса разбудил Сэмюэль.<s>r\n<s>r\n— К тебе тётя приехала, — сообщил он.<s>r\n<s>r\nВ памяти Терренса всплывали смутные обрывки ночных событий. Он не был уверен, что всё это ему не приснилось.<s>r\n<s>r\n Терренс выполз из палатки. У костра и правда дожидалась тётушка Мелоди. Она выглядела расстроенной. Возле автобуса была припаркована маленькая красная машинка, которую Терренс никогда прежде не видел. Он вообще не мог припомнить, был ли у тётушки личный транспорт.<s>r\n<s>r\n— Дорогуша, я поняла, что мой подарок был неудачным. Конечно, тебе не могло понравиться такое место. Собирайся, я отвезу тебя домой.",
    "answers": [
      {
        "id": 140,
        "text": "\n\n— ✤ — ✤ — ✤ — \nДостигнута концовка:\n✯  Самый скучный уикенд",
        "merge": true
      },
      {
        "id": 141,
        "text": "[ Эпилог ]",
        "lua_do": "function lua_do()\nautorun = nil\nif not g.endings.boringWeekend then\n   g.endings.boringWeekend = true\n   g.endings.count =  g.endings.count <plus> 1\nend\nend"
      }
    ]
  },
  {
    "id": 146,
    "text": "Разбудили Терренса — ожидаемо — звуки флейты. Адриан недовольно заворочался, Эшли спрятал голову под подушкой. Терренс не заметил, когда они вернулись, и, похоже, они тоже ненавидели музыку.<s>r\n<s>r\nТерренс выполз из палатки, и его тут же атаковала неприлично бодрая Пенни.<s>r\n<s>r\n— Ты вчера такое пропустил! Мы заблудились, видели лесных духов, а из леса нас вывели светлячки!",
    "answers": [
      {
        "id": 139,
        "text": "\n\n\n— ✧ — ✧ — ✧ — \nРазблокировано достижение:\n✩  Второй шанс",
        "lua_if": "function lua_if()\nreturn not g.achievements.secondChance\nend",
        "merge": true
      },
      {
        "id": 139,
        "text": "\n\n— ✧ — ✧ — ✧ — \nПродолжение уже пишется.\nОставьте закладку на этой странице, чтобы продолжить историю позже.\n— ✧ — ✧ — ✧ — ",
        "merge": true
      },
      {
        "id": 1,
        "text": "На первую страницу",
        "lua_do": "function lua_do()\nautorun = nil\nif not g.achievements.secondChance then\n   g.achievements.secondChance = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend"
      }
    ]
  },
  {
    "id": 147,
    "text": "После долгого молчания Сэмюэль произнёс:<s>r\n<s>r\n— Хорошо. Может быть, я успею всё исправить.<s>r\n<s>r\n— Ах, спасибо, милый Седьмой! И до встречи.<s>r\n<s>r\n— Доброй ночи, магистр.<s>r\n<s>r\nСэмюэль коротко поклонился и пошёл к лагерю. Тётушка осталась во тьме.  Стать застуканным за подслушиванием Терренс не хотел. Стараясь не шуметь, он побежал к палаткам, обогнав Сэмюэля. ",
    "answers": [
      {
        "id": 143,
        "text": "[ Притвориться спящим ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend"
      },
      {
        "id": 144,
        "text": "[ Рассказать, что все ушли ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend"
      }
    ]
  },
  {
    "id": 148,
    "text": "— Он гасит магию. Ритуал под угрозой срыва. Я не могу рисковать другими детьми.<s>r\n<s>r\nПовисло напряжённое молчание. Наконец тётушка произнесла:<s>r\n<s>r\n— Какое несчастье. Хорошо, Седьмой, я заберу Терри утром, когда найду транспорт.<s>r\n <s>r\n— Доброй ночи, магистр.<s>r\n<s>r\nСэмюэль коротко поклонился и пошёл к лагерю. Тётушка осталась во тьме. Стать застуканным за подслушиванием Терренс не хотел. Стараясь не шуметь, он побежал к палаткам, обогнав Сэмюэля. ",
    "answers": [
      {
        "id": 143,
        "text": "[ Притвориться спящим ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend"
      },
      {
        "id": 144,
        "text": "[ Рассказать, что все ушли ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_night.png\")\nend"
      }
    ]
  },
  {
    "id": 149,
    "text": "— Я же не дурочка! — фыркнула Пенни.<s>r\n<s>r\nПостепенно тропинка, и без того различимая с трудом, становилась всё заросшее. Когда она вовсе растворилась в лесу, Эшли остановил поисковый отряд.<s>r\n<s>r\n— Дальше идти опасно, — сказал он. — Нужно возвращаться.<s>r\n<s>r\n— Подожди! — воскликнул Адриан. — Вон там, за деревьями…<s>r\n<s>r\nВалери навела фонарик, куда показал Адриан.<s>r\n<s>r\n— Ничего там нет.<s>r\n<s>r\n— Но я точно видел, — он уверенно пошёл в чащу леса.",
    "answers": [
      {
        "id": 150,
        "text": "— Я тоже ничего не вижу."
      },
      {
        "need_sometimes": true,
        "id": 151,
        "text": "— Что ты видишь?",
        "need": [
          25,
          75,
          84,
          105,
          106
        ],
        "lua_if": "function lua_if()\nreturn tediousness > curiosity and (tediousness - curiosity) < 3\nend"
      },
      {
        "id": 153,
        "text": "— Там… Какой-то силуэт?",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/fireflies.png\")\nend",
        "var_no_more": [
          "tediousness",
          "curiosity"
        ]
      }
    ]
  },
  {
    "id": 150,
    "text": "Адриан протёр глаза.<s>r\n<s>r\n— Наверное, и правда показалось… — удивлённо произнёс он.<s>r\n<s>r\n— Нужно возвращаться, — сказал Эшли. — Опасно гулять по лесу в полусне.<s>r\n<s>r\n— Но как же Лейла?! — возмутилась Пенни.<s>r\n<s>r\nВалери погладила её по плечу.<s>r\n<s>r\n— Тут её нет. Может быть, она уже вернулась?<s>r\n<s>r\nПоисковый отряд побрёл обратно по тропинке, зевая. На полпути к лагерю они встретили рассерженного Сэмюэля.<s>r\n<s>r\n— О чём вы только думали?! — возмутился вожатый, выслушав сбивчивые объяснения. — Вы должны были сразу сказать мне!<s>r\n<s>r\nПод конвоем он сопроводил подопечных в лагерь и запретил выходить из палаток.",
    "answers": [
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) < 3\nend",
        "id": 164,
        "text": "[ Cпать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) >= 3\nend",
        "id": 145,
        "text": "[ Cпать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 151,
    "text": "— Девчонку, нашего возраста, но это не Лейла. Она показывает, чтобы мы шли за ней.<s>r\n<s>r\nТерренс вспомнил ",
    "answers": [
      {
        "id": 151,
        "text": "странный разговор мамы с тётушкой Мелоди",
        "need": [
          25
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": ". ",
        "need": [
          25,
          -75,
          -84,
          -106,
          -107
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": " и ",
        "need": [
          25,
          -75,
          -84,
          106
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": " и ",
        "need": [
          25,
          -75,
          -84,
          107
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": ", погром на кухне и ",
        "need": [
          25,
          75,
          106
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": "и погром на кухне. ",
        "need": [
          25,
          75,
          -106,
          -107
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": ", погром на кухне и ",
        "need": [
          25,
          75,
          107
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": "погром на кухне. ",
        "need": [
          -25,
          75,
          -106,
          -107
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": "неуловимого повара. ",
        "need": [
          -25,
          84,
          -106,
          -107
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": "и неуловимого повара. ",
        "need": [
          25,
          84,
          -106,
          -107
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": ", неуловимого повара и ",
        "need": [
          25,
          84,
          106
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": ", неуловимого повара и ",
        "need": [
          25,
          84,
          107
        ],
        "merge": true
      },
      {
        "need_sometimes": true,
        "id": 151,
        "text": "туманное предречение Лейлы. ",
        "need": [
          106,
          107
        ],
        "merge": true
      },
      {
        "id": 151,
        "text": "В этом лагере происходила какая-то чертовщина. Случайно ли Сэмюэль рассказывал о друидах?\n\n— Я тебе верю, — сказал Терренс.\n\n— Если Адриан увидел, то и мы сможем! — заявила Пенни. — Ведь у меня есть волшебный браслет! \n\nОна высоко подняла запястье. Свет фонарика упал на кристалл и исчез. Один за другим погасли все фонари.\n\n— Ой, — испуганно пискнула Пенни.",
        "merge": true
      },
      {
        "id": 154,
        "text": "[ Дать глазам привыкнуть к темноте ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/fireflies.png\")\nend"
      }
    ]
  },
  {
    "id": 152,
    "text": "Адриан протёр глаза.<s>r\n<s>r\n— Наверное, и правда показалось… — удивлённо произнёс он.<s>r\n<s>r\n— Нужно возвращаться, — сказал Эшли. — Опасно гулять по лесу в полусне.<s>r\n<s>r\n— Но как же Лейла?! — возмутилась Пенни.<s>r\n<s>r\nВалери погладила её по плечу.<s>r\n<s>r\n— Тут её нет. Может быть, она уже вернулась?<s>r\n<s>r\nПоисковый отряд побрёл обратно по тропинке, зевая. На полпути к лагерю они встретили рассерженного Сэмюэля.<s>r\n<s>r\n— О чём вы только думали?! — изумился вожатый, выслушав сбивчивые объяснения. — Вы должны были сразу сказать мне!<s>r\n<s>r\nПод конвоем он сопроводил подопечных в лагерь и запретил выходить из палаток.",
    "answers": [
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) < 3\nend",
        "id": 164,
        "text": "[ Cпать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) >= 3\nend",
        "id": 145,
        "text": "[ Cпать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 153,
    "text": "— Если вы увидели, то и мы сможем! — заявила Пенни. — Ведь у меня есть волшебный браслет! <s>r\n<s>r\nОна высоко подняла запястье. Свет фонарика упал на кристалл и исчез. Один за другим погасли все фонари.<s>r\n<s>r\n— Ой, — испуганно пискнула Пенни.<s>r\n<s>r\nЛес наполнился призрачным мерцанием светлячков. Там, куда показал Адриан, стояла девчонка. И смеялась.<s>r\n<s>r\n Адриан зажал руками уши, но Терренс слышал только шум ветра в кронах деревьев.<s>r\n<s>r\n— Пожалуйста, прекратите! — взмолился он.<s>r\n<s>r\nИз-за деревьев выходили другие подростки. Их кожа слабо люминисцировала, некоторых были рожки, у других — крылья, третьи будто обросли корой. <s>r\n<s>r\nВетер утих. Адриан опустил руки.",
    "answers": [
      {
        "id": 155,
        "text": "[ Начертить руны силы ]",
        "need": [
          102
        ]
      },
      {
        "id": 156,
        "text": "[ Начертить руны рассевания зла ]",
        "need": [
          107
        ]
      },
      {
        "id": 157,
        "text": "— Кто вы?!"
      },
      {
        "id": 158,
        "text": "— Адриан, ты их слышишь?"
      }
    ]
  },
  {
    "id": 154,
    "text": "Лес наполнился совсем другим светом — призрачным мерцанием светлячков. Там, куда показал Адриан, и правда стояла девчонка. И смеялась.<s>r\n<s>r\n Адриан зажал руками уши, но Терренс слышал только шум ветра в кронах деревьев.<s>r\n<s>r\n— Пожалуйста, прекратите! — взмолился он.<s>r\n<s>r\nИз-за деревьев выходили другие подростки. Их кожа слабо люминисцировала, у некоторых были рожки, у других — крылья, третьи будто обросли корой. <s>r\n<s>r\nВетер утих. Адриан опустил руки.",
    "answers": [
      {
        "id": 155,
        "text": "[ Начертить руны силы ]",
        "need": [
          102
        ]
      },
      {
        "id": 156,
        "text": "[ Начертить руны рассевания зла ]",
        "need": [
          107
        ]
      },
      {
        "id": 157,
        "text": "— Кто вы?!"
      },
      {
        "id": 158,
        "text": "— Адриан, ты их слышишь?"
      }
    ]
  },
  {
    "id": 155,
    "text": "empty",
    "answers": [
      {
        "id": 155,
        "text": "Терренс огляделся в поисках чего-нибудь, на чём можно было бы писать. Решение пришло само. Он сорвал огромный дубовый лист и палочкой начертил на нём руны. ",
        "need": [
          -156
        ],
        "merge": true
      },
      {
        "id": 155,
        "text": "Символы загорелись ровным светом. \n\nТеперь духов слышал и Терренс. Их смех всё ещё звучал высоким эхом. В перешёптовании духов мелькали обрывки фраз, но разобрать их смысл было сложно.",
        "merge": true
      },
      {
        "id": 155,
        "text": "\n\n\n— ✧ — ✧ — ✧ — \nРазблокировано достижение:\n✩  Из первых рук",
        "lua_if": "function lua_if()\nreturn not g.achievements.firstHand\nend",
        "merge": true
      },
      {
        "id": 159,
        "text": "— Кто вы?",
        "need": [
          -159
        ],
        "lua_do": "function lua_do()\nif not g.achievements.firstHand then\n   g.achievements.firstHand = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend"
      },
      {
        "id": 160,
        "text": "— Что здесь происходит?",
        "need": [
          -160
        ],
        "lua_do": "function lua_do()\nif not g.achievements.firstHand then\n   g.achievements.firstHand = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend"
      },
      {
        "var_equal": [
          "p57",
          3
        ],
        "lua_do": "function lua_do()\nif not g.achievements.firstHand then\n   g.achievements.firstHand = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend",
        "text": "— Вы что-нибудь знаете о жертвоприношении?",
        "need": [
          -161,
          25
        ],
        "id": 161
      },
      {
        "id": 162,
        "text": "— Вы видели нашу подругу?",
        "need": [
          -162
        ],
        "lua_do": "function lua_do()\nif not g.achievements.firstHand then\n   g.achievements.firstHand = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend"
      },
      {
        "id": 163,
        "text": "— Как нам вернуться в лагерь?",
        "need": [
          -163
        ],
        "lua_do": "function lua_do()\nif not g.achievements.firstHand then\n   g.achievements.firstHand = true\n   g.achievements.count =  g.achievements.count <plus> 1\nend\nend"
      }
    ]
  },
  {
    "id": 156,
    "text": "Терренс огляделся в поисках чего-нибудь, на чём можно было бы писать. Решение пришло само. Он сорвал огромный дубовый лист и палочкой начертил на нём руны.<s>r\n<s>r\nСимволы вспыхнули и погасли. На несколько мгновений снова поднялся ветер и также резко прекратился по вскрику Адриана.<s>r\n<s>r\nДухи замахали руками, показывая жестами, что угрозы не представляют.",
    "answers": [
      {
        "id": 155,
        "text": "[ Начертить руны силы ]",
        "need": [
          102
        ]
      },
      {
        "id": 157,
        "text": "— Кто вы?!"
      },
      {
        "id": 158,
        "text": "— Адриан, ты их слышишь?"
      }
    ]
  },
  {
    "id": 157,
    "text": "Ответил Терренсу Эшли.<s>r\n<s>r\n— Разве не ясно? Хозяева леса.<s>r\n<s>r\n— Ты не кажешься удивлённым, — заметил Адриан. <s>r\n<s>r\nПарень пожал плечами.<s>r\n<s>r\n— Отец рассказывал о дриаде. Я думал, это сказка, чтобы заманить меня в поход.<s>r\n<s>r\n— Дорогие хозяева, пожалуйста, помогите нам найти подругу! — взмолилась Пенни. — Сэмюэль будет ругаться, если узнает, что она пропала!<s>r\n<s>r\nПенни в лицо ударил порыв ветра, а потом почти все светлячки разом погасли. Продолжила светиться только узкая полоса.<s>r\n<s>r\n— Они показывают обратный путь, — прошептала Валери.",
    "answers": [
      {
        "id": 152,
        "text": "[ Идти по дороге светлячков ]"
      }
    ]
  },
  {
    "id": 158,
    "text": "— Слышу, но не понимаю, — ответил Адриан. — Их смех… Я думал, оглохну. Они просят… поиграть с ними? Так просят…<s>r\n<s>r\nВзгляд Адриана стал рассеянным. Он медленно направился к духам. Эшли схватил его за плечи и встряхнул.<s>r\n<s>r\n— Не поддавайся! Ты что, не слышал о болотных огоньках? — он обернулся к остальным. — Кто ещё слышит духов? Не засыпайте! Я оставлял метки на деревьях, Сэмюэль обязательно нас найдёт!<s>r\n<s>r\nВ лицо ему ударил порыв ветра. Почти все светлячки разом погасли, продолжила светиться только узкая полоса.<s>r\n<s>r\n— Они показывают обратный путь, — прошептала Валери.",
    "answers": [
      {
        "id": 152,
        "text": "[ Идти по дороге светлячков ]"
      }
    ]
  },
  {
    "id": 159,
    "text": "— Мы… это вы… А кто вы? Не мы? — эхом ответили духи и рассмеялись. Уши резануло звоном.<s>r\n<s>r\n— Они меня пугают, — сказал Адриан.",
    "answers": [
      {
        "id": 160,
        "text": "— Что здесь происходит?",
        "need": [
          -160
        ]
      },
      {
        "id": 161,
        "text": "— Вы что-нибудь знаете о жертвоприношении?",
        "need": [
          -161,
          25
        ]
      },
      {
        "id": 162,
        "text": "— Вы видели нашу подругу?",
        "need": [
          -162
        ]
      },
      {
        "id": 163,
        "text": "— Как нам вернуться в лагерь?",
        "need": [
          -163
        ]
      }
    ]
  },
  {
    "id": 160,
    "text": "По кронам пронёсся возмущённый шёпот. Духи словно спорили друг с другом. Потусторонний хор распался на отдельные голоса.",
    "answers": [
      {
        "comment": true,
        "id": 160,
        "text": "— Узнай… Сам? ",
        "merge": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 160,
        "text": "— Нет, нет… ",
        "merge": false
      },
      {
        "comment": true,
        "id": 160,
        "text": "— Дуб одарит…",
        "merge": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 160,
        "text": "— Скажем! ",
        "merge": false
      },
      {
        "comment": true,
        "id": 160,
        "text": "— Чистый!",
        "merge": false,
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 160,
        "text": "— …одним из нас…",
        "merge": false
      },
      {
        "id": 159,
        "text": "— Кто вы?",
        "need": [
          -159
        ]
      },
      {
        "id": 161,
        "text": "— Вы что-нибудь знаете о жертвоприношении?",
        "need": [
          -161,
          25
        ]
      },
      {
        "id": 162,
        "text": "— Вы видели нашу подругу?",
        "need": [
          -162
        ]
      },
      {
        "id": 163,
        "text": "— Как нам вернуться в лагерь?",
        "need": [
          -163
        ]
      }
    ]
  },
  {
    "id": 161,
    "text": "Духи возмущённо зароптали.<s>r\n<s>r\n— Ложь! Обманщик… Заклинатель смерти… Одиноко! Ложь… Давно…<s>r\n<s>r\n— Терренс, ты зачем такое спросил? — испугалась Пенни. — Сэм же пошутил.",
    "answers": [
      {
        "id": 159,
        "text": "— Кто вы?",
        "need": [
          -159
        ]
      },
      {
        "id": 160,
        "text": "— Что здесь происходит?",
        "need": [
          -160
        ]
      },
      {
        "id": 162,
        "text": "— Вы видели нашу подругу?",
        "need": [
          -162
        ]
      },
      {
        "id": 163,
        "text": "— Как нам вернуться в лагерь?",
        "need": [
          -163
        ]
      }
    ]
  },
  {
    "id": 162,
    "text": "— Дикая девчонка! — зашептали духи. — Дикая… Ленивая… Не играет…<s>r\n<s>r\n— Она совсем не такая! — возмутилась Валери. — Она хорошая!<s>r\n<s>r\nЭшли удержал её рукой.<s>r\n<s>r\n— Не груби им, — предостерёг он.",
    "answers": [
      {
        "id": 159,
        "text": "— Кто вы?",
        "need": [
          -159
        ]
      },
      {
        "id": 160,
        "text": "— Что здесь происходит?",
        "need": [
          -160
        ]
      },
      {
        "id": 161,
        "text": "— Вы что-нибудь знаете о жертвоприношении?",
        "need": [
          -161,
          25
        ]
      },
      {
        "id": 163,
        "text": "— Как нам вернуться в лагерь?",
        "need": [
          -163
        ]
      }
    ]
  },
  {
    "id": 163,
    "text": "Напевая и пританцовывая, духи стали подходить всё ближе. У некоторых в руках появились горсти ягод и орехов.<s>r\n<s>r\n— Останься с нами! Поиграй… Поешь? Останься…<s>r\n<s>r\nС каждым мгновением, что Терренс смотрел на духов, они казались всё красивее. Эти переливчатые крылышки… Наверное, здорово порхать между деревьями? А аккуратные рожки? На них так удобно носить венки из цветов…<s>r\n<s>r\nПереливы голосов и ритмичные движения завораживали.<s>r\n<s>r\nКто-то схватил Терренса за плечи и встряхнул. <s>r\n<s>r\n— Не поддавайся! Не засыпай! Я оставлял метки на деревьях, Сэмюэль обязательно нас найдёт!",
    "answers": [
      {
        "id": 165,
        "text": "[ Подпевать ]",
        "lua_do": "function lua_do()\nautorun = nil\nif not g.endings.fairy then\n   g.endings.fairy = true\n   g.endings.count =  g.endings.count <plus> 1\nend\nend"
      },
      {
        "id": 166,
        "text": "[ Очнуться ]"
      }
    ]
  },
  {
    "id": 164,
    "text": "Разбудили Терренса — ожидаемо — звуки флейты. Адриан недовольно заворочался, Эшли спрятал голову под подушкой. Похоже, они тоже ненавидели музыку.<s>r\n<s>r\nТерренс выполз из палатки, и его тут же атаковала неприлично бодрая Пенни.<s>r\n<s>r\n— Лейла нашлась! Сэмюэль привёл её рано утром. Но она мне ничегошеньки не рассказала, сразу завалилась спать.",
    "answers": [
      {
        "id": 139,
        "text": "\n\n— ✧ — ✧ — ✧ — \nПродолжение уже пишется.\nОставьте закладку на этой странице, чтобы продолжить историю позже.\n— ✧ — ✧ — ✧ — ",
        "merge": true
      },
      {
        "id": 1,
        "text": "На первую страницу",
        "lua_do": "function lua_do()\nautorun = nil\nend"
      }
    ]
  },
  {
    "id": 165,
    "text": "Терренса закружил рой светлячков.<s>r\n<s>r\nБольше его никто никогда не видел.",
    "answers": [
      {
        "id": 165,
        "text": "\n\n\n— ✤ — ✤ — ✤ — \nДостигнута концовка:\n✯  Хоровод фей",
        "merge": true
      },
      {
        "id": 1,
        "text": "[ Конец ]",
        "lua_do": "function lua_do()\nif not g.endings.fairy then\n   g.endings.fairy = true\n   g.endings.count =  g.endings.count <plus> 1\nend\nend"
      },
      {
        "id": 165,
        "text": "Укажите команды для картинки",
        "url": "http://188.120.236.127/aleks_otter/magical_weekend/other/fairy.jpg"
      }
    ]
  },
  {
    "id": 166,
    "text": "— Сэмюэль? — Терренс потряс головой. — Кто это?<s>r\n<s>r\nПамять понемногу прояснялась. Он узнал четверых подростков без рожек. Была ещё одна девочка?<s>r\n<s>r\nНе церемонясь, Эшли потащил его по дорожке из светлячков. Все остальные светлячки погасли.<s>r\n<s>r\n— А как же Лейла?! — воскликнула Пенни. Валери тянула её прочь от духов.<s>r\n<s>r\n— Уходим, Пенни! Иначе останемся здесь!<s>r\n<s>r\nНа полпути к лагерю Терренс пришёл в себя. Примерно тогда же светлячки исчезли. Терренс не сразу понял, что насекомые привели отряд прямо в руки Сэмюэля. Под конвоем он сопроводил подопечных в лагерь и запретил выходить из палаток.",
    "answers": [
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) < 3\nend",
        "id": 164,
        "text": "[ Cпать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/magical_weekend/icons/zzz.png"
        ],
        "lua_if": "function lua_if()\nreturn (tediousness - curiosity) >= 3\nend",
        "id": 145,
        "text": "[ Cпать ]",
        "lua_do": "function lua_do()\nsetImage(\"http://188.120.236.127/aleks_otter/magical_weekend/locations/camp_day.png\")\nend"
      }
    ]
  },
  {
    "id": 167,
    "text": "",
    "answers": []
  }
]