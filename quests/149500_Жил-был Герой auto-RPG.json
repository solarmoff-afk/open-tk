[
  {
    "id": 1,
    "text": "   Юмористический мир игры \"Жил-был Герой\" полон всевозможных соблазнов, предлагающих быстро расстаться со здоровьем и кошельком, вместо того, чтобы это самое здоровье укреплять, а деньги копить и инвестировать в бизнес. Звучит знакомо, не правда ли? \n \n— Выберите своего героя из более чем двухсот кандидатов! \n— Сражайтесь с артистичными, рассеянными, озлобленными и другими самыми разными противниками! \n— Выбейте и умно используйте в бою Ржавый Барабан, Эпическую Вилку, Крошечный Ятаган и тысячи других предметов! \n— Следите за тем, чтобы герой вовремя ел и спал. \n— Купите овощную лавку, монастырь, королевский замок и десятки других зданий, чтобы получать с них прибыль.",
    "answers": [
      {
        "id": 2,
        "text": "Начать",
        "comment": false,
        "lua_do": "function lua_do()\nmale = 1\nend"
      },
      {
        "id": 1,
        "text": "  ",
        "comment": true
      },
      {
        "id": 1,
        "text": "Группа автора в ВК",
        "url": "https://vk.com/club184285839"
      }
    ]
  },
  {
    "id": 2,
    "text": "   Выберите имя...",
    "answers": [
      {
        "lua_text": "function lua_text()\nrname = { \"Аурелион\", \"Азир\", \"Аилант\", \"Аэлмар\", \"Алексий\", \"Аэлнесс\", \"Абархам\", \"Афкиллар\", \"Анвиль\", \"Арравел\", \"Арнольд\", \"Агмасс\", \"Арчибальд\", \"Андерс\", \"Арни\", \"Алекс\", \"Арчи\", \"Антеон\", \"Альбус\", \"Айбер\",                \"Адам\", \"Адриан\", \"Азазель\", \"Амуму\", \"Алистар\", \"Антий\", \"Арифус\", \"Атрокс\", \"Бард\", \"Блиц\", \"Браум\", \"Брэнд\", \"Блэк\", \"Бэлл\", \"Бесталл\", \"Боркас\", \"Баэлнесс\", \"Брэндон\", \"Боб\", \"Брандон\", \"Беон\", \"Бобби\", \"Бурбон\", \"Берадот\", \"Верронн\", \"Верллианн\", \"Вильгельм\", \"Вениамин\", \"Вандон\", \"Виктуар\", \"Вайзер\", \"Варвик\", \"Валакас\", \"Варус\", \"Вейгар\", \"Вэйнир\", \"Вел'коз\", \"Виктор\", \"Владимир\", \"Волибир\", \"Ву Конг\", \"Галио\", \"Ганпланк\", \"Гвидон\", \"Гарен\", \"Грей\", \"Гнар\", \"Грагас\", \"Гекарим\", \"Грэйвс\", \"Гилдримм\", \"Гарри\", \"Гэри\", \"Гарольд\", \"Гордон\", \"Гаррисон\", \"Гудвин\", \"Джерласс\", \"Джаспер\", \"Дик\", \"Джим\", \"Доар\", \"Джон\", \"Диплексий\", \"Джонас\", \"Джек\", \"Дин\", \"Джордж\", \"Джексон\", \"Джоул\", \"Джуд\", \"Джекоб\", \"Дэниел\", \"Джейкоб\", \"Джеймс\", \"Деймос\", \"Дионисий\", \"Дариус\", \"Джакс\", \"Джарван\", \"Джейс\", \"Дрейвен\", \"Джин\", \"Жак\", \"Жан\", \"Зилеан\", \"Зурон\", \"Заир\", \"Зед\", \"Зигг\", \"Зиглер\", \"Засс\", \"Зорро\", \"Зион\", \"Зак\", \"Иверн\", \"Иллай\", \"Икот\", \"Исмаил\", \"Иладар\", \"Иррадион\", \"Иллирий\", \"Ингард\", \"Ивиникум\", \"Ирден\", \"Йорик\", \"Клаус\", \"Казикс\", \"Каин\", \"Кай-сай\", \"Ксерат\", \"Констанций\", \"Калиостро\", \"Камуй\", \"Кармос\", \"Картус\", \"Кассадин\", \"Касан\", \"Квинтер\", \"Кейл\", \"Кэй\", \"Кеннен\", \"Ксерей\", \"Киану\", \"Киндред\", \"Кайзер\", \"Клед\", \"Крентиор\", \"Ког-Мао\", \"Коркей\", \"Кунг-Пао\", \"Кориандр\", \"Кантил\", \"Карлайл\", \"Келлфер\", \"Келлан\", \"Криан\", \"Коравелл\", \"Кораллис\", \"Кадмий\", \"Кассиопей\", \"Люциус\", \"Лонгрен\", \"Люций\", \"Лео\", \"Луций\", \"Леонард\", \"Лекс\", \"Леопольд\", \"Лэри\", \"Лас\", \"Лакс\", \"Луи\", \"Лайт\", \"Ларс\", \"Леон\", \"Либер\", \"Ли Син\", \"Лисс\", \"Лу Сяо\", \"Лур\", \"Люксор\", \"Луциан\", \"Лайкайзер\", \"Марк\", \"Мундо\", \"Марлеон\", \"Мэлон\", \"Мальзахар\", \"Малфит\", \"Мао-Кай\", \"Мордекайзер\", \"Морган\", \"Микаэль\", \"Мэдисон\", \"Михаэль\", \"Макс\", \"Мираклий\", \"Майк\", \"Майкл\", \"Мик\", \"Мел\", \"Мартин\", \"Маллим\", \"Мэтью\", \"Наиселл\", \"Нокс\", \"Нур\", \"Ниа\", \"Намибий\", \"Насус\", \"Новак\", \"Нумис\", \"Наутилус\", \"Николя\", \"Нико\", \"Ноктюрн\", \"Оливий\", \"Орландо\", \"Олаф\", \"Орион\", \"Орн\", \"Патриций\", \"Пайк\", \"Пантеон\", \"Пармис\", \"Пер\", \"Поль\", \"Пауль\", \"Пьер\", \"Питер\", \"Ридесар\", \"Рик\", \"Родислав\", \"Риордан\", \"Рамерий\", \"Рэд\", \"Ромео\", \"Рэтбоун\", \"Рональд\", \"Рэй\", \"Ричард\", \"Роберт\", \"Роджер\", \"Рэм\", \"Рэкс\", \"Ромул\", \"Райз\", \"Рамбл\", \"Раммус\", \"Рексай\", \"Ренгар\", \"Ренектон\", \"Ривер\", \"Рейкан\", \"Рэд\", \"Сэм\", \"Сол\", \"Сайлас\", \"Седжуан\", \"Свэйн\", \"Северян\", \"Синджед\", \"Симба\", \"Скарнер\", \"Сомий\", \"Сорян\", \"Саэллат\", \"Слайвер\", \"Сехелис\", \"Син\", \"Селуанн\", \"Стефан\", \"Сольмир\", \"Себастьян\", \"Сиэль\", \"Соррель\", \"Стив\", \"Симус\", \"Седрик\", \"Северус\", \"Сидо\", \"Стивен\", \"Титаний\", \"Тоберон\", \"Тиберий\", \"Тор\", \"Тейлор\", \"Тонни\", \"Таам\", \"Таллай\", \"Тарик\", \"Талон\", \"Твич\", \"Тимо\", \"Трандл\", \"Треш\", \"Трындамер\", \"Тристан\", \"Теос\", \"Теон\", \"Ульян\", \"Удир\", \"Ургот\", \"Улан\", \"Ург\", \"Уилл\", \"Ферммар\", \"Фаавел\", \"Феофил\", \"Фидель\", \"Феб\", \"Фэйт\", \"Фортунат\", \"Фиддлстикс\", \"Фиор\", \"Физз\", \"Фиксрин\", \"Фралд\", \"Хром\", \"Ханс\", \"Халин\", \"Хеймердингер\", \"Ци\", \"Чарли\", \"Чо Гат\", \"Шерон\", \"Шивер\", \"Шиван\", \"Шако\", \"Шен\", \"Ъйыь\", \"Эмилий\", \"Эзриал\", \"Эвелин\", \"Экко\", \"Элизар\", \"Энио\", \"Эштон\", \"Эйлдар\", \"Эдгар\", \"Эвари\", \"Эдуардо\", \"Эйревелл\", \"Энрики\", \"Элберт\", \"Энджи\", \"Эльберт\", \"Эгри\", \"Эдвард\", \"Эштон\", \"Энтони\", \"Юлий\", \"Юннес\", \"Юмий\", \"Яков\", \"Ярослав\", \"Ясуо\", \"Ялмир\", \"Янви\", \"Якоб\", \"Якин\", \"Вайт\", \"Грин\", \"Блэк\", \"Браун\" }\n\nfname = { \"Анориэль\", \"Агнесс\", \"Аннелуиза\", \"Ариель\", \"Аннелиза\", \"Алиша\", \"Астория\", \"Агнесс\", \"Андромеда\", \"Аманда\", \"Аннет\", \"Аннабет\", \"Амелия\", \"Беатрис\", \"Бэтла\", \"Беттиет\", \"Белория\", \"Бруклия\", \"Барбара\", \"Бесс\", \"Брайана\", \"Бекки\", \"Виктория\", \"Ванесса\", \"Верония\", \"Василиса\", \"Висконсия\", \"Виндикта\", \"Виола \", \"Венди\", \"Виолетта\", \"Гвиария\", \"Гелата\", \"Генриетта\", \"Гвиана\", \"Гармония\", \"Гермиона\", \"Гестия\", \"Диана\", \"Диксерита\", \"Джоанна\", \"Джулия\", \"Джессика\", \"Дитта\", \"Джуди\", \"Джинни\", \"Даринетта\", \"Дженна\", \"Джейн\", \"Элизабет\", \"Эллиада\", \"Энрика\", \"Эсмеральда\", \"Эзетия\", \"Элеонора\", \"Эланора\", \"Эстера\", \"Эсме\", \"Эдит\", \"Элис\", \"Эшли\", \"Элена\", \"Эми\", \"Энн\", \"Ева\", \"Жозетта\", \"Жизель\", \"Жанна\", \"Жеана\", \"Жискета\", \"Жасмин\", \"Зарина\", \"Занвезия\", \"Ирида\", \"Инимика\", \"Иллиада\", \"Иннея\", \"Изабель\", \"Изабелла\", \"Карина\", \"Кира\", \"Карменсита\", \"Кариона\", \"Катрин\", \"Клер\", \"Клара\", \"Кларисса\", \"Кларенс\", \"Кассиопея\", \"Калипсо\", \"Ким\", \"Кармен\", \"Кэти\", \"Кейт\", \"Кристен\", \"Кэри\", \"Коллин\", \"Кетрин\", \"Кэмерон\", \"Кирстен\", \"Лиана\", \"Люцианна\", \"Лира\", \"Леонора\", \"Луиза\", \"Ламентия\", \"Лейла\", \"Ламина\", \"Ласкетия\", \"Луна\", \"Леона\", \"Лиднерия\", \"Моран\", \"Марианна\", \"Мэйлин\", \"Морин\", \"Мэвен\", \"Мари\", \"Мэри\", \"Маргарет\", \"Мария\", \"Мариэтта\", \"Миранда\", \"Мюриэль\", \"Мэгги\", \"Мишель\", \"Мисора\", \"Нэнси\", \"Натали\", \"Найтири\", \"Наоми\", \"Онтария\", \"Офелия\", \"Онерия\", \"Овлиция\", \"Олимпия\", \"Пенелопа\", \"Палетта\", \"Пиония\", \"Пантеона\", \"Полин\", \"Птолемея\", \"Персея\", \"Пруденс\", \"Пао Ся\", \"Пикси\", \"Рамония\", \"Радулина\", \"Рамирия\", \"Розалия\", \"Рэйчел\", \"Рокси\", \"Роксана\", \"Розали\", \"Роза\", \"Рене\", \"Роуз\", \"Синтия\", \"Северия\", \"Селена\", \"Сельвия\", \"Симплиция\", \"Сюзанна\", \"Серенити\", \"Серентия\", \"Стелла\", \"Сьюзен\", \"Саю\", \"Сильвия\", \"Скарлетт\", \"Селения\", \"Тирис\", \"Талирика\", \"Титания\", \"Татиана\", \"Тирания\", \"Талеона\", \"Титания\", \"Тамми\", \"Тамия\", \"Таомаг\", \"Тринни\", \"Такада\", \"Уэди\", \"Урания\", \"Улания\", \"Фулона\", \"Филомена\", \"Феерия\", \"Фаина\", \"Флора\", \"Фауна\", \"Фрида\", \"Христина\", \"Хелен\", \"Хаара\", \"Халле\", \"Хейди\", \"Хилари\", \"Хизер\", \"Холли\", \"Чжоу\", \"Чао\", \"Шаэра\", \"Шиетта\", \"Шалия\", \"Шерлиз\", \"Юджия\", \"Юджина\", \"Юория\", \"Юстана\", \"Яна\", \"Пинк\" }\n\n   local aa = \"\"\n   if male == 1 then\n      aa = \"Герой: \"\n      nameNum = math.random(#rname)\n      name = rname [nameNum]\n   else\n      aa = \"Героиня: \"\n      nameNum = math.random(#fname)\n      name = fname [nameNum]\n   end\nreturn \"<s>\n\" .. aa .. name\nend",
        "id": 2,
        "text": "  ",
        "middle_answer": true,
        "comment": true
      },
      {
        "id": 2,
        "text": "  ",
        "comment": true
      },
      {
        "right_answer": true,
        "comment": false,
        "id": 2,
        "text": "Герой/героиня",
        "lua_do": "function lua_do()\n   if male == 1 then male = 2\n      else male = 1 end\nend",
        "instant": true
      },
      {
        "comment": false,
        "id": 2,
        "instant": true,
        "text": "Другое имя",
        "left_answer": true
      },
      {
        "id": 2,
        "text": "  ",
        "comment": true
      },
      {
        "right_answer": false,
        "instant": true,
        "lua_do": "function lua_do()\nlvl, exp = 1, 0\nstr, vit = 5, 5\nlocal n = nameNum\nlocal m = 10\nlocal m1 = math.random(1,10)\nratingName = {  }\ntable.insert(ratingName, nameNum)\n\n   if nameNum <= 50 then\n      m = 15\n      for i = 1, 9 do\n         n = n <plus> m\n         table.insert(ratingName, n)\n      end\n   elseif nameNum > 50 and nameNum <= 100 then\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 10\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 10\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 10\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 80\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n   elseif nameNum > 100 and nameNum <= 150 then\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 20\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 20\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 20\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 20\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 70\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 10\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 10\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 10\n      table.insert(ratingName, m1)\n   elseif nameNum > 150 then\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n      m1 = m1 <plus> 15\n      table.insert(ratingName, m1)\n   end\nend",
        "text": "Начать игру",
        "middle_answer": true,
        "id": 3
      },
      {
        "id": 2,
        "text": "   ",
        "comment": true,
        "lua_text": "function lua_text()\nreturn \"<s>\nМужских имён: \" .. #rname .. \"<s>\nЖенских имён: \" .. #fname\nend"
      }
    ]
  },
  {
    "id": 3,
    "text": "   Герой-новичок стоял",
    "answers": [
      {
        "lua_text": "function lua_text()\nreturn \" в середине тронного зала, где должен дать клятву авантюриста. Перед ним стоит несколько человек одетых в бело-золотые мантии, и еще один в шёлковых одеждах с короной на голове. Тот, что с короной заговорил:<s>\n   — О, будущий герой, \".. name .. \"!\" .. \" Ты нужен нам для поддержания мира и порядка в стране, чтобы не было бед и войн, чтобы... <s>\n   — Ваше Высочество, давайте покороче, - обратился один из сопровождения короля. — У нас этот уже семьсот двадцать пятый кандидат в герои за сегодня, и далеко не последний! <s>\n   — Кхм-кхм, — покашлял король, собираясь с мыслями. — Короче, будем считать, что ты уже дал клятву авантюриста. Поздравляю тебя, \" .. name .. \"! Иди на подвиги... и позови там следующего на церемонию!\"\nend",
        "var_equal": [
          "male",
          1
        ],
        "id": 3,
        "text": "Новый ответ. введите текст",
        "merge": true
      },
      {
        "lua_text": "function lua_text()\nreturn \"а в середине тронного зала, где должна дать клятву авантюриста. Перед ней стоит несколько человек, одетых в бело-золотые мантии, и еще один в шёлковых одеждах с короной на голове. Тот, что с короной заговорил:<s>\n   — О, будущий герой, \".. name .. \"! Или героиня... Ты нужна нам для поддержания мира и порядка в стране, чтобы не было бед и войн, чтобы... <s>\n   — Ваше Высочество, давайте покороче, - обратился один из сопровождения короля. — У нас уже семьсот двадцать шестой кандидат в герои за сегодня, и далеко не последний! <s>\n   — Кхм-кхм, — покашлял король, собираясь с мыслями. — Короче, будем считать, что ты уже дала клятву авантюриста. Поздравляю тебя, \" .. name .. \"! Иди на подвиги... и позови там следующего на церемонию!\"\nend",
        "var_equal": [
          "male",
          2
        ],
        "id": 3,
        "text": "Новый ответ. введите текст",
        "merge": true
      },
      {
        "id": 4,
        "text": "Отправиться в приключение!",
        "lua_do": "function lua_do()\ntownMove = 3\ngold = 0\nhp = 100\nfishResult = { 0, 0, 0, 0, 0,   0, 0, 0, 0, 0 }\nmessage(\"Чёрт, а этот король даже денег не дал для покупки снаряжения!\")\n   timer.performWithDelay (20000, function()\n   dialog({header = \"Сила Воли\",\n      text = name .. \" самостоятельно ищет себе приключения, но вы всегда можете вмешаться, используя Силу Воли героя. <s>\n<s>\nСила Воли восполняется во время походов, заданий или мечтаний героя.\",\n      answers = {{text = \"Понятно\",\n         pressListener = function()\n         hideDialog() end}}})\n   end)\nend"
      }
    ]
  },
  {
    "id": 4,
    "text": "   Город ",
    "answers": [
      {
        "id": 6,
        "text": "... таблицы ...",
        "run": [
          6
        ]
      },
      {
        "id": 28,
        "text": "...  таблицы действий в городе ...",
        "run": [
          28
        ]
      },
      {
        "id": 27,
        "text": "... обновления в городе ...",
        "run": [
          27
        ]
      },
      {
        "id": 4,
        "text": "   ",
        "lua_text": "function lua_text()\nlocal text = \"\"\nstage = stage or 1\n   if stage < 51 then text = tStage[stage] \n   else text = tStage[gorod] end\nreturn text .. \".\"\nend",
        "merge": true
      },
      {
        "merge": true,
        "comment": true,
        "lua_text": "function lua_text()\nmax_exp = max_exp or 100\nexp = exp or 0\nskill = skill or 0\nmaxHp = vit * 20\nif hp > maxHp then hp = maxHp end\nif hp < 1 then hp = 1 end\n\nif exp >= max_exp then\n   lvl = lvl <plus> 1\n   exp = exp - max_exp\n   max_exp = math.round (max_exp * 1.05)\n      if lvl <= 30 then\n         skill = skill <plus> 2\n      elseif lvl > 30 and lvl <= 70 then\n         skill = skill <plus> 3\n      elseif lvl > 70 and lvl <= 100 then\n         skill = skill <plus> 4\n      elseif lvl > 100 and lvl <= 150 then\n         skill = skill <plus> 5\n      elseif lvl > 150 and lvl <= 200 then\n         skill = skill <plus> 6\n      elseif lvl > 200 then\n         skill = skill <plus> 7\n      end\nend\n\nheroSleep = heroSleep or 0\nlocal vv = \"энергичный\"\nif male == 2 then vv = \"энергичная\" end\n   if heroSleep > 40 and heroSleep < 70 then\n      vv = \"бодрый\"\n      if male == 2 then vv = \"бодрая\" end\n    elseif heroSleep > 69 and heroSleep < 100 then\n       vv = \"устаёт\"\n    elseif heroSleep >= 100 then\n      vv = \"всё ещё не спал\"\n      if male == 2 then vv = vv .. \"а\" end\n   end\nlocal heroes = \"Герой\"\n   if male == 2 then heroes = \"Героиня\" end\nlocal text = \"<s>\n   \" .. heroes .. \": \" .. name .. \", \" .. lvl .. \" уровень.<s>\n   Здоровье: \" .. hp .. \"/\" .. maxHp .. \"<s>\n   Бодрость: \" .. vv .. \"<s>\n   Денег: \" .. gold .. \"<s>\n   Сбережения: \" ..  goldBank\nreturn text\nend",
        "id": 4,
        "text": "  ",
        "middle_answer": false,
        "left_answer": false
      },
      {
        "comment": true,
        "left_answer": false,
        "id": 4,
        "text": "  ",
        "lua_text": "function lua_text()\nlocal aa = 0\n   for i = 1,10 do\n      if myItem[i] then\n         aa = aa <plus> 1\n      end\n   end\nlocal text = \"<s>\n<s>\n   Сила: \" .. str .. \"<s>\n   Телосложение: \" .. vit .. \"<s>\n   Защита: \" .. sss .. \"%\"\nreturn text\nend",
        "merge": true
      },
      {
        "lua_if": "function lua_if()\nreturn abcde == 1\nend",
        "comment": true,
        "id": 4,
        "text": "  ",
        "lua_text": "function lua_text()\nreturn text\nend",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde1.jpg"
        ]
      },
      {
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde2.jpg"
        ],
        "var_equal": [
          "abcde",
          2
        ],
        "id": 4,
        "text": "  ",
        "comment": true,
        "lua_text": "function lua_text()\nreturn text\nend"
      },
      {
        "lua_if": "function lua_if()\nreturn abcde == 3 or abcde == 4 or abcde == 8 or abcde == 11 or abcde == 12 or abcde == 14 or abcde == 999\nend",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde3.jpg"
        ],
        "id": 4,
        "text": "  ",
        "lua_text": "function lua_text()\nreturn text\nend",
        "comment": true
      },
      {
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde5.jpg"
        ],
        "var_equal": [
          "abcde",
          5
        ],
        "id": 4,
        "text": "  ",
        "comment": true,
        "lua_text": "function lua_text()\nreturn text\nend"
      },
      {
        "lua_if": "function lua_if()\nreturn abcde == 6 or abcde == 9 or abcde == 13\nend",
        "comment": true,
        "id": 4,
        "text": "  ",
        "lua_text": "function lua_text()\nreturn text\nend",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde6.jpg"
        ]
      },
      {
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde7.png"
        ],
        "var_equal": [
          "abcde",
          7
        ],
        "id": 4,
        "text": "  ",
        "lua_text": "function lua_text()\nreturn text\nend",
        "comment": true
      },
      {
        "lua_if": "function lua_if()\nreturn abcde == 10 or abcde == 15\nend",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde10.jpg"
        ],
        "id": 4,
        "text": "  ",
        "lua_text": "function lua_text()\nreturn text\nend",
        "comment": true
      },
      {
        "id": 7,
        "text": "...сценарий...",
        "run": [
          7
        ]
      },
      {
        "id": 4,
        "text": "   ",
        "comment": true,
        "lua_text": "function lua_text()\ntypeStage = typeStage or 1\nkillPerStage = killPerStage or 0\nquestPerStage = questPerStage or 0\nlocal text = \"\"\n   if typeStage == 1 and killPerStage < 15 then\n      local a = 15 - killPerStage\n      text = \"Для перехода в другой город нужно побед: \" .. a \n   elseif typeStage == 2 and questPerStage  < 5 then\n      local a = 5 - questPerStage\n      text = \"Для перехода в другой город нужно выполнить задания: \" .. a\n   elseif typeStage == 3 and (questPerStage < 3 or killPerStage < 10) then\n      local tb = \"\"\n      local ta = \"\"\n      local aa = \" и \"\n      if killPerStage < 10 then ta = (10 - killPerStage) .. \" побед\" end\n      if questPerStage < 3 then tb = (3 - questPerStage) .. \" заданий\" end\n      if killPerStage > 9 then aa = \"\" end\n      if questPerStage > 2 then aa = \"\" end\n      text = \"Для перехода в другой город нужно ещё \" ..  ta .. aa .. tb .. \".\"\n   end\nreturn text\nend"
      },
      {
        "middle_answer": true,
        "lua_if": "function lua_if()\ntypeStage = typeStage or 1\nkillPerStage = killPerStage or 0\nquestPerStage = questPerStage or 0\nlocal a = 0\nif typeStage == 1 and killPerStage > 14 then\n   a = 1\nelseif typeStage == 2 and questPerStage > 4 then\n   a = 1\nelseif typeStage == 3 and questPerStage > 2 and killPerStage > 9 then\n   a = 1\nend\nreturn a == 1\nend",
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nstepTravel = 0\nkillPerStage = 0\nquestPerStage = 0\ntypeStage = math.random(3) \nkm = stage * math.random(5,9)\ntrans = nil\n   if stage < 50 then nextTown = stage <plus> 1\n      else nextTown = math.random(#tStage) end\nend",
        "id": 8,
        "text": "Отправиться в другой город",
        "instant": true,
        "lua_text": "function lua_text()\nblackFlag = blackFlag or 0\nlocal aa = \"\"\n   if blackFlag == 1 then aa = \"<s>\n(рекомендуется)\" end\nreturn \"Отправиться в другой город\" .. aa\nend"
      },
      {
        "id": 4,
        "text": "   ",
        "comment": true,
        "var_need": [
          "killPerStage",
          10
        ]
      },
      {
        "lua_do": "function lua_do()\nmaxItemUse = #myItem\n   if maxItemUse < 1 then\n      maxItemUse = 1 end\ntownMove = 8\nlowHp = vit * 10\nlocal stopTimer = timer.cancel (timer1)\n\n   if hp < lowHp then\n      hp = lowHp\n      local heroes = \"Герой\" \n      local heroes1 = \"ся\"\n      if male == 2 then \n         heroes = \"Героиня\" \n         heroes1 = \"ась\"\n      end\n      message(heroes .. \" наспех подлечил\" .. heroes1 .. \" и направил\" .. heroes1 .. \" в путь для новых свершений.\")\n   end\nkillOnFight = 0\nbosses = 0\n\nlocal iT = table.count (myItem)\n   if iT > 0 then\n      getItem = math.random(iT)\n   else \n      getItem = 0\n   end\n\nmyDmg = str * 5\nmaxHp = vit * 20\n   if hp >= vit * 20 then hp = maxHp end\nnextM, healProc = 1, 0\nenterTav, enterBank, enterFond = 1, 1, 1\nenterSmith, enterMagic = 1, 1\nshowPage {id = 5, transition = \"instant\"}\nend",
        "text": "В поход",
        "no_transition": true,
        "instant": true,
        "var_sub": [
          "volt",
          1
        ],
        "id": 4,
        "var_need": [
          "volt",
          1
        ],
        "middle_answer": false,
        "left_answer": true
      },
      {
        "comment": false,
        "middle_answer": false,
        "text": "В поход",
        "left_answer": true,
        "lua_do": "function lua_do()\ntownMove = 6\nnextFi = 1\nlocal iT = table.count (myItem)\n   if iT > 0 then\n      getItem = math.random(iT)\n   else \n      getItem = 0\n   end\nlocal stopTimer = timer.cancel (timer1)\nend",
        "instant": true,
        "id": 29,
        "var_less": [
          "volt",
          1
        ],
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "id": 4,
        "text": "На задание",
        "no_transition": true,
        "right_answer": true,
        "lua_do": "function lua_do()\ntownMove = 7\nlowHp = vit * 10\nlocal stopTimer = timer.cancel (timer1)\nquestR = questR or math.random(13) \nquestStep = questStep or 0\nnagrada = math.random(99) <plus> (lvl * 50)\n   if hp < lowHp then\n      hp = lowHp\n      local heroes = \"Герой\"\n      local heroes1 = \"ся\"\n      if male == 2 then\n         heroes = \"Героиня\"\n         heroes1 = \"ась\"\n      end\n      message(heroes .. \" наспех подлечил\" .. heroes1 .. \" и направил\" .. heroes1 .. \" на выполнение заданий.\")\n   end\nmaxHp = vit * 20\n   if hp >= vit * 20 then hp = maxHp end\nnextM, healProc = 1, 0\nenterTav, enterSmith = 1, 1\nenterBank, enterFond = 1, 1\nshowPage {id = 23, transition = \"instant\"}\nend",
        "instant": true,
        "var_need": [
          "volt",
          1
        ],
        "var_sub": [
          "volt",
          1
        ],
        "middle_answer": false,
        "left_answer": false
      },
      {
        "comment": false,
        "middle_answer": false,
        "text": "На задание",
        "right_answer": true,
        "var_less": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\ntownMove = 7\nnextFi = 2\nlocal stopTimer = timer.cancel (timer1)\nend",
        "instant": true,
        "id": 29,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "id": 4,
        "text": "  ",
        "comment": true
      },
      {
        "id": 9,
        "lua_do": "function lua_do()\nlocal timerStop = timer.cancel (timer1)\nend",
        "comment": false,
        "var_sub": [
          "volt",
          1
        ],
        "middle_answer": true,
        "text": "На тренировку",
        "var_need": [
          "volt",
          1,
          "skill",
          1
        ],
        "instant": true
      },
      {
        "comment": false,
        "var_less": [
          "volt",
          1
        ],
        "text": "На тренировку",
        "middle_answer": true,
        "lua_do": "function lua_do()\nnextFi = 3\nlocal timerStop = timer.cancel (timer1)\nend",
        "instant": true,
        "var_need": [
          "skill",
          1
        ],
        "id": 29,
        "var_set": [
          "back",
          4
        ]
      },
      {
        "comment": false,
        "id": 33,
        "var_need": [
          "volt",
          1
        ],
        "left_answer": true,
        "lua_if": "function lua_if()\nreturn hp < maxHp\nend",
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "text": "В больницу",
        "var_sub": [
          "volt",
          1
        ],
        "instant": true
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nnextFi = 9\nend",
        "text": "В больницу",
        "left_answer": true,
        "lua_if": "function lua_if()\nreturn hp < maxHp\nend",
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "id": 29,
        "var_set": [
          "back",
          4
        ]
      },
      {
        "lua_do": "function lua_do()\nlocal timerStop = timer.cancel (timer1)\ntorgN = 0\nbuffB = lvl * 25\nend",
        "text": "В магическую лавку",
        "left_answer": true,
        "lua_if": "function lua_if()\nreturn bonusExp < 3 or bonusGold < 3 or bonusDmg < 3 or bonusMiss < 3 or bonusEvade < 3\nend",
        "var_need": [
          "volt",
          1,
          "stage",
          3
        ],
        "instant": true,
        "var_sub": [
          "volt",
          1
        ],
        "id": 34,
        "middle_answer": false
      },
      {
        "id": 29,
        "text": "В магическую лавку",
        "left_answer": true,
        "var_need": [
          "stage",
          3
        ],
        "lua_if": "function lua_if()\nreturn bonusExp < 3 or bonusGold < 3 or bonusDmg < 3 or bonusMiss < 3 or bonusEvade < 3\nend",
        "middle_answer": false,
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nnextFi = 4\ntorgN = 0\nbuffB = lvl * 25\nlocal timerStop = timer.cancel (timer1)\nend",
        "var_set": [
          "back",
          4
        ]
      },
      {
        "lua_do": "function lua_do()\nlocal timerStop = timer.cancel (timer1)\nenterSmith = 0\nxB = (sss * sss) * 5 <plus> math.random(100,199)\nsmithMove = math.random(2,3)\nexitSmith = 0\nend",
        "instant": true,
        "left_answer": true,
        "var_less": [
          "sss",
          86
        ],
        "text": "К кузнецу",
        "var_sub": [
          "volt",
          1
        ],
        "var_need": [
          "volt",
          1
        ],
        "middle_answer": false,
        "id": 12
      },
      {
        "var_set": [
          "back",
          4
        ],
        "middle_answer": false,
        "text": "К кузнецу",
        "var_less": [
          "volt",
          1,
          "sss",
          86
        ],
        "id": 29,
        "instant": true,
        "lua_do": "function lua_do()\nnextFi = 5\nlocal timerStop = timer.cancel (timer1)\nexitSmith = 0\nxB = (sss * sss) * 5 <plus> math.random(100,199)\nsmithMove = math.random(2,3)\nend",
        "left_answer": true
      },
      {
        "left_answer": true,
        "comment": false,
        "lua_if": "function lua_if()\nreturn bagHero < (maxBagHero * 0.9)\nend",
        "text": "Приобрести еду",
        "id": 4,
        "instant": true,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nnoneBag = maxBagHero - bagHero\ntownMove = townMove - 1\nif hp < (maxHp * 0.5) then\n   hp = math.floor (maxHp * 0.5) \n   local heroes = \"Герой\"\n   local heroes1 = \"ся\"\n   if male == 2 then \n      heroes = \"Героиня\"\n      heroes1 = \"ась\"\n   end\n   message (heroes .. \" наспех подлечил\" .. heroes1 .. \" и направил\" .. heroes1 .. \" в путь.\")\nend\nshowPage {id = 11, transition = \"instant\"}\nend",
        "no_transition": true
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nnextFi = 6\nlocal stop = timer.cancel (timer1)\nend",
        "text": "Приобрести еду",
        "left_answer": true,
        "lua_if": "function lua_if()\nreturn bagHero < (maxBagHero * 0.9)\nend",
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "no_transition": false,
        "id": 29,
        "var_set": [
          "back",
          4
        ]
      },
      {
        "middle_answer": false,
        "instant": true,
        "right_answer": true,
        "var_sub": [
          "volt",
          1
        ],
        "text": "В банк",
        "var_need": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nbankMove = 2\nprocBank = 2.5\nend",
        "id": 36,
        "var_set": [
          "enterBank",
          0
        ]
      },
      {
        "comment": false,
        "id": 29,
        "instant": true,
        "left_answer": false,
        "right_answer": true,
        "text": "В банк",
        "no_transition": false,
        "var_less": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nnextFi = 7\nlocal stop = timer.cancel (timer1)\nend",
        "var_set": [
          "back",
          4
        ]
      },
      {
        "id": 37,
        "var_need": [
          "volt",
          1
        ],
        "right_answer": true,
        "var_sub": [
          "volt",
          1
        ],
        "var_equal": [
          "dostup2",
          1
        ],
        "lua_do": "function lua_do()\nfondStart, fondMove = 1, 2\nend",
        "text": "К брокеру",
        "middle_answer": false,
        "instant": true
      },
      {
        "comment": false,
        "id": 29,
        "instant": true,
        "left_answer": false,
        "right_answer": true,
        "text": "К брокеру",
        "no_transition": false,
        "var_less": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nnextFi = 8\nlocal stop = timer.cancel (timer1)\nend",
        "var_set": [
          "back",
          4
        ]
      },
      {
        "id": 4,
        "text": "  ",
        "comment": true,
        "lua_if": "function lua_if()\nlocal aa = table.count (myItem)\nreturn gold > 200 or aa > 2\nend"
      },
      {
        "text": "Купить снаряжение у торговца",
        "lua_do": "function lua_do()\nshopType = 1\nshopMove = 4\ntorgN, torgK = 0, 1\nend",
        "instant": true,
        "id": 31,
        "middle_answer": false,
        "var_need": [
          "volt",
          1,
          "gold",
          200
        ],
        "var_sub": [
          "volt",
          1
        ],
        "left_answer": true
      },
      {
        "comment": false,
        "middle_answer": false,
        "var_sub": [
          "volt",
          1
        ],
        "right_answer": true,
        "lua_if": "function lua_if()\nlocal aa = table.count (myItem)\nreturn aa >= 3\nend",
        "var_need": [
          "volt",
          1
        ],
        "id": 32,
        "text": "Продать худшее снаряжение",
        "instant": true,
        "lua_do": "function lua_do()\n   local aa = 99999\n   local bb = 0\n   local sum = table.count (myItem)\n   for i = 1, sum do\n      if myItemKa4[i] < aa then\n         aa = myItemKa4[i]\n         bb = i\n      end\n   end\n\n   shopSale = bb\n   shopPriceSale = math.floor ((((myItemKa4 [shopSale])) ^ 2) / 3)\n   shopMove = math.random(2,3)\n   local timerStop = timer.cancel (timer1)\nend"
      },
      {
        "comment": true,
        "middle_answer": true,
        "text": "   ",
        "id": 4,
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend"
      },
      {
        "comment": true,
        "lua_text": "function lua_text()\nlocal text = \"\"\ncooldownDungeon = cooldownDungeon or 0\n   if cooldownDungeon > 0 then\n      text = \"Помечтать вновь можно через ~\" .. cooldownDungeon .. \" мин.\"\n   end\nreturn text\nend",
        "id": 4,
        "var_need": [
          "kill",
          1
        ],
        "text": "  ",
        "middle_answer": true
      },
      {
        "id": 16,
        "lua_if": "function lua_if()\ncooldownDungeon = cooldownDungeon or 0\nreturn cooldownDungeon < 1\nend",
        "text": "Мечтать о сражениях",
        "lua_do": "function lua_do()\ntownMove = 6\nposition, nextM = 1, 1\n   myDungItem = tabMonstersKa4 [math.random (10)] .. shop2 [math.random (#shop2)]\n   myDungItemKa4 = math.random (lvl <plus> 10, (lvl * 2) <plus> 10)\nlocal stopTimer = timer.cancel (timer1)\n   local heroes = \"Герой\"\n   if male == 2 then heroes = \"Героиня\" end\nmessage (heroes .. \" погружается в свои мечты и фантазии.\")\nhpDung = hp\nmyDmg = str * 5\nmaxHp = vit * 20\nhp = vit * 20\nhealProc = 0\nend",
        "instant": true,
        "var_need": [
          "kill",
          1
        ],
        "middle_answer": true
      },
      {
        "lua_text": "function lua_text()\nlocal text1 = \"<s>\nСумка с едой: \"\nlocal text = \"\"\nlocal aa = math.floor (bagHero / maxBagHero * 100)\nlocal ab = \"\"\n   if aa < 1 then\n      ab = \"пустая.\"\n   elseif aa > 0 and aa <= 15 then \n      ab = \"почти пустая.\"\n   elseif aa > 15 and aa <= 50 then\n      ab = \"наполовину пустая.\"\n   elseif aa > 50 and aa <= 85 then\n      ab = \"наполовину полная.\"\n   elseif aa > 85 and aa <= 99 then\n      ab = \"почти полная.\"\n   elseif aa > 99 then\n      ab = \"полная.\"\n   end\n\n   if #myItem > 0 then\n   text = \"<s>\n<s>\nТекущее снаряжение:\"\n      sum = table.count (myItem)\n      for i = 1, sum do\n         text = text .. \"<s>\n\" .. i .. \". \" .. myItem[i] .. \" (<plus>\" .. myItemKa4[i] .. \"%)\"\n      end\n   end\nreturn text1 .. ab .. text\nend",
        "middle_answer": true,
        "text": "   ",
        "comment": true,
        "id": 4
      },
      {
        "id": 35,
        "text": "... начисление СВ ...",
        "need": [
          9999
        ]
      },
      {
        "super_calculate": false,
        "id": 4,
        "calculate": true,
        "text": "   ",
        "var_set": [
          "autorun after",
          35
        ]
      },
      {
        "var_equal": [
          "admin",
          1
        ],
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "text": "[ [ [   Тест - меню   ] ] ]",
        "id": 39,
        "instant": true
      },
      {
        "super_calculate": false,
        "id": 4,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal sum = table.count (myItem)\n   for i = 1, sum do\n      if not myItem[i] then\n         myItem[i] = myItem[i<plus>1]\n         myItemKa4[i] = myItemKa4[i<plus>1]\n         myItem[i<plus>1] = nil\n         myItemKa4[i<plus>1] = nil\n      end\n   end\nend",
        "text": "   "
      }
    ]
  },
  {
    "id": 5,
    "text": "   ",
    "answers": [
      {
        "id": 6,
        "text": "... таблицы ...",
        "run": [
          6
        ]
      },
      {
        "id": 19,
        "text": " ... атаки со снаряжением ...",
        "run": [
          19
        ]
      },
      {
        "comment": true,
        "id": 5,
        "text": "  ",
        "lua_text": "function lua_text()\nmax_exp = max_exp or 100\nexp = exp or 0\nskill = skill or 0\nsss = sss or 0\nheroSleep = heroSleep <plus> math.random(2)\nend",
        "merge": true
      },
      {
        "var_show": [
          "stage"
        ],
        "super_calculate": false,
        "lua_do": "function lua_do()\nenHp = enHp or 0\nwell = well or 0\nkill = kill or 0\ndeath = death or 0\nsssG = 0\nkillPerStage = killPerStage or 0\n\nif stage < 2 then\n   stage1, stage2 = 1, 1 \nelseif stage > 1 and stage <= 50 then\n   stage1 = stage\n   stage2 = stage <plus> 2\nelseif stage > 50 then\n   stage1 = 10\n   stage2 = 54\nend\n\nif nextM == 1 then\n   enType = math.random(6)\n   if stage <= 50 then\n      well = well <plus> 1\n      enemy = math.random(stage1, stage2)\n      if enType == 1 then\n         enKa4 = ({ \"Безумный \", \"Бешеный \", \"Неистовый \", \"Агрессивный \", \"Дерзкий \" }) [math.random (5)]\n         enMaxHp = math.floor (enemyVit [enemy] * 30)\n         enDmg = math.floor (enMaxHp * 0.35)\n      elseif enType == 2 then\n         enKa4 = ({ \"Осторожный \", \"Жирный \", \"Толстый \", \"Непробиваемый \", \"Бронированный \" }) [math.random (5)]\n         enMaxHp = math.floor (enemyVit [enemy] * 50)\n         enDmg = math.floor (enMaxHp * 0.13)\n      else\n         enKa4 = enemyKa4 [math.random (#enemyKa4)]\n         enMaxHp = math.floor (enemyVit [enemy] * 40)\n         enDmg = math.floor (enMaxHp * 0.18)\n      end\n      enName = enemyName [enemy] \n      enHp = enMaxHp\n      nextM = 0 \n\n   else\n      well = well <plus> 1\n      enemy = math.random(stage1, stage2)\n      enKa4 = enemyKa4 [math.random (#enemyKa4)]\n      enName = enemyName [enemy]\n      enMaxHp = ((((stage - math.random(49,51)) * 30) <plus> 700) * 20) * 2\n      enDmg = math.floor (enMaxHp * 0.2)\n      enHp = enMaxHp\n      nextM = 0\n   end\nend\nend",
        "text": "   ",
        "id": 5,
        "calculate": true
      },
      {
        "id": 6,
        "text": "... таблицы ...",
        "run": [
          6
        ]
      },
      {
        "id": 25,
        "text": "... расчёт боя...",
        "run": [
          25
        ]
      },
      {
        "lua_text": "function lua_text()\nif hp < 1 then hp = 0 end\nif hp > maxHp then hp = maxHp end\nlocal a = \"<s>\n(–\" .. dmg2 .. \")\"\n   local heroes = \"Герой\"\n   if male == 2 then heroes = \"Героиня\" end\nreturn heroes .. \"<s>\n\" .. name .. \"<s>\n\" .. hp .. \"/\" .. maxHp .. a\nend",
        "id": 5,
        "text": "   ",
        "comment": true,
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 5,
        "text": "   ",
        "lua_text": "function lua_text()\nif enHp < 1 then enHp = 0 end\nif enHp > enMaxHp then enHp = enMaxHp end\nreturn enKa4 .. \"<s>\n\" .. enName .. \" <s>\n\" .. enHp .. \"/\" .. enMaxHp .. \"<s>\n(–\" .. dmg1 .. \")\"\nend"
      },
      {
        "comment": true,
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde1.jpg"
        ],
        "var_equal": [
          "healProc",
          0
        ],
        "id": 5,
        "var_need": [
          "hp",
          1
        ],
        "lua_text": "function lua_text()\nreturn text\nend",
        "text": "  "
      },
      {
        "var_need": [
          "hp",
          1
        ],
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde7.png"
        ],
        "var_equal": [
          "healProc",
          1
        ],
        "id": 5,
        "text": "  ",
        "lua_text": "function lua_text()\nreturn text\nend",
        "comment": true
      },
      {
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde666.png"
        ],
        "lua_text": "function lua_text()\nreturn text\nend",
        "id": 5,
        "text": "  ",
        "comment": true,
        "var_less": [
          "hp",
          1
        ]
      },
      {
        "super_calculate": false,
        "id": 5,
        "calculate": true,
        "lua_do": "function lua_do()\n   repeater = function() \n   if g.userInQuest == 1 then\n      healProc = 0\n\n      if nextM ~= 2 and nextM ~= 99 and nextM ~= 98 then\n         if hp > 0 then\n            showPage {id = 5, transition = \"instant\"} \n         end\n\n      elseif nextM == 99 then\n         bosses = 0\n         shopG, bonusExp = 1, 0\n         bonusGold, bonusDmg = 0, 0\n         bonusMiss, bonusEvade = 0, 0\n         showPage {id = x, transition = \"instant\"} \n\n      elseif nextM == 98 then\n         vit = vit <plus> 1\n         showPage {id = 26, transition = \"instant\"}\n\n      elseif nextM == 2 then\n         showPage {id = 5, transition = \"instant\"}\n      end\n\n   else \n      timer1 = timer.performWithDelay (4000, repeater) \n  end \n  end\n\n   if spd == 1 then spdX = 1000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 6000\n      elseif spdK == 2 then spdX = 7000\n      elseif spdK == 3 then spdX = 8000\n      elseif spdK == 4 then spdX = 9000\n      elseif spdK == 5 then spdX = 10000\n      elseif spdK == 6 then spdX = 12000\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater )\n   end\nend",
        "text": "   "
      },
      {
        "id": 5,
        "text": "   ",
        "comment": true
      },
      {
        "comment": false,
        "middle_answer": true,
        "var_sub": [
          "volt",
          1
        ],
        "no_transition": false,
        "id": 5,
        "var_not": [
          "nextM",
          99
        ],
        "lua_text": "function lua_text()\nreturn ({ \"Неистовая атака\", \"Резкий выпад\", \"Яростный рывок\", \"Безрассудная атака\", \"Стремительный выпад\", \"Удар берсерка\", \"Неистовый удар\", \"Быстрый рывок\" }) [math.random (8)] \nend",
        "var_equal": [
          "bosses",
          0
        ],
        "instant": true,
        "var_need": [
          "volt",
          1,
          "hp",
          1
        ],
        "text": "Безумная атака",
        "lua_do": "function lua_do()\nshock = 1\nhealProc = 0\nlocal stopTimer = timer.cancel (timer1)\nend"
      },
      {
        "comment": false,
        "id": 5,
        "var_sub": [
          "volt",
          1
        ],
        "no_transition": false,
        "lua_if": "function lua_if()\nreturn bosses == 1 and enHp > 0\nend",
        "var_not": [
          "nextM",
          99
        ],
        "lua_text": "function lua_text()\nreturn ({ \"Неистовая атака\", \"Резкий выпад\", \"Яростный рывок\", \"Безрассудная атака\", \"Стремительный выпад\", \"Удар берсерка\", \"Неистовый удар\", \"Быстрый рывок\" }) [math.random (8)] \nend",
        "lua_do": "function lua_do()\nshock = 1\nhealProc = 0\nlocal stopTimer = timer.cancel (timer1)\nend",
        "text": "Безумная атака",
        "var_need": [
          "volt",
          1,
          "hp",
          1
        ],
        "instant": true,
        "middle_answer": true
      },
      {
        "middle_answer": true,
        "var_need": [
          "hp",
          1
        ],
        "text": "Увернуться и атаковать",
        "var_not": [
          "nextM",
          99
        ],
        "lua_text": "function lua_text()\nreturn ({ \"Неистовая атака\", \"Резкий выпад\", \"Яростный рывок\", \"Безрассудная атака\", \"Стремительный выпад\", \"Удар берсерка\", \"Неистовый удар\", \"Быстрый рывок\" }) [math.random (8)] \nend",
        "var_less": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nnextFi = 1\nhealProc = 0\nlocal stopTimer = timer.cancel (timer1)\nend",
        "id": 29,
        "instant": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nnextM = 2\nlocal stopTimer = timer.cancel (timer1)\n   shopG, bonusExp = 1, 0\n   bonusGold, bonusDmg = 0, 0\n   bonusMiss, bonusEvade = 0, 0\nend",
        "var_need": [
          "volt",
          1,
          "hp",
          1
        ],
        "var_not": [
          "nextM",
          99
        ],
        "text": "Покинуть поле боя",
        "id": 4,
        "instant": true,
        "middle_answer": true,
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nnextFi = 2\nlocal stopTimer = timer.cancel (timer1)\nend",
        "text": "Покинуть поле боя",
        "var_not": [
          "nextM",
          99
        ],
        "var_need": [
          "hp",
          1
        ],
        "middle_answer": true,
        "id": 29,
        "var_less": [
          "volt",
          1
        ],
        "instant": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "lua_text": "function lua_text()\nreturn \"Сила воли: \" .. volt\nend",
        "id": 5,
        "text": "   ",
        "middle_answer": true,
        "comment": true
      },
      {
        "comment": true,
        "id": 5,
        "text": "  ",
        "lua_text": "function lua_text()\nif exp >= max_exp then\n   lvl = lvl <plus> 1\n   exp = exp - max_exp\n    max_exp = math.round (max_exp * 1.05)\n      if lvl <= 30 then\n         skill = skill <plus> 2\n      elseif lvl > 30 and lvl <= 70 then\n         skill = skill <plus> 3\n      elseif lvl > 70 and lvl <= 100 then\n         skill = skill <plus> 4\n      elseif lvl > 100 and lvl <= 150 then\n         skill = skill <plus> 5\n      elseif lvl > 150 and lvl <= 200 then\n         skill = skill <plus> 6\n      elseif lvl > 200 then\n         skill = skill <plus> 7\n      end\nend\n\nlocal text = lvl .. \" уровень, опыт: \" .. exp .. \"/\" ..max_exp .. \"<s>\nДенег: \" .. gold\nreturn text\nend",
        "merge": false
      },
      {
        "comment": false,
        "lua_if": "function lua_if()\nreturn #myItem > 1\nend",
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal sum = table.count (myItem)\n   for i = 1, sum do\n      if not myItem[i] then\n         myItem[i] = myItem[i<plus>1]\n         myItemKa4[i] = myItemKa4[i<plus>1]\n         myItem[i<plus>1] = nil\n         myItemKa4[i<plus>1] = nil\n      end\n   end\nend",
        "text": "   ",
        "calculate": true,
        "id": 5
      },
      {
        "id": 5,
        "text": "   ",
        "comment": true,
        "lua_text": "function lua_text()\nlocal text2 = \"Защита: \" .. sss .. \"%.\"\nlocal text1 = \"<s>\nСумка с едой: \"\nlocal aa = math.floor (bagHero / maxBagHero * 100)\nlocal ab = \"\"\n   if aa < 1 then\n      ab = \"пустая.\"\n   elseif aa > 0 and aa <= 15 then \n      ab = \"почти пустая.\"\n   elseif aa > 15 and aa <= 50 then\n      ab = \"наполовину пустая.\"\n   elseif aa > 50 and aa <= 85 then\n      ab = \"наполовину полная.\"\n   elseif aa > 85 and aa <= 99 then\n      ab = \"почти полная.\"\n   elseif aa > 99 then\n      ab = \"полная.\"\n   end\n\nlocal vv = \"энергичный\"\nif male == 2 then vv = \"энергичная\" end\n   if heroSleep > 40 and heroSleep < 70 then\n      vv = \"бодрый\"\n      if male == 2 then vv = \"бодрая\" end\n    elseif heroSleep > 69 and heroSleep < 100 then\n       vv = \"устаёт\"\n    elseif heroSleep >= 100 then\n      vv = \"всё ещё не спал\"\n      if male == 2 then vv = \"всё ещё не спала\" end\n   end\n\nlocal vk = \"\"\nlocal text = \"<s>\nТекущее снаряжение:\"\n   for i = 1, #myItem do\n      if i == getItem then vk = \" (в руках)\" end\n      text = text .. \"<s>\n\" .. i .. \". \" .. myItem[i] .. \" (<plus>\" .. myItemKa4[i] .. \"%)\" .. vk\n      vk = \"\"\n   end\nreturn text2 .. text .. \"<s>\n<s>\nБодрость: \" .. vv .. \"<s>\nСумка с едой: \" .. ab\nend"
      },
      {
        "id": 5,
        "text": "   ",
        "comment": true,
        "lua_text": "function lua_text()\nlocal text = \"\"\n   if bonusExp >= 1 then\n      text = text .. \"<s>\nБонус-опыт.\"\n   end\n   if bonusGold >= 1 then\n      text = text .. \"<s>\nБонус-деньги.\"\n   end\n   if bonusDmg >= 1 then\n      text = text .. \"<s>\nБонус-урон.\"\n   end\n   if bonusMiss >= 1 then\n      text = text .. \"<s>\nБонус-меткость.\"\n   end\n   if bonusEvade >= 1 then\n      text = text .. \"<s>\nБонус-увороты.\"\n   end\nreturn text\nend"
      }
    ]
  },
  {
    "id": 6,
    "text": "   ... таблицы ...",
    "answers": [
      {
        "calculate": true,
        "super_calculate": false,
        "id": 6,
        "text": "   ",
        "lua_do": "function lua_do()\nspdK = spdK or 3\nhealEat = healEat or 0\nhealHosp = healHosp or 0\nvolt = volt or 25\ng.sidimDoma = g.sidimDoma or 0\n   if g.sidimDoma > 0 then\n     g.sidimDoma = 0\n     volt = volt <plus> 300\n   end\nboost = boost or 0\nstage = stage or 1\nskill = skill or 0\nmaxBagHero = vit * 20 * 2\nenType = enType or 1\nbagHero = bagHero or maxBagHero\n   tStage = { \"Сангард\", \"Аккра\", \"Бангалор\", \"Сидрил\", \"Ноакфорт\",     \"Аннаполис\", \"Шерхан\", \"Кайденград\", \"Нешвилль\", \"Байезегель\",     \"Вайтерия\", \"Дион\", \"Хорнуэйл\", \"Энтория\", \"Арадис\",     \"Тиор\", \"Канны\", \"Гуан\", \"Кемпбелтаун\", \"Мохач\",    \"Эрнулат\", \"Медин\", \"Бельнишад\", \"Гагра\", \"Готенштад\",     \"Новиград\", \"Дейдерим\", \"Юса\", \"Линхир\", \"Дирнэ\",      \"Минаус\", \"Триполь\", \"Энтарсин\", \"Аннуминас\", \"Хоринис\",      \"Монтеррей\", \"Сандар\", \"Ваас\", \"Заполье\", \"Блант\",      \"Семиндирэ\", \"Амман\", \"Кастрия\", \"Минас-Тирит\", \"Ноттингем\",        \"Фиод\", \"Чешас\", \"Эглоу\", \"Гиран\", \"Маниса\" }\nend",
        "merge": false
      },
      {
        "id": 20,
        "text": "... враги ..",
        "run": [
          20
        ]
      },
      {
        "super_calculate": false,
        "id": 6,
        "calculate": true,
        "text": "  ",
        "lua_do": "function lua_do()\nenKa4 = enKa4 or \"\"\nenName = enName or \"Стражник\"\nenDmg = enDmg or 20\nmyDmg = myDmg or 25\nbonusExp = bonusExp or 0\nbonusGold = bonusGold or 0\nbonusDmg = bonusDmg or 0\nbonusMiss = bonusMiss or 0\nbonusEvade = bonusEvade or 0\nend"
      },
      {
        "super_calculate": false,
        "id": 6,
        "text": "  ...  сон ...",
        "lua_do": "function lua_do()\nheroSleep = heroSleep or 0\nend",
        "calculate": true
      },
      {
        "id": 6,
        "calculate": true,
        "text": "  ",
        "super_calculate": false
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nenemyKa4 =  { \"Апатичный \", \"Ассиметричный \", \"Аристократичный \", \"Алчный \", \"Абстрактный \", \"Аморфный \", \"Аморальный \", \"Артистичный \", \"Бешеный \", \"Быстрый \", \"Банальный \", \"Босой \", \"Бывалый \", \"Безликий \", \"Беглый \", \"Безмолвный \", \"Безобразный \", \"Бравый \", \"Бестолковый \", \"Безызвестный \", \"Безымянный \", \"Безутешный \", \"Бродячий \", \"Безнадёжный \", \"Беззащитный \", \"Быстроногий \", \"Безупречный \", \"Вялый \",  \"Безмятежный \", \"Безрадостный \", \"Безнравственный \", \"Весёлый \", \"Везучий \", \"Воображаемый \", \"Виртуальный \", \"Величественный \", \"Грустный \", \"Громоздкий \", \"Дикий \", \"Достойный \", \"Жадный \", \"Задиристый \", \"Злоречивый \", \"Здоровенный \", \"Задумчивый \", \"Забавный \", \"Занятный \", \"Зубастый \", \"Испуганный \", \"Искусственный \", \"Изящный \", \"Ироничный \", \"Кривой \", \"Курносый \", \"Клыкастый \", \"Крутой \", \"Коварный \", \"Кудрявый \", \"Кучерявый \", \"Колкий \", \"Крепкий \", \"Лысый \",  \"Ленивый \", \"Ложный \", \"Любопытный \", \"Лохматый \", \"Медленный \", \"Миловидный \", \"Мохнатый \",  \"Мерещущийся \", \"Мыслящий \", \"Матёрый \", \"Мнимый \", \"Наглый \", \"Нерешительный \", \"Нереальный \", \"Нетерпеливый \", \"Ненастоящий \", \"Насмешливый \", \"Неказистый \", \"Невзрачный \", \"Обиженный \", \"Обманутый \", \"Озлобленный \",  \"Обидчивый \", \"Опытный \", \"Опрятный \", \"Оскорбленный \", \"Побитый \", \"Пригожий \", \"Покусанный \", \"Понурый \",  \"Подкованный \", \"Подкованный \", \"Пушистый \", \"Поддельный \", \"Придирчивый \", \"Рослый \", \"Рукастый \", \"Растрепанный \", \"Ранимый \", \"Радостный \", \"Смеющийся \", \"Сдающийся \", \"Самокритичный \", \"Спокойный \", \"Саркастичный \",  \"Смешной \", \"Терпеливый \", \"Трудолюбивый \", \"Таинственный \", \"Умный \", \"Угнетенный \", \"Униженный \", \"Ушлый \", \"Фиктивный \", \"Фальшивый \", \"Фантастический \", \"Целеустремлённый \", \"Чумной \", \"Шумный \", \"Шкодный \", \"Шустрый \", \"Эрудированный \", \"Эмоциональный \", \"Эпотажный \", \"Экзистенциальный \", \"Юморной \", \"Язвительный \" }\n\ntabFirst = ({ \"Горожанин\", \"Родственник\", \"Селянин\", \"Стражник\", \"Пройдоха\", \"Пьяница\" }) [math.random (6)]\nenemyName = { tabFirst, \"Кабанчик\", \"Скорпион\", \"Разбойник\", \"Головорез\",     \"Скелет\", \"Зомби\", \"Арахноид\", \"Дух\", \"Вервольф\",     \"Дозорщик\", \"Тролль\", \"Пиявочник\", \"Василиск\", \"Пожиратель\",     \"Энт\", \"Отморозок\", \"Демонёнок\", \"Гоблин\", \"Упырь\",    \"Приспешник\", \"Мортис\", \"Оборотень\", \"Орк\", \"Дракончик\",     \"Голем\", \"Некромант\", \"Демон\", \"Спорщик\", \"Владычник\",     \"Фавн\", \"Гуль\", \"Головоруб\", \"Шептун\", \"Костоправ\",      \"Гелион\", \"Крушитель\", \"Паразит\", \"Кошмар\", \"Астер\",        \"Щелкунчик\", \"Губитель\", \"Великан\", \"Вампир\", \"Шабар\",       \"Урикс\", \"Цербер\", \"Циклоп\", \"Гаргантюа\", \"Минотавр\",         \"Голиаф\", \"Феникс\", \"Ракшас\", \"Даэв\", \"Левиафан\",      \"Ликантроп\", \"Сатанист\", \"Лич\", \"Леприкон\", \"Аргус\" , \"Ариус\", \"Ашер\", \"Адресант\", \"Активист\", \"Альпинист\", \"Моралист\", \"Аморф\", \"Аномалист\", \"Арестант\", \"Аскет\", \"Банник\", \"Безбожник\", \"Бессмертник\", \"Бородавочник\", \"Браконьер\" }\n\nenemyVit = { 2, 4, 6, 8, 10,     15, 20, 30, 40, 50,     60, 70, 80, 90, 100,     110, 120, 130, 140, 150,     160, 170, 180, 190, 200,     210, 220, 230, 240, 250,     260, 270, 280, 290, 300,      320, 340, 360, 380, 400,    430, 460, 490, 520, 550,     580, 610, 640, 670, 700,      730, 760, 790, 820 }\n\nenKa4 = enKa4 or enemyKa4 [11]\nenName = enName or enemyName [1]\nenKN = enKa4 .. enName\nend",
        "calculate": true,
        "text": "   враги",
        "id": 6
      },
      {
        "need_sometimes": true,
        "super_calculate": false,
        "id": 3,
        "text": "   взаимный урон",
        "calculate": true,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local heroes = \"Герой\"\n   local heroes1 = \"Героя\"\n   local heroes4 = \"Герою\"\n   local heroes2 = \"его\"\n   local heroes3 = \"тот\"\n   local heroes5 = \"самого\"\n   local heroes6 = \"него\"\n   local heroes7 = \"ся\"\n   if male == 2 then \n      a = \"а\" \n      heroes = \"Героиня\"\n      heroes1 = \"Героиню\"\n      heroes4 = \"Героине\"\n      heroes2 = \"её\"\n      heroes3 = \"та\"\n      heroes5 = \"саму\"\n      heroes6 = \"неё\"\n      heroes7 = \"ась\"\n   end\n\n   tex1 = { name .. \" и \" .. enKN .. \" наспор смотрят на солнце. Победит тот, кто после этого окончательно не ослепнет.\", name .. \" решил\" .. a .. \" укусить соперника второй раз вне очереди, но \" .. enKN .. \" ссылается на нарушение Правил проведения боя.\", enKN .. \" планировал обидеть \" .. heroes1 .. \" как ребенка, но \" .. heroes3 .. \" стойко дал\" .. a .. \" ему сдачи.\", name .. \" ударил\" .. a .. \" своего противника, и \" .. enKN .. \" обиделся. \" .. heroes4 .. \" пришлось ударить \" .. heroes5 .. \" себя, чтобы продолжить бой без обид.\", name .. \" применил\" .. a .. \" ультразвуковую атаку, но пострадали все, в том числе и \" .. enKN .. \".\", enKN .. \" снес дерево, чуть не сломав мезинец, и это дерево рухнуло прямо на \" .. heroes1 .. \".\", \"С криком ''покажи мне своё кунг-фу'', \" .. name .. \" и \" .. enKN .. \" лупят друг друга в простой кулачной драке.\", enKN .. \" хотел продемонстрировать силу и ударил головой дуб - теперь у него шишка. \" .. name .. \" был\" .. a .. \" умнее - ударил\" .. a .. \" дуб с другой стороны. Теперь и у \" .. heroes6 .. \" тоже шишка.\", name .. \" метко запускает кедровую шишку в лоб противнику, но рикошетом прилетает обратно.\", \"В знак примирения \" .. name .. \" меняется с новым другом баночками зелья, и выпивают их. \" .. enKN .. \" сейчас узнает, что \" .. heroes .. \" подсунул\" .. a .. \" ему яд. Но соперник не честнее \" .. heroes6 .. \".\", name .. \" промахнул\" .. heroes7 .. \", а \" .. enKN .. \" нет. \" .. heroes .. \" стал\" .. a .. \" жаловаться, что бил\" .. a .. \" не с той ноги, поэтому ударил\" .. a .. \" ещё раз.\", \"Чтобы стать лучшими друзьями, нужно как следует набить друг другу морды. Вот бы здоровья хватило подружиться со всем миром...\", name .. \" выполняет тройное сальто и падение на голову соперника. Больно всем...\", \"Случайная молния ударила рядом, зацепив всех разрядом. Вот именно сейчас, когда \" .. name .. \" и \" .. enKN .. \" вели бой босиком.\", \"Набежали ''зелёномирцы'' и избили всех просто так, на будущее. Даже адъютанту неплохо досталось.\", name .. \" сыпет соль на раны противника, а \" .. enKN .. \" плачет над \" .. heroes2 .. \" ранами солеными слезами.\", \"- Бьём на счёт три! - сказал\" .. a .. \" \" .. name ..\", но ударил\" .. a .. \" на счёт ''два'', и тут же получил\" .. a .. \" в ответ на счёт три.\", \"Повторяя эффектные приемы Джеки Чана, \" .. name .. \" не очень эффектно получил\" .. a .. \" простой удар в лицо.\", \"Чтобы никому не было обидно, в этом ходу все атаки проводятся без уклонений и уворотов.\", name .. \" говорил\" .. a .. \", что ударит с правой ноги, но ударил\" .. a .. \" с левой. \" .. enKN .. \" говорил, что не будет атаковать, но всё равно больно пнул.\", name .. \" ударил\" .. a .. \" соперника, а тот вызвал своего адвоката и наряд полиции, которые выдали предписание на получение ответного удара.\", name .. \" боится колющих и режущих предметов, поэтому в этот ход бой идёт на кулаках.\", name .. \" и \" .. enKN .. \" играют в спартанско-македонскую игру ''Бронзовая муха'', избивая друг друга бронзовыми палками.\", enKN .. \" случайно упал в глубокую яму. \" .. heroes4 .. \" ничего не оставалось, кроме как упасть следом за ним.\", name .. \" и \" .. enKN .. \" одновременно заметили пару ягод земляники. Они были раздавлены, пока выяснялось, кто первее их увидел.\", name .. \" и \" .. enKN .. \" танцевали на углях, пока адъютант не решил, что будет ничья.\", \"Пробегавшая мимо толпа ''зеленомирцев'' избила всех за то, что нарушается красота местного пейзажа.\", name .. \" встал\" .. a .. \" в боевую стойку и злобно зашипел\" .. a .. \", но противника от драки это не остановило.\", name .. \" облил\" .. a .. \" противника святой водой, а сам\" .. a .. \" в ответ получил\" .. a ..\" удар крестом. Один-один.\", \"Гнев - это грех, поэтому у \" .. heroes1 ..\" и \" .. heroes2 .. \" соперника не простая злобная драка, а весёлая мордобойная вечеринка.\" }\n\nend"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local heroes = \"Герой\"\n   local heroes1 = \"Герою\"\n   local heroes2 = \"Героя\"\n   local heroes3 = \"Героем\"\n   local heroes4 = \"ёл\"\n   local heroes5 = \"него\"\n   local heroes6 = \"ся\"\n   local heroes7 = \"тот\"\n   local heroes8 = \"\"\n   local heroes9 = \"его\"\n   local heroes10 = \"ёл\"\n   local heroes11 = \"рубаху\"\n   if male == 2 then\n      a = \"а\"\n      heroes = \"Героиня\"\n      heroes1 = \"Героине\"\n      heroes2 = \"Героиню\"\n      heroes3 = \"Героиней\"\n      heroes4 = \"ла\"\n      heroes5 = \"неё\"\n      heroes6 = \"ась\"\n      heroes7 = \"та\"\n      heroes8 = \"ла\"\n      heroes9 = \"её\"\n      heroes10 = \"ела\"\n      heroes11 = \"резинку для волос\"\n   end\n\ntex2 = { \"Сначала \" .. name .. \" хотел\" .. a .. \" защекотать соперника до смерти, а когда это не удалось, то переш\" .. heroes4 .. \" на более традиционный способ - удары.\", name .. \" наслаждается теплой погодой и красотой природы, пока \" .. enKN .. \" в сторонке умирает от ожидания.\", name .. \" сказал\" .. a .. \", что у \" .. heroes5 .. \" болит пальчик и сослал\" .. heroes6 .. \" на пятый пункт Правил проведения боя, поэтому \" .. enKN .. \" пришлось пропустить свой ход.\", name .. \" пускал\" .. a .. \" солнечного зайчика и временно ослепил\" .. a .. \" противника. Теперь \" .. enName .. \" вынужден ждать следующего хода, чтобы ударить.\", \"- Лови блинчик! - крикнул\" .. a .. \" \" .. name .. \" и бросил\" .. a .. \" блин от штанги весом 5 килограмм. \" .. enKN .. \" поймал, но ему потребовалось время, чтобы прийти в себя после этого.\", name .. \" так ярко и во всех подробностях рассказывал\" .. a .. \" о том, как победил\" .. a .. \" прошлого противника, что \" .. enKN .. \" почувствовал себя плохо.\", \"Подкупив адъютанта, \" .. name .. \" сослал\" .. heroes6 .. \" на четвёртый пункт Правил проведения боя, где \" .. heroes .. \" имеет право на лишний ход.\", \"Во исполнение шестого пункта Правил проведения боя, \" .. name .. \" ткнул\" .. a .. \" пальцем противнику в глаз, чтобы избавить того от сглаза. Теперь \" .. heroes .. \" и \" .. enKN .. \" могут честно продолжить бой.\", name .. \" бросил\" .. a .. \" в противника походный набор посуды. Пару тарелок разбилось об голову. \" .. enKN .. \" злится на \" .. heroes2 .. \", но \" .. heroes7 .. \" говорит, что разбитые тарелки - это к счастью.\", name .. \" помог\" .. heroes8 .. \" смастерить крылья, и \" .. enKN .. \" отправился в полёт. Жаль, что тот не читал про Икара. Ну ничего, сейчас вернётся...\", \"Чтобы \" .. enKN .. \" никогда не нарушал Правил проведения боя, \" .. heroes .. \" старательно вбивает их ему в голову... Правилами.\", name .. \" промахнул\" .. heroes6 .. \" по сопернику, но проходивший мимо \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" великодушно исправил \" .. heroes9 .. \" досадное недоразумение.\", \"Если \" .. enKN .. \" - звезда, то проведённая \" .. heroes3 .. \" подсечка вызвала падение звезды. Нужно бы ещё повторить для звёздопада.\", name .. \" провел\" .. a .. \" суператаку, частично изменив ландшафт. Общество ''Зелёный мир'' протестует и требует возместить им моральный ущерб.\", name .. \" провел\" .. a .. \" суператаку, частично изменив ландшафт. Общество ''Зеленый мир'' отправлено в нокаут, поэтому ничего требовать сейчас не может.\", enKN .. \" проиграл в Цу-е-фа, поэтому пропускает ход.\", \"Бить просто так не интересно, поэтому \" .. name .. \" развернул\" .. a .. \" соперника на 360° и пров\" .. heroes10 .. \" атаку.\", enKN .. \" сказал, что у него с собой ничего нет, поэтому \" .. name .. \" похлопал\" .. a .. \" его по карманам рукой, а потом и палкой.\", enKN .. \" хотел было позвать подмогу, но \" .. name .. \" вовремя заткнул\" .. a .. \" ему рот сосновой шишкой.\", enKN .. \" промахнулся и нанёс растущему рядом дереву \" .. math.round( math.random (enDmg *0.9, enDmg * 1.1)) .. \" урона.\", name .. \" ударил\" .. a .. \" соперника, а затем долго извинял\" .. heroes6 .. \" перед ним за этот проступок.\", \"Мимо проходил \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \", и \" .. name .. \" рассказал\" .. a .. \" ему, что \" .. enKN .. \" говорит про него всякие гадости. Тот не стал разбираться и немного побил обидчика.\", \"Испачкав свою \" .. heroes11 .. \", \" .. name .. \" решил\" .. a ..  \" хорошенько прополоскать её в реке вместе со своим соперником - тот точно будет доволен, когда очнётся.\", \"Стоило \" .. heroes1 .. \" облить своего соперника мёдом, как пчёлы тут же его покусали. А месть сладка.\", name .. \" начал\" .. a .. \" рассказывать сопернику теорию квантового туннелирования, отчего у того закипел мозг.\", name .. \" хотел\" .. a .. \" разорвать противника в клочья, а получилось только немного порвать рукав.\", \"С криком ''Тут в округе полно других - вот к ним и приставай!'', \" .. name .. \" старательно придал\" .. a .. \" противнику ускорение в нужном направлении.\", name .. \" встал\" .. a .. \" в боевую стойку и злобно зашипел\" .. a .. \". \" .. enKN .. \", который боится змей, получил психологический урон.\", name .. \" надавил\" .. a .. \" на больное, и теперь \" .. enKN .. \" громко рыдает в кустах неподалёку. \" .. heroes1 .. \" немного стыдно.\", name .. \" поскользнул\" .. heroes6 .. \" и каким-то чудом нанес\" .. heroes8 .. \" серию слабых атак. \" .. enKN .. \" пребывает в шоке от того, что \" .. heroes .. \" знает боевой стиль ''пьяной обезьяны''.\" }\n\nend",
        "text": "  только ты увернулся",
        "id": 3,
        "calculate": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local heroes = \"Герой\"\n   local heroes1 = \"Герою\"\n   local heroes2 = \"Героя\"\n   local heroes22 = \"Героя\"\n   local heroes3 = \"ему\"\n   local heroes4 = \"он\"\n   local heroes5 = \"ся\"\n   local heroes6 = \"\"\n   local heroes7 = \"того\"\n   local heroes8 = \"тот\"\n   local heroes9 = \"него\"\n   local heroes10 = \"его\"\n   local heroes11 = \"пояса\"\n   local heroes12 = \"ся\"\n   if male == 2 then\n      a = \"а\"\n      heroes = \"Героиня\"\n      heroes1 = \"Героине\"\n      heroes2 = \"Героини\"\n      heroes22 = \"Героиню\"\n      heroes3 = \"ей\"\n      heroes4 = \"она\"\n      heroes5 = \"ась\"\n      heroes6 = \"ла\"\n      heroes7 = \"той\"\n      heroes8 = \"та\"\n      heroes9 = \"неё\"\n      heroes10 = \"её\"\n      heroes11 = \"головы\"\n      heroes12 = \"лась\"\n   end\n\n   tex3 = { enKN .. \" продемонстрировал классический удар под дых. \" .. heroes1 .. \" больно, но за всё нужно платить - \" .. heroes4 .. \" отдаёт пару монет за проведённый мастер-класс.\", name .. \" слишком сильно раскрутил\" .. heroes5 .. \" для удара с вертухи, поэтому промахнул\" .. heroes5 .. \" и снес\" .. heroes6 .. \" росший рядом дуб.\", enKN .. \" рассказал убойный анекдот, и теперь \" .. name .. \" безудержно смеётся с коликами в животе, теряя здоровье.\", name .. \" прикинул\" .. a .. \" все возможные маневры врага и совершил\" .. a .. \" выпад. \" .. enKN .. \" даже не успел дёрнуться, а вот \" .. heroes .. \" промахнул\" .. heroes5 .. \" и слегка поранил\" .. heroes5 .. \", разломив ударом каменную глыбу за спиной соперника.\", \"Согласно редкому случаю, описанному в седьмой статье Правил проведения боя, \" .. enKN .. \" получил право хода вне очереди.\", name .. \" и \" .. enKN .. \" ловили звёзды руками, но в лоб прилетело только \" .. heroes1 .. \".\", name .. \" долго угрожал\" .. a .. \" противнику, что пустит его на дрова. Кажется, \" .. enName .. \" нисколько не напуган.\", name .. \" погнал\" .. heroes5 .. \" за двумя зайцами и, в итоге, \" .. enName .. \" пинками помог \" .. heroes3 .. \" не поймать ни одного из них.\", enKN .. \" хотел залечить раны \" .. heroes2 .. \", но сделал всё только хуже. У \" .. heroes7 .. \" теперь не одна, а две царапинки.\", \"Стоило бы быть добрее к окружающим, но соперник сам виноват, что в лицо стукнул...\", heroes1 .. \" было лень ходить, поэтому \" .. heroes4 .. \" пропустил\" .. a .. \" удар в печень, в челюсть и под зад.\", \"Во время разбега для удара с прыжка, \" .. name .. \" споткнул\" .. heroes5 .. \" и кубарем упал\" .. a .. \". Зрители в восторге, а адъютант поставил оценку в 9.5 балла из 10.\", \"Если гора не идёт к Магомеду, то Магомед сам идёт к горе. Если \" .. name .. \" не идёт к сопернику, то \" .. enKN .. \" сам идёт к н\" .. heroes3 .. \".\", name .. \" проиграл\" .. a .. \" в Цу-е-фа, поэтому пропускает ход.\", \"- Приятного мне аппетита! - сказал \" .. enKN .. \", намазывая \" .. heroes22 .. \" каким-то вкусным соусом, а затем больно укусил.\", name .. \" промахнул\" .. heroes5 .. \" и нанес\" .. heroes6 .. \" в дерево \" .. math.round( math.random (myDmg * 0.9, myDmg * 1.1)) .. \" очков урона.\", enKN .. \" ударил \" .. heroes22 .. \", а \" .. heroes8 .. \" заставил\" .. a .. \" его долго выпрашивать у \" .. heroes9 .. \" прощение.\", name .. \" и \" .. enKN .. \" договорились, что в этом ходу будут бить по головам. Вот у соперника есть шлем, а у \" .. heroes2 .. \" - нет.\", \"- Разве это не постановочный бой? - удивил\" .. heroes5 .. \" \" .. name .. \", когда получил\" .. a .. \" сильный удар в висок.\", \"Пока \" .. name .. \" ехидненько смеял\" .. heroes5 .. \" над соперником, \" .. enKN .. \" как следует поддал \" .. heroes3 .. \".\", name .. \" случайно облил\" .. heroes5 .. \" мёдом и долго отбивал\" .. heroes5 .. \" от роя пчёл, а окружающие просто хихикали над этим.\", name .. \" случайно поперхнул\" .. heroes5 .. \" вишневой косточкой. \" .. enKN .. \" стал сильно бить \" .. heroes22 .. \" по спине, чтобы выбить её и побольше здоровья.\", name .. \" хотел\" .. heroes5 .. \" издать грозный рык, но только сорвал\" .. heroes5 .. \" голос и теперь может лишь пищать.\", name .. \" в очередной раз убедил\" .. heroes5 .. \", что эффективнее не просто грозить кулаками, а бить ими.\", name .. \" встал\" .. a .. \" в боевую стойку и злобно зашипел\" .. a .. \". В ответ \" .. heroes10 .. \" покусала обиженная змея, которая ползала рядом. И что же такого \" .. heroes4 .. \" прошипел\" .. a .. \"?\", \"Мимо пролетела бабочка и \" ..name .. \" засмотрел\" .. heroes5 .. \" на её красоту. Полученный удар от соперника тоже оказался хорошим.\", enKN .. \" сказал, что не бъёт ниже \" .. heroes11 .. \", поэтому перевернул \" .. heroes22 .. \" вверх ногами и ударил выше \" .. heroes11 .. \".\", \"Досадный промах пришлось исправлять самобичеванием. \" .. enKN .. \" стоит в сторонке и слегка в ужасе от происходящего.\", name ..\" улёг\" .. heroes12 .. \" спать под открытым небом, но \" .. enKN .. \" пинком напомнил о том, что бой ещё не окончен.\", name .. \" взывал\" .. a .. \" к милости богов, но получил\" .. a .. \" благословенный пинок лишь от своего соперника.\" }\n\nend",
        "text": "   только враг увернулся",
        "id": 3,
        "calculate": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героем\"\n   local he3 = \"Герою\"\n   local he4 = \"Героя\"\n   local he5 = \"ся\"\n   local he6 = \"его\"\n   local he7 = \"\"\n   local he8 = \"ему\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиней\"\n      he3 = \"Героине\"\n      he4 = \"Героиню\"\n      he5 = \"ась\"\n      he6 = \"её\"\n      he7 = \"ла\"\n      he8 = \"ей\"\n   end\n\ntex4 = { \"Между \" .. he2 .. \" и \" .. he6 .. \" противником пробежала чёрная кошка. Пришлось ждать, пока кто-нибудь посторонний пройдёт и развеет напасть.\", \"Собравшаяся толпа зевак хочет запечатлить бой в картине. \" .. name .. \" и \" .. enKN .. \" стоят в стоп-кадре, пока художники делают свою работу.\", \"С дуба упал созревший жёлудь, и \" .. he1 .. \" с соперником наблюдают, как белка пытается успеть подобрать его по правилу пяти секунд.\", enKN .. \" отвесил \" .. he3 .. \" знатного леща, но \" .. name .. \" тут же им перекусил\" .. a .. \", обнулив полученный урон.\", name .. \" и \" .. enKN .. \" пытались соединить два больших магнита одинаковой полярности, но так и не смогли достичь друг друга.\", \"Как и положено на дуэли, нужно отойти друг от друга на 15 шагов. Кто ж знал, что \" .. enKN .. \" не умеет считать...\", name .. \" заглядел\" .. he5 .. \" на новенький доспех своего противника. И почему вообще \" .. enKN .. \" в новом доспехе, а \" .. he1 .. \" в старом?\", name .. \" и \" .. enKN .. \" долго играют в крестики-нолики. \" .. he1 .. \" выиграл со счётом \" .. math.random(10,15) .. \":\" .. math.random(5,9) .. \".\", name .. \" и \" .. enKN .. \" долго играют в крестики-нолики. \" .. he1 .. \" проиграл со счётом \" .. math.random(3,8) .. \":\" .. math.random(9,15) .. \".\", name .. \" правдоподобно симулирует сердечный приступ, и \" .. enKN .. \" соглашается отдохнуть в этом ходу.\", enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" и \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" затеяли драку. Увлекательный бой посторонних монстров смотрелся просто шикарно.\", name .. \" пытал\" .. he5 .. \" укусить противника за правую пятку, но адъютант остановил \" .. he4 .. \" за нарушение Правил проведения боя.\", \"Камень, ножницы, бумага... Идёт выбор оружия для следующего хода.\", enKN .. \" пускает мыльные пузыри, а \" .. name .. ({ \" по-ребячески\", \" озорно\", \" весело\" }) [math.random(3)] .. \" носится за ними.\", name .. \" взял\" .. a .. \" паузу, чтобы помыть руки. Это разрешено пунктом 8 Правил проведения боя.\", \"В Цу-е-фа у обоих выпал камень. Ничья.\", \"В Цу-е-фа у обоих выпали ножницы. Ничья.\", \"В Цу-е-фа у обоих выпала бумага. Ничья.\", name .. \" и \" .. enKN .. \" долго созерцали дубы и берёзы, совсем забыв о поединке.\", \"Проходящий мимо \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" заставил всех писать сочинение на тему: ''Дуб, как символ застоя и старых правил''.\", \"Пришедший невесть откуда \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" долго распрашивал, как ему добраться до нужной локации.\", name .. \" старательно полирует доспех соперника, так как свой у н\" .. he6 .. \" старый и потрёпанный.\", name .. \" и \" .. enKN .. \" промахнулись, вложив весь урон в стоящий рядом дуб.\", name .. \" рассказывает сказки, а \" .. enKN .. \" завороженно слушает...\", name .. \" залез\" .. he7 .. \" на дерево, чтобы \" .. enKN .. \" не мог \" .. he6 .. \" достать.\", enKN .. \" устроил театральную игру одного актёра, и \" .. he3 .. \" пришлось ждать окончания спектакля.\", \"''Зеленомирцы'' заставили всех уйти в другое место, так как они неожиданно решили выбрать именно это поляну для своего отдыха.\", \"Лестью и враньём \" .. name .. \" упрашивает отдать \" .. he8 .. \" доспех, но \" .. enKN .. \" всё никак не соглашается.\", name .. \" убежал\" .. a .. \" далеко вглубь леса, чтобы потеряться, но \" .. enKN .. \" всё равно нашёл \" .. he6 .. \".\", \"Проходивший мимо медведь угостил всех пирожками - ничего необычного. \" .. he1 .. \" усел\" .. he5 .. \" на пенёк, чтобы немного покушать.\" }\n\nend",
        "text": "   оба увернулись",
        "id": 3,
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 6,
        "text": "    финал ",
        "calculate": true,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героем\"\n   local he3 = \"Герою\"\n   local he4 = \"Героя\"\n   local he44 = \"Героя\"\n   local he5 = \"ся\"\n   local he6 = \"его\"\n   local he7 = \"ним\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиней\"\n      he3 = \"Героине\"\n      he4 = \"Героини\"\n      he44 = \"Героиню\"\n      he5 = \"ась\"\n      he6 = \"её\"\n      he7 = \"ней\"\n   end\n\n   tex9 = { enKN .. \" притворился мёртвым, так что победа за \" .. he2 .. \". \", \"Поняв тщетность бытия, \" .. enKN .. \" ушёл в себя и получил техническую дисквалификацию.\", \"Стоило только войти в раж, как \" .. enKN .. \" попросил засчитать ему поражение.\", enKN .. \" хотел хорошо провести время, а получилось как всегда.\", enKN .. \" сказал, что он сломался. Судьи разочарованно воют, но засчитывают победу \" .. he3 .. \".\", enKN .. \" сообщил, что его чувства сломлены, и признал своё поражение.\", enKN .. \" хотел переломить ход боя, но не справился с этим и переломил себя. Победа за \" .. he2 .. \".\", name .. \" начал\" .. a .. \" закапывать соперника в землю, но тот остановил \" .. he6 .. \" и вручил свою расписку о поражении.\", name .. \" сказал\" .. a .. \", что принимает поражение, и от радости \" .. enKN .. \" получил инфаркт и был госпитализирован с техническим поражением. Победа засчитана \" .. he3 .. \".\", name .. \" сказал\" .. a .. \", что лучше бороться со своими недостатками, на что \" .. enKN .. \" согласился с \" .. he7 .. \" и сдался. Победа \" .. he4 .. \"!\", name .. \" посадил\" .. a .. \" соперника в котёл и отправил\" .. a .. \" прямиком в ''Ад'' - это небольшое питейное заведение в городе - ознаменовав свою победу.\", enKN .. \" сказал, что всегда мечтал побывать на юге, а не вот это всё, как сейчас, и, отрастив крылья, улетел на юг. Техническая победа \" .. he4 .. \".\", enKN .. \" вспомнил об оставленном на плите молоке, которое уже точно пригорело, и тут же бросился бежать домой. \" .. he1 .. \" победил\" .. a .. \" в этом бою.\", \"- Главное не победа, а участие! - возмутился \" .. enKN .. \" и подписал акт о своём поражении.\", enKN .. \" упал в обморок, обеспечив \" .. he44 .. \" победой. Успех - это способность переходить от одного краха к другому не теряя энтузиазма. Вперёд, к успеху!\", enKN .. \" объявил о своей победе над собой. Никто ничего не понял, но рассудительно записали ему поражение, так как он проиграл сам себе.\", enKN ..\" наспор принял снотворное, слабительное и энергетик. Всё же снотворное действует быстрее, и жаль... Победа за \" .. he2 .. \".\", name .. \" написал\" .. a .. \" на листе бумаги с двух сторон слово ''переверни''. \" .. enKN .. \" уже битый час вертит этот лист без остановки, так что он дисквалифицирован, а победа за \" .. he2 .. \".\", name .. \" убедил\" .. a .. \" соперника, что поражение - это тоже часть успеха и победы. Тот согласился и покинул поле боя, оставив победу \" .. he3 .. \".\", \"Взвесив багаж неудач и пережитых лет, победа досталась \" .. he3 .. \". \" .. enKN .. \" вздохнул и поставил ''<plus>1'' к своим неудачам и поражениям.\", enKN .. \" сказал, что он экстрасенс, и знает, что победа будет за ним - поэтому ему не интересен этот бой и он самодисквалифицировался.\", name .. \" сказал\" .. a .. \", что проигравший отправится на горячие источники, и поэтому \" .. enKN .. \" намеренно слил бой. Победа \" .. he4 .. \"!\", enKN .. \" оставил табличку, что вернётся через пять минут, но так и не вернулся. Адъютант назначил \" .. he44 .. \" победителем.\", he1 .. \" собирал\" .. he5 .. \" снять \" .. ({ \"шкуру\", \"скальп\" }) [math.random(2)] .. \", но вспомнил\" .. a .. \", что такое не котируется на рынке товаров, и передумал\" .. a .. \".\", \"Решили не ходить к \" .. ({ \"гадалке\", \"сове-оракулу\", \"экстрасенсу\", \"предсказателю\", \"прорицательнице\", \"гадалке на кофейной гуще\" }) [math.random(6)] .. \", и записать победу в пользу \" .. he4 .. \".\" }\n   \nend"
      },
      {
        "super_calculate": false,
        "id": 6,
        "calculate": true,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"\"\n   local he6 = \"ним\"\n   local he7 = \"он\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"\"\n      he6 = \"ней\"\n      he7 = \"она\"\n   end\n\n   table.insert (tex1, he1 .. \" специально ловит удар соперника, а потом со словами ''\" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] .. \" бьёт больнее...'', продемонстрировал\" .. a .. \" как именно.\")\n   table.insert (tex1, \"- Смотри как могу! - \" .. name .. \" выполняет тройное сальто с падением на голову. \" .. enKN .. \" громко смеётся и повторяет за \" .. he6 .. \", и также с падением на голову.\")\n   table.insert (tex1, \"- Не до ночи же нам тут драться! Хватит уворачиваться! - сказал \" .. enKN .. \". \" .. he1 .. \" получил в тык, а тот - по орехам.\")\n   table.insert (tex1, he1 .. \" решил\" .. a .. \" выпить за знакомство со своим соперником, но из-за разногласий, кто же будет за это платить, вновь началась драка.\")\n   table.insert (tex1, \"Вполне мирная и спокойная игра в боулинг, слово за слово, превратилась в швыряние шаров в друг друга...\")\n   table.insert (tex1, \"- Бьём туда, где пусто! - сказал\" .. a .. \" \" .. he1 .. \", и ударил\" .. a .. \" противника в живот. \" .. he7 .. \" сам\" .. a .. \" же защищал\" .. a .. \" голову, но \" .. enKN .. \" ударил по кошельку на поясе.\")\n   table.insert (tex1, \"Невдалеке пара баранов бодаются, и \" .. he1 .. \" со своим соперником тоже решили последовать их примеру.\") \n   \n   \nend",
        "text": "взаимный 2"
      },
      {
        "super_calculate": false,
        "id": 6,
        "text": "по врагу 2",
        "calculate": true,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"\"\n   end\n\n   table.insert (tex2, he1 .. \" ударил\" .. a .. \" лицом в грязь. \" .. enKN .. \" злится и отмывается. Ну а что он хотел - быть чистым и пушистым?\")\n    table.insert (tex2, \"- Смотри как могу! - \" .. he1 .. \" выполняет тройное сальто и чудом оказывается на ногах. Удивленный этому успеху, \" .. enKN .. \" тоже пытается повторить, но падает на голову.\" )\n   table.insert (tex2, \"При помощи швабры и лопаты \" .. he1 .. \" наводит красоту на морде своего соперника. \" .. enKN .. \" иногда жалобно скулит, но красота требует жертв.\" )\n   table.insert (tex2, \"Чтобы осмотреться на поле боя, \" .. he1 .. \" решил\" .. a .. \" повертеть головой. \" .. enKN .. \" недовольно рычит и просит отпустить его.\")\n   table.insert (tex2, \"В красивой карете приехал \" ..enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] .. \" с предписанием о приченении вреда здоровью. \" ..  enKN .. \" тут же получил его исполнение в лоб.\")\n   table.insert (tex2, enKN .. \" пробормотал что-то невнятное про нынешних героев, героинь и хулиганство, что \" .. name .. \" воспринял\" .. a .. \" как личное оскорбление и провел\" .. a .. \" расправу над обидчиком.\" ) \n   table.insert (tex2, enKN .. \" просит разбудить его через пять минут, но \" .. he1 .. \" тут же пинает улёгшегося соперника.\") \n   table.insert (tex2, he1 .. \" стреляет глазками и поражает сердце противника. \" .. enKN .. \" хватается за грудь и пытается прийти в себя.\") \n\n\nend"
      },
      {
        "super_calculate": false,
        "id": 6,
        "text": "по мне 2",
        "calculate": true,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героя\"\n   local he3 = \"Героя\"\n   local he5 = \"ся\"\n   local he6 = \"его\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиню\"\n      he3 = \"Героини\"\n      he5 = \"ась\"\n      he6 = \"её\"\n   end\n\n   table.insert (tex3, he1 .. \" быстро зажмурил\" .. he5 .. \", якобы, если не видишь врага - значит его нет. Но это так не сработало, и удар всё же раскрыл \" .. he6 .. \" глаза.\")\n   table.insert (tex3, \"- Смотри как могу! - \" .. he1 .. \" выполняет тройное сальто с падением на голову. \" .. enKN .. \" громко смеётся, но повторить не решается.\" )\n   table.insert (tex3, enKN .. \" смерил \" .. he2 .. \" жутким леденящим взглядом. От этого сами собой затряслись поджилки.\")\n   table.insert (tex3, \"Решили бить по кошелькам: у врага он толстый, и \" .. he1 .. \" его не пробил\" .. a .. \", а вот в \" .. he6 .. \" почти пусто, и поэтому удар вышел не только по кошельку, но и по здоровью.\")\n   table.insert (tex3, \"В красивой карете приехал \" .. enemyName [math.random (#enemyName)] .. \" с заключением обсластного суда о нанесении вреда здоровью \" .. he3 .. \".\")\n   table.insert (tex3, he1 .. \" пытал\" .. he5 .. \" утащить с соперника его доспех, но в итоге только получил\" .. a .. \" за это по рукам.\")\n   table.insert (tex3, enKN .. \" пинком сбил с дуба все орехи, которые засыпали \" .. he2 .. \" по уши. Это было не больно, но набежавшее стадо голодных бурундуков изрядно затоптали \" .. he6 .. \".\")\n   table.insert (tex3, he1 .. \" заставляет соперника кусать себя, чтобы перенять от него способности или суперсилу, но кроме боли ничего больше не получает.\")\n   table.insert (tex3, name .. \" пытается прикинуться овцой, и даже для пущей убедительности проблеял\" .. a .. \" пару раз, но \" .. enKN .. \" не поверит и отвесил сильного пинка.\" ) \n   table.insert (tex3, he1 .. \" получил\" .. a .. \" прямой удар в морду, но вместо ответного удара решил\" .. a .. \" умыться и продезинфекцировать лицо.\") \n   table.insert (tex3, he1 .. \" попросил\" .. a .. \" разбудить \" .. he6 .. \" через \" .. ({ \"пять минут\", \"семь минут\", \"три минуты\" }) [math.random(3)] .. \", и противник через обозначенное время так и сделал, сильным пинком.\" ) \n   table.insert (tex3, he1 .. \" начинает буянить, но \" .. enKN .. \" находит способ остановить \" .. he6 .. \" при помощи нескольких пинков.\")\n\n   \nend"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героем\"\n   local he6 = \"его\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиней\"\n      he6 = \"её\"\n   end\n\n   table.insert (tex4, name .. \" и \" .. enKN .. \" ожидают жизненных испытаний, рассуждая о цели жизни. \" .. he1 .. \" уверяет, что должен быть Создатель Всего, а \" .. enKN .. \" просто ссылается на учебники физики и химии.\")\n   table.insert (tex4, \"Никто не решается действовать первым, поэтому они так и простояли весь ход, просто смотря друг на друга.\")\n   table.insert (tex4, he1 .. \" требует, чтобы \" .. enKN .. \" перечислил все \" .. he6 .. \" положительные и отрицательные стороны.\")\n   table.insert (tex4, \"Раз выдалась свободная минутка, то \" .. he1 .. \" решил\" .. a .. \" подбодрить своего соперника. \" .. enKN .. \" и так не собирался сдаваться, а теперь уж точно никуда не сбежит.\")\n   table.insert (tex4, \"Они пишут друг на друга заявления в полицию. Раз они сами разобраться не могут, то пускай это сделают другие.\")\n   table.insert (tex4, enKN .. \" делится с \" .. he2 .. \" своими впечатлениями о городе \" .. tStage [math.random (#tStage)] .. \".\")\n   local n\n   if stage < 51 then n = math.random(stage)\n   else n = math.random(#tStage) end \n   table.insert (tex4, he1 .. \" рассказывает о пребывании в городе \" .. tStage [math.random (1, n)] ..\" - лучшие бары, рестораны, казино, и даже есть боулинг-клуб.\")\n   table.insert (tex4, he1 .. \" рассказывает о пребывании в городе \" .. tStage [math.random (1, n)] .. \" - грязные бары, куча борделей, ни одной спортивной площадки или рукомойника на улице.\")\n   table.insert (tex4, he1 .. \" бродит по окрестности, оглядывая красивые пейзажи, а \" .. enKN .. \" загорает на солнышке.\" ) \n   table.insert (tex4, \"После дождя земля превратилась в хлипкую грязь, поэтому соперники не смогли вовремя добраться друг до друга.\") \n   table.insert (tex4, he1 .. \" пытается вычислить цвет настроения своего соперника.\") \n\n\nend",
        "text": "ожидание 2",
        "calculate": true,
        "id": 6
      }
    ]
  },
  {
    "id": 7,
    "text": "   ... сценарий ...",
    "answers": [
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nscene = { \"Добраться до места назначения было легко: самые опасным врагом были комары, а самым слабым - \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] .. \".\", \"Поговаривают, что \" .. tStage [math.random (#tStage)] .. \" - великолепное место для отдыха: бани, казино, ярмарки и киоски работаю круглосуточно и без выходных.\" , \"В пути герой встретил новых друзей: \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] .. \" и \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] .. \". В честь знакомства они поделились выпивкой, а с него взяли немного монет. На утро \" .. name .. \" был приятно удивлен, обнаружив, что тот мешочек с деньгами по ошибке положили в его карман.\", \"Один попутчик, по имени \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] .. \", рассказал, что \" .. tStage [math.random (#tStage)] .. \" славится самыми вкусными пирогами и коровами. Он так аппетитно рассказывал, что герой забыл спросить - нужно ли готовить как-то коров, или прям сразу есть?\", \"Герой видел небольшую группу разбойников, а во главе её был \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10,#enemyName)] .. \". \" .. name .. \" приветливо помахал им рукой и прошёл мимо. Хорошие ребята.\", \"В пути герой встретил кое-кого, лежащего в канаве. Желая поживиться его снаряжением, он начал вытягивать его из канавы, но тот как заорёт громко! Оказалось, что Болотный \" .. enemyName [math.random (#enemyName)] .. \" тут и обитает, а до его прихода он просто спал.\", \"В дороге герой встретил табун лошадей. Он хотел продать их в ближайшем поселении, но из ниоткуда выскочил охранявший их \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] .. \", и устроил нагоняй за попытку кражи. Герой долго объяснял, что это простое недоразумение, после чего продолжил свой путь.\", \"По пути героя чуть было не завербовали в бесплатный рабский отряд солдат для поимки монстров Зантара - эти звери быстрые и выносливые, как несколько лошадей, и ловить их можно вечность. Это помешало бы его приключениям, поэтому он отказался.\", \"Идущий в том же пути караван взял героя в качестве охранника. Он просил достойную оплату, а получил только мазоли и десяток смешных шуток.\", \"Кто-то на дереве нацарапал ''один-два-три''. Герой, не долго думая, нацарапал четвёрку в этом числовом ряду, и пошёл своей дорогой дальше.\", \"Ради веселья герой нацарапал на дереве цифру ''один'', и пошёл дальше своей дорогой. Вот кто-то обнаружит её и удивится!\", \"Герой купил в пути за пятьдесят монет карту с отмеченных тайником. Удалось отыскать нужно место и раскрыть тайник. Получил пятьдесят монет.\", \"В пути герой увидел, как монстр \" .. enemyName [math.random (10, #enemyName)] .. \" в одиночку сражался против отряда ''зеленомирцев''. Недолго думая, \" .. name .. \" решил помочь в праведном деле и вмешался против злодеев - теперь ''зеленомирцы'' лупят не только монстра, но и героя.\", \"Пока герой был в лесу один - решил немного повыть, чтобы сбросить обиду после последнего боя. В результате, сидевшие в кустах \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" и \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" в панике сбежали прочь.\" }\n\notvet = { \"И это конечно же неправда!\", \"Так ему рассказали\", \"По скромному мнению\", \"Как неловко всё вышло\", \"Эх, как всегда...\", \"Но могло быть и лучше\", \"Просто герой не успел размяться\",  \"И такое часто бывает\", \"Не то чтобы часто, а постоянно так\" }\n\nend",
        "calculate": true,
        "text": "  ",
        "id": 7
      }
    ]
  },
  {
    "id": 8,
    "text": "   ",
    "answers": [
      {
        "id": 8,
        "text": "   ",
        "lua_text": "function lua_text()\nlocal a1 = \"Герой в пути из города \"\n  if male == 2 then a1 = \"Героиня в пути из города \" end\nlocal text = \"\"\n   if stage < 51 then text = tStage [stage]\n      else text = tStage [gorod] end\nreturn a1.. text .. \" в город \" .. tStage [nextTown] .. \".\"\nend",
        "merge": true
      },
      {
        "id": 8,
        "text": "   ",
        "comment": true
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 8,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\n   nextMove = math.random(5) -- идти, лень, драка,отдых\n   stepTravel = stepTravel <plus> 1\n   local aa = enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] \n\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he5 = \"ся\"\n   local he6 = \"ел\"\n   local he7 = \"ему\"\n   local he8 = \"\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he5 = \"ась\"\n      he6 = \"ла\"\n      he7 = \"ей\"\n      he8 = \"ла\"\n   end\n\n   textWay = ({ he1 .. \" смело идёт вперёд, но держит запасные панталоны под рукой.\", \"Чтобы идти было легче и быстрее, \" .. he1 .. \" начал\" .. a .. \" шагать более широкими шагами, но реже.\", he1 .. \" услышал\" .. a .. \" кукушку и побежал\" .. a .. \" к ней. Оказалось, что это по пути.\", he1 .. \" решил\" .. a .. \" сократить через лес, и через некоторое время оказал\" .. he5 .. \" в нужном месте и ближе к месту назначения.\", he1 .. \" идёт вперёд, никуда не сворачивая на своём пути.\" }) [math.random (5)]\n\n   textNoway = ({ he1 .. \" услышал\" .. a .. \" кукушку и побежал\" .. a .. \" к ней. Жаль, что это в другой стороне от места назначения.\", he1 .. \" неожиданно решил\" .. a .. \" повернуть в другую сторону.\", he1 .. \" идёт за солнцем, и это не по пути.\", he1 .. \" решил\" .. he5 .. \" сократить через лес, но заблудил\" .. he5 .. \" и выш\" .. he6 .. \" ещё дальше, чем был\" .. a .. \".\", he1 .. \" идёт вперёд, никуда не сворачивая, и оказал\" .. he5 .. \" в болоте. Пришлось обходить и возвращаться назад.\" }) [math.random (5)]\n\n   textLeni = ({ \"Стоило сесть на пенёк и достать пирожок, как тут же налетели зверушки и расхватали этот пирожок по крошкам, ничего не оставив.\", he1 .. \" разлег\" .. he5 .. \" на полянке, нежась в лучах солнца и дуновениях ветерка.\", he1 .. \" устроил\" .. a .. \" засаду, ожидая богатый караван, но когда дело дошло до нападения, он\" .. a .. \" вспомнил\" .. a .. \", что \" .. he7 .. \" нужно \" .. ({ \"идти в город.\", \"начистить всё оружие.\", \"было предварительно набрать команду.\" }) [math.random (3)], he1 .. \" полез\" .. he8 .. \" в болото, чтобы рвать камыши и рогоз. Если их взять с собой и поджечь, то \" .. aa .. \" будет реже кусаться.\", he1 .. \" и \" .. aa .. \" \" .. ({ \"играют в шахматы на пеньке у большой поляны.\", \"прожигают друг друга взглядами, полных ненависти, но до драки не доходит.\", \"разлеглись на поляне, беседуя и травя байки и анекдоты.\", \"немного поговорили - \" .. he1 .. \" узнал\" .. a .. \" куда идти дальше, а тот получил лишний кусок мяса.\", \"спорят о политике, но тут же пришли цензоры и разогнали их диспут. И как только они нашли их в этом глухом лесу?\" }) [math.random (5)] }) [math.random (5)]\nend"
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 8,
        "calculate": true,
        "lua_do": "function lua_do()\n   local aa = enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)]\n   local ab = \"\"\n   local ac = \"\"\n   if #myItem > 0 then\n      ab = myItem [math.random (#myItem)]\n      ac = ab\n   else \n      ab = \"его отсутствие\"\n      ac = \"топор\"\n   end\n\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героя\"\n   local he3 = \"Героя\"\n   local he5 = \"ся\"\n   local he6 = \"\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиню\"\n      he3 = \"Героини\"\n      he5 = \"ась\"\n      he6 = \"ла\"\n   end\n      \n   textFightway = ({ he1 .. \" залез\" .. he6 .. \" головой в муравейник, чтобы узнать, куда копают муравьи.\", \"Из засады выскочил \" .. aa .. \" и набросился на \" .. he2 .. \". Видимо, ему приглянулось оружие, а точнее \" .. ab .. \". Пришло дать бой.\" , \"Навстречу шёл \" .. aa .. \". \" .. he1  .. \" заговорил\" .. a .. \" с ним, но позже начался спор и драка.\", he1 .. \" встретил\" .. a .. \" трупу циркачей. Клоуны-акробаты так легко и просто делали четверное сальто назад, что \" .. name .. \" тоже захотел\" .. a .. \" попробовать. Такого громкого падения циркачи ещё не слышали.\", aa .. \" хотел отнять \" .. ({ \"деньги\", \"здоровье\", \"снаряжение\", \"еду\", \"одежду\" }) [math.random (5)] .. \", но не на того напал - \" .. name .. \" на три-четыре дал\" .. a .. \" нагоняй проказнику.\", he1 .. \" упал\" .. a .. \" в озеро с мёртвой водой и стал\" .. a .. \" чувствовать себя немного хуже.\" }) [math.random (6)]\n\n   textHealway = ({ he1 .. \" устроил\" .. a .. \" привал и немного подлечил\" .. he5 .. \" травами и снедью.\", he1 .. \" упал\" .. a .. \" в реку с живой водой и стал\" .. a .. \" чувствовать себя лучше.\", \"Мимо шёл \" .. aa .. \" и накормил, подлечил \" .. ({ \"измученного Героя\", \" измученную Героиню\" }) [male] .. \". Он ушёл, пожелав выздоровления и скорой встречи в бою.\", aa .. \" попросил \" .. ac .. \", чтобы сварить кашу и, к удивлению \" .. he3 .. \", это получилось.\", he1 .. \" прикладывает подорожник, шалфей, розмарин, укроп... Шедший мимо \" .. aa .. \" хотел сначала пустить \" .. he2 .. \" как приправу на суп, но всё же передумал и ушёл.\" }) [math.random (5)]\nend",
        "text": "   "
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 8,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\n   local aa = enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)]\n\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героя\"\n   local he3 = \"Героем\"\n   local he5 = \"ся\"\n   local he6 = \"\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиню\"\n      he3 = \"Героиней\"\n      he5 = \"ась\"\n      he6 = \"ла\"\n   end\n\n   textTravel = ({ \"Шедший караван великодушно подвёз \" .. he2 .. \" по пути. Место назначения стало ближе.\", \"Мимо шёл \" .. aa .. \", и \" .. he1 .. \" оседлал\" .. a .. \" его, прокатившись верхом часть пути.\", he1 .. \" зацепил\" .. he5 .. \" за карету и тайком проехал\" .. a .. \" часть пути.\", \"За \" .. he3 .. \" долго гонялся \" .. aa .. \", а после выяснилось, что \" .. name .. \" всё время бежал\" .. a .. \" по пути к месту назначения.\", he1 .. \" помог\" .. he6 .. \" старикам на ферме починить телегу и, в качестве благодарности, они подвезли немного в нужном направлении.\" }) [math.random (5)]\n\n   textNotravel = ({ \"Шедший караван великодушно подвёз \" .. he2 .. \" в обратную сторону. Место назначение теперь стало дальше.\", \"Мимо шёл \" .. aa .. \", и \" .. he1 .. \" оседлал\" .. a .. \" его, прокатившись верхом немало километров, но не в ту сторону.\", he1 .. \" зацепил\" .. he5 .. \" за карету, но она поехала не в ту сторону. Очень долго пытал\" .. he5 .. \" отцепиться и карета увезла довольно далеко.\", \"За \" .. he3 .. \" долго гонялся \" .. aa .. \", а после выяснилось, что \" .. name .. \" бежал\" .. a .. \" в обратную сторону от места назначения.\", name .. \" вызвал\" .. he5 .. \" помочь старикам на ферме починить телегу, но по глупости сломал\" .. a .. \" её окончательно. Злой дед с вилами долго гнал \" .. he2 .. \" прочь.\" }) [math.random (5)]\nend"
      },
      {
        "comment": true,
        "id": 8,
        "text": "    ",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/fon2.jpg"
        ],
        "lua_text": "function lua_text()\nhod = hod or 0\nlocal text = \"\"\nlocal aa = math.random(3,5)\n   if trans then aa = math.random(6,10) end\n   if hod == 1 then nextMove = 1 end\n\n   if nextMove <= 2 then \n      if stepTravel >= 30 then\n         hod = 0\n         text = textWay\n         km = km - aa\n      elseif math.random(10) < 7 or hod == 1 then\n         hod = 0\n         text = textWay\n         km = km - aa\n      else\n         text = textNoway\n         km = km <plus> aa\n      end\n\n   elseif nextMove == 3 then\n      text = textLeni\n\n   elseif nextMove == 4 then\n      if hp > (maxHp * 0.25) then\n         text = textFightway\n         exp = exp <plus> (vit * math.random(2,4))\n         hp = hp - (maxHp * 0.1)\n      else\n         text = textHealway \n         hp = hp <plus> (maxHp * 0.15)\n      end\n\n   elseif nextMove == 5 then\n      if stepTravel >= 30 then\n         text = textTravel\n         km = km - (aa <plus> math.random(10,15))\n      elseif math.random(3) < 3 then\n         text = textTravel\n         km = km - (aa <plus> math.random (10,15)) \n      else\n        text = textNotravel\n        km = km <plus> (aa <plus> math.random(10,15))\n     end\n\n   end\nreturn text\nend"
      },
      {
        "comment": true,
        "id": 8,
        "text": "   ",
        "lua_text": "function lua_text()\n   if exp >= max_exp then\n   lvl = lvl <plus> 1\n   exp = exp - max_exp\n   max_exp = math.round (max_exp * 1.05)\n      if lvl <= 30 then\n         skill = skill <plus> 2\n      elseif lvl > 30 and lvl <= 70 then\n         skill = skill <plus> 3\n      elseif lvl > 70 and lvl <= 100 then\n         skill = skill <plus> 4\n      elseif lvl > 100 and lvl <= 150 then\n         skill = skill <plus> 5\n      elseif lvl > 150 and lvl <= 200 then\n         skill = skill <plus> 6\n      elseif lvl > 200 then\n         skill = skill <plus> 7\n      end\n   end\nend",
        "merge": true
      },
      {
        "lua_text": "function lua_text()\nheroSleep = heroSleep <plus> 1\nif hp < 1 then hp = 0 end\nif hp > maxHp then hp = maxHp end\nreturn \"<s>\n<s>\n\" .. name .. \", \" .. lvl .. \" ур.<s>\nОпыт: \" .. exp .. \"/\" .. max_exp .. \"<s>\nЗдоровье: \" .. hp .. \"/\" .. maxHp\nend",
        "id": 8,
        "text": "   ",
        "comment": true,
        "merge": true
      },
      {
        "lua_text": "function lua_text()\nlocal text = \"Осталось пройти \" .. km .. \" км.\"\n   if km <= 0 then km = 0\n      text = ({ \" Герой добрался\", \"Героиня добралась\" }) [male] .. \" до места назначения.\" end\nreturn text\nend",
        "id": 8,
        "text": "   ",
        "comment": true,
        "middle_answer": true
      },
      {
        "comment": true,
        "id": 8,
        "text": "   ",
        "instant": false,
        "left_answer": false
      },
      {
        "comment": false,
        "middle_answer": true,
        "var_sub": [
          "volt",
          1
        ],
        "left_answer": false,
        "instant": true,
        "id": 8,
        "text": "Идти прямиком к городу",
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "var_need": [
          "volt",
          1,
          "km",
          1
        ],
        "var_set": [
          "hod",
          1
        ]
      },
      {
        "comment": false,
        "id": 29,
        "var_need": [
          "km",
          1
        ],
        "left_answer": false,
        "text": "Идти прямиком к городу",
        "instant": true,
        "middle_answer": true,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nnextFi = 1\nend",
        "var_less": [
          "volt",
          1
        ],
        "var_set": [
          "back",
          8
        ]
      },
      {
        "comment": false,
        "instant": true,
        "lua_if": "function lua_if()\nreturn not trans\nend",
        "text": "Строить транспорт для быстрого перемещения",
        "lua_do": "function lua_do()\n   trans = ({ \"Корыто\", \"Игрушечный пони\", \"Тазик\", \"Тыква\", \"Бочка\", \"Сани\", \"Огромный кабачок\", \"Ведро\", \"Ступа\", \"Волокуши\" }) [math.random(10)] .. \" с \" .. ({ \"круглыми\", \"квадратными\", \"овальными\", \"треугольными\", \"шестиугольными\", \"прямоугольными\" }) [math.random (6)] .. \" колёсами\"\n   local stop = timer.cancel (timer1)\nend",
        "var_need": [
          "km",
          1
        ],
        "middle_answer": true,
        "id": 8
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\n   local stop = timer.cancel (timer1)\n   if stage > 50 then gorod = nextTown end\n   stage = stage <plus> 1\n   showPage {id = 4, transition = \"instant\"}\nend",
        "instant": true,
        "text": "Войти в город",
        "id": 4,
        "middle_answer": true,
        "var_less": [
          "km",
          1
        ],
        "var_need": [
          "volt",
          1
        ],
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "var_less": [
          "volt",
          1,
          "km",
          1
        ],
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nnextFi = 2\nend",
        "text": "Войти в город",
        "middle_answer": true,
        "instant": true,
        "id": 29,
        "var_set": [
          "back",
          8
        ]
      },
      {
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "id": 8,
        "text": "   ",
        "middle_answer": true,
        "comment": true
      },
      {
        "comment": true,
        "id": 8,
        "var_need": [
          "km",
          1
        ],
        "text": "   ",
        "lua_text": "function lua_text()\nlocal text = \"\"\n   if trans then text = \"   Средство передвижения: <s>\n\" .. trans .. \".\" end\nreturn text\nend"
      },
      {
        "comment": false,
        "super_calculate": false,
        "id": 8,
        "text": "   ",
        "lua_do": "function lua_do()\n   repeater = function() \n   if g.userInQuest == 1 then\n      if km > 0 then\n         showPage {id = 8, transition = \"instant\"}\n      elseif km < 1 then\n         if stage >= 50 then gorod = nextTown end\n         stage = stage <plus> 1\n         showPage {id = 4, transition = \"instant\"}\n      end\n   else \n      timer1 = timer.performWithDelay (4000, repeater) \n  end \n  end\n\n   if spd == 1 then spdX = 1000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 6000\n      elseif spdK == 2 then spdX = 7000\n      elseif spdK == 3 then spdX = 8000\n      elseif spdK == 4 then spdX = 9000\n      elseif spdK == 5 then spdX = 10000\n      elseif spdK == 6 then spdX = 12000\n      end\n   end\n   if tP == 0 then\n     timer1 = timer.performWithDelay (spdX, repeater )\n   end\nend",
        "calculate": true
      }
    ]
  },
  {
    "id": 9,
    "text": "   Тренировочная площадка.",
    "answers": [
      {
        "var_show": [
          "exitTraining"
        ],
        "super_calculate": false,
        "lua_do": "function lua_do()\nexitTraining = exitTraining or 0\npushTraining = pushTraining or 0\nlocal timerStop = timer.cancel (timer1)\nheroSleep = heroSleep <plus> 1\nend",
        "calculate": true,
        "id": 9,
        "text": "   "
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he5 = \"ся\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he5 = \"ась\"\n   end\n   \n   texTraining = { \"Споткнул\" .. he5 .. \", упал\" .. a .. \", отжал\" .. he5 .. \", стал\" .. a .. \" сильнее.\", \"Помогал\" .. a .. \" бабушке поднять рассыпанные яблоки и от многочисленных наклонов стал\" .. a .. \" сильнее.\", name .. \" хочет быть сильнее, поэтому тренируется.\", he1 .. \" открывает второе дыхание и становится сильнее.\", name .. \" решил\" .. a .. \" измениться и стал\" .. a .. \" сильнее.\", he1 .. \" спустил\" .. a .. \" пять потов на тренажёре, и как будто заново родил\" .. he5 .. \" с новыми силами.\", name .. \" закаляет тело и волю, чтобы стать сильнее.\", he1 .. \" долго пытал\" .. he5 .. \" уложить неваляшку и от этого подкачал\" .. he5 .. \".\", he1 .. \" тренируется сейчас, чтобы не тренироваться потом.\" }\nend",
        "text": "   прокачка хар-к героя",
        "calculate": true,
        "id": 9
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героя\"\n   local he5 = \"ся\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиню\"\n      he5 = \"ась\"\n   end\n   texTraining1 = { \"Споткнул\" .. he5 .. \", упал\" .. a .. \", раз\" .. ({ \"лёгся\", \"леглась\" }) [male] .. \", уснул\" .. a .. \".\", \"Штанга оказалась тяжёлой и придавила \" .. he2 .. \" к полу. Он\" .. a .. \" решил\" .. a .. \" немного отдохнуть и полежать.\", he1 .. \" сломал\" .. a .. \" тренажёр, чтобы не тренироваться.\", he1 .. \" чинит сломанный тренажёр, так как не на чем тренироваться.\", \"Считает облака в небе, забыв про тренировку.\", name .. \" со всей силы пнул\" .. a .. \" неваляшку, и тут же получил\" .. a .. \" сногсшибательный удар в обратку.\", name .. \" со всей силы пнул\" .. a .. \" боксёрскую грушу, но та качнулась обратно и снесла \" .. he2 .. \".\", name .. \" тянет время, ожидая когда более сильные герои и героини закончат тренировку и уйдут.\", \"Считает героев по головам, загибая пальцы. Своих не хватило, поэтому попросил помощи у другого героя.\", he1 .. \" лежит на матах и тренирует лень.\" }\nend",
        "text": "   лень во время тренировки",
        "id": 9,
        "calculate": true
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 9,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\ntext = \"\"\nif skill > 0 and exitTraining == 0 then\n   if pushTraining == 1 then\n      text = texTraining [math.random (#texTraining)]\n      skill = skill - 1\n   elseif math.random(3) == 1 then\n      text = texTraining [math.random (#texTraining)]\n      if math.random(2) == 1 then \n         if str < (vit * 1.2) then\n            str = str <plus> 1\n            skill = skill - 1\n            message (\"Повышена сила.\")\n         else\n            vit = vit <plus> 1\n            skill = skill - 1\n            message  (\"Увеличено телосложение.\")\n         end\n      else\n         if vit < (str * 1.2) then\n            vit = vit <plus> 1\n            skill = skill - 1\n            message (\"Увеличено телосложение.\")\n         else\n            str = str <plus> 1\n            skill = skill - 1\n            message (\"Повышена сила.\")\n         end\n      end\n\n   else\n      text = texTraining1 [math.random (#texTraining1)]\n   end\n   \n   if spd == 1 then spdX = 1000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 4000\n      elseif spdK == 2 then spdX = 5000\n      elseif spdK == 3 then spdX = 6000\n      elseif spdK == 4 then spdX = 7000\n      elseif spdK == 5 then spdX = 8000\n      elseif spdK == 6 then spdX = 9000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         pushTraining = 0\n         if skill < 3 and math.random(2) == 1 then\n            exitTraining = 1\n         end\n         showPage {id = 9, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\n\nelse\n   if skill < 1 then\n      text = ({ \"Герой\", \"Героиня\" }) [male] .. \" не видит больше смысла тут оставаться.\"\n   else\n      text = ({ \"Герой\", \"Героиня\" }) [male] .. \" собирается уйти, так как \" .. ({ \"ему\", \"ей\" }) [male] .. \" тут не интересно.\"\n   end\n\n   if spd == 0 then spdX = 4000 \n   else spdX = 2000 end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         exitTraining = 0\n         showPage {id = 4, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n  if tP == 0 then\n     timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend\nend"
      },
      {
        "comment": true,
        "id": 9,
        "text": "   ",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde3.jpg"
        ],
        "lua_text": "function lua_text()\nreturn text\nend"
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 9,
        "calculate": false,
        "text": "   "
      },
      {
        "comment": false,
        "id": 9,
        "instant": true,
        "left_answer": true,
        "var_sub": [
          "volt",
          1
        ],
        "var_add": [
          "str",
          1
        ],
        "var_need": [
          "skill",
          1,
          "volt",
          1
        ],
        "text": "Увеличить\nсилу",
        "lua_do": "function lua_do()\nlocal timerStop = timer.cancel (timer1)\npushTraining = 1\nexitTraining = 0\nend",
        "middle_answer": false,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "var_add": [
          "vit",
          1
        ],
        "middle_answer": false,
        "var_need": [
          "skill",
          1,
          "volt",
          1
        ],
        "var_sub": [
          "volt",
          1
        ],
        "right_answer": true,
        "id": 9,
        "comment": false,
        "lua_do": "function lua_do()\nlocal timerStop = timer.cancel (timer1)\npushTraining = 1\nexitTraining = 0\nend",
        "text": "Увеличить\nтелосложение",
        "instant": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": false,
        "middle_answer": false,
        "text": "Увеличить\nсилу",
        "left_answer": true,
        "var_need": [
          "skill",
          1
        ],
        "id": 29,
        "var_less": [
          "volt",
          1
        ],
        "instant": true,
        "lua_do": "function lua_do()\nnextFi = 1\nlocal timerStop = timer.cancel (timer1)\npushTraining = 1\nexitTraining = 0\nend",
        "var_set": [
          "back",
          9
        ]
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nnextFi = 2\nlocal timerStop = timer.cancel (timer1)\npushTraining = 1\nexitTraining = 0\nend",
        "instant": true,
        "right_answer": true,
        "var_need": [
          "skill",
          1
        ],
        "id": 29,
        "middle_answer": false,
        "text": "Увеличить\nтелосложение",
        "var_less": [
          "volt",
          1
        ],
        "var_set": [
          "back",
          9
        ]
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nlocal timerStop = timer.cancel (timer1)\nend",
        "id": 4,
        "text": "Уйти",
        "instant": true,
        "middle_answer": true
      },
      {
        "comment": true,
        "merge": true,
        "id": 9,
        "text": "  ",
        "lua_text": "function lua_text()\nlocal text = \"<s>\n<s>\n   Сила: \" .. str .. \"<s>\n   Телосложение: \" .. vit .. \"<s>\n   Нераспределённые очки: \" .. skill\nreturn text\nend",
        "left_answer": false
      },
      {
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "id": 9,
        "text": "   ",
        "middle_answer": true,
        "comment": true
      }
    ]
  },
  {
    "id": 10,
    "text": "",
    "answers": []
  },
  {
    "id": 11,
    "text": "   Фермерские угодья близь города ",
    "answers": [
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "text": "   ",
        "calculate": true,
        "id": 11
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героя\"\n   local he5 = \"ся\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиню\"\n      he5 = \"ась\"\n   end\n   heroSleep = heroSleep <plus> 1\n   local serv1 = { he1 .. \" получил\" .. a .. \" болючий нагоняй за то, что собирал\" .. a .. \" овощи в чужом огороде.\", he2 .. \" бросили в малиновые кусты, где он\" .. a .. \" исцарапал\" .. he5 .. \", но немного собрал\" .. a .. \" ягод.\", he1 .. \" высекли за попытку хищения \" .. ({ \"капусты\", \"яблок\", \"арбузов\", \"картофеля\", \"моркови\", \"малины\", \"гороха\", \"огурцов\", \"томатов\", \"абрикосов\" })[math.random(10)] .. \". Плохо, но кушать хочется.\" }\n   local serv2 = { he1 .. \" тихо и мирно собирает \" .. ({ \"овощи в чужом огороде.\" , \"фрукты в чужом саду.\" })[math.random(2)], he1 .. \" укладывает \" .. ({ \"фрукты в сумку\", \"овощи в сумку\" })[math.random(2)] .. \", обещая \" .. ({ \"самому\", \"самой\" }) [male] .. \" себе, что однажды вернётся и заплатит за них.\", he1 .. \" собрал\" .. a .. \" неплохой урожай для фермера, взяв часть себе в качестве оплаты.\" }\n\nsbor = sbor or 0\nif sbor == 0 then\n   if math.random(2) == 1 then\n      hp = hp - (math.floor (maxHp * 0.07))\n      bagHero = bagHero <plus> (math.floor (maxBagHero * 0.05))\n      text = serv1[#serv1]\n   else\n      bagHero = bagHero <plus> (math.floor (maxBagHero * 0.2))\n      text = serv2[#serv2]\n   end\nelse\n   sbor = 0\n   bagHero = bagHero <plus> math.floor (maxBagHero * 0.4)\n   text = serv2[#serv2]\nend\n   if bagHero > maxBagHero then\n      bagHero = maxBagHero\n   end\nend",
        "text": "   ",
        "calculate": true,
        "id": 11
      },
      {
        "lua_text": "function lua_text()\nlocal xxx = \"\"\n   if stage <= 50 then xxx = stage\n   else xxx = gorod end\n   if hp < 0 then hp = 0 end\nreturn tStage[xxx] .. \".\"\nend",
        "id": 11,
        "text": "   ",
        "comment": false,
        "merge": true
      },
      {
        "lua_text": "function lua_text()\nreturn \"Здоровье:<s>\n\" .. hp .. \"/\" .. maxHp\nend",
        "merge": false,
        "id": 11,
        "text": "   ",
        "comment": true,
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 11,
        "text": "   ",
        "lua_text": "function lua_text()\nlocal text = \"Сумка:<s>\n\"\nlocal aa = math.floor (bagHero / maxBagHero * 100)\nlocal ab = \"\"\n   if aa < 1 then\n      ab = \"пустая.\"\n   elseif aa > 0 and aa <= 15 then \n      ab = \"почти пустая.\"\n   elseif aa > 15 and aa <= 50 then\n      ab = \"наполовину пустая.\"\n   elseif aa > 50 and aa <= 85 then\n      ab = \"наполовину полная.\"\n   elseif aa > 85 and aa <= 99 then\n      ab = \"почти полная.\"\n   elseif aa > 99 then\n      ab = \"полная.\"\n   end\nreturn text .. ab\nend",
        "merge": false
      },
      {
        "lua_text": "function lua_text()\nreturn text\nend",
        "id": 11,
        "text": "   ",
        "comment": true,
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde6.jpg"
        ]
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local aa = math.floor (bagHero / maxBagHero * 100)\n\n   if spd == 1 then spdX = 1000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 4000\n      elseif spdK == 2 then spdX = 5000\n      elseif spdK == 3 then spdX = 6000\n      elseif spdK == 4 then spdX = 7000\n      elseif spdK == 5 then spdX = 8000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         if bagHero > (maxBagHero * 0.9) or hp < 1 then\n            showPage {id = 4, transition = \"instant\"}\n         elseif hp > 0 then\n           showPage {id = 11, transition = \"instant\"}\n         end\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "text": "   ",
        "calculate": true,
        "id": 11
      },
      {
        "id": 11,
        "text": "   ",
        "comment": true
      },
      {
        "comment": false,
        "middle_answer": true,
        "instant": true,
        "var_need": [
          "volt",
          1
        ],
        "lua_if": "function lua_if()\nreturn bagHero < (maxBagHero * 0.9) and hp >= 1\nend",
        "var_sub": [
          "volt",
          1
        ],
        "text": "Помогать в сборе урожая",
        "id": 11,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nsbor = 1\nend",
        "var_set": [
          "back",
          11
        ]
      },
      {
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nnextFi = 1\nend",
        "id": 29,
        "lua_if": "function lua_if()\nreturn bagHero < (maxBagHero * 0.9) and hp >= 1\nend",
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "text": "Помогать в сборе урожая",
        "middle_answer": true,
        "var_set": [
          "back",
          11
        ]
      },
      {
        "id": 4,
        "var_need": [
          "volt",
          1
        ],
        "instant": true,
        "lua_if": "function lua_if()\nreturn hp >= 1\nend",
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "middle_answer": true,
        "text": "Уйти прочь",
        "var_sub": [
          "volt",
          1
        ],
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nnextFi = 2\nend",
        "var_less": [
          "volt",
          1
        ],
        "lua_if": "function lua_if()\nreturn hp >= 1\nend",
        "text": "Уйти прочь",
        "middle_answer": true,
        "instant": true,
        "id": 29,
        "var_set": [
          "back",
          11
        ]
      },
      {
        "comment": true,
        "middle_answer": true,
        "text": "   ",
        "id": 11,
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend"
      }
    ]
  },
  {
    "id": 12,
    "text": "   Городская кузница.\n\n   ",
    "answers": [
      {
        "id": 12,
        "text": "   ",
        "lua_text": "function lua_text()\nreturn \"Денег: \" .. gold .. \"<s>\n   Защита: \" .. sss .. \"%\"\nend",
        "merge": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   heroSleep = heroSleep <plus> 1\n   local aa = \"\"\n   local bb = \"\"\n      if xB > 2999 then aa = \" А прилавок не треснет?\" end\n      if xB > 2999 then bb = \" Тяжеловат мешок.\" end\n   local zz = \"\"\n   local cc = xB\n      if xB > gold then \n         cc = gold \n         bb = \" Мелковат мешочек...\"\n         aa = \"\"\n      end\n      if gold < xB then  zz = \"не \" end\n   local a = \"\"\n   if male == 2 then a = \"а\" end\n   texSmith = { name .. \" уговаривает кузнеца подлатать снаряжение...\", name .. \" отказывается уходить, если кузнец не починит броню.\",name .. \" просит сделать из \" .. ({ \"его\", \"её\" }) [male] .. \" брони-дуршлага нормальный доспех.\", name .. \" \" .. zz .. \"готов\" .. a .. \" заплатить за ремонт своего доспеха \" .. xB .. \" монет.\", \"Кузнец готов взяться за ремонт, но стоимость составит \" .. xB .. \" монет.\", \"У \" .. ({ \"Героя\", \"Героини\" }) [male] .. \" есть \" .. gold .. \", но он\" .. a  .. \" \" .. zz .. \"готов\" .. a .. \" заплатить \" .. xB .. \" монет за починку своего доспеха.\", \"Кузнец сначала просил за ремонт \" .. xB <plus> math.random(1111,2222) .. \" монет, но сделал скидку и сейчас просит лишь \" .. xB .. \".\", name .. \" трясёт мешком с \" .. cc .. \" монетами перед лицом кузнеца, вызывая его интерес.\" .. bb, \"Кузнец просит выложить \" .. xB .. \" монет на прилавок, чтобы подтвердить платежеспособность.\" .. aa }\nend",
        "text": "   ",
        "id": 12,
        "calculate": true
      },
      {
        "text": "   ",
        "comment": true,
        "super_calculate": false,
        "id": 12,
        "calculate": false,
        "lua_text": "function lua_text()\nlocal text = \"\"\n   if xB > gold then \n      text = \"Не хватает денег.<s>\nСтоимость: \" .. xB \n   else text = \"Стоимость починки: \" .. xB .. \" монет.\"\n   end\nreturn text\nend",
        "middle_answer": true
      },
      {
        "comment": true,
        "id": 12,
        "text": "   ",
        "lua_text": "function lua_text()\n   if exitSmith == 1 then\n      if male == 1 then\n         text = \"Герой передумал улучшать доспех.\"\n      else text = \"Героиня передумала улучшать доспех.\"\n      end\n   else\n      text = texSmith[math.random(#texSmith)]\n   end\nreturn text\nend",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde6.jpg"
        ]
      },
      {
        "id": 12,
        "text": "   ",
        "comment": true
      },
      {
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nexitSmith = 0\nsss = sss <plus> 5\ngold = gold - xB\nend",
        "id": 4,
        "comment": false,
        "text": "Чинить броню",
        "middle_answer": true,
        "instant": true,
        "var_need": [
          "volt",
          1,
          "gold",
          "xB"
        ],
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "var_need": [
          "gold",
          "xB"
        ],
        "middle_answer": true,
        "instant": true,
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nnextFi = 1\nend",
        "id": 29,
        "text": "Чинить броню",
        "var_less": [
          "volt",
          1
        ],
        "var_set": [
          "back",
          12
        ]
      },
      {
        "instant": true,
        "id": 4,
        "comment": false,
        "text": "Уйти",
        "middle_answer": true,
        "var_need": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nexitSmith = 0\nlocal stopTimer = timer.cancel (timer1)\nend",
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nnextFi = 2\nend",
        "middle_answer": true,
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "text": "Уйти",
        "id": 29,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "lua_do": "function lua_do()\n   if spd == 1 then spdX = 2000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         if smithMove > 0 then\n            smithMove = smithMove - 1\n            showPage {id = 12, transition = \"instant\"}\n         else\n            if gold >= xB then\n               hideAns = 0\n               sss = sss <plus> 5\n               gold = gold - xB\n            else\n               hideAns = 0\n            end\n            showPage {id = 4, transition = \"instant\"}\n         end\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "super_calculate": false,
        "id": 12,
        "text": "   ",
        "calculate": true,
        "var_equal": [
          "exitSmith",
          0
        ]
      },
      {
        "var_equal": [
          "exitSmith",
          1
        ],
        "super_calculate": false,
        "id": 12,
        "text": "   ",
        "calculate": true,
        "lua_do": "function lua_do()\n   if spd == 0 then spdX = 4000 \n   else spdX = 1000 end\n   repeater = function()\n      if g.userInQuest == 1 then\n         hideAns = 0\n         showPage {id = 4, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend"
      },
      {
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "id": 12,
        "text": "   ",
        "middle_answer": true,
        "comment": true
      }
    ]
  },
  {
    "id": 13,
    "text": "",
    "answers": []
  },
  {
    "id": 14,
    "text": "",
    "answers": []
  },
  {
    "id": 15,
    "text": "",
    "answers": []
  },
  {
    "id": 16,
    "text": "   Фантазия.",
    "answers": [
      {
        "super_calculate": false,
        "id": 16,
        "text": "  ",
        "calculate": true,
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nheroSleep = heroSleep <plus> 1\nposition = position or 1\nend"
      },
      {
        "id": 20,
        "text": "... враги ..",
        "run": [
          20
        ]
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   if nextM == 1 then\n      well = well <plus> 1\n      enKa4 = tabMonstersKa4 [math.random (#tabMonstersKa4)]\n      enName = tabMonsters[math.random (99)] \n      enDmg = 20 * position\n      enMaxHp = dungeonHp[position]\n      enHp = dungeonHp[position]\n      nextM = 0 \n   end\nend",
        "text": "   ",
        "calculate": true,
        "id": 16
      },
      {
        "id": 6,
        "text": "... таблицы ...",
        "run": [
          6
        ]
      },
      {
        "id": 19,
        "text": " ... атаки со снаряжением ...",
        "run": [
          19
        ]
      },
      {
        "id": 21,
        "text": "... расчёт боя...",
        "run": [
          21
        ]
      },
      {
        "lua_text": "function lua_text()\nif hp < 1 then hp = 0 end\nif hp > maxHp then hp = maxHp end\nlocal a\n   if healProc ~= 1 then\n   a = \"<s>\n(–\" .. dmg2 .. \")\"\n   elseif healProc == 1 then\n   a = \"<s>\n(<plus>\" .. howHeal .. \")\"\n   end\n   local aa = \"Герой<s>\n\"\n   if male == 2 then aa = \"Героиня<s>\n\" end\nreturn aa .. name .. \"<s>\n\" .. hp .. \"/\" .. maxHp .. a\nend",
        "id": 16,
        "text": "   ",
        "comment": true,
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": true,
        "id": 16,
        "text": "   ",
        "lua_text": "function lua_text()\n   if enHp < 1 then enHp = 0 end\n   if enHp > enMaxHp then enHp = enMaxHp end\nreturn enKa4 .. \"<s>\n\" .. enName .. \" <s>\n\" .. enHp .. \"/\" .. enMaxHp .. \"<s>\n(–\" .. dmg1 .. \")\"\nend"
      },
      {
        "comment": true,
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde1.jpg"
        ],
        "id": 16,
        "var_need": [
          "hp",
          1
        ],
        "lua_text": "function lua_text()\nreturn text\nend",
        "text": "  "
      },
      {
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde666.png"
        ],
        "lua_text": "function lua_text()\nreturn text\nend",
        "id": 16,
        "text": "  ",
        "comment": true,
        "var_less": [
          "hp",
          1
        ]
      },
      {
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "id": 16,
        "text": "   ",
        "middle_answer": true,
        "comment": true
      },
      {
        "middle_answer": false,
        "comment": true,
        "super_calculate": false,
        "id": 16,
        "text": "   ",
        "lua_text": "function lua_text()\nreturn \"<s>\nТекущий уровень Мечты: \" .. position\nend",
        "calculate": false
      },
      {
        "comment": true,
        "middle_answer": false,
        "id": 16,
        "text": "  ",
        "lua_text": "function lua_text()\nreturn \"Оружие: \" .. myDungItem .. \" (<plus>\" .. myDungItemKa4 .. \"%)\"\nend",
        "merge": false
      }
    ]
  },
  {
    "id": 17,
    "text": "",
    "answers": []
  },
  {
    "id": 18,
    "text": "   Сон, сон, сон...\n",
    "answers": [
      {
        "super_calculate": false,
        "id": 18,
        "calculate": true,
        "lua_do": "function lua_do()\n   local aa = ({ \"летающих \", \"розовых \", \"мигающих \", \"голубых \", \"мерцающих \", \"блестящих \", \"переливающихся \", \"разноцветных \", \"светопоглощающих \", \"коралловых \" }) [math.random(10)] .. ({ \"коров\", \"жирафов\", \"слонов\", \"пришельцев\", \"человечков\", \"медведей\", \"пони\", \"комаров\", \"драконов\", \"единорогов\" }) [math.random(10)] .. \".\"\n\n   local ab = ({ \"поединок\", \"дуэль\", \"мордобой\", \"бой\", \"драка\" }) [math.random (5)] .. \", где \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] .. ({ \" заранее хвастается своей лёгкой победой.\", \" побеждённый валяется в грязи.\", \" плачет, так как получил прямо в глаз.\", \" рассказывает о своих мечтах.\", \" жалуется на тяжёлую жизнь.\" }) [math.random (5)]\n\n   local ac = ({ \"грязный \", \"великолепный \", \"изысканный \", \"роскошный \", \"пышный \", \"изумительный \", \"превосходный \", \"искусный \", \"непревзойдённый \", \"величественный \", \"красивый \", \"изящный \" }) [math.random (12)] .. \"город \" .. tStage [math.random(#tStage)] .. \" с его \" .. ({ \"узкими улочками.\", \"широкими улицами.\", \"огромными библиотеками.\", \"прекрасными статуями и монументами.\", \"добрейшими жителями.\" }) [math.random (5)]\n\n   local ad = \"\"\n      if math.random(2) == 1 then\n         ad = shop1 [math.random (#shop1)] .. shop2 [math.random(#shop2)]\n      else\n         ad = shop3 [math.random (#shop3)] .. shop4 [math.random (#shop4)]\n      end\n   ad = ad .. \". \" .. ({ \"Было бы круто дубасить этим своих противников.\", \"Хорошо, что этого оружия у него нет.\", \"Это оружие шикарно лежит в руке, да и цвет \" .. ({ \"розовый.\", \"голубой.\", \"красный.\", \"пурпурный.\", \"чёрный.\", \"зелёный.\", \"синий.\", \"янтарный.\", \"белый.\", \"фиолетовый.\" }) [math.random (10)], \"Жаль, что это оружие у соперника, но это же сон, можно забрать и носить.\", name .. \" надеется, что найдёт такое оружие в магазине.\" }) [math.random (5)]\n\n   local he1 = \"Герой\"\n   local he2 = \"Герою\"\n   if male == 2 then\n      he1 = \"Героиня\"\n      he2 = \"Героине\"\n   end\n\n   texSleep = { he1 .. \" спит без передних рук и задних ног.\", he1 .. \" считает во сне героических овец.\", he1 .. \" видит волшебный сон про \" .. aa, he2 .. \" снится \" .. ab, he2 .. \" снится \" .. ac, he1 .. \" видит во сне \" .. ad }\nend",
        "text": "   "
      },
      {
        "lua_text": "function lua_text()\nif heroSleep > 100 then heroSleep = 100 end\nlocal text = \"\"\nlocal he1 = \"Герой\"\nif male == 2 then he1 = \"Героиня\" end\n   if heroSleep > 50 then\n      text = he1 .. \" очень крепко спит.\"\n   elseif heroSleep > 20 and heroSleep < 51 then\n      text = he1 .. \" всё ещё спит.\"\n   else\n      text = he1 .. \" скоро проснётся.\"\n   end\nreturn text\nend",
        "id": 18,
        "text": "   ",
        "middle_answer": true,
        "comment": true
      },
      {
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde3.jpg"
        ],
        "id": 18,
        "text": "   ",
        "lua_text": "function lua_text()\nreturn texSleep [math.random(#texSleep)]\nend",
        "comment": true
      },
      {
        "id": 18,
        "text": "   ",
        "comment": true
      },
      {
        "text": "  ",
        "lua_text": "function lua_text()\nif hp > maxHp then hp = maxHp end\nif hp < 1 then hp = 1 end\n\nlocal text = \"<s>\n   Здоровье: \" .. hp .. \"/\" .. maxHp\nreturn text\nend",
        "super_calculate": false,
        "id": 18,
        "calculate": false,
        "comment": true,
        "merge": true
      },
      {
        "super_calculate": false,
        "id": 18,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\ndostup1 = dostup1 or 0\n   if myFond then\n      for i = 1, #myFond do\n         if myFond [i] == 1 then\n            dostup1 = 1\n            break\n         end\n      end\n   end\n\n   if spd == 1 then spdX = 1000 \n   else\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         if heroSleep > 0 then\n            hp = hp <plus> math.floor (maxHp * 0.05)\n            if hp > maxHp then hp = maxHp end\n            heroSleep = heroSleep - math.random(13,23)\n            if heroSleep < 0 then heroSleep = 0 end\n            showPage {id = 18, transition = \"instant\"}\n         else\n            if dostup1 == 1 then \n               n18 = 38\n            else \n               n18 = 4\n               dialog({header = \"Событие дня\", text = texNews [math.random (#texNews)], answer = {{text = \"Ок\", pressListener = function() hideDialog() end}}})\n            end\n            showPage {id = n18, transition = \"instant\"}\n         end\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "text": "   "
      },
      {
        "comment": false,
        "id": 4,
        "text": "Спать без сновидений",
        "var_not": [
          "dostup1",
          1
        ],
        "var_need": [
          "volt",
          1
        ],
        "instant": true,
        "middle_answer": true,
        "lua_do": "function lua_do()\nheroSleep = 0\nlocal stop = timer.cancel (timer1)\n   dialog({header = \"Событие дня\",\n      text = texNews [math.random (#texNews)],\n      answer = {\n        {text = \"Ок\",\n         pressListener = function()\n         hideDialog() end}\n      }})\nend",
        "var_more": [
          "heroSleep",
          0
        ],
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nheroSleep = 0\nlocal stop = timer.cancel (timer1)\nend",
        "instant": true,
        "var_more": [
          "heroSleep",
          0
        ],
        "id": 38,
        "var_equal": [
          "dostup1",
          1
        ],
        "var_need": [
          "volt",
          1
        ],
        "middle_answer": true,
        "text": "Спать без сновидений",
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "instant": true,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "text": "Спать без сновидений",
        "var_less": [
          "volt",
          1
        ],
        "id": 29,
        "var_more": [
          "heroSleep",
          0
        ],
        "middle_answer": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": true,
        "id": 18,
        "text": "   ",
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "middle_answer": true
      },
      {
        "id": 38,
        "text": " ... девиденты от недвижимости ....",
        "need": [
          9999
        ]
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   texNews = { \"В этот день \" .. ({ \"сила атаки\", \"меткость\", \"уклонение\" }) [math.random(3)] .. \" \" .. ({ \"соперников\", \"противников\", \"монстров\" }) [math.random(3)] .. \" будет немного \" .. ({ \"увеличена.\", \"уменьшена.\" }) [math.random(2)], \"В этот день \" .. fond[math.random(#fond)] .. \" принесёт \" .. ({ \"больше\", \"меньше\" }) [math.random(2)] .. \" прибыли своим владельцам.\", \"В этот день удача \" .. ({ \"будет\", \"не будет\" }) [math.random(2)] .. \" на вашей стороне.\", \"В этот день лучше всего расчитаться со всеми давними долгами, если они есть.\", \"В этот день вы получите \" .. ({ \"немного больше\", \"немного меньше\" }) [math.random(2)] .. \" денег за \" .. ({ \"победу над монстрами.\", \"выполнение заданий.\", \"продажу оружия.\" }) [math.random(3)], \"В этот день можно получить приятный бонус от друзей или лучшее оружие.\", \"В этот день лучше всего отправиться в путешествие, или в другой город.\", \"В этот день окружающие герои и героини не будут ждать идеального случая, что показать себя.\", \"В этот день чей-то опыт послужит хорошим примерном, как не надо делать.\", \"В этот день Судьба \" .. ({ \"менее\", \"более\" }) [math.random(2)] .. \" благосклонна к героям и героиням.\", \"В этот день легко ошибиться дверью и попасть не туда, куда нужно было.\", \"В этот день очереди в больнице становятся \" .. ({ \"короче.\", \"длиннее.\" }) [math.random(2)], \"В этот день фермеры дают за сбор урожая немного \" .. ({ \"больше\", \"меньше\" }) [math.random(2)] .. \" еды.\", \"Этот день будет сплошной головной болью для героев и героинь.\", \"В этот день у Оверлорда выходной, поэтому он не будет сегодня пытаться захватить мир.\", \"В этот день всем предстоить снова \" .. ({ \"лечь спать.\", \"идти в бой.\", \"выполнять задания и поручения.\", \"лечиться.\" }) [math.random(4)] }\nend",
        "text": "     ",
        "id": 18,
        "calculate": true
      }
    ]
  },
  {
    "id": 19,
    "text": "... атаки со снарягой ...",
    "answers": [
      {
        "comment": false,
        "super_calculate": false,
        "id": 19,
        "calculate": true,
        "lua_do": "function lua_do()\nas = \"\"\n   if getItem > 0 then\n      warR = math.random(3)\n      warD = math.floor ( (str * 5) * (myItemKa4[getItem] / 100) )\n      as = myItem[getItem] \n   end\nend",
        "text": "   снаряга"
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героя\"\n   local he5 = \"ся\"\n   local he6 = \"его\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиню\"\n      he5 = \"ась\"\n      he6 = \"её\"\n   end\n\n   texItem1 = { name .. \" достал\" .. a .. \" \" .. as .. \" для атаки и успешно приложил\" .. a .. \" им соперника. \" .. enKN .. \" терпеть не стал и покусал \" .. he2 .. \".\", name .. \" выполнил\" .. a .. \" тройное сальто, держа в руках \" .. as .. \", и врезал\" .. a .. \" им противнику. \" .. enKN .. \" в ответ также применил свои кулаки.\", name .. \" раскрутил\" .. a ..\" \" .. as .. \", как пропеллер и взлетел\" .. a .. \" над соперником. Когда взлётной тяги перестало хватать, от падения досталось обоим.\", he1 .. \" проводит сильную атаку, используя \" .. as .. \". Противник заявляет, что \" .. he1 .. \" неправильно использует оружие, отбирает его, проводит атаку и возвращает обратно.\", he1 .. \" сильно раскрутил\" .. he5 .. \", держа в руках \" .. as .. \". \" .. enKN .. \" увернуться не смог, но и герой остановился только после падения в овраг.\", name .. \" бросает оружие в противника, но противник уворачивается, а \" .. as .. \" улетает вдаль. Плюнув, герой бьёт врага кулаками. Вскоре \" .. as .. \" прилетает сзади и ударяет героя в затылок.\", name .. \" машет оружием так, что досталось всем. \" .. enKN .. \" получил им столько же раз, что и \" .. ({ \"сам Герой\", \"сама Героиня\" }) [math.random(2)] .. \".\", \"Подброшенный вверх \" .. as .. \" задевает всех при падении. Вот так могучая сила сокрыта в нём!\", name .. \" требует ударить \" .. he6 .. \", чтобы потом можно было как следует дать сдачи за обиду. Лишь бы \" .. as .. \" выдержал и не сломался.\", he1 .. \" бьёт дважды, где один раз промахнул\" .. he5 .. \". \" .. enKN .. \" решил проучить \" .. he2 .. \" за промах, и провёл сокрушительный хук в челюсть.\", he1 .. \" и \" .. enKN .. \" заключили перемирие на один ход и, чтобы не нарушать статистику боя, попросили адъютанта записать в историю боя два удара с вычетом здоровья: один - мастерский апперкот, а второй - личным оружием - \" .. as .. \".\", name .. \" и \" .. enKN .. \" загорают на солнышке, но солнечные ожоги наносят урон им обоим. Надо было использовать \" .. as .. \", чтобы создать тень и не сгореть под лучами.\" }\nend",
        "calculate": true,
        "text": "   снаряга - взаимный урон",
        "id": 19
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"\"\n   local he5 = \"ся\"\n   local he6 = \"ый \"\n   local he7 = \"его\"\n   local he8 = \"им\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"\"\n      he5 = \"ась\"\n      he6 = \"ая \"\n      he7 = \"её\"\n      he8 = \"ей\"\n   end\n\n   texItem2 = { name .. \" достал\" .. a .. \" \" .. as .. \" для атаки и успешно приложил\" .. a .. \" им соперника. \" .. enKN .. \" от удивления аж забыл про свой ход.\", name .. \" раскрутил\" .. he5 .. \" с \" .. as .. \" в руках и врезал\" .. a .. \" им своему противнику. Соперник такого ну никак не ожидал.\", name .. \" взял\" .. a .. \" своего соперника и, подняв над головой, ударил\" .. a .. \" им о \" .. as .. \". \" .. enKN .. \" слегка удивлён такому повороту вещей.\", \"- \" .. as .. \" давно ждёт свежей крови! - закричал\" .. a .. \" \" .. he1 .. \", и душа соперника ушла в пятки, где и получила внушительный урон.\", he1 .. \" пытается сыграть партию соло на \" .. as .. \". Противник зажимает уши, чтобы не терять так много крови.\", he1 .. \" предлагает \" .. as .. \" в подарок сопернику, но в последний момент передумал\" .. a .. \" и подарил\" .. a .. \" тумака. \" .. enKN .. \" сильно обиделся.\", he1 .. \" просит соперника подержать \" .. as .. \", а затем проводит серию ударов кулаками, после чего забирает оружие обратно и благодарит за помощь.\", name .. \" потерял\" .. a .. \" оружие и просит соперника позвонить на \" .. as .. \". Обнаружив пропажу в кустах, \" .. he1 .. \" благодарит его и демонстрирует оружие в действии.\", \"Не успел\" .. a .. \" \" .. name .. \" опомниться, как \" .. enKN .. \" проглотил \" .. as .. \". Огорчённ\" .. he6 .. he1 .. \" кулаками уговаривает врага по-хорошему вернуть \" .. he7 .. \" оружие, и у н\" .. he7 .. \" это получается.\", he1 .. \" нацепил\" .. a .. \" свои вещи на \" .. as .. \", а сам\" .. a .. \" спрятал\" .. he5 .. \". Враг провёл сокрушительную серию атак по манекену, и, изнемождённый, но довольный, рухнул наземь.\", he1 .. \" хочет продать врагу \" .. as .. \" и увлечённо расписывает все преимущества данного оружия. Сначала у противника завяли уши, а потом он и вовсе начал биться головой о растущий рядом дуб.\", he1 .. \" буравит соперника взглядом, а потом для пущей убойности использует \" .. as, name .. \" промахнул\" .. he5 .. \", но искры, которые высек \" .. as .. \" ударом о камень обожгли соперника до глубины сетчатки глаз.\", \"Противник схватил \" .. as .. \" и сам же порезался \" .. he8 .. \". \" .. name .. \" оттирает \" .. as .. \" от крови, пока \" .. enKN .. \" накладывает пластырь на рану.\", as .. \" настолько острый, что \" .. he1 .. \" срубил\" .. a .. \" дерево, которое упало на соперника.\", name .. \" собирал\" .. he5 .. \" начистить \" .. as .. \", но \" .. enKN .. \" спрятал его где-то. Пришлось кулаками выбивать информацию о его местонахождении.\", name .. \" выскакивает из-за дерева и лупит оружием по спине противника. \" .. enKN .. \" корчится от боли и говорит, что играть в прятки и использовать при этом \" .. as .. \" - против правил.\", he1 .. \" выбил\" .. a .. \" сопернику зуб. Тот поднял его и вставил обратно - это был имплант. \" .. \"А вот \" .. as .. \" получил царапину!\" }\nend",
        "text": "   снаряга - уклонение и атака",
        "id": 19,
        "calculate": true
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героя\"\n   local he3 = \"Герою\"\n   local he4 = \"Героя\"\n   local he5 = \"ся\"\n   local he6 = \"ему\"\n   local he7 = \"его\"\n   local he8 = \"ошибся\"\n   local he9 = \"\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героини\"\n      he3 = \"Героине\"\n      he4 = \"Героиню\"\n      he5 = \"ась\"\n      he6 = \"ей\"\n      he7 = \"её\"\n      he8 = \"ошиблась\"\n      he9 = \"ла\"\n   end\n\n   local aa = ({ \"виртуозно\", \"молниеносно\", \"быстро\", \"эффектно\" }) [math.random(4)]\n   local bb = enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)]\n   texItem3 = { as .. \" выпадает из рук \" .. he2 .. \" за секунду до атаки. А вот \" .. enKN .. \" бьёт кулаком, так что попадает точно в цель.\", he1 .. \" не успел\" .. a .. \" вытащить \" .. as .. \", но успел\" .. a .. \" получить тумаков в этом ходу.\", name .. \" \" .. aa .. \" проводит атаку и побеждает соперника, но оказывается, что не своего. \" .. enKN .. \" и \" .. bb .. \" напару дают нагоняй \" .. he3 .. \".\", bb .. \" отвлёк \" .. he4 .. \" от боя, демонстрируя \" .. he6 .. \" новое оружие. Соперник не стал ждать и избил их обоих.\", name .. \" положил\" .. a .. \" в котёл \" .. as .. \", но каша из оружия не вышла. Огорчённый \" .. enKN .. \" врезал \" .. he3 .. \" подзатыльник.\", he1 .. \" собирал\" .. he5 .. \" нанести удар оружием, но остановил\" .. he5 .. \", чтобы не портить \" .. as .. \".  Соперник же не остановился и \" .. aa .. \" провёл серию прямых ударов.\", he1 .. \" швырнул\" .. a .. \" \" .. as .. \" в противника, но не попал\" .. a .. \". \" .. enKN .. \" бросил его обратно в \" .. he4 .. \" и попал.\", \"На соперника напала пума, и \" .. he1 .. \", используя \" .. as .. \", смахнул\" .. he5 .. \" в схватке с ней, лишь бы спасти безоружного противника.\", he1 .. \" вытаскивал\" .. a .. \" \" .. as .. \" и порезал\" .. he5 .. \". Крови было много, и текущий ход пришлось отменить.\", enKN .. \" бросил в \" .. he4 .. \" магнит. Тот сначала пролетел мимо, но затем вернулся и влетел в \" .. he4 .. \". Неужели его притянуло на \" .. as .. \"?\", \"Проходившие мимо ''зеленомирцы'' увидели у \" .. he2 .. \" \" .. as .. \", после чего долго пинали \" .. he7 .. \" и пытались отнять оружие. Адъютант и \" .. enKN .. \" кое как смогли объяснить, что пользоваться оружием в бою разрешено Правилами.\", name .. \" начал\" .. a .. \" жонглировать своим оружием, показывать разные трюки, но \" .. he8 .. \" и пришиб\" .. he9 .. \" сам\" .. a .. \" себя.\", he1 .. \" получил\" .. a .. \" по зубам, пока пытал\" .. he5 .. \" изменить качество оружия. Вот бы поменять \" .. as .. \" на другое.\", name .. \" хотел\".. a .. \" разрубить противника пополам, но получилось лишь промахнуться. \" .. as .. \" налетел на булыжник, осколок которого прилетел в лоб \" .. he2 .. \".\", name .. \" сильно замахнул\" .. he5 .. \" оружием для удара, но \" .. as .. \" по инерции пошёл дальше, чуть не сломав \" .. he4 .. \"пополам.\" }\nend",
        "text": "   снаряга - промах и получение урона",
        "calculate": true,
        "id": 19
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героя\"\n   local he5 = \"ся\"\n   local he6 = \"его\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героини\"\n      he5 = \"ась\"\n      he6 = \"её\"\n   end\n\n   texItem4 = { name .. \" демонстрирует сопернику \" .. as .. \". Тот удивлен, какое редкое оружие есть у \" .. he2 .. \".\", he1 .. \" достал\" .. a .. \" \" .. as .. \" и принял\" .. he5 .. \" рисовать на песке. Соперник высоко оценил искусство.\", \"Пока возникла небольшая пауза, \" .. he1 .. \" решил\" .. a .. \" начистить \" .. as .. \" до блеска.\", he1 .. \" использовал\" .. a .. \" \" .. as .. \" для открытия газировки. Соперник благодарит \" .. he6 .. \" и забирает свою бутылку.\", name .. \" представляет, каким будет следующее после этого оружие.\", name .. \" рассказывает про \" .. as .. \" и прошлом владельце. \" .. enKN .. \" заявил, что знает его, и даже недавно видел - он стал известным героем.\", name .. \" рассказывает про \" .. as .. \" и прошлого владельца. \" .. enKN .. \" заявил, что уже сражался против него, и недавно видел этого слабака с другим оружием. Может стоит сменить \" .. as .. \" на другое?\", name .. \" собирал\" .. he5 .. \" начистить \" .. as .. \", но \" .. enKN .. \" спрятал его где-то. Поиски заняли время.\" }\nend",
        "text": "   снаряга - ожидание",
        "id": 19,
        "calculate": true
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Герою\"\n   local he3 = \"Героя\"\n   local he4 = \"Героя\"\n   local he6 = \"его\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героине\"\n      he3 = \"Героиню\"\n      he4 = \"Героини\"\n      he6 = \"её\"\n   end\n\n   texItem9 = { name .. \" выкопал\" .. a .. \" себе яму при помощи \" .. as .. \". К \" .. he6 .. \" досаде, \" .. enKN .. \" падает туда сам. Теперь новую рыть! Хоть победа досталась \" .. he2 .. \".\", \"Соперник бежал на \" .. he3 .. \", а \" .. name .. \", использовал\" .. a .. \" \" .. as .. \", отразив солнечный свет в лицо соперника. Тот на мгновение ослеп, на полном ходу врезался в дуб и упал в овраг. Оформили как несчастный случай, записав победу \" .. he2 .. \".\", he1 .. \" выставил\" .. a .. \" вперёд \" .. as .. \", и \" .. enKN .. \" сам напоролся. Пришлось вызвать бригаду медиков, которая утащила его в свои чертоги. Техническая победа!\", he1 .. \" бросил\" .. a .. \" \" .. as .. \" под ноги противнику, а тот запнулся об него и расшибся. Ликуют зрители, ставившие ставки на победу \" .. he4 .. \".\", name .. \" отправляет соперника в нокаут и торжественно поднимает \" .. as .. \" вверх. Художники быстренько зарисовывают этот торжественный момент.\", \"- Я не могу проиграть! - верещал \" .. enKN .. \", вырываясь из цепких рук медбратьев. \" .. name .. \" показал\" .. a .. \" ещё раз \" ..  as .. \" и только тогда тот угоморился и добровольно лёг на носилки. Победа!\", he1 .. \" использует \" .. as .. \" как удочку, вылавливая рыбку на закуску. Выуженный трёхметровый \" .. ({ \"карп\", \"налим\", \"сом\", \"окунь\", \"ёрш\" }) [math.random(5)] .. \" чуть не схватил \" .. he3 .. \", но ему попался \" .. enKN .. \", которого он и утащил в реку за собой. Соперника нет, значит считается, что победил\" .. a .. \"!\", \"Соперник бросился бежать прочь, чтобы спасти свою шкуру, но брошеный \" .. as .. \" мигом настиг подлеца. \" .. enKN .. \" повержен. Победа \" .. he2 .. \"!\" }\nend",
        "text": "   снаряга - победа",
        "id": 19,
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 19,
        "calculate": true,
        "lua_do": "function lua_do()\n   local texAtt1 = { \" выполнил \", \" произвёл \", \" совершил \", \" реализовал \", \" провёл \", \" исполнил \", \" осуществил \" }\n   if male == 2 then\n      texAtt1 = { \" выполнила \", \" произвела \", \" совершила \", \" реализовала задуманный \", \" провела \", \" исполнила \", \" осуществила \" }\n   end\n\n   local texAtt2 = { \"абсурдный \", \"безупречный \", \"бестолковый \", \"бредовый \", \"безалаберный \", \"бессмысленный \", \"безвольный \", \"быстрый \", \"вздорный \", \"глупый \", \"героический \", \"дурацкий \", \"дикий \", \"изумительный \", \"иррациональный \", \"лишенный всякого смысла \", \"лишенный здравого смысла \", \"молниеносный \", \"нелепый \", \"неуклюжий \", \"несуразный \", \"парадоксальный \", \"поразительный \", \"посредственный \", \"примитивный \", \"слабый \", \"сильный \", \"сокрушительный \", \"смешной \", \"смехотворный \", \"сумбурный \", \"скверный \", \"уверенный \", \"убедительный \", \"фантастический \", \"чудаческий \" }\n  local texAtt3 = { \"апперкот \", \"выдох \", \"вдох \", \"наскок \", \"прыжок \", \"пинок \", \"удар \", \"удар рукой \", \"удар ногой \", \"хук левой \", \"хук правой \", \"удар головой \", \"удар локтём \", \"удар коленом \" }\n   local texAtt4 = { \"без промедления \", \"быстро \", \"в одночасье \", \"в мгновение ока \", \"весело \", \"внезапно \", \"весело \", \"вежливо \", \"иронично \", \"искренне \", \"молниеносно \", \"медленно \", \"неадекватно \", \"в одночасье \", \"радостно \", \"спеша \", \"сию минуту \", \"задорно \", \"оживлённо \", \"игриво \", \"оптимистично \", \" озорно \", \"уныло \", \"жизнерадостно \", \"ликующе \", \"нежно \", \"грубо \", \"взволнованно \", \"искренне \", \"страстно \", \"обиженно \", \"несуразно \", \"злобно \", \"жёстко \", \"вероломно \" }\n\n  local a = \"\"\n  local heroes = \"Героя\"\n  local heroes5 = \"ся\"\n  if male == 2 then\n     a = \"а\"\n     heroes = \"Героиню\"\n     heroes5 = \"ась\"\n  end\n  local texAtt5 = { \"извинил\" .. heroes5 .. \" перед соперником\", \"упал\" .. a .. \" на колени, прося прощения\", \"рассмеял\" .. heroes5 .. \" над противником\", \"отскочил\" .. a .. \" в сторону\", \"отскочил\" .. heroes5 .. \" назад\", \"споткнул\" .. heroes5, \"поскользнул\" .. heroes5, \"чуть не упал\" .. a, \"начал\" .. a .. \" оправдываться\", \"достал\" .. a .. \" оружие\", \"начал\" .. a .. \" издеваться над соперником\", \"подмигнул\" .. a .. \" противнику\", \"чихнул\" .. a .. \" в платок\", \"удивил\" .. heroes5 .. \" сделанному\", \"начал\" .. a .. \" пересчитывать спички в коробке\", \"принял\" .. heroes5 .. \" считать облака в небе\", \"начал\" .. a .. \" танцевать ламбаду\", \"начал\" .. a .. \" танцевать танго\", \"предложил\" .. a .. \" разойтись мирно\", \"пригласил\" .. a .. \" на обед за свой счёт\", \"принял\" .. heroes5 .. \" сквернословить\", \"строить песочные замки\", \"начал\" .. a .. \" любоваться закатом\" }\n\n   local texAtt6 = { \"соперник \", \"противник \", \"оппонент \", \"недруг \", \"неприятель \", \"антогонист \", enKN .. \" \" }\n\n   local ooo = texAtt2 [math.random (#texAtt2)]\n   local ooa = texAtt4 [math.random (#texAtt4)]\n   local oob = { \"ухо\", \"горло\", \"нос\", \"голову\", \"руку\", \"ногу\", \"пятку\", \"коленку\", \"ягодицу\", \"локоть\", \"указательный палец на руке\", \"большой палец на руке\", \"мизинец на руке\", \"безымянный палец на руке\", \"средний палец на руке\", \"мизинец на ноге\", \"безымянный палец на ноге\", \"средний палец на ноге\", \"указательный палец на ноге\", \"большой палец на ноге\", \"бочок\", \"левый бок\", \"правый бок\", \"плечо\", \"ключицу\", \"шею\", \"стопу\", \"щиколотку\" }\n\n   local texAtt7 = { \"ответил тем же приёмом.\", \"дал сдачи.\", \"ударил ногой с разворота.\", \"провёл \" .. ooo .. \"апперкот.\", \"совершил \" .. ooo .. \"выпад и атаку.\", ooa .. \" укусил \" .. heroes .. \" за \" .. oob [math.random (#oob)] .. \".\", ooa .. \"боднул \" .. heroes .. \" в \" .. oob [math.random(#oob)] .. \".\", ooa .. \"ударил \" .. heroes .. \" головой.\", \"целился в \" .. oob [math.random (#oob)] .. \", а попал в \" .. oob [math.random (#oob)] .. \".\", ooa .. \"схватил \" .. heroes .. \" за \" .. oob [math.random (#oob)].. \" и \" .. ooa .. \"оттягал.\" }\n\n   local texAtt8 = { \"целился в \" .. oob [math.random (#oob)] .. \", но промахнулся.\", \"хотел укусить \" .. heroes .. \", но не придумал куда.\", ooa .. \"обиделся.\", \"решил простить \" .. heroes .. \".\", \"решил не ходить, чтобы накопить удачу к следующему ходу.\", \"далеко отлетел и долго приходил в себя.\", \"засмотрелся на \" .. ({ \"пролетающую бабочку.\", \"мирно пасущуюся корову.\", \"падающий лист с дерева.\", \"текущую в реке воду.\", \"шелестание кроны от дуновения ветра.\" }) [math.random(5)], \"слишком долго готовился к своей атаке.\", \"метил в \" .. oob [math.random (#oob)] .. \", но ударил в \" .. ({ \"дуб.\", \"берёзу.\", \"клён.\", \"тополь.\", \"крапиву.\" }) [math.random (5)] }\n\n   local textAttack = name .. texAtt1 [math.random (#texAtt1)] .. texAtt2 [math.random (#texAtt2)] .. texAtt3 [math.random (#texAtt3)] .. \"и \" .. texAtt4 [math.random (#texAtt4)] .. texAtt5 [math.random (#texAtt5)] .. \", а \" .. texAtt6 [math.random (#texAtt6)]\n   textAttack1 = textAttack .. texAtt7 [math.random (#texAtt7)]\n   textAttack2 = textAttack .. texAtt8 [math.random (#texAtt8)]\n\nend",
        "text": "Новый ответ. введите текст"
      }
    ]
  },
  {
    "id": 20,
    "text": "... враги ...",
    "answers": [
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   tabMonsters = { \"Гоблин\", \"Скелет\", \"Зомби\", \"Заклинатель\", \"Вепрь\", \"Тарантул\", \"Ходок\", \"Варан\", \"Шайтан\", \"Гоблин-воин\", \"Вервольф\", \"Бес\", \"Василиск\", \"Преторианец\", \"Кровосос\", \"Бигфут\", \"Колдун\", \"Гоблин-шаман\", \"Дух\", \"Призрак\", \"Гуль\", \"Ящер\", \"Банник\", \"Водяной\", \"Гамаюн\", \"Руфус\", \"Гонгер\", \"Килин\", \"Пиксель\", \"Змей\", \"Фриск\", \"Измор\", \"Рептоид\", \"Нирреид\", \"Чёрт\", \"Кентавр\", \"Крипер\", \"Некроморф\", \"Фавн\", \"Рукоглаз\", \"Суккуб\", \"Каркаданн\", \"Щелкун\", \"Фахан\", \"Чуманосец\", \"Каракас\", \"Глорб\", \"Стригой\", \"Голем\", \"Металлист\",     \"Сфинкс\", \"Гребун\", \"Некроморф\", \"Волкодав\", \"Грим\", \"Медвежатник\", \"Пегас\", \"Волкодав\", \"Сирин\", \"Колченог\", \"Неккер\", \"Бычеголов\", \"Оборотень\", \"Единорожец\", \"Рокуроккуб\", \"Гигант\", \"Чужеземец\", \"Грешитель\", \"Серафим\", \"Кощей\", \"Полтергейст\", \"Слепень\", \"Ракшас\", \"Корректор\", \"Орк\", \"Элементалист\", \"Падший\", \"Гриф\", \"Сатакусс\", \"Раптор\", \"Кловер\", \"Элементаль\", \"Минотавр\", \"Шатун\", \"Вампир\", \"Тролль\", \"Цербер\", \"Пожиратель\", \"Энт\", \"Баал\", \"Циклоп\", \"Герольд\", \"Драконианец\", \"Лич\", \"Кракен\", \"Огр\", \"Драконоид\", \"Демон\", \"Дракон\", \"Оверлорд\" }\n   tabMonstersKa4 = { \"Карамельный \", \"Сахарный \", \"Ванильный \", \"Сладкий \", \"Шоколадный \", \"Пряничный \", \"Медовый \", \"Фруктовый \", \"Конфетный \", \"Миндальный \", \"Ореховый \", \"Печенный \", \"Глазированный \", \"Кофейный \", \"Мармеладный \", \"Молочный \", \"Творожный \", \"Блинный \", \"Масляный \", \"Сливочный \", \"Хлебный \", \"Кремовый \", \"Арахисовый \", \"Бисквитный \", \"Зефирный \", \"Леденцовый \" }\n\nif not dungeonHp then\n   dungeonHp = { }\n   local a = 0\n   local b = 100\n   local k = 1\n   for i = 1, 100 do\n      table.insert (dungeonHp, math.floor (a <plus> (b * k)))\n      a = dungeonHp[i]\n      k = k <plus> 0.25\n      if i == 100 then\n          dungeonHp[i] = dungeonHp[i] <plus> 66250\n      end\n   end\nend\n\nend",
        "calculate": true,
        "text": "   ",
        "id": 20
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   myDungItem = myDungItem or \"Леденцовый утюг\"\n   enKa4 = enKa4 or \"Шоколадный \"\n   enName = enName or \"Гоблин\"\n\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Героя\"\n   local he5 = \"ся\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героиню\"\n      he5 = \"ась\"\n   end\n\n   tabDung1 = ({ name, he1 }) [math.random (2)] .. \" \" .. ({ \"бьёт локтём с разворота, настигая цель\", \"бьёт головой в лоб соперника\", \"совершает серию молниеносных ударов по врагу\", \"успешно выполняет короткое комбо ударов\", \"проводит точный прямой удар в нос\" }) [math.random (5)] .. \". \"\n\n   tabDung2 = ({ name, he1 }) [math.random (2)] .. \" \" .. ({ \"поскользнул\" .. he5 .. \", и чуть было не упал\" .. a, \"слишком долго собирал\" .. he5 .. \" атаковать..\", \"засмотрел\" .. he5 .. \" на свой \" .. myDungItem .. \" - вот был бы такой наяву..\", \"мечтает в мечтах, как сон во сне\", \"промахнул\" .. he5 .. \", и не ударил\" .. a .. \" грязью в лицо..\" }) [math.random(5)] .. \". \"\n\n   tabDung3 = ({ enKa4 .. enName, \"Соперник\", \"Противник\" }) [math.random (3)] .. \" \" .. ({ \"вероломно цапнул \" .. ({ \"того\", \"ту\" }) [male] .. \" за руку\", \"в свою очередь провёл комбо ударов\", \"закидал \" .. he2 .. \" землёй и попрыгал сверху\", \"после этого загнал \" .. ({ \"его\", \"её\" }) [male] .. \" в терновые кусты\", \"больно укусил \" .. ({ \"его\", \"её\" }) [male] .. \" за коленку\" }) [math.random (5)] .. \".\"\n\n   tabDung4 = ({ enKa4 .. enName, \"Соперник\", \"Противник\" }) [math.random (3)] .. \" \" .. ({ \"решил простить \" .. ({ \"его\", \"её\" }) [male] .. \" в этом ходу\", \"выполнил длинную разминку, зря потратив время в этом ходу\", \"просит адъютанта наказать \" .. he2 .. \" за это..\", \"пытается отобрать у \" .. ({ \"него\", \"неё\" }) [male] .. \" \" .. myDungItem .. \", чтобы съесть его\", \"просто решил отдохнуть и ушёл под дерево в тенёк\" }) [math.random (5)] .. \".\"\n\nend",
        "text": "   ",
        "id": 20,
        "calculate": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   tabDung9 = ({ \"От противника и мокрого места не осталось\", \"Медбратьям пришлось долго выкапывать противника из под земли\", \"На противнике не осталось ни единого живого места\", \"Противник издал писк и самостоятельно удалился с поля боя\", \"Соперник сделал красиво сальто и падение, после которого уже не встал\" }) [math.random (5)] .. \".\"\n\nend",
        "text": "   ",
        "id": 20,
        "calculate": true
      },
      {
        "lua_text": "function lua_text()\nlocal x = \"\"\n   for i = 1, 100 do\n      x = x .. i .. \". \" .. tabMonsters[i] .. \" - \" .. dungeonHp[i] .. \" хп.<s>\n\"\n   end\nreturn x\nend",
        "var_equal": [
          "global isAuthor",
          1,
          "tabVision",
          1
        ],
        "id": 20,
        "text": "  ",
        "comment": true
      },
      {
        "comment": false,
        "var_equal": [
          "global isAuthor",
          1,
          "tabVision",
          1
        ],
        "lua_do": "function lua_do()\ndungeonHp = nil\nend",
        "text": "сброс",
        "id": 20,
        "var_set": [
          "tabVision",
          2
        ]
      },
      {
        "comment": false,
        "var_equal": [
          "global isAuthor",
          1,
          "tabVision",
          2
        ],
        "lua_do": "function lua_do()\ndungeonHp = nil\nend",
        "text": "сброс",
        "id": 20,
        "var_set": [
          "tabVision",
          1
        ]
      },
      {
        "comment": false,
        "var_equal": [
          "tabVision",
          3
        ],
        "id": 20,
        "text": "Новый ответ. введите текст",
        "var_set": [
          "tabVision",
          0
        ]
      }
    ]
  },
  {
    "id": 21,
    "text": "     ... расчёт боя ...",
    "answers": [
      {
        "var_show": [
          "nextM"
        ],
        "comment": true,
        "super_calculate": false,
        "id": 21,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\ntext = \"\"\n   if nextM == 2 then\n      nextM = 99\n      enterDungeon = g.time\n      text = \"Герой возвращается в реальность.\"\n      if spd == 0 then spdX = 4000 \n      else spdX = 1000 end\n      repeater = function()\n         if g.userInQuest == 1 then\n            hp = hpDung\n            showPage {id = 4, transition = \"instant\"}\n         else\n            timer1 = timer.performWithDelay (4000, repeater) \n         end\n     end\n     if tP == 0 then\n        timer1 = timer.performWithDelay (spdX, repeater)\n      end\n   end\nend"
      },
      {
        "var_not": [
          "nextM",
          99
        ],
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal sssG = 0\nif hp > 0 and enHp > 0 then\n   local a = math.random(3)\n   local b = math.random(4)\n\nwarN = warN or 0\nwarD = math.floor ( (str * 5) * (myDungItemKa4 / 100) )\n \n   if a ~= 1 and b ~= 1 then\n      text = tabDung1 .. tabDung3 \n      dmg1 = math.round (math.random (myDmg * 0.7, myDmg * 1.2)) <plus> warD\n      enHp = enHp - dmg1\n      shot = shot <plus> 1\n      dmg2 = \"\"\n      if enHp > 0 then\n         dmg2 = math.round (math.random (enDmg * 0.7, enDmg * 1))\n         hp = hp - dmg2\n         shot1 = shot1 <plus> 1\n      end\n\n   elseif a == 1 and b ~= 1 then\n      text = tabDung1 .. tabDung4\n      dmg1 = math.round (math.random (myDmg * 0.7, myDmg * 1.2)) <plus> warD\n      enHp = enHp - dmg1\n      shot = shot <plus> 1\n      evade = evade <plus> 1\n      dmg2 = \"\"\n\n   elseif a ~= 1 and b == 1 then\n      text = tabDung2 .. tabDung3\n      dmg2 = math.floor (math.random (enDmg * 0.7, enDmg * 1))\n      hp = hp - dmg2\n      shot1 = shot1 <plus> 1\n      evade = evade <plus> 1\n      dmg1 = \"\"\n\n   else \n      text = tabDung2 .. tabDung4\n      evade = evade <plus> 1\n      miss = miss <plus> 1\n      dmg1, dmg2 = \"\", \"\"\n   end\nend\nend",
        "calculate": true,
        "id": 21,
        "text": "   "
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 21,
        "calculate": true,
        "lua_do": "function lua_do()\n   if hp > 0 and enHp < 1 and nextM == 0 then\n      text = tabDung1 .. tabDung9\n      message (\"Сила Воли увеличена.\")\n      kill = kill <plus> 1\n      nextM = 1\n      volt = volt <plus> 1\n      if position < 100 then\n         position = position <plus> 1\n      else\n         nextM = 100\n      end\n   myDungItem = tabMonstersKa4 [math.random (#tabMonstersKa4)] .. shop2 [math.random (#shop2)]\n   myDungItemKa4 = math.random (lvl <plus> 10, (lvl * 2) <plus> 10)\n   end\n\n   if hp < 1 then\n      nextM = 2\n      cooldownDungeon = position\n      text = name .. \" завершил\" .. ({ \"\", \"а\" }) [male] .. \" мечтание.\" \n   end\nend",
        "text": "   "
      },
      {
        "id": 26,
        "text": " смерть",
        "need": [
          9999
        ]
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   if spd == 1 then spdX = 1000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         if nextM ~= 2 and nextM ~= 99 and nextM ~= 98 and nextM ~= 100 then\n            if hp > 0 then\n               showPage {id = 16, transition = \"instant\"} \n            end\n      \n         elseif nextM == 2 then\n            showPage {id = 16, transition = \"instant\"}\n\n         elseif nextM == 100 then\n            gold = gold <plus> 100000\n            showPage {id = 22, transition = \"instant\"} \n         end\n      else\n      timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "calculate": true,
        "id": 21,
        "text": "   "
      },
      {
        "id": 22,
        "text": "подеба над оверлордом",
        "need": [
          9999
        ]
      }
    ]
  },
  {
    "id": 22,
    "text": "   Оверлорд был побеждён. Король Империи выплатил вознаграждения за освобождение страны от власти очередного Владыки Тьмы. Никаких торжественных мероприятий не проводилось, и можно просто продолжить свои приключения.\n\n   Награда: 50.000 монет.",
    "answers": [
      {
        "lua_do": "function lua_do()\ncooldownDungeon = 100\nend",
        "id": 4,
        "text": "Вернуться в город",
        "middle_answer": true,
        "instant": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\n\nif spd == 0 then spdX = 20000 end\n\nrepeater = function()\n   if g.userInQuest == 1 then\n      cooldownDungeon = 120\n      showPage {id = 4, transition = \"instant\"} \n   else\n      timer1 = timer.performWithDelay (4000, repeater)\n   end\nend\nif tP == 0 then\n   timer1 = timer.performWithDelay (spdX, repeater)\nend\nend",
        "text": "   ",
        "calculate": true,
        "id": 22
      }
    ]
  },
  {
    "id": 23,
    "text": "   ",
    "answers": [
      {
        "id": 24,
        "text": "...задания и процесс ...",
        "run": [
          24
        ]
      },
      {
        "super_calculate": false,
        "id": 23,
        "text": "   ",
        "calculate": true,
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nend"
      },
      {
        "lua_text": "function lua_text()\nmax_exp = max_exp or 100\nexp = exp or 0\nskill = skill or 0\nquestKol = questKol or 0\nheroSleep = heroSleep <plus> math.random(3) \n\nif exp >= max_exp then\n   if exp >= max_exp then\n      lvl = lvl <plus> 1\n      exp = exp - max_exp\n      max_exp = math.round (max_exp * 1.05)\n      if lvl <= 10 then\n         skill = skill <plus> 2\n      elseif lvl > 10 and lvl <= 30 then\n         skill = skill <plus> 2\n      elseif lvl > 30 and lvl <= 70 then\n         skill = skill <plus> 3\n      elseif lvl > 70 and lvl <= 100 then\n         skill = skill <plus> 4\n      elseif lvl > 100 and lvl <= 150 then\n         skill = skill <plus> 5\n      elseif lvl > 150 and lvl <= 200 then\n         skill = skill <plus> 6\n      elseif lvl > 200 then\n         skill = skill <plus> 7\n      end\n   end\nend\n\nlocal vv = \"энергичный\"\nif male == 2 then vv = \"энергичная\" end\n   if heroSleep > 40 and heroSleep < 70 then\n      vv = \"бодрый\"\n      if male == 2 then vv = \"бодрая\" end\n    elseif heroSleep > 69 and heroSleep < 100 then\n       vv = \"устаёт\"\n    elseif heroSleep >= 100 then\n      vv = \"всё ещё не спал\"\n      if male == 2 then vv = \"всё ещё не спала\" end\n   end\n\n   local text1 = \"Сумка с едой: \"\n   local aa = math.floor (bagHero / maxBagHero * 100)\n   local ab = \"\"\n   if aa < 1 then\n      ab = \"пустая.\"\n   elseif aa > 0 and aa <= 15 then \n      ab = \"почти пустая.\"\n   elseif aa > 15 and aa <= 50 then\n      ab = \"наполовину пустая.\"\n   elseif aa > 50 and aa <= 85 then\n      ab = \"наполовину полная.\"\n   elseif aa > 85 and aa <= 99 then\n      ab = \"почти полная.\"\n   elseif aa > 99 then\n      ab = \"полная.\"\n   end\n\nif hp < 0 then hp = 0 end\n\nlocal text = name .. \", \" .. lvl .. \" уровень.<s>\n   Здоровье: \" .. hp .. \"/\" .. maxHp .. \"<s>\n   Бодрость: \" .. vv .. \"<s>\n   \" .. text1 .. ab .. \"<s>\n   Денег: \" .. gold\nreturn text\nend",
        "id": 23,
        "text": "  ",
        "comment": true,
        "merge": true
      },
      {
        "merge": false,
        "comment": true,
        "lua_text": "function lua_text()\nlocal a = { \"доставить письмо.\", \"прогнать некроманта.\", \"активность сектантов.\", \"чудище с озера.\", \"прогнать старого мага.\", \"добыча ингредиента.\", \"испытать зелье.\", \"заступиться за алхимика.\", \"поймать проказника.\", \"обследовать подземелье Академии.\", \"раздобыть тетиву.\", \"состязание лучников.\", \"жертва искусства.\" }\nreturn \"Задание: \" .. a[questR]\nend",
        "var_need": [
          "questStep",
          1
        ],
        "middle_answer": true,
        "text": "   ",
        "id": 23,
        "left_answer": false
      },
      {
        "left_answer": false,
        "lua_text": "function lua_text()\nlocal a = \"\"\n   if nextStep > 1 and questStep < 99 then\n      a = ({ \"Герой\", \"Героиня\" }) [male] .. \" отвлекается от задания.\"\n      if dmg2 > 0 then\n      a = a .. \"<s>\nПолучен урон: \" .. dmg2 .. \" ед.\"\n      end\n   end\nreturn a\nend",
        "middle_answer": true,
        "id": 23,
        "text": "   ",
        "comment": true,
        "merge": false
      },
      {
        "comment": true,
        "var_need": [
          "hp",
          1,
          "nextStep",
          2
        ],
        "id": 23,
        "text": "  ",
        "lua_text": "function lua_text()\nreturn text\nend",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/fon3.jpg"
        ]
      },
      {
        "comment": true,
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/fon4.jpg"
        ],
        "var_equal": [
          "nextStep",
          1
        ],
        "id": 23,
        "text": "  ",
        "lua_text": "function lua_text()\nreturn text\nend",
        "var_need": [
          "hp",
          1
        ]
      },
      {
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/fon5.png"
        ],
        "var_less": [
          "hp",
          1
        ],
        "id": 23,
        "text": "  ",
        "comment": true,
        "lua_text": "function lua_text()\n   local tab = { name .. \" немного покалечил\" .. ({ \"ся\", \"ась\" }) [male] .. \", и теперь \" .. ({ \"ему\", \"ей\" }) [male] .. \" нужно хорошенько подлечиться.\", \"Жив\" .. ({ \"\", \"а\" }) [male] .. \", но не здоров\" .. ({ \"\", \"а\" }) [male] .. \". Стоит сначала выздороветь, и только потом уже продолжить миссию.\", \"Как назло рядом нет лекарей - придётся спасать себя само\" .. ({ \"му\", \"й\" }) [male] .. \". Вперёд, в больницу!\", \"Как же хорошо, что доспех не пострадал. Здоровье на нуле, но это поправимо.\", \"В могилу ещё рано, а продолжать задание нет сил. Отдых - лучшее решение.\" }\nreturn tab[math.random(#tab)]\nend"
      },
      {
        "comment": false,
        "super_calculate": false,
        "id": 23,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\n   if spd == 1 then spdX = 2000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 7000\n      elseif spdK == 2 then spdX = 9000\n      elseif spdK == 3 then spdX = 10000\n      elseif spdK == 4 then spdX = 12000\n      elseif spdK == 5 then spdX = 14000\n      elseif spdK == 6 then spdX = 16000\n      end\n   end\n\n   repeater = function() \n   if g.userInQuest == 1 then \n      if hp > 0 and questStep < 99 then\n         showPage {id = 23, transition = \"instant\"} \n   \n      elseif questStep >= 100 then\n         text = name .. \" хочет заняться чем-то другим.\"\n         questStep = 0\n         questR = math.random(13)\n         nagrada = math.random(99) <plus> (lvl * 50)\n         showPage {id = 4, transition = \"instant\"}\n\n      elseif questStep == 99 then\n         showPage {id = 23, transition = \"instant\"}\n\n      elseif hp < 2 then\n         showPage {id = 4, transition = \"instant\"}\n      end\n   else \n      timer1 = timer.performWithDelay (spdX, repeater) \n   end \n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater )\n   end\nend"
      },
      {
        "calculate": true,
        "comment": false,
        "super_calculate": false,
        "id": 23,
        "text": "   ",
        "var_equal": [
          "questStep",
          99
        ],
        "lua_do": "function lua_do()\ngold = gold <plus> nagrada\nmoney2 = money2 <plus> nagrada\nquestPerStage = questPerStage <plus> 1\nmessage(\"Задание выполнено. Получено денег: \" .. nagrada)\nquestKol = questKol <plus> 1\n   if volt < 10 and lvl < 50 then\n      volt = volt <plus> 3\n      message (\"Получено 3 Силы Воли за прохождение задания.\")\n   elseif volt < 20 and lvl < 75 then\n      volt = volt <plus> 2\n      message (\"Получено 2 Силы Воли за прохождение задания.\")\n   elseif volt < 30 and lvl < 100 then\n       volt = volt <plus> 1\n      message (\"Получена 1 Сила Воли за прохождение задания.\")\n    end\nquestStep = 100\nend"
      },
      {
        "id": 23,
        "text": "   ",
        "comment": true
      },
      {
        "comment": false,
        "id": 23,
        "var_need": [
          "volt",
          1,
          "hp",
          2
        ],
        "var_not": [
          "questStep",
          100,
          "questStep",
          101
        ],
        "var_sub": [
          "volt",
          1
        ],
        "text": "Сосредоточиться на задании",
        "instant": true,
        "middle_answer": true,
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nnextSteper = nextSteper <plus> 1\nend"
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nnextFi = 1\nlocal stopTimer = timer.cancel (timer1)\nend",
        "text": "Сосредоточиться на задании",
        "var_not": [
          "questStep",
          100,
          "questStep",
          101
        ],
        "instant": true,
        "middle_answer": true,
        "var_need": [
          "hp",
          2
        ],
        "var_less": [
          "volt",
          1
        ],
        "id": 29,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": false,
        "middle_answer": true,
        "text": "Отказаться от задания",
        "var_not": [
          "questStep",
          100,
          "questStep",
          101
        ],
        "lua_if": "function lua_if()\nreturn hp > 1 and questStep < 100\nend",
        "var_sub": [
          "volt",
          1
        ],
        "var_need": [
          "volt",
          1,
          "hp",
          1
        ],
        "id": 4,
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nquestStep = 0\nquestR = math.random(13)\nnagrada = math.random(99) <plus> (lvl * 50)\nend",
        "instant": true
      },
      {
        "comment": false,
        "var_less": [
          "volt",
          1
        ],
        "instant": true,
        "middle_answer": true,
        "var_not": [
          "questStep",
          100,
          "questStep",
          101
        ],
        "lua_if": "function lua_if()\nreturn hp > 1 and questStep < 100\nend",
        "id": 29,
        "lua_do": "function lua_do()\nnextFi = 2\nlocal stopTimer = timer.cancel (timer1)\nend",
        "var_need": [
          "hp",
          1
        ],
        "text": "Отказаться от задания",
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": true,
        "middle_answer": true,
        "text": "   ",
        "id": 23,
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend"
      }
    ]
  },
  {
    "id": 24,
    "text": "   ... задания и процесс ...",
    "answers": [
      {
        "super_calculate": false,
        "id": 24,
        "calculate": true,
        "lua_do": "function lua_do()\ntex11 = { name .. \" неожиданно для себя оказался на гладиаторской арене против диких монстров. Как же повезло им, что он очень быстро бегаешь и его ноги сами унесли его оттуда, а то бы он устроил им показательную казнь.\", \"В овраге что-то блестело, и \" ..name .. \" не раздумывая прыгнул туда. Оказалось, что это выброшенный кем-то самовар, а не куча монет. В добавок к испорченному настроению сейчас ещё и ушибленные бока болят.\", name .. \" собирал по пути валяющиеся орехи. Когда их набролось очень много, на него налетела орава белок и бурундуков, отобрав все орехи, и избив похлеще банды разбойников. Вот так, и даже ''спасибо'' не сказали!\", \"Решив сократить путь через подворотни, \" .. name .. \" столкнулся с бандитами. Их оживлённая дискуссия, подкреплённая крепкими кулаками, оказалась просто зубодробительной.\", name .. \" забрёл в сомнительную организацию, где ему на выбор дали: порку кнутом или съесть пряник. Пряник уж совсем чёрствый, как камень, да и с плесенью. Пускай будет порка кнутом.\", name .. \" уселся на лавку, где тут же сцепился с приставучим пьяницей. Он так устал тебя избивать, что попросил помочь прохожих.\", \"Налетевший на героя крестьянин бросился в драку, сказав, что ещё никому не удавалось победить его. \" ..name .. \" решил, что не будет портить его статистику в угоду своим желаниям.\", name .. \" поспорил, что его уровень выше уровня крестьянина. Для верности он даже накинул десятку сверху, но оказалось, что крестьянин \" .. lvl <plus> math.random(21,39) .. \" уровня, что выше его. Герой проспорил десятку шелбанов. Откуда такие крестьяне вообще берутся?\" , name .. \" услышал крик о помощи из подворотни и из любопытства решил проверить что там. Оказалось, что это такой новый модный способ у бандитов заманивать жертву в укромные места.\", name .. \" оказался втянут в мероприятие, на котором все обнимались. Раскрыв пошире руки, он ожидал обнимашек, а в итоге его сбили с ног, трижды перевернули и сбросили со сцены. На транспаранте написано: ''Соревнование по Сумо''.\", name .. \" спас девушку от толпы разъярённых крестьян, которые хотели сжечь её. Вместо благодарности, она влепила ему звонкую пощёчину и убежала в лес. Вот ведьма!\", name .. \" увидел на дороге монету. В стороне ещё одну. А затем ещё... Собирая их, он забрёл куда-то, где были разбойники, потирающие кулаки с мерзкими ухмылками. Что теперь, отдать им деньги?\", name .. \" полез в старую шахту один, чтобы поискать что-нибудь ценное. На входе мальчишка продавал факелы по 3000 монет - воровство на пустом месте. В кромешной тьме, не видя пути, герой упал и расшиб себе лоб.\", \"Один задира наспор ударил героя в лицо. \" .. name .. \" сплюнул и сказал, что \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" бьёт заметно больнее. Надо было спорить на деньги, а не на спортивный интерес.\", name .. \" ввязался в мордобой с тем, кто назвал себя карликовым великаном. Великаны, они же ого-го, а этот с виду обычный человек. Отсюда и конфликт.\" }\nend",
        "text": "   получение урона"
      },
      {
        "super_calculate": false,
        "id": 24,
        "text": "   трата времени",
        "calculate": true,
        "lua_do": "function lua_do()\nlocal st1\n   if stage < 51 then st1 = \"городе \" .. tStage[stage]\n   else st1 = \"городе \" .. tStage[gorod] end\ntex12 = { name .. \" наблюдает за представлением выступающей трупы циркачей. Довольно странным является то, что почти все являются клоунами, и вместо кегль жонглируют ножами и топорами. Это точно цирк?\", name .. \" нашёл свободную лавку, и сознание буквально заставило его занять эту лавку. Зачем? Ну она же свободна. О, тут ещё и фантик забыли!\", \"Стоило лучше выбирать собеседника: тот, кто разговаривает больше самого героя - плохой собеседник, но \" .. name .. \" старался как мог, чтобы переболтать его.\", \"Перед любой миссией нужно хорошенько подкрепиться. Вот катится колобок, и вроде ничей. \" .. name .. \" проследовал за ним и съел его при первой возможности. А что теперь дальше по плану?\", name .. \" выкапывал обломки мечей и щитов, чтобы сдать их в кузницу на переплавку, но оказалось, что кузня на два дня закрыта по техническим причинам. Пришлось всё там бросить - не таскать же с собой.\", name .. \" крепко задумался о пенсии и как быстро она придёт, но потом вспомнил, что в этой стране до пенсий не доживают. Прямо камень с сердца упал и герой решил ещё подумать, как хорошо бы было на пенсии сидеть.\", \"Ох уж эти сырые, вонючие таверны и бары в \" .. st1 .. \". И почему тут так не любят прибираться и проветривать помещения. \" .. name .. \" открывал окна, но тут же требовали закрыть его, так как сквозняки и холод.\", name .. \" долго разглядывал новенькие блестящие доспехи на витрине магазина. \" .. name .. \" очень долго не мог разглядеть стоимость, а когда наконец узнал её, то очень долго не мог моргать от вылезших из орбит глаз.\", name .. \" заказал себе в ресторане куриный суп, но уже с первой ложки усомнился в его качестве. Куриный суп есть, но в \" .. st1 .. \" нет ни одной курицы.\", \"Герою предложили дешевые доспехи поразительного качества. \" .. name .. \" отправился посмотреть, но только зря потратил время - качество и в прям поразительное, только негативно-поразительное.\", \"Все вокруг говорят о небывалом наплыве авантюристов и искателей приключений, но герою начинает казаться, что в \" .. st1 .. \" одни лишь бандиты и прочие криминальные авторитеты.\", name .. \" подслушал разговор двух жителей. Они говорили о том, что в городе \" .. tStage [math.random (#tStage)] .. \", в ночь полнолуния, на улице Пекарей появляется магазин, который торгует волшебными травами и зельями, качество которых невозможно повторить.\", name .. \" подслушал разговор двух жителей. Они говорили о том, что вчера видели, как ходит \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10,#enemyName)] .. \", переодетый под стражника.\", \"Один из торговцев предлагает герою амулет из волчьей лапки. Он утверждает, что это защищает от похмелья, но никаких доказательств у него не оказалось.\", name .. \" встретил торговца, который выглядит как \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] ..\", но тот отрёкся от такого сходства. Подозрительно, поэтому стоит доложить страже.\", \"Дети увлечённо читали сказки про Чертёнышей и Демонов. Современная литература куда интереснее той, которая была в детстве героя.\", name .. \" натолкнулся на безумца, который кричал на всю улицу, что голуби - это шпионы бога грома. Когда \" .. name .. \" в яму падал головой вниз, то также бредил некоторое время, но этого походу приложило посильнее.\", \"Один из жителей предложил герою сразиться с ним. Он представился Берньёлфом, воином, что получил магическую силу от волшебного медведя. \" .. name .. \" отказался - ну их, этих психов.\", \"К герою на лавку подсел звездочёт. Он сказал, что все звёзды в космосе заселены, и имеют свои народы и страны. Стоит об этом подумать, но в другой раз.\", \"Рядом с героем прошли Джульет с женой Ромеоной. Раньше они были из враждующих семейств, но их любовь сломала все преграды и стереотипы. Хорошая пара.\", name .. \" нашёл пару монет, но тут же решил их отдать бездомному, который заявил ему, что крысы на вкус ничем не отличимы от курицы.\", \"Группа звездочётов доказывает окружающим, что Земля - плоская, как диск. Глупцы! \" .. name .. \" то точно знаешь, что Земля - квадратная.\", \"Если у героя чешется ухо, значит кто-то о нём говорит. И точно, вон те двое обсуждают его немодные сандали из прошлогодней коллекции.\", \"Не только в \" .. st1 .. \" есть дурная привычка провожать гостей, подсыпая им соль в глаза. Оттого-то тут жители не любят ходить по гостям.\" , name .. \" увидел ворону, и вспомнил, что это к несчастью, поэтому он поскорее поспешил отдать ей последний кусок сыра, чтобы привлечь удачу.\", \"Торговец предложил герою купить амулет из чеснока. Никаких доказательств не надо, что это защищает от злых духов и болезней. \" .. name .. \" и сам не полез бы к тому, кто так сильно вонял бы чесноком.\", name .. \" видит, как мальчишки скинулись по монете и купили большой арбуз, а затем поровну поделили его. Нынешняя молодёжь ленива и эгоцентрична. В детстве героя так никто не поступал.\", \"Все знают, что если чихнуть утром, то это к деньгам. Если чихнуть днём, то это к трате денег. А если чихнуть ещё и вечером, то точно болеешь и пора уже лечиться.\", name .. \" сходил на приём к пьяной сове-оракулу. Она такого наговорила, что лучше было бы не знать этого. А ведь на входе была предупреждающая записка.\", \"Если законы в \" .. st1 .. \" не кажутся логичными и честными, то это значит, что ты либо дворянин, либо сумасшедший. \" .. name .. \" точно не дворянин. Значит, либо сумасшедший, либо просто не читал законов, что делает его ещё более сумасшедшим.\" }\n\nend"
      },
      {
        "super_calculate": false,
        "id": 24,
        "calculate": true,
        "lua_do": "function lua_do()\ndmg2 = 0\nnextSteper = nextSteper or 0\nlocal stopTimer = timer.cancel (timer1)\n\n   if nextStep == 102 then\n      nextStep = 1\n   end\n\nif questStep >= 1 and nextStep < 100 then\n   nextStep = math.random(4)\n      if nextSteper >= 1 then\n         nextSteper = nextSteper - 1\n         nextStep = 1\n      end\n   \n   if nextStep == 1 then\n     questStep  = questStep <plus> 1\n\n   elseif nextStep == 2 or nextStep == 4 then\n      text = tex11[math.random(#tex11)]\n      dmg2 = math.floor (math.random ((maxHp / 11), (maxHp / 9)) * (1 - (sss / 100)))\n      hp = hp - dmg2\n      exp = exp <plus> stage\n      local aa = 0\n      if hp < (maxHp * 0.2) and bagHero > 0 then\n         aa = maxHp - hp\n         message (\"Герой немного перекусил едой из сумки.\")\n         if aa < bagHero then\n            hp = hp <plus> aa\n            bagHero = bagHero - aa\n         else\n            hp = hp <plus> bagHero\n            bagHero = 0\n         end\n      end\n\n\n   elseif nextStep == 3 then\n      text = tex12[math.random(#tex12)]\n   end\nend\n\n   if questStep == 0 then \n   enName = enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)]\n   questStep, nextStep = 1, 1 \n   end\n   \n   if nextStep == 101 then \n      nextStep = 102\n   end\n\nend",
        "text": "Новый ответ. введите текст"
      },
      {
        "lua_if": "function lua_if()\nreturn questR == 1 and nextStep == 1\nend",
        "calculate": true,
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- Будешь посыльным! Ну и что, что ты герой? Я тоже торговцем не сразу родился. Приходилось и коровник чистить, и воду носить. Бегом-марш к лорду с этим свитком!\"\n   elseif questStep == 2 then text = name .. \" мечтал по быстрому стать героем, как Грогнак-Варвар - одна большая битва и уже Герой! Он ведь сразу стал героем? Или тоже таскал письма от одного к другому?\"\n   elseif questStep == 3 then text = \"Может и не нужно нести письмо лорду? Отдать его, например, этим разбойникам, а потом сказать, что задание выполнено. Тем более они так жалостливо упрашивают героя всей толпой.\"\n   elseif questStep == 4 then\n       if math.random(2) == 1 then text = name .. \" отдал письмо разбойникам. Ну что важного может быть в письме, что адресовано лорду? Вместо него \" .. name .. \" написал другое письмо про отсутствие дорог, большое количество дураков и высокие цены на плюшевых мишек, и продолжил выполнение задания.\"\n       else text = \"Просто так письмо \" ..name .. \" не одаст - состоялось состязание в ''Цу-е-фа'', в котором он вышел победителем. Решив, что на то воля случая, \" .. name .. \" продолжил свой путь к лорду с ввереным письмом.\"\n       end\n   elseif questStep == 5 then text = name .. \" немного заблудился. Стоит у кого-либо спросить дорогу, но как назло в дремучем лесу поблизости никого нет. И как герой вообще тут оказался?\"\n   elseif questStep == 6 then\n      if math.random(2) == 1 then text = \"Наконец удалось выяснить, где находится поместье лорда. Оказалось, что \" .. name .. \" уже два часа ходит вокруг да около, но почему-то не заметил его. Ну и ладно! Так, и где тут вход?\"\n      else text = \"Оказалось, что герой изначально пошёл не в ту сторону. И почему же тот торговец сразу не окрикнул его и не отправил в правильном направлении? Сейчас старушка доведёт его до поместья лорда за семь часов. Зато бесплатно!\"\n      end\n   elseif questStep == 7 then \n      if math.random(2) == 1 then text = \"Вот \" .. name .. \" и попал на приём к лорду. Тот остался недоволен содержанием письма - интересно, почему? \"\n      else questStep = 99\n      text = \"Вот \" .. name .. \" и попал на приём к лорду. Тот остался недоволен содержанием письма - интересно, почему? Он отказался отвечать на письмо, так что нести ответ не придётся.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 8 then text = name .. \" несёт обратно письмо, и вот его распирает любопытство: что же в этих письмах такого важного? С каждым шагом это чувство становится всё сильнее и сильнее.\"\n   elseif questStep == 9 then\n      if math.random(2) == 1 then text = name .. \" не смог сдержаться и прочитал послание. Это была та ещё жуть! Оказывается они братья, и с детства не поделили плюшевого кролика, который сейчас по паре недель находится то у одного, то у другого.\"\n      else questStep = 99\n      text = name .. \" сдержался и не заглянул в свиток. Чтобы там ни было, это может оказаться страшной тайной, и лучше бы не знать её для собственного спокойствия. Герой отдал ответ торговцу и получает награду. <s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 10 then questStep = 99\n   text = \"Торговец был удивлен тому, какие у героя большие глаза стали после этого поручения. \" .. name .. \" сослался на летающих медведей, отчего торговец сочувственно вздохнул и выдал награду. <s>\n<s>\nЗадание завершено.\"\n   end\nend",
        "text": "   ",
        "id": 24,
        "merge": false
      },
      {
        "comment": false,
        "id": 24,
        "lua_if": "function lua_if()\nreturn questR == 2 and nextStep == 1\nend",
        "super_calculate": false,
        "lua_do": "function lua_do()\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- Крайне необходимо прогнать некроманта с нашего кладбища. Он уже достал воскрешать покойных! Мой почивший дед уже трижды приходил, и мы с ним брагу до утра пили. Всё бы хорошо, но мне то работать надо.\"\n   elseif questStep == 2 then text = \"Герой и представить не мог, что в мире, где толком нет магии, может существовать некромант... Хотя есть же \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \", а некромант тогда уже не очень магическая личность.\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = name .. \" не в курсе, где расположено кладбище, так что он решил пойти на запад. Почему бы и нет? Колумб же тоже поплыл на запад, туда, куда заходит солнце.\"\n       else text = \"Решив, что днём на кладбище делать нечего, герой решил дождаться вечера в таверне. Естественно, расходы за еду и выпивку он записал на имя своего работодателя. Вот тот потом не обрадуется этому.\"\n       end\n   elseif questStep == 4 then \n   local a\n   if stage < 51 then a = tStage[stage]\n   else a = tStage[gorod] end\n   text = name .. \" пришёл на кладбище и сразу же столкнулся с подозрительным типом - в чёрной мантии, с чёрной книгой и лопатой. Герой спросил, не он ли тот пакостник-некромант, что беспокоит жителей в городе \" .. a .. \", на что тот вполне убедительно отмахнулся. Нет, так нет.\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = name .. \" бродил по кладбищу и так долго ждал, что упал в яму и уснул. Его разбудил тот неподозрительный тип в чёрном своими криками ''Восстань и твори зло!''. Герой покрутил пальцем у виска и лёг спать дальше.\"\n      else text = name .. \" бродил по кладбищу и пару раз упал в ямы, испачкавшись землёй. Герой пугал всех пришедших своим видом, отчего пришли стражники и увели его для допроса. Долго пришлось убеждать их, что он не тот самый разыскиваемый некромант.\"\n      end\n   elseif questStep == 6 then text = \"Вот с новыми силами герой снова в патруле спокойствия населения. Где-то вдалеке он заметил убегающего того самого ''неподозрительного человека'' в чёрной мантии, а так никаких некромантов не видно.\"\n   elseif questStep == 7 then text = name .. \" за пару часов одичал и бегал по кладбищу с воем, в попытках развеселить себя. Из могилы вылез какой-то дед и собрался идти к своему внуку в город, но герой уговорил его остаться с ним, чтобы было веселее патрулировать.\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = name .. \" остановил того неподозрительного в чёрной мантии человека и уговорил его патрулировать с ним. Герой начал хвастаться своими подвигами и сражениями, а тот только затыкал уши и хватался за голову.\"\n      else questStep = 99\n      text = \"Вновь пришёл тот неподозрительный в чёрной мантии. Дед его сразу узнал и представил герою как некроманта. \" .. name .. \" предложил на выбор - закопать некроманта или устроиться ему на нормальную работу, и тот выбрал устройство на работу.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = \"Неподозрительный человек так устал слушать героя, что сознался в том, что он некромант. \" .. name .. \" был шокирован, так как такой неподозрительный человек ну никак не мог оказаться некромантом. Тот самолично пошёл к страже и закрылся в тюрьме от героя подальше.<s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "calculate": true,
        "text": "   ",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn questR == 3 and nextStep == 1\nend",
        "text": "   ",
        "comment": false,
        "super_calculate": false,
        "id": 24,
        "calculate": true,
        "lua_do": "function lua_do()\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- Мы получили известие о том, что сектанты повысили свою активность и к чему-то готовятся. Нужно это присечь на корню, но проблема в том, что всех стражников знают в лицо, и поэтому нам нужна твоя помощь в этом деле, как неизвестного лица.\"\n   elseif questStep == 2 then text = name .. \" начал свои поиски в барах и ресторанах. Так как это дорого для него, то все расходы он записал на начальника стражи, что выдал ему это задание. Для высшей цели никаких денег не жалко! Тем более не своих.\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = name .. \" подслушал, что сегодня вечером будет какое-то собрание неизвестно кого возле старой церкви. Что ж, стоит наведаться туда, но лучше прийти пораньше, чтобы не опоздать.\"\n       else text = \"Напоив одного пьяницу до упада, получилось узнать, что будет собрание сектантов на центральной площади в шесть часов вечера. Ну, это уже как раз сейчас - герой направился прямиком к месту собрания.\"\n       end\n   elseif questStep == 4 then text = name .. \" по-свойски вошел в толпу сектантов. Главное оставаться инкогнито и не привлекать внимание.<s>\n- О, \" .. name .. \"! - узнали его сразу в толпе. - Тот самый малоизвестный герой.\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = name .. \" отрёкся от этого имени, уверив остальных, что это не он. Они не сразу, но поверили ему. Вот-вот должен начаться процесс обсуждения планов секты, а пока герой может поболтать с кем-нибудь.\"\n      else text = \"Героя все окружили и стали задавать много вопросов. Стоит ли упоминать, что он смог с лёгкостью переговорить \" .. math.random(25,30) .. \" сектантов? Его в итоге приняли в состав секты, и даже без письменного заявления.\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = \"Начался разбор планов по активности секты. Герой задавал больше всех вопросов, поэтому его и назначили главным действующим лицом, но что надо будет сделать - не рассказали.\"\n      else questStep = 99\n      text = \"Начался разбор планов по активности секты. Герой задавал самые острые вопросы, и в итоге все признались в безвыходном положении секты и решили распустить её. Эх, душевная была компания.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then\n      if math.random(2) == 1 then text = name .. \" всячески пытался узнать, что же ему надо сделать, но разговоры об этом были под табу в секте. Герою только слегка намекнули про то, что это сегодня ночью в лавке скупщика.\"\n      else questStep = 99\n      text = name .. \" пошёл в бар с одним из сектантов, случайно напился и затеял драку со стражей. В тюрьму посадили его и сектанта. Так как герой не сделал того, что на него возложили - секта распалась. Чуть позже начальник стражи выпустил его из тюрьмы.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 8 then questStep = 99\n   text = \"В лавке скупщика герою сразу вручили коробку, и строго-настрого наказали отнести это лидеру секты. \" .. name .. \" так и сделал. Вскрыв коробку, члены секты начали играться с плюшевыми игрушками, что были внутри. И это всё? <s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "merge": false
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- В озере возле моего болота завелась какая-то тварь, и воет ночами, - жалуется старушка. - Нет, не волки! Сходи и прогони её оттуда, а то как ко мне внучка ходить будет?\"\n   elseif questStep == 2 then text = name .. \" заблудился в лесу. Благодаря компасу он узнал, что север на севере, а озеро и дом, к которым ему нужно выйти - чёрт знает где...\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = \"Герою удалось устроить засаду и поймать Чертёнка. Угрожая защекотать его до больничной койки, он узнал местонахождение нужного ему дома.\"\n       else text = \"Чертей тут пока нет, но есть \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] ..\". Герой вежливо спросил дорогу, и его также вежливо послали. Нужно идти.\"\n       end\n   elseif questStep == 4 then text = \"Вот герой и на месте! Вроде обычный дом, а не избушка на курьих ножках. Озеро чистое, не болото. Рядом никого нет. Чего же так испугалась бабулька?\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = \"Из глубин начало что-то подниматься, и поэтому герой решил поискать другой домик в этом лесу. Не дожидаясь выхода этого нечто-из-глубин, он в припрыжку покинул это место.\"\n      else text = \"Из глубин озера начало что-то подниматься. Герой видал в этой жизни многое, но сейчас происходит нечто жуткое. Он изо всех сил старается замаскировать обморок под ненавязчивое желание поспать, и вот уже через секунду тот храпит на всю опушку.\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = \"Возле домика никого и ничего нет. И что же там было? Прогулка по берегу озера ничего не дала. Может это была просто золотая рыбка или три медведя?\"\n      else questStep = 99\n      text = \"Ну его, это задание. Герой пришёл к старушке и сказал, что задание выполнено. Она не поверила ему, но выбора у неё не было. Ничего, ещё раз прибежит к нему, если это нечто само не сбежало ещё.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then text = \"Где-то совсем рядом хрустнула ветка, отчего героя бросило в холодный пот. Представьте: вечер, небольшая поляна с озером и густым лесом вокруг, и кто-то неизвестный шарахается рядом и не показывается.\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = name .. \" направился в магазин и основательно закупился бомбами и петардами, чтобы как следует пошуметь и прогнать тварину из озера. Зажжём?\"\n      else questStep = 99\n      text = name .. \" трижды перекрестился, разбросал вокруг пуд соли, начертил много-много кругов мелом, но ничего из этого не помогло. Герой вернулся к старушке и отказался от задания, но она всё равно заплатила ему на лечение полученного нервного расстройства.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = name .. \" забросал всё бомбами, и оказалось, что тем чудищем был \" .. enName .. \". Герой с облегчение вздохнул и выдал подзатыльник проказнику. Оказалось, что он потерял где-то здесь свою линзу, и уже три дня ползает по округе и рыщет.<s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "lua_if": "function lua_if()\nreturn questR == 4 and nextStep == 1\nend",
        "super_calculate": false,
        "id": 24,
        "text": "   ",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn questR == 5 and nextStep == 1\nend",
        "calculate": true,
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal st1\nif stage < 51 then st1 = tStage[stage]\nelse st1 = tStage[gorod] end\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- Путешественники и торговцы, пришедшие в \" .. st1 .. \", говорят, что старый маг опять построил башню на холме, что внизу реки по течению. Нужно бы прогнать его, пока он чего ещё не удумал плохого против жителей.\"\n   elseif questStep == 2 then text = name .. \" направился вниз по течению и быстро добрался до высокой башни без проблем. И что, задание почти выполнено? Нет, невозможно - сейчас точно что-то пойдёт не так!\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = \"Навстречу к герою вышел улыбающийся травник - он тут живёт издавна, поэтому всё знает. Например, нужная герою башня должна быть сейчас \" .. math.random (20,50) .. \" по счёту. А ещё над входом у того висит \" .. ({ \"красный\", \"синий\", \"желтый\", \"пурпурный\", \"бирюзовый\" })[math.random (5)] .. \" стяг.\"\n       else text = \"В башне никого не оказалось. Раз дома никого, то можно устроить вечеринку, а \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (20, 30)] .. \", \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (31, 40)] .. \" и \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (41, 50)] .. \" составят компанию для веселья. В самом разгаре вечеринки пришла колдунья - оказалось, что это не та башня. Их тут много что-ли?\"\n       end\n   elseif questStep == 4 then text = \"Удалось найти нужную башню. Герою пришлось долго колотить в дверь и ждать, пока старый маг спустится с вершины башни вниз. В это время пробегавший мимо \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10,#enemyName)] .. \" сказал, этот маг болеет, поэтому нужно остерегаться его чихов, вдруг превратит в кого-нибудь. Простым чихом?\"\n   elseif questStep == 5 then\n   local a = math.random(4)\n      if a == 1 then text = \"Старый маг открыл дверь и чихнул. Ох и прав был тот зверёк - ни с того, ни с сего героя превратило в кролика. Всё бы ничего, но тут же появились волки, от которых пришлось два часа бегать, чтобы те не съели его.\"\n      elseif a == 2 then text = \"Дверь открылась и на пороге стоял старый маг. Стоило ему чихнуть, как героя превратило в колобка. Тут появились из ниоткуда лисица, и начала уговаривать его сесть к ней на нос и спеть песенку.\"\n      elseif a == 3 then text = \"Старый маг открыл дверь, шмыгая носом, и чихнул. От этого героя превратило в слона. Маг почесал в затылке, соображая, зачем к нему в дверь стучится слон, и закрылся. Пришлось ждать два часа пока магия развеется и его превратит в себя обратно.\"\n      else text = \"Дверь открылась и старый маг тут же чихнул на героя. Как и предупреждал зверёк, его превратило в яблоню. Проходившие мимо люди и монстры срывали с него спелые яблоки, но герою казалось, что с него дёргают волосы. Как же долго тянутся два часа ожидания.\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = name .. \" в очередной раз постучал в дверь, чтобы поговорить с магом и прогнать его, но и в этот раз маг чихнул, превратив его в курицу. Вот же напасть! \"\n      else questStep = 99\n      text = name .. \" не стал терпеть унижения и попросту вытащил несколько каменных блоков из стены, отчего башня накренилась и упала в реку. Наверняка старый маг умеет плавать, он же маг - пускай превратится в уточку, например.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then text = \"В этот раз обращение длилось дольше двух часов: мелкие пацаны гоняли героя палками, волки пытались сожрать, он снёс простоё яйцо, а не золотое, ещё потом и вовсе чуть не попал в суп, когда упитанный повар приманил его зёрнышками и схватил.\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = \"В этот раз ошибки снова не повторится. Так герой твердил себе стуча в дверь башни мага. Дальнейшее описание шести часов его жизни в образе свиньи останутся в позорном прошлом. Зато теперь он отлично знаешь каково жить курицам и свиньям.\"\n      else questStep = 99\n      text = \"Такого больше не повторится. Так герой твердил себе стоя недалеко от башни мага. Красная кнопка и она взлетела на воздух от взрыва - старый маг от удивления чихнул и превратился в \" .. ({ \"перепёлку\", \"павлина\", \"сороку\", \"журавля\" })[math.random (4)] .. \". Пускай летит отсюда и не возвращается.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = \"В этот раз герой приготовил зонтик. Только дверь открылась, как он закрылся раскрытым зонтом и защитился от его опасной магии. Проведя поучительную беседу, герой заставил мага разрушить башню и уйти восвояси.<s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "text": "   ",
        "id": 24,
        "merge": false
      },
      {
        "comment": false,
        "id": 24,
        "lua_if": "function lua_if()\nreturn questR == 6 and nextStep == 1\nend",
        "super_calculate": false,
        "lua_do": "function lua_do()\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- Для моих алхимических опытов требуется горный корень. Им не торгуют, так как он не представляет никакой ценности. В нашей локации он есть только в одном месте, но там поселились разбойники и не дают до него добраться.\"\n   elseif questStep == 2 then text = \"Хорошо написанная карта помогла герою быстро найти нужное место. Его тут же заметили разбойники и выжидающе начали смотреть на него. Стоит ли к ним подойти?\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = name .. \" попытал удачу и свои навыки общения. Так как ни того, ни другого у него нет, деловая беседа провалилась и его прогнали прочь. Хорошо хоть не заставили платить за ошибки.\"\n       else text = name .. \" решил дать крюк и зайти с другой стороны, но разбойники всё сидят там же, но теперь не только выжидающе смотрят на героя, но и с лёгким удивлением. Стоило заговорить с ними о корне, как его тут же выставили из лагеря.\"\n       end\n   elseif questStep == 4 then text = \"Немного позже \" .. name .. \" попытался силой заполучить горный корень, но тут же получил в ответ ещё сильнее. Да что не так с этими разбойниками?\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = name .. \" прокрался в лагерь когда стемнело. Под покровом ночи он смог отыскать неприятности, и под покровом ночи получить пинка при гонении из лагеря.\"\n      else text = name .. \" пришёл к ним с чаем, и когда все только-только расслабились - бросился к горному корню. Маты, ругань и десяток пинков прогнали его с пустыми руками из лагеря. Вот разбойники!\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = \"Геройская очередная попытка договориться была провалена. Они ни на что не хотят менять корень. Странным показалось то, что разбойники не согласились на золото меняться, и даже не попытались отнять его у героя после.\"\n      else questStep = 99\n      text = \"Герой с криком вбежал в лагерь, и сказал, что сюда несутся \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" и \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \", и что они хотят всех порвать на лоскутки. Пока все в панике собирали вещи, \" .. name  .. \" смог незаметно умыкнуть горный корень.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then\n      if math.random(2) == 1 then text = \"Героя встретил \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" и согласился помочь. Стоило ему только войти в лагерь, как все тут же разбежались и больше никто не препятствует взятию корня.\"\n      else questStep = 99\n      text = \"Герой договорился со своим знакомым, что тот оденет костюм редкого монстра и пробежится мимо лагеря. И это сработало - по лагерю пробежал \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] ..\", и за ним тут же с холстами и красками кинулись разбойники. Ей богу, странные нынче бандиты повелись.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 8 then questStep = 99\n   text = \"Оказалось, что это были не странные разбойники, а группа сотрудников организации ''Зелёный мир''. Ну кто ж мог знать, если они выглядят как разбойники - оборванцы, грязные и вонючие. И что, что полевая жизнь?<s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "calculate": true,
        "text": "   ",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn questR == 7 and nextStep == 1\nend",
        "text": "   ",
        "comment": false,
        "super_calculate": false,
        "id": 24,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal st1\nif stage < 51 then st1 = tStage[stage]\nelse st1 = tStage[gorod] end\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- Я создал зелье, от которого вампирам будет плохо! - радостно воскликнул алхимик. - Но его нужно опробовать на настоящем вурдалаке. Сам я с этим не справлюсь, так как это опасно, поэтому сделай ты.\"\n   elseif questStep == 2 then text = \"От приготовленного зелья несёт запахами розмарина, спаржи и чеснока. Будь \" .. name .. \" даже не вампиром, то такая вонь тоже отпугнула бы его. Герою ведь надо ещё поймать вампира, а с такой благоухающей колбой они точно к нему не вылезут.\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = name .. \" всю ночь шастал в \" .. st1 .. \", пытаясь поймать вурдалака для опытов, но либо стражники, ведьмаки и охотники на вампиров их всех перебили, либо запашина прогоняет их задолго до его появления.\"\n       else text = name .. \" бродил ночью по лесу, где обитают вурдалаки, но ни одного так и не встретил. Был лишь \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \", который сказал, что от героя жутко воняет чесноком за три версты и ему стоит помыться. Ага, а запах спаржи его не смущает?\"\n       end\n   elseif questStep == 4 then text = name .. \" специально прощёлся через терновые кусты, чтобы получить ранения. Запах крови точно должен приманить вампиров, хотя вонь зелья кажется намного сильнее.\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = \"Герою надоело безрезультатно бродить в поисках вампира, и он улёгся спать прям посреди леса. Если зелье не действует, то герой помрёт, а это значит, что оно не действует и алхимик будет виноват в его гибели.\"\n      else text = name .. \" собирался заночевать в таверне, но из-за сильного запаха его не пустили на порог и выставили прочь за ворота. В \" .. st1 .. \" все жители такие чувствительные?\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = name .. \" сел отдохнуть в развалинах какого-то старинного поместья. От нечего делать, он открыль зелье и нюхнул его - от неистовой вони героя на пару суток вырубило из сознания.\"\n      else questStep = 99\n      text = \"Три дня блужданий в опасных местах показали, что даже мошка и комары не приближаются к герою, не говоря уже о вампирах. Можно считать это успехом.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then text = name .. \" остановил побитого монстра и пригрозил ему отправкой в ветеренарную клинику, если тот не расскажет, где найти вурдалака. \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" рассказал о тайной пещере, в которой живёт его знакомый вампир. Жертва найдена!\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = \"Герой залез в сырую пещеру, в которой точно водится вампир. Остаётся надеяться, что эта пещера не сквозная, и у неё нет другого выхода.\"\n      else questStep = 99\n      text = \"Уже на подходе к пещере герой увидел вампира, который в ужасе сбегает, заметив его. Да что они все такие пугливые? Это же почти как лекарство - раз и поплохеет. За отсутствием недоказательной базы можно считать миссию завершенной.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = name .. \" загнал в тупик вампира, и тому попросту некуда бежать. Затолкав зелье ему в глотку, герой с сожалением наблюдал, как тот плачет и давится. Ему поплохело - заболел живот и он тут же бросился бежать в туалет. И точно, слышно насколько плохо ему стало.<s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "merge": false
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nlocal st1\nif stage < 51 then st1 = tStage[stage]\nelse st1 = tStage[gorod] end\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- На прошлой неделе в результате неудачного опыта чуть не сгорел весь ремесленный квартал, - рассказывает алхимик. - Из-за этого происшествия начальник стражи пытается выгнать меня из города.\"\n   elseif questStep == 2 then text = \"Начальник стражи в \" .. st1 .. \" - уважаемый человек. Каждый пьяница знает его лично, а торговцы отдают свои тавары в подарок, лишь бы он быстрее убрался прочь.\" \n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = \"Герой решил вызвать его на дуэль, но он записал его в личное расписание на 8 марта через двенадцать лет. Раньше провести эту дуэль никак нельзя, ведь у начальника стражи совсем нет свободного времени. Но отчего же он тогда пошёл в бар?\"\n       else text = \"Герой хотел подкупить его, но тот посадил его в тюрьму. К удаче, стражник сам помиловал его, зная скверный нрав начальника, и отпустил поздним вечером.\"\n       end\n   elseif questStep == 4 then text = name .. \" подговорил трёх заядлых пьяниц, чтобы те напоили начальника стражи и подсунули ему на подпись приказ о помиловании алхимика. Начальник перепил всех, кто был в баре, и ушёл дальше патрулировать пивные заведения.\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = name .. \" пытался вызвать жалость у начальника стражи щенячьими глазками, но ему больше нравится не кошка-собака, а \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \", но откуда герою его сейчас взять?\"\n      else text = name .. \" угостил начальника стражи вкусным обедом, рассказывал анекдоты, травил байки, подливал браги, но он всё равно не согласился простить алхимика. Вот упёртый!\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = \"Герой постарался задавить начальника стражи своим геройским авторитетом, но тот сказал, что совершенно ничего не слышал о герое с именем \" .. name .. \". Ну как же так?\"\n      else questStep = 99\n      text = \"Герой приготовил лист с приказом о прощении алхимика и подсунул его начальнику стражи. По просьбе поставить автограф, как самогу крутого начальника в \" ..st1 .. \", тот неглядя подписал лист.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then\n      if math.random(2) == 1 then text = \"Герой хотел взять начальника стражи на слабо, что тот не сможет подписать приказ о прощении, но тот и вправду не смог подписать. Проспорил, слабак!\"\n      else questStep = 99\n      text = \"Герой ночью прокрался в комнату начальника стражи и, пока он спал, его рукой подписал приказ о прощении алхимика. Это считается!<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 8 then questStep = 99\n   text = \"Не имея никаких других способов влияния на начальника стражи, герой пригрозил ему тем, что намажет ему спину зельем от вампиров, который создал тот же алхимик. Взяв с героя слово, что он такого точно не сделаешь, начальник подписал приказ о прощении алхимика.<s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "lua_if": "function lua_if()\nreturn questR == 8 and nextStep == 1\nend",
        "super_calculate": false,
        "id": 24,
        "text": "   ",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn questR == 9 and nextStep == 1\nend",
        "calculate": true,
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal st2 = enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)]\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- В лавке по ночам кто-то бесчинствует, меняя этикетки на лекарствах, - жалуется лекарь. - Ничего не пропадает, но из-за этих шалостей люди получают слабительное вместо лекарства от кашля.\"\n   elseif questStep == 2 then text = \"Герой обследовал всю лавку - все этикетки аккуратно наклеины, и не скажешь ведь, что кто-то их мог переклеить. Может нужно устроить засаду ночью?\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = \"Ночью герою очень хотелось спать, поэтому он решил, что нужно принять бодрящее зелье. Какое же было разочароварие, поняв, что вместо бодрящего зелья оказалось слабительное с наклейкой от бодрящего.\"\n       else text = name .. \" решил съесть ''восстанавливающий корень'', чтобы немного подлечить себя, а то вдруг с боем пройдёт поимка преступника. Он даже не успел доесть корешок до конца, как его приспичило к горшку.\"\n       end\n   elseif questStep == 4 then text = \"Так как ночь выдалась жуткая и бессонная, герой весь день спишь и отдыхаешь, готовясь к ночной расправе. \"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = name .. \" так бесился и злился, что разболелась голова. Приняв таблетку от головной боли, он экстренно убежал в направлении уборной.\"\n      else text = \"Чтобы сбить последствия прошлой ночи, герой решил действовать от обратного - он выпивает слабительное зелье, догадываясь, что это что-то другое, но это оказалось слабительное из новой партии, на которых точно не менялись этикетки...\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = \"Фантазируя о вкусной еде, герой сильно поперхнулся, и запил тем, что первое попалось под руку - микстура от кашля, этикетка которой перечёркнута красной полосой и от руки написано ''слабительное''.\"\n      else questStep = 99\n      text = \"Герою удаётся поймать преступника. Им оказался \" .. st2 .. \". Отдав его в руки Закона, которым он тоже подслабил жизнь, герой ехидно посмеивался над ним и радовался, что сам легко отделался.<s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then text = \"Внезапно заболевший зуб посреди ночи не оставил выбора, кроме как принять таблетку обезболевающего. Герой перед этим обречённо вздохнул, ведь наверняка остаток ночи уже ясно где придётся провести.\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = \"Герою удалось поймать преступника. Им оказался \" .. st2 .. \". Он самолично отдал его в ветеринарную клинику на лечение, ведь перед этим припомнил ему все обиды из-за сменённых этикеток.<s>\n<s>\nЗадание выполнено.\"\n      else questStep = 99\n      text = \"Превозмогая всё и вся, герой дождался прихода преступника и поймал его с поличным. Оказалось, что тот приносит слабительное, а сам забирает себе хорошие лекарства.\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = \"Герою удалось поймать преступника. Это был \" .. st2 .. \". Герой самолично напоил его лекарством от кашля, от головной боли, обезболевающим, которые были с подмененными этикетками, а потом заставил негодяя долго терпеть перед туалетом. Месть свершилась.<s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "text": "   ",
        "id": 24,
        "merge": false
      },
      {
        "comment": false,
        "id": 24,
        "lua_if": "function lua_if()\nreturn questR == 10 and nextStep == 1\nend",
        "super_calculate": false,
        "lua_do": "function lua_do()\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- В библиотеке Магической Академии я нашёл старинный свиток, написанный ещё первым ректором! - торжественно заявляет ученик этой самой Академии. - Там указано расположение тайника в подземелье. Я уверен, что если мы не погибнем, то получим то, что спрятано там.\"\n   elseif questStep == 2 then text = \"Этот ученик очень назойливый и дотошный: он не даёт герою отвлекаться на всякую ерунду, и постоянно следит за ним. О, вот уже и вход в подземелье.\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = name .. \" попытался сбежать от своего проблемодателя, но тот нагнал его и вернул ко входу в подземелье. Ничего не оставалось, кроме как идти дальше с ним.\"\n       else text = \"Вход в подземелье оказался завален. Не нужно пояснять, что вся тяжёлая работа досталась герою, так как ему за это заплатят... потом... наверное. Герой пыхтит и тужится.\"\n       end\n   elseif questStep == 4 then text = \"Внутри сыро и холодно, как и в любом подземелье. Герой приготовился драться с любой нечистью, что выскочит навстречу, но тут пусто и никого нет. Ученик идёт позади и подсвечивает путь горящим факелом.\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = \"Стоило герою наступить на какой-то блок с ловушкой-механизмом, как его тут же облило помоями. Ученик то был позади, и поэтому его не задело. \" .. name .. \" попросился идти позади, но ученик наотрез отказался идти первым.\"\n      else text = name .. \" наступил на блок с ловушкой-механизмом и был закидан тухлыми помидорами. Ученик шёл позади, поэтому остался нетронутым. Герой хотел пустить вперёд этого студента, но тот наотрез отказался.\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = \"Злобно скалясь и испуская зловоние, \" .. name .. \" шагает дальше. Ученик ехидно смеётся, когда героя заваливает остатками тухлой рыбы по самые уши, ведь тот снова угодил в ловушку.\"\n      else questStep = 99\n      text = \"Герой активировал очередную ловушку-механизм и пол под ногами провалился, отправив его и ученика по какому-то проходу наружу. Идти второй раз сразу парнишка не захотел, так что можно считать задание завершенным. <s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then text = \"Испуская неслабую вонь, \" .. name .. \" ведёт вперёд своего работодателя. Если бы сейчас встретился какой-нибудь неприятель, то он был тут же повержен зловонием. Герой злится, а ученик ехидно смеётся не сдерживаясь.\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = \"Очередная активация ловушки и героя засыпало тухлыми креветками и куринными потрохами. Вонь стояла такая, что \" .. name .. \" еле держался в сознании. Он готов был послать всё и сбежать, но впереди появился тайник. Почти пришли!\"\n      else questStep = 99\n      text = \"Герой и ученик угодили в ловушку, которая сбросила их в канализацию, и затем потоками по ней выкинула прочь из подземелья. Идти вновь ученик отказался. <s>\n<s>\nЗадание завершено.\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = \"В сундуке лежали дневник и плюшевый крокодил. Оказалось, что первый ректор был без ума от крокодилов, но за не имением настоящего, хранил у себя плюшевого. Ничего ценного больше тут нет. <s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "calculate": true,
        "text": "   ",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn questR == 11 and nextStep == 1\nend",
        "text": "   ",
        "comment": false,
        "super_calculate": false,
        "id": 24,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal aa = \"\"\nlocal bb = \"\"\n   if myItem[1] then \n      if myItemKa4[1] >= 0 then\n         bb = \"<plus>\"\n      end\n      aa = \"затем \" .. myItem[1] .. \" (\" .. bb .. myItemKa4[1] .. \"%), \" \n   end\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- Мне поручили изготовить особый лук, - рассказывает мастер. - Его тетива должна быть сделана из жил магического оленя, коих много обитает в глуши лесной. Раздобудь хотя бы с одного оленя.\"\n   elseif questStep == 2 then text = \"Герой забрался в лесную глушь, но пока ещё не встретил оленей, кроме того парнишки, что в таком месте закапывал плюшевую обезьянку, чтобы её никто не нашёл. \" .. name .. \" ведёт поиски дальше.\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = \"Вот герой выследил оленя и готов был заполучить желанные жилы, но мимо пробежала толпа из организации ''Зелёный мир'', спугнув добычу. Вот же мерзавцы!\"\n       else text = \"Герой столкнулся с отрядом из ''Зелёного мир'', и те хотели отжать сначала деньги, \" .. aa .. \"а потом здоровье. Удалось договориться, чтобы все остались при своём. \"\n       end\n   elseif questStep == 4 then text = name .. \" выследил ещё одного оленя. Взяв свою жертву на прицел, герой вспомнил ''зеленомирцев'' и непроизвольно икнул - цель услышала и сбежала. Будь они прокляты, черти!\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = \"Пробежавший табун ''зеленомирцев'' спугнул всех на своём пути, и даже самого героя. Что они тут вообще забыли в такой глуши?\"\n      else text = name .. \" угодил в ловушку, поставленную ''зеленомирцами'' против охотников-нелегалов. Вот откуда ловушка знает, что у героя нет разрешения на охоту?\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = \"Герой наткнулся на стоянку ''зеленомирцев'' и разделил с ними обед: овощной суп из спаржи, брокколи, стрелок чеснока и базилика с петрушкой. \" .. name .. \" давился и плакал, но продолжал есть это...\"\n      else questStep = 99\n      text = name .. \" наткнулся на лагерь ''зеленомирцев'' и попробовал их суп из спаржи, брокколи, стрелок чеснока и базилика с петрушкой. Первая же ложка вырубила героя из сознания, и очнулся он уже в городе. Наспех сняв тетиву с простого лука, он отдал её мастеру. <s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then text = name .. \" долго чихал после последней встречи с ''зеленомирцами'', и, как следствие, не выследил ни одного оленя. Сколько ещё придёться ему бродить по лесу?\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = \"Герой уже не в силах искать оленей, поэтому нашёл ''зеленомирцев''. За одного оленя они попросили \" .. math.random (88888,99999) .. \" монет, либо что-нибудь очень ценное.\"\n      else questStep = 99\n      text = \"Толпа ''зеленомирцев'' наваляла люлей герою и отправила в город. Ничего не оставалось, как купить на рынке простую тетиву, смазать её \" .. ({ \"скипидаром\", \"йодом\", \"грязью\", \"опилками\", \"сметаной\", \"заживляющей мазью\" }) [math.random(6)] .. \" и отдать мастеру. Тот подмены не заметил и заплатил за выполнение поручения. <s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = \"Взамен нужных жил герой предложил тайник, в котором спрятана плюшевая обезьянка. К удивлению, все ''зеленомирцы'' согласились, и даже дали не просто животное, а сражу уже готовую тетиву из жил магического оленя. \" .. name .. \" отнёс её мастеру. <s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "merge": false
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- Уже через 10 минут начнется состязание лучников, – заявляет торговец,  - и мне нужен по-настоящему меткий стрелок, чтобы заполучить контракт на партию луков для стражников. Я слышал, что герои - самые талантливые люди, и преуспевают во всём.\"\n   elseif questStep == 2 then text = \"Герой получил новый лук, который имел всевозможные примочки, для увеличения меткости - остаётся только наложить стрелу, натянуть её на тетиве и отпустить.\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = \"Все участники оказались нанятыми героями, так что \" .. name .. \" в равных условиях со всеми, не считая супер-навороченного лука.\"\n       else text = \"Герой заметил огромную очередь, в которой стояли знакомые герои. Оказалось, что все они участвуют в состязании лучников и будут его соперниками.\"\n       end\n   elseif questStep == 4 then text = \"Вот и начинается первый этап. Герой стоит в очереди из \" .. math.random(52,59) .. \" человек. Всё проходит медленно и уныло, но герой \" .. ({ \"заметил автомат с вытаскиванием игрушек\", \"заметил свободное место для игры в блэкджек\", \"увидел урну, и начал плевать в неё с расстояния\" }) [math.random(3)] .. \". Времяпровождение пошло веселее.\"\n   elseif questStep == 5 then text = \"Наконец настала очередь героя. Он подошёл к назначенному месту стрельбы, натянул стрелу и выстрелил... Стрела попала в \" .. ({ \"кольцо-серьгу сидевшего в судействе вельможи\", \"яблоко, которое держал в руке вельможа\", \"шляпу, которая была на голове вельможи\" }) [math.random(3)] .. \", а мишень находится совсем в другой стороне.\"\n   elseif questStep == 6 then text = \"Героя пытаются дисквалифицировать за \" .. ({ \"нарушение безопасности состязания\", \"создание опасной ситуации\", \"попытку убийства высокопоставленного лица\" }) [math.random(2)] .. \", но торговец,  нанимавший героя, смог убедить всех, что так и было задумано с самого начала, чтобы показать высокую точность его луков.\"\n   elseif questStep == 7 then text = \"Наниматель ругает героя за то, что тот стреляет не глядя куда, и попросил того целиться в мишень и не закрывать глаза, как это было до этого.\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = \"Герой выстрелил из лука и попал в ''9'' соседней мишени. Это было бы поражением, если бы соперник не попал в ''10'' мишени героя. Пожав плечами, судьи объявили, что \" .. name .. \" победитель и отдали контракт на закапку луков нанимателю. <s>\n<s>\nЗадание выполнено.\"\n      questStep = 99\n      else\n      text = \"Герой стреляет в свою мишень, но стрела попадает в чужую. Наниматель в гневе и грозится \" .. ({ \"спустить с героя шкуру\", \"сдать героя садистам на пытки\", \"отдать героя вампирам на съедение\", \"отправить героя на корм рыбам\" }) [math.random(4)] .. \".\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = \"Герой получил от нанимателя магическую стрелу, выпустив которую, он смог поразить все мишени разом. Организаторы состязания довольны и хотят заключить контракт с этим торговцем. <s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "lua_if": "function lua_if()\nreturn questR == 12 and nextStep == 1\nend",
        "super_calculate": false,
        "id": 24,
        "text": "   ",
        "calculate": true,
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn questR == 13 and nextStep == 1\nend",
        "calculate": true,
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   if questStep == 1 then \n      aa66 = enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (#enemyName)] \n      text = \"Новое задание:<s>\n<s>\n- Батальные сцены нужно рисовать с натуры, чтобы передать всю красоту схватки, - заявляет художник. - Только вот художник, у которого есть мольберт, но нет телохранителя, долго не протянет.\"\n   elseif questStep == 2 then text = \"Художник хочет зарисовать \" .. ({ \"массовую баталию в песчанных дюнах среди немногочисленных оазисов\", \"эпическую битву двух войск в горных краях под ледяным дождём\", \"сражение ''стенка на стенку'' в дубровой роще под палящим солнцем\" }) [math.random(3)] .. \", но герой может максимум сделать постановочный бой один на один на поляне неподалёку.\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = \"Герой ищет себе напарника для постановочного боя, но никто не соглашается бесплатно стоять пару часов в жаре, а герой не хочет делиться наградой.\"\n       else text = \"Герой объявил кастинг на роль соперника главного героя. Желающих много, но за бесплатно никто не соглашается, а делиться наградой герой не хочет.\"\n       end\n   elseif questStep == 4 then \n   text = \"Герой обещал отдать \" .. ({ \"треть\", \"четверть\", \"половину\" }) [math.random(3)] ..\" своей награды тому, кто пропозирует постановочный бой, и вот нашёлся \" .. aa66 .. \".\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = aa66 .. \" упал в обморок после 15 минут позирования. Как назло, сегодня солнце светит ярко и сногсшибательно. Герой придумывает новый план для предстоящей зарисовки.\"\n      else text = aa66 .. \" постоянно отвлекался на попить и передохнуть, чем довёл художника до истерики, а героя до возможности потерять задание.\"\n      end\n   elseif questStep == 6 then \n      local ab = #myItem\n      local ac = \"\"\n         if ab > 1 then\n            ac = myItem [math.random(ab)]\n         else\n            ac = \"палку\"\n         end \n      if math.random(2) == 1 then text = \"Герой использовал \" .. ac .. \", чтобы нарисовать на песке небольшую картину, но художника она никак не впечатлила, и нужно придумать что-то другое.\"\n      else questStep = 99\n      text = \"Герой ввязался в драку и нехило словил люлей, но зато художник смог зарисовать побитого героя, а потом и дорисовать его соперника по памяти. <s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 7 then text = \"Вновь появился \" .. aa66 .. \" и старался снова получить место в зарисовке, но тут же был прогнан прочь - вот же наглец!\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = name .. \" пригласил знакомого героя, но тот не отличался терпением и постоянно дергался. Из-за этого рисовка вышла смазаной и нечёткой.\"\n      else questStep = 99\n         text = \"Герой начал отлавливать прохожих и доводить их до беспамятства своими шутками и рассказами. Хоть они все и валяются на земле, но получилось создать нужную сцену, разложив их на поляне, а художника закинув на дерево. <s>\n<s>\nЗадание выполнено.\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = \"Герой сбегал в город и взял у аптекаря парализующее зелье. Поймав нескольких случайных невинных прохожих и напоив их зельем, удалось создать идеальную сцену для зарисовки. <s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "text": "   ",
        "id": 24,
        "merge": false
      },
      {
        "comment": false,
        "id": 24,
        "lua_if": "function lua_if()\nreturn questR == 14 and nextStep == 1\nend",
        "super_calculate": false,
        "lua_do": "function lua_do()\nher1 = her1 or \"\"\nher2 = her2 or \"\"\n   if questStep == 1 then \n   her1 = math.random(100)\n   her2 = math.random(101, #rname)\n   text = \"Новое задание:<s>\n<s>\n- Нам не помешают гражданские патрули из бывалых людей, - рассказал заместитель начальника городской стражи. - Торговый сезон в разгаре, стражников не хватает. Ты, \" .. her1 .. \" и \" .. her2 .. \", отправляйтесь в патруль.\"\n   elseif questStep == 2 then \n   text = \"Герой приветствует своих товарищей. \" .. ({ name .. \" и \" .. her1 .. \" уже знакомы, а вот \" .. her2 .. \" - новое лицо. \", name .. \" и \" .. her2 .. \" уже знакомы, а вот \" .. her1 .. \" - новое лицо. \", name .. \" ни с кем из них не знаком, и выглядят они как бандиты. \", name .. \" знаком с обоими.\" }) [math.random (4)] .. \"Кажется, что простой патруль \" .. ({ \"будет весёлым.\", \"уже изначально обречён на провал.\", \"будет тем ещё приключением с такими соратниками.\", \"может превратиться в попойку.\", \"может стать опасной авантюрой.\", \"герою не пережить.\" }) [math.random (6)]\n   elseif questStep == 3 then \n   text = ({ her1, her2 }) [math.random (2)] .. \" предложил \" .. ({ \"напиться в первой же таверне. \", \"заманить героя-новичка в проулок или подворотню, и обобрать того до трусов. \", \"раскулачить мелких торговцев. \", \"приставать и домогаться к проходящим красивым девушкам. \" }) [math.random (3)] .. \"Другой \" .. ({ \"согласился с ним, и они оба в обнимку отправились исполнять задуманое\", \"согласился, и вдвоём вприпрыжку бросились на исполнение своей цели\", \"отказался и, когда тот ушёл, тут же побежал жаловаться на него стражникам\", \"отказался и послал всё к чёрту, и эти двое разошлись\" }) [math.random(4)] .. \", а \" ..  name .. \" остался один.\"\n   elseif questStep == 4 then \n   text = \"Герой в одиночку бродит по рынку и торговым площадям. Тут и там ему встречаются другие патрули, в которых \" .. ({ \"всё отлично - слаженная командная работа, справедливость и спокойствие.\", \"всё плохо - неполные отряды, чинящие беспорядки, террор и беспредел.\" }) [math.random (2)]\n   elseif questStep == 5 then\n      if math.random(2) == 1 then \n      text = \"Герой остановился возле одной из лавок и увидел, что \" .. her1 .. \" открыто вымогает деньги у торговца. \" .. name .. \" пинками прогнал его прочь, но вместо благодарности получил нагоняй, ведь тот был из его патрульного отряда.\"\n      else text = \"Герой сократил маршрут, пройдя через подворотни. На пути встретился \" .. her2 .. \". Он обдирал какого-то героя-новичка. \" .. name .. \" поколотил и прогнал горе-соратника, но набежавшая после стража хотела повязать его как злодея. Еле удалось тех переубедить.\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then \n      text = \"\"\n      else questStep = 99\n      text = \"\"\n      end\n   elseif questStep == 7 then \n      text = \"Герой долго бегает от разъярённых соратников, ведь он разрушил все их планы. Они обещают поймать его и \" .. ({  }) [math.random ()]\n   elseif questStep == 8 then\n      if math.random(2) == 1 then\n      text = \"\"\n      else questStep = 99\n      text = \"\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = \"Заместитель начальниаа стрржи самолично поблагодарил героя и вручил награду за блестящий патруль, а так же предложил поработать ещё, когда тот отдохнёт. <s>\n<s>\nЗадание выполнено.\"\n   end\nend",
        "calculate": true,
        "text": "   ",
        "merge": false
      },
      {
        "lua_if": "function lua_if()\nreturn questR == 999 and nextStep == 1\nend",
        "text": "   ",
        "comment": false,
        "super_calculate": false,
        "id": 24,
        "calculate": true,
        "lua_do": "function lua_do()\n   if questStep == 1 then text = \"Новое задание:<s>\n<s>\n- \"\n   elseif questStep == 2 then text = \"\"\n   elseif questStep == 3 then\n       if math.random(2) == 1 then text = \"\"\n       else text = \"\"\n       end\n   elseif questStep == 4 then text = \"\"\n   elseif questStep == 5 then\n      if math.random(2) == 1 then text = \"\"\n      else text = \"\"\n      end\n   elseif questStep == 6 then \n      if math.random(2) == 1 then text = \"\"\n      else questStep = 99\n      text = \"\"\n      end\n   elseif questStep == 7 then text = \"\"\n   elseif questStep == 8 then\n      if math.random(2) == 1 then text = \"\"\n      else questStep = 99\n      text = \"\"\n      end\n   elseif questStep == 9 then questStep = 99\n   text = \"\"\n   end\nend",
        "merge": false
      }
    ]
  },
  {
    "id": 25,
    "text": "  ... расчёт боя ...",
    "answers": [
      {
        "comment": true,
        "super_calculate": false,
        "id": 25,
        "calculate": true,
        "lua_do": "function lua_do()\ntext = \"\"\nheal = heal or 0\nmoney1 = money1 or 0\nboost = boost or 0\nhowHeal = 0\nshot = shot or 0\nshot1 = shot1 or 0\nmiss = miss or 0\nevade = evade or 0\nhealProc = healProc or 0\nnextM = nextM or 0\nenHp = enHp or 0\nshock = shock or 0\n\nbonusExp = bonusExp or 0\nbonusGold = bonusGold or 0\nbonusDmg = bonusDmg or 0\nbonusMiss = bonusMiss or 0\nbonusEvade = bonusEvade or 0\n\nif nextM == 2 then\n   nextM = 99\n   if enHp < 1 then\n      x = 4\n      text = ({ \"Герой\", \"Героиня\" }) [male] .. \" собирается возвращаться в город.\"\n      if volt < 10 and lvl < 100 then\n         volt = volt <plus> 1\n         message (\"Получена 1 Сила Воли за успешный поход.\")\n      elseif volt < 25 and lvl < 100 then\n         if math.random(2) == 1 then\n            volt = volt <plus> 1\n            message (\"Получена 1 Сила Воли за успешный поход.\")\n         end\n      end\n   else\n      text = ({ \"Герой\", \"Героиня\" }) [male] .. \" спешно покидает поле боя.\"\n   end\nend\n\n   if hp < (maxHp * 0.3) and bagHero > (maxBagHero * 0.1) then\n      healProc = 1\n   end\n\nend",
        "text": "   "
      },
      {
        "super_calculate": false,
        "var_not": [
          "nextM",
          99
        ],
        "comment": true,
        "var_equal": [
          "healProc",
          0
        ],
        "id": 25,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\nlocal sssG = 0\nif hp > 0 and enHp > 0 then\n\n   local b = math.random(4)\n   if bonusMiss == 1 then\n      b = math.random(5)\n   elseif bonusMiss == 2 then\n      b = math.random(6)\n   elseif bonusMiss == 3 then\n      b = math.random(7) \n   end\n\n   local a = math.random(5) \n   if bonusEvade == 1 then\n      a = math.random(4) \n   elseif bonusEvade == 2 then\n      a = math.random(3)\n   elseif bonusEvade == 3 then\n      a = math.random(2) \n   end\n\n   dmgB = 0\n   if bonusDmg == 1 then\n      dmgB = math.floor (str * 5 * 0.2)\n   elseif bonusDmg == 2 then\n      dmgB = math.floor (str * 5 * 0.5)\n   elseif bonusDmg == 3 then\n      dmgB = math.floor (str * 5 * 1)\n   end\n\nwarD = warD or 0\nwarN = warN or 0\nwarR = warR or 3\n\n   if shock == 1 then\n      shock = 0\n      a, b = 2, 2\n   end\n \n   if a ~= 1 and b ~= 1 then\n      if warR == 1 then\n         text = texItem1 [math.random (#texItem1)]\n      else\n         if math.random(2) == 1 or lvl < 5 then\n            text = tex1 [math.random (#tex1)]\n         else\n            text = textAttack1\n         end\n      end\n      dmg1 = math.round (math.random (myDmg * 0.6, myDmg * 1.2)) <plus> dmgB <plus> warD\n      enHp = enHp - dmg1\n      shot = shot <plus> 1\n      dmg2 = \"\"\n      if enHp > 0 then\n         dmg2 = math.round ((math.random (enDmg * 0.7, enDmg * 1)) * (1 - (sss / 100)))\n         hp = hp - dmg2\n         shot1 = shot1 <plus> 1\n      end\n\n   elseif a == 1 and b ~= 1 then\n      if warR == 1 then\n         text = texItem2 [math.random (#texItem2)]\n      else\n         if math.random(2) == 1 or lvl < 5 then\n            text = tex2 [math.random (#tex2)]\n         else\n            text = textAttack2\n         end\n      end\n      dmg1 = math.round (math.random (myDmg * 0.8, myDmg * 1.2)) <plus> dmgB <plus> warD\n      enHp = enHp - dmg1\n      shot = shot <plus> 1\n      evade = evade <plus> 1\n      dmg2 = \"\"\n\n   elseif a ~= 1 and b == 1 then\n      if warR == 1 then\n         text = texItem3 [math.random (#texItem3)]\n      else\n         text = tex3 [math.random (#tex3)]\n      end\n      dmg2 = math.floor ((math.random (enDmg * 0.7, enDmg * 1)) * (1 - (sss / 100)))\n      hp = hp - dmg2\n      shot1 = shot1 <plus> 1\n      evade = evade <plus> 1\n      dmg1 = \"\"\n\n   else\n      if warR == 1 then\n         text = texItem4 [math.random (#texItem4)]\n      else\n         text = tex4[math.random(#tex4)]\n      end\n      evade = evade <plus> 1\n      miss = miss <plus> 1\n      dmg1, dmg2 = \"\", \"\"\n   end\nend\n\nif a ~= 1 then\n  if sss >= 1 then\n     if math.random(5) == 1 then\n            sssG = 1\n            sss = sss - 1\n     end\n   end\nend\nend"
      },
      {
        "var_show": [
          "bagHero"
        ],
        "super_calculate": false,
        "var_equal": [
          "healProc",
          1,
          "shock",
          0
        ],
        "id": 25,
        "calculate": true,
        "lua_do": "function lua_do()\n   local aa = maxHp - hp\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Герою\"\n   local he6 = \"ему\"\n   local he7 = \"его\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героине\"\n      he6 = \"ей\"\n      he7 = \"её\"\n   end\n\n   if bagHero >= aa then\n      hp = hp <plus> aa\n      healEat = healEat <plus> aa\n      bagHero = bagHero - aa\n      text = ({ he1 .. \" устраивает сытный обед между делом.\", he1 .. \" неторопясь жуёт \" .. ({ \"огурец\", \"колбасу\", \"варёную картошку\", \"салат оливье\", \"печёного гуся\", \"красную икру\", \"сосиску\", \"печенье\", \"мармелад\", \"хлебные корки\" }) [math.random(10)] .. \" и смотрит в небо.\" }) [math.random(2)]\n   else\n      hp = hp <plus> bagHero\n      bagHero = 0\n      text = ({ he1 .. \" доел\" .. a .. \" всё, что оставалось в сумке.\", \"Всё съедено, в сумке теперь пусто.\" }) [math.random(2)]\n   end\n\n   local b = math.random(4)\n   if bonusEvade == 1 then\n      b = math.random(3) \n   end\n   dmg1 = \"\"\n   dmg2 = \"\"\n\n   if b == 1 then\n      text = text .. \" \" .. ({ \"Соперник мучается ожиданием сидя в сторонке.\", \"Противник хочет дать \" .. he6 .. \" хорошего пинка, но адъютант запрещает мешать \" .. he2 .. \" во время перекуса.\", \"Соперник в это время грозится оторвать \" .. he6 .. \" руки, но дальше угроз это не заходит.\", enKN .. \" тоже хотел перекусить, но обнаружил, что забыл свой обед дома.\", \"Соперник долго ползает вокруг н\" .. he7 .. \", выпрашивая кусочек, но так ничего и не получает.\" }) [math.random(5)]\n    else\n      dmg2 = math.round ((math.random (enDmg * 0.7, enDmg * 1)) * (1 - (sss / 100)))\n      hp = hp - dmg2\n      text = text .. \" \" .. ({ enKN .. \" не стал ждать и провёл свою атаку.\", \"Противник обиделся и тут же спустил злобу на н\" .. he7 .. \".\", \"Соперник оттолкнул \" .. he7 .. \" и забрал последний кусочек себе.\", \"Соперник разозлился из-за такого неуважения и испортил \" .. he6 .. \" перекус.\", \"Противник дождался окончания \" .. he7 .. \" перерыва и тут же влупил \" .. he6 .. \" за всё время ожидание.\" }) [math.random(5)]\n   end\nend",
        "text": "   heal bagHero"
      },
      {
        "lua_do": "function lua_do()\n  healProc = 0\n   local aa = maxHp - hp\n   if bagHero > aa then\n      hp = hp <plus> aa\n      healEat = healEat <plus> aa\n      bagHero = bagHero - aa\n   else \n      hp = hp <plus> bagHero\n      healEat = healEat <plus> bagHero\n      bagHero = 0\n   end\n\ndmg1 = \"\"\ndmg2 = \"\"\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he5 = \"ся\"\n   if male == 2 then \n      a = \"а\"\n      he1 = \"Героиня\"\n      he5 = \"ась\"\n   end\n   local te1 = ({ \"сосиской\", \"огурцом\", \"ананасом\", \"бутербродом\", \"яблоком\", \"окорочком\", \"котлетой\" }) [math.random(7)]\n   local te = ({ he1 .. \" наспех перекусил\" .. a .. \" \" .. te1 .. \" перед атакой.\", he1 .. \" сначала восполнил\" .. a .. \" здоровье, а уже потом кинул\" .. he5 .. \" в атаку.\", he1 .. \" виртуозно закусил\" .. a .. \" \" .. te1 .. \" в момент атаки.\" }) [math.random(3)]\nmessage (te)\n\n   if math.random(2) == 1 then\n      text = tex1 [math.random (#tex1)]\n   else\n      text = textAttack1\n   end\n      dmg1 = math.round (math.random (myDmg * 0.6, myDmg * 1.2)) <plus> dmgB <plus> warD\n      enHp = enHp - dmg1\n      shot = shot <plus> 1\n      dmg2 = \"\"\n      if enHp > 0 then\n         dmg2 = math.round ((math.random (enDmg * 0.7, enDmg * 1)) * (1 - (sss / 100)))\n         hp = hp - dmg2\n         shot1 = shot1 <plus> 1\n       end\n\nend",
        "super_calculate": false,
        "id": 25,
        "calculate": true,
        "var_equal": [
          "healProc",
          1,
          "shock",
          1
        ],
        "text": "   "
      },
      {
        "instant": false,
        "comment": true,
        "super_calculate": false,
        "id": 25,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\nlocal op\nlocal go\nlocal a = \"\"\n   if male == 2 then a = \"а\" end\nbosses = bosses or 0\nif hp > 0 and enHp < 1 and nextM == 0 then\n   killOnFight = killOnFight <plus> 1\n   killPerStage = killPerStage <plus> 1\n   text = tex9[math.random(#tex9)]\n   opyt = math.round (enMaxHp * 0.2)\n   \n   if (lvl / 5) >= (stage <plus> 6) then\n      opyt = math.round (opyt * 0.01)\n   elseif (lvl / 5) >= (stage <plus> 5) then\n      opyt = math.round (opyt * 0.2)\n   elseif (lvl / 5) >= (stage <plus> 4) then\n      opyt = math.round (opyt * 0.4)\n   elseif  (lvl / 5) >= (stage <plus> 3) then\n      opyt = math.round (opyt * 0.6)\n   elseif (lvl / 5) >= (stage <plus> 2) then\n       opyt = math.round (opyt * 0.8)\n   end\n\n   if bosses == 0 or bosses == 2 then\n      exp = exp <plus> opyt\n      op = \"Получен опыт: \" .. opyt\n      if bonusExp > 0 then\n         local exp1 = 0\n         if bonusExp == 1 then\n            exp1 = math.floor (opyt * 0.2)\n         elseif bonusExp == 2 then\n            exp1 = math.floor (opyt * 0.5)\n         elseif bonusExp == 3 then \n            exp1 = math.floor (opyt * 1)\n         end\n         exp = exp <plus> exp1\n         op = op .. \" (бонус: \" .. exp1 .. \")\"\n      end\n      op = op .. \". \"\n\n      gold1 = math.floor (math.random (maxHp * 0.05, maxHp * 0.1))\n      gold = gold <plus> gold1\n      go = \"Получено монет: \" .. gold1\n      money1 = money1 <plus> gold1\n      if bonusGold > 0 then\n         local goldB = 0\n         if bonusGold == 1 then\n            goldB = math.floor (gold1 * 0.2)\n         elseif bonusGold == 2 then\n            goldB = math.floor (gold1 * 0.5)\n         elseif bonusGold == 3 then\n            goldB = math.floor (gold1 * 1)\n         end\n         gold = gold <plus> goldB\n         go = go .. \" (бонус: \" .. goldB .. \")\"\n      end\n      go = go .. \".\"\n\n      message (op .. go)\n\n   elseif bosses == 1 then\n      money2 = money2 or 0\n      killBoss = killBoss or 0\n      nagrada = stage * math.random (250, 350) \n      gold = gold <plus> nagrada\n      local exp1 = (stage * math.random (250, 350))\n      exp = exp <plus> exp1\n      money2 = money2 <plus> nagrada\n      killBoss = killBoss <plus> 1\n      message(\"Получено опыта: \" .. exp1 .. \". Получено монет: \" .. nagrada .. \".\")\n   end\nend\n\n   if nextM < 1 and enHp < 1 then \n      kill = kill <plus> 1\n      nextM = 1\n      if getItem > 0 and math.random(2) == 1 then\n         text = texItem9 [math.random (#texItem9)]\n      else\n         text = tex9[math.random(#tex9)]\n      end\n      local iT = table.count (myItem)\n         if iT < 1 then\n            dropItem = math.random(3)\n         else\n            dropItem = math.random(10) \n         end\n         if iT > 0 then\n            getItem = math.random(maxItemUse)\n         else \n            getItem = 0\n         end\n\n      if hp < (maxHp * 0.2) or killOnFight >= 20 then \n         nextM = 2\n         if killOnFight > 18 then blackFlag = 1\n         else blackFlag = 0\n         end\n      end \n\n   texEnemyDefeat = texEnemyDefeat or { }\n      if #texEnemyDefeat < 10 then\n         table.insert (texEnemyDefeat, enKN)\n      else\n         for i = 1, 9 do\n            texEnemyDefeat[i] = texEnemyDefeat[i<plus>1]   \n         end\n         texEnemyDefeat[10] = enKN\n      end\n   end\n\nif hp < 1 then\n   death = death <plus> 1\n   nextM = 98\n   text = ({ \"Герой\", \"Героиня\" }) [male] .. \" проиграл\" .. a .. \" бой.\" \nend\n\nend"
      },
      {
        "id": 26,
        "text": " смерть",
        "need": [
          9999
        ]
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal itemChange = \"\"\nlocal dropItemKa4 = 10\nlocal item1 = \"\"\ndropItem = 0\nlocal aa = table.count (myItem)\nlocal drp1 = math.random(10, 15 <plus> lvl)\n   if lvl > 60 then \n      drp1 = math.random(lvl - 50, lvl <plus> 10) end\n   if math.random(50) == 1 then \n      drp1 = (10 <plus> lvl) * 2\n   elseif math.random(10) == 1 then\n      drp1 = math.round ((10 <plus> lvl) * 1.5)\n   end\n\n   local item1\n   local s1 = shop1 [math.random (#shop1)] \n   local s2 = shop2 [math.random (#shop2)]\n   local s3 = shop3 [math.random (#shop3)]\n   local s4 = shop4 [math.random (#shop4)]\n   local s5 = shop5 [math.random (#shop5)]\n\n   local typeS = 1\n   local uy = math.random(1 <plus> lvl, 40 <plus> lvl)\n   if uy < 40 then typeS = 1\n   elseif uy >= 40 and uy < 80 then typeS = 2\n   elseif uy >= 80 and uy < 120 then typeS = 3\n   elseif uy >= 120 then typeS = 4\n   end\n\n   if typeS == 1 then\n      item1 = ({ s2, s4 }) [math.random (2)]\n   elseif typeS == 2 then\n      item1 = ({ s1 .. s2, s3 .. s4 }) [math.random (2)]\n   elseif typeS == 3 then\n      item1 = ({ s2 .. s5, s4 .. s5 }) [math.random (2)]\n   elseif typeS == 4 then\n      item1 = ({ s1 .. s2 .. s5, s3 .. s4 .. s5 }) [math.random (2)]\n   end\n\n   if aa < 10 then \n      myItem [#myItem <plus> 1] = item1\n      myItemKa4 [#myItemKa4 <plus> 1] = drp1\n\n   elseif aa >= 10 then\n      local ab = 99999\n      local ac = 1\n      for i = 1, 10 do\n         if myItemKa4[i] < ab then\n            ab = myItemKa4[i] \n            ac = i end\n      end\n      itemChange = \". Оно заменило худшее в рюкзаке.\"\n      myItem [ac] = item1\n      myItemKa4 [ac] = drp1\n   end\n\n   massItem = massItem <plus> 1\n   dialog(\n      {header = \"Получено оружие!\", \n      text = item1 .. \" (<plus>\" .. drp1 .. \"%)\" .. itemChange, \n      answers = {\n         {text = \"Продолжить\",\n         pressListener = function() \n         hideDialog() end}\n      }})\nend",
        "var_equal": [
          "dropItem",
          1
        ],
        "id": 25,
        "text": "   выпадение оружия",
        "calculate": true,
        "var_less": [
          "enHp",
          1
        ]
      }
    ]
  },
  {
    "id": 26,
    "text": "   Ожидание возвращения в город.",
    "answers": [
      {
        "id": 26,
        "text": "  ",
        "comment": true
      },
      {
        "lua_text": "function lua_text()\n   local rrr1 = shop1 [math.random (#shop1)] .. shop2 [math.random (#shop2)]\n   local rrr2 = shop3 [math.random(#shop3)] .. shop4 [math.random(#shop4)]\n   local enemy1 = enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)]\n   local fond1 = { \"пенсионного фонда\", \"переписи населения\", \"косметической компании ОриГори\", \"риэлтоской компании ВышеКрыши\", \"похоронного бюро\", \"святого братства Девятьсот пятьдесят второго Пришествия\", \"ордена святых Тамплиеров\", \"ордена тайных убийц\" }\n   local abc = { \"спит...\", \"ползает в грязи...\", \"наслаждается покоем...\", \"гонит прочь приставучих ритульных агентов...\", \"пишет завещание на \" .. ({ \"самого\", \"саму\" }) [male] .. \" себя...\", \"хорошенько вздремнул\" .. ({\"\", \"а\"})[male] .. \" три раза...\", \"разглядывает звёздное небо...\", \"разглядывает плывущие по небу облака...\", \"курит трубку и давится дымом...\", \"натирает пятки листьями череды и чертополоха...\", \"громко ругается, что раньше всё было лучше...\", \"злится, что раньше всё было проще...\", \"прогоняет спавшего медведя прочь, а сам\" .. ({\"\", \"а\"})[male] .. \" ложится на его тёплое место...\", \"мечтает раздобыть \" .. rrr1 .. \"...\", \"думает, что для счастья нужна \" .. rrr2 .. \"...\", \"полагает, что \" .. rrr1 .. \" сделает \" .. ({\"его\", \"её\"})[male] .. \" сильнее...\", \"считает от 1 до ...\", \"насчитал\" .. ({\"\", \"а\"})[male] .. \" уже до \" .. math.random(99999) .. \"...\", \"мечтает однажды сразиться с таким противником, как \" .. enemy1 .. \"...\",  \"мечтает о черничном мороженом с имбирём...\", ({\"перелёг\", \"перелегла\"}) [male] .. \" в другой овраг, так как тут трава зеленее...\", \"тщетно пытается прогнать агента из \" .. fond1[#fond1] .. \"...\" }\nreturn name .. \" \" .. abc[math.random(#abc)]\nend",
        "id": 26,
        "text": "   ",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde666.png"
        ],
        "comment": true
      },
      {
        "super_calculate": false,
        "id": 26,
        "calculate": true,
        "lua_do": "function lua_do()\n   if spd == 0 then spdX = 5000 \n   else spdX = 1000 end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         if math.random(10) == 1 then\n            volt = volt <plus> 1\n            showPage {id = 4, transition = \"instant\"}\n         else \n            showPage {id = 26, transition = \"instant\"}\n         end\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "text": "   "
      },
      {
        "id": 26,
        "text": "  ",
        "comment": true
      },
      {
        "var_sub": [
          "volt",
          1
        ],
        "instant": true,
        "var_need": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nend",
        "text": "Встать и вернуться в город",
        "middle_answer": true,
        "id": 4
      },
      {
        "var_less": [
          "volt",
          1
        ],
        "id": 29,
        "comment": false,
        "text": "Встать и вернуться в город",
        "middle_answer": true,
        "instant": true,
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nend",
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "middle_answer": true,
        "text": "   ",
        "comment": true,
        "id": 26
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nbonusExp = 0\nbonusGold = 0\nbonusDmg = 0\nbonusMiss = 0\nbonusEvade = 0\nend",
        "calculate": true,
        "text": "   ",
        "id": 26
      }
    ]
  },
  {
    "id": 27,
    "text": "... обн. в городе...",
    "answers": [
      {
        "super_calculate": false,
        "id": 27,
        "text": "   ",
        "calculate": true,
        "lua_do": "function lua_do()\nspd = spd or 0\ntorgN = 0\nmaxItemUse = maxItemUse or 1\ntext = \"\"\ngorod = gorod or 1\nheal = heal or 0\nhealHosp = healHosp or 0\ngold = gold or 0\nsss = sss or 0\ndostup1 = dostup1 or 0\nenterFond = enterFond or 0\ntownMove = townMove or 3\ngoldBank = goldBank or 0\nenterBank = enterBank or 0\nenterTav = enterTav or 0\nenterSmith = enterSmith or 0\nenterMagic = enterMagic or 0\nheroSleep = heroSleep or 0\nheroSleep = heroSleep <plus> 1\nkillOnFight = 0\ntP = tP or 0\nmaxHp = vit * 20\nlowHp = math.floor (maxHp * 0.75)\n\n   local sum1 = table.count (myItem)\n   for i = 1, sum1 do\n      if not myItem[i] then\n         myItem[i] = myItem[i<plus>1]\n         myItemKa4[i] = myItemKa4[i<plus>1]\n         myItem[i<plus>1] = nil\n         myItemKa4[i<plus>1] = nil\n      end\n   end\n\nend"
      },
      {
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "lua_do": "function lua_do()\nif not timer1 then\n   timer1 = timer.performWithDelay (10000, function()\n   end)\nend\nlocal stopTimer = timer.cancel (timer1)\n\nlocal iT = table.count (myItem)\n   if iT > 0 then\n      getItem = math.random(iT)\n   else \n      getItem = 0\n   end\n\ndostup2 = dostup2 or 1\n   if myFond then\n      local sum = 0\n      for i = 1, #fond do\n         sum = sum <plus> myFond[i]\n      end\n      if sum == #fond then\n         dostup2 = 0\n      else\n         dostup2 = 1\n      end\n   end\nend",
        "text": "   "
      },
      {
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal aa\n   if townMove > 0 then\n      abcde = 3\n\n      if hp < lowHp then \n         abcde = 7 \n      else\n         if townMove == 1 or townMove == 3 or townMove == 5 or townMove == 7 then\n            aa = math.random(6)\n            if aa == 1 then abcde = 6\n               if gold < 200 then abcde = 11 end\n            elseif aa == 2 then abcde = 9\n               if enterSmith < 1 then abcde = 3 end\n               if sss > 85 then abcde = 3 end \n               if gold < 10 then abcde = 3 end\n            elseif aa == 3 then abcde = 13\n               if bagHero > (maxBagHero * 0.9) then\n                  abcde = 11 end\n               if hp < (maxHp * 0.5) then \n                   abcde = 7 end\n            elseif aa == 4 then abcde = 11\n            elseif aa == 5 then abcde = 12\n            elseif aa == 6 then abcde = 14\n               if gold < 100 then abcde = 3 end\n            end\n         else\n            aa = math.random(6)\n            if aa == 1 then abcde = 10\n               if stage < 3 then abcde = 11 end\n               if bonusExp > 2 and bonusGold > 2 and bonusDmg > 2 and bonusMiss > 2 and bonusEvade > 2 then abcde = 5 end\n               if enterMagic < 1 then abcde = 5 end\n            elseif aa == 2 then abcde = 4\n               if skill < 3 then abcde = 3 end\n            elseif aa == 3 then abcde = 5\n            elseif aa == 4 then abcde = 8\n            elseif aa == 5 then abcde = 3\n            elseif aa == 6 then abcde = 15\n               if enterFond == 0 then abcde = 8 end\n               if dostup2 == 0 then abcde = 8 end\n            end\n         end\n      end\n\n   else\n      if hp > lowHp then\n         abcde = math.random(2)\n      else\n         abcde = 7\n      end\n   end\nend",
        "text": "   "
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nheroSleep = heroSleep or 0\n   if heroSleep > 100 then\n      abcde = 999\n   end\nend",
        "text": "   ",
        "id": 27,
        "calculate": true
      },
      {
        "text": "   в бой",
        "super_calculate": false,
        "lua_do": "function lua_do()\nbosses = 0\nmaxItemUse = #myItem\n   if maxItemUse  < 1 then\n      maxItemUse = 1 end\ntext = texInFight[math.random(#texInFight)]\nkillOnFight = 0\nmyDmg = str * 5\nmaxHp = vit * 20\n   if hp >= vit * 20 then hp = maxHp end\nnextM, healProc = 1, 0\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n   \n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = 8\n         enterBank, enterFond, enterTav = 1, 1, 1\n         enterSmith, enterMagic = 1, 1\n         showPage {id = 5, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "calculate": true,
        "id": 27,
        "var_equal": [
          "abcde",
          1
        ]
      },
      {
        "lua_do": "function lua_do()\n   text = texMission [math.random (#texMission)]\n   questR = questR or math.random(13)\n   questStep = questStep or 0\n   nagrada = math.random(99) <plus> (lvl * 50)\n   myDmg = str * 5\n   maxHp = vit * 20\n   if hp > maxHp then hp = maxHp end\n   healProc = 0\n   \n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = 7\n         enterBank, enterFond = 1, 1\n         enterTav, enterSmith = 1, 1\n         showPage {id = 23, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "var_equal": [
          "abcde",
          2
        ],
        "id": 27,
        "calculate": true,
        "super_calculate": false,
        "text": "   уход на миссию"
      },
      {
        "comment": false,
        "super_calculate": false,
        "id": 23,
        "calculate": false,
        "need": [
          9999
        ],
        "text": "... задания  ..."
      },
      {
        "lua_do": "function lua_do()\ntext = texNone[math.random(#texNone)]\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         showPage {id = 4, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "var_equal": [
          "abcde",
          3
        ],
        "id": 27,
        "text": "    лень",
        "super_calculate": false,
        "calculate": true
      },
      {
        "text": "   тренажёр ",
        "var_equal": [
          "abcde",
          4
        ],
        "id": 27,
        "calculate": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nskill = skill or 0\n   if skill >= 1 then\n      text = texSkill[math.random(#texSkill)]\n   else\n      text = texNone[math.random(#texNone)]\n   end\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         showPage {id = 9, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend"
      },
      {
        "lua_do": "function lua_do()\ntext = ({ \"Герой\" , \"Героиня\" }) [male] ..\" направляется в таверну!\"\nexitTav = 0\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         enterTav, exitTav = 0, 0\n         showPage {id = 30, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "var_equal": [
          "abcde",
          5
        ],
        "id": 27,
        "text": "    таверна",
        "super_calculate": false,
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 30,
        "calculate": false,
        "need": [
          9999
        ],
        "text": "... таверна ..."
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nmyItem = myItem or { }\nmyItemKa4 = myItemKa4 or { }\nend",
        "text": "   ",
        "id": 27,
        "calculate": true
      },
      {
        "lua_do": "function lua_do()\nlocal a = 0\nlocal n = 31\nlocal tab1 = { }\nlocal bk = math.floor (math.sqrt (gold/2)) - 1\ntext = ({ \"Герой\", \"Героиня\" }) [male] .. \" рыщет по магазинам.\"\nshopMove = 4\ntorgK = 1\n\n   for i = 1, 10 do\n      if myItem[i] then\n         a = a <plus> 1\n         table.insert (tab1, i)\n      end\n   end\n\nif a >= 7 then\n   if a >= 7 and a < 10 then\n      n = 31\n      if math.random(2) == 1 then n = 32 end\n   elseif a >= 10 then\n      n = 32\n   end\n   local aa = 99999\n   shopSale = 1\n   local sum = table.count (myItem)\n      for i = 1, sum do\n         if myItemKa4[i] < aa then\n            aa = myItemKa4[i]\n            shopSale = i\n         end\n      end\n   shopPriceSale = math.floor (((myItemKa4 [shopSale]) ^ 2) / 3)\nend \n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         shopMove = math.random(3,4)\n         shopType = math.random(2)\n         showPage {id = n, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "var_equal": [
          "abcde",
          6
        ],
        "id": 27,
        "text": "    магазин",
        "super_calculate": false,
        "calculate": true
      },
      {
        "id": 31,
        "text": "... магазин ...",
        "need": [
          9999
        ]
      },
      {
        "id": 32,
        "text": "... продажа вещи ...",
        "need": [
          9999
        ]
      },
      {
        "text": "   больница",
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "var_equal": [
          "abcde",
          7
        ],
        "lua_do": "function lua_do()\nheal = heal or 0\ntext = texMed [math.random(#texMed)]\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         exitHospital = 0\n         heal = heal <plus> 1\n         showPage {id = 33, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend"
      },
      {
        "id": 33,
        "text": "... больница ...",
        "need": [
          9999
        ]
      },
      {
        "text": "   статистика",
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "var_equal": [
          "abcde",
          8
        ],
        "lua_do": "function lua_do()\n   if math.random(2) == 1 then\n      text = texStat [math.random (#texStat)] .. texStat1 [math.random (#texStat1)] .. texStat2 [math.random (#texStat2)]\n   else\n      text = texStat [math.random (#texStat)] .. ({ texStat1[1] .. \" и \" .. texStat1[3], texStat1[5] .. \" и \" .. texStat1[6], texStat1[6] .. \" и \" .. texStat1[7], texStat1[11] .. \" и \" .. texStat1[12], texStat1[14] .. \" и \" .. texStat1[15], texStat1[16] .. \" и \" .. texStat1[17] }) [math.random (6)] .. texStat2 [math.random (#texStat2)]\n   end\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 9000\n      elseif spdK == 5 then spdX = 11000\n      elseif spdK == 6 then spdX = 13000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         showPage {id = 4, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend"
      },
      {
        "lua_do": "function lua_do()\n   text = ({ \"Герой\", \"Героиня\" }) [male] .. \" заходит к кузнецу подлатать свои доспехи.\"\n   xB = (sss * sss) * 5 <plus> math.random(100,199)\n  smithMove = math.random(3,4)\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         enterSmith, exitSmith = 0, 0\n         showPage {id = 12, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "var_equal": [
          "abcde",
          9
        ],
        "text": "   кузнец"
      },
      {
        "id": 12,
        "text": "   ... кузнец ...",
        "need": [
          9999
        ]
      },
      {
        "text": "   маг и магия",
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "lua_do": "function lua_do()\ntext = texMag[math.random(#texMag)]\n   buffB = lvl * 25\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         enterMagic = 0\n         showPage {id = 34, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay  (spdX, repeater)\n   end\nend",
        "var_equal": [
          "abcde",
          10
        ]
      },
      {
        "id": 34,
        "text": "... магия ...",
        "need": [
          9999
        ]
      },
      {
        "lua_do": "function lua_do()\ntext = \"Выдержка из Правил проведения боя:<s>\n\" .. texRight[math.random(#texRight)]\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 6000\n      elseif spdK == 2 then spdX = 8000\n      elseif spdK == 3 then spdX = 10000\n      elseif spdK == 4 then spdX = 11000\n      elseif spdK == 5 then spdX = 13000\n      elseif spdK == 6 then spdX = 15000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         showPage {id = 4, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "var_equal": [
          "abcde",
          11
        ],
        "text": "   цитаты из Правил"
      },
      {
        "id": 27,
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   statDrink = statDrink or { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,    0, 0, 0, 0, 0, 0, 0, 0, 0, 0,     0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }\n  texDrink = { \"пиво\", \"вино\", \"портвейн\", \"брагу\", \"терес\", \"малагу\", \"кагор\", \"вермут\", \"мускат\", \"перри\", \"сидр\", \"шампанское\", \"саке\", \"сато\", \"бренди\", \"коньяк\", \"кальвадос\", \"метаксу\", \"водку\", \"виски\", \"джин\", \"ром\", \"чачу\", \"шнапс\", \"кизлярку\", \"текилу\", \"самогон\", \"ликер\", \"настойку\", \"забродивший квас\" }\nlocal cc = math.random(30) \nstatHpDrink = statHpDrink or 0\nstatGoldDrink = statGoldDrink or 0\nsumDrink = 0\nmaxDrink = 0\nlocal aa = 0\n   for i = 1,30 do\n      sumDrink = sumDrink <plus> statDrink[i]\n      if statDrink[i] > aa then\n         aa = statDrink[i]\n         maxDrink = i\n      end\n      if maxDrink < 1 then\n      texDrink[0] = \"минералку\"\n      end\n   end\n\nlocal bb = math.random(5)\nlocal text1 = \"\"\n   if bb == 1 then\n      text1 = \"в таверне чаще всего пьёт \" .. texDrink [maxDrink] .. \". \"\n   elseif bb == 2 then\n      text1 = \"потратил \" .. statGoldDrink .. \" денег на выпивку. \"\n   elseif bb == 3 then\n      text1 = \"загубил \" .. statHpDrink .. \" здоровья из-за выпивки. \"\n   elseif bb == 4 then\n      text1 = \"выпил в таверне \" .. sumDrink .. \" раз. \"\n   elseif bb == 5 then\n      text1 = \" выпил в таверне \" .. texDrink[cc] .. \" \" .. statDrink[cc] .. \" раз. \"\n   end\n\n   text = ({ \"На улице к \" .. ({ \"Герою\", \"Героине\" }) [male] .. \" подошёл неподозрительный тип в чёрном плаще, и сказал, что он \", \"Из ниоткуда рядом с \" .. ({ \"Героем\", \"Героиней\" }) [male] .. \" влетела стрела с запиской, в которой говорится, что он \", \"Стоило расслабиться, как кто-то подошёл сзади и сказал, что он \" }) [math.random(3)] .. text1 .. ({ \"И кто это был?\", \"А их организация очень точно оценивает количество.\", \"Может это заниженный результат?\", \"А они хорошо осведомлены.\" }) [math.random(4)]\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 6000\n      elseif spdK == 2 then spdX = 7000\n      elseif spdK == 3 then spdX = 9000\n      elseif spdK == 4 then spdX = 10000\n      elseif spdK == 5 then spdX = 11000\n      elseif spdK == 6 then spdX = 13000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         showPage {id = 4, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "text": "   информация о выпитом",
        "calculate": true,
        "var_equal": [
          "abcde",
          12
        ]
      },
      {
        "lua_do": "function lua_do()\n   noneBag = maxBagHero - bagHero\n   text = texBagHero [math.random (#texBagHero)]\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         townMove = townMove - 1\n         showPage {id = 11, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "var_equal": [
          "abcde",
          13
        ],
        "text": "   "
      },
      {
        "id": 11,
        "text": "   поля для сбора еды",
        "need": [
          9999
        ]
      },
      {
        "lua_do": "function lua_do()\n   text = ({ name .. \" идёт в банк, чтобы проверить свой счёт.\", \"Карман слишком тяжёл, поэтому \" .. name .. \" хочет облегчить его в банке.\", name .. \" собирается в банк, отложить денег на счёт.\" }) [math.random (3)]\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function() \n      if g.userInQuest == 1 then\n         enterBank, bankMove = 0, 2\n         procBank = 2.5\n         showPage {id = 36, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater) \n   end\nend",
        "super_calculate": false,
        "id": 27,
        "text": "   ",
        "var_equal": [
          "abcde",
          14
        ],
        "calculate": true
      },
      {
        "id": 36,
        "text": "  ...банк ...",
        "need": [
          9999
        ]
      },
      {
        "lua_do": "function lua_do()\n   fond = fond or { \"\", \"\", \"\" }\n   text = ({ name .. \" оказывается поблизости с фондом недвижимости.\", name .. \" видит брокера, который зазывает привлекательной ценой на недвижимость.\" }) [math.random(2)]\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         fondStart, fondMove = 1, 2\n         showPage {id = 37, transition = \"instant\"}\n      else \n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "var_equal": [
          "abcde",
          15
        ],
        "text": "   "
      },
      {
        "id": 37,
        "text": "... фонд ...",
        "need": [
          9999
        ]
      },
      {
        "id": 27,
        "text": "   ",
        "calculate": true,
        "super_calculate": false
      },
      {
        "id": 27,
        "text": "   ",
        "calculate": true,
        "super_calculate": false
      },
      {
        "id": 27,
        "text": "   ",
        "calculate": true,
        "super_calculate": false
      },
      {
        "id": 27,
        "text": "   ",
        "calculate": true,
        "super_calculate": false
      },
      {
        "id": 27,
        "text": "   ",
        "calculate": true,
        "super_calculate": false
      },
      {
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he5 = \"ся\"\n   local he6 = \"его\"\n   local he7 = \"ому\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he5 = \"ась\"\n      he6 = \"её\"\n      he7 = \"ой\"\n   end\n   text = ({ he1 .. \" устроил\" .. he5 .. \" на ночлег у \" .. ({ \"знакомого героя.\", \"знакомой героини.\" }) [male], he1 .. \" расположил\" .. he5 .. \" в комнате таверны, записав расходы на Гильдию Героев.\", he1 .. \" очень устал\" .. a .. \", и как кстати \" .. he6 .. \" приютили добрые миряне.\", name .. \" отыскал\" .. a .. \" незанятую палатку и вероломно завалил\" .. he5 .. \" там спать.\", name .. \" прогнал\" .. a .. \" медведя из берлоги, чтобы сам\" .. he7 .. \" лечь поспать.\" }) [math.random(5)]\n\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 4000\n      elseif spdK == 2 then spdX = 5000\n      elseif spdK == 3 then spdX = 6000\n      elseif spdK == 4 then spdX = 7000\n      elseif spdK == 5 then spdX = 8000\n      elseif spdK == 6 then spdX = 9000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         showPage {id = 18, transition = \"instant\"}\n      else\n        timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "super_calculate": false,
        "id": 27,
        "calculate": true,
        "var_equal": [
          "abcde",
          999
        ],
        "text": "   "
      },
      {
        "id": 18,
        "text": "    ... сон ....",
        "need": [
          9999
        ]
      }
    ]
  },
  {
    "id": 28,
    "text": "...  таблицы действий в городе ...",
    "answers": [
      {
        "id": 28,
        "calculate": true,
        "text": "   ",
        "super_calculate": false
      },
      {
        "comment": false,
        "super_calculate": false,
        "id": 28,
        "text": "   ",
        "lua_do": "function lua_do()\n   fond = { \"Лавка камней-питомцев в городе \" .. tStage[1], \"Павильон по продаже куриных косточек в городе \" .. tStage[2], \"Маленький отдел гусиной полиции в городе \" .. tStage[3], \"Лавка по фигурному нарезанию картофеля в городе \" .. tStage[4], \"Ходуле-костыльная фабрика в городе \" .. tStage[5], \"Охраняемый троллем мост недалеко от города \" .. tStage[6], \"Лавка ''Крылья Икара'' в городе \" .. tStage[7], \"Бюро, в котором можно всё крушить, чтобы сбросить стресс и гнев, в городе \" .. tStage[8], \"Магазинчик по продаже коробочек без сюрприза в городе \" .. tStage[9], \"Лавка ''Курицы на прокат'' в городе \" .. tStage[10], \"Бюро, члены которого считают калории, съеденные заказчиком, в городе \" .. tStage[11], \"Магазин снежков и сосулек в городе \" .. tStage[12], \"Сыроварня, изготавливающая сыр из птичьего молока, в городе \" .. tStage[13], \"Школа человеко-собачего языка в городе \" .. tStage[14], \"Магазинчик открыток с извинениями на все случаи жизни в городе \" .. tStage[15], \"Цветочный магазин, в котором одни только кактусы, в городе \" .. tStage[16], \"Магазин элитных деревянных украшений в городе \" .. tStage[17], \"Магазин скамеек-гробов в городе \" .. tStage[18], \"Лавка мохнатых тапок-тряпок в городе \" .. tStage[19], \"Стидия перекраски домашних питомцев в городе \" .. tStage[20], \"Швейная мастерская мягких игрушек по детским рисункам в городе \" .. tStage[21], \"Магазин консервированных снежков в городе \" .. tStage[22], \"Школа полётов для нелетающих питомцев в городе \" .. tStage[23], \"Вакцинирующее заведение против глупости и пьянства в городе \" .. tStage[24], \"Лопуховая плантация близь города \" .. tStage[25], \"Музей детских рисункой малыша Стива в городе \" .. tStage[26], \"Грязевая шахта близь города \" .. tStage[27], \"Блиноварня в городе \" .. tStage[28], \"Снеговиковая мастерская в городе \" .. tStage[29], \"Лавка резчика фигур ногами в городе \" .. tStage[30], \"Соевая мельница в городе \" .. tStage[31], \"Чертополоховая плантация возле города \" .. tStage[32], \"Музей грязевых ванн в городе \" ..tStage[33], \"Мармеладная шахта близь города \" .. tStage[34], \"Ядоварительный цех близь города \" .. tStage[35], \"Одуванчиковая плантация возле города \" .. tStage[36], \"Склады навоза в городе \" .. tStage[37], \"Костоправная мастерская в городе \" .. tStage[38], \"Свинная цирюльня в городе \" .. tStage[39], \"Магазин слабительных трав в городе \" .. tStage[40], \"''Весёлые горки в глиняный карьер'' близь города \" .. tStage[41], \"Перекраска животных под любой цвет радуги в городе \" .. tStage[42], \"Рыболовный подряд ''Дырявый баркас'' в городе \" .. tStage[43], \"Мастерская ювилирных украшений из воска в городе \" .. tStage[44], \"''Продажа кос для слуг Аида'' в городе \" .. tStage[45], \"Оружейная мастерская, изготавливающая оружие из древесины и глины, в городе \" .. tStage[46], \"Лавка экзотических товаров последнего назначения в городе \" .. tStage[47], \"Ратуша и полный штаб нахлебников в городе \" .. tStage[48], \"Дьявольское поместье в городе \" .. tStage[49], \"Замок с призраками в городе \" .. tStage[50] }\nend",
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 28,
        "calculate": true,
        "lua_do": "function lua_do()\n   texInFight = { name .. \" собирается искать приятности и неприятности.\", name .. \" отправляется на бои по Правилам.\", name .. \" рыщет в поисках новой жертвы...\", name ..  \" жаждит досаждать окружающим и меряться силами.\", \"Ищет жертву, чтобы быть к греху поближе.\", name .. \" хочет скрестить шпагу с соперником, но кажется шпаги нет...\", name .. \" лезет на рожон.\", name .. \" идёт \" .. ({ \"руки в брюки\", \"от бедра\" }) [male] .. \", не опасаясь нападения.\", \"Ступает своей боевой дорогой.\", \"Старается попасться соперникам на глаза.\", \"Старается быть заметн\" .. ({ \"ым\", \"ой\" }) [male] .. \" для противников.\", name .. \" искушает судьбу...\", \"Идёт мимо таверны за ворота города...\", name .. \" держится солнечной стороны, чтобы быть заметн\" .. ({ \"ым\", \"ой\" }) [male] .. \" для соперников.\", name .. \" устраивает засаду на соперника.\", name .. \" ожидает найти в походе богатство и силу, но найдёт как всегда проблемы и синяки.\", name .. \" идёт по следам невиданных соперников...\", name .. \" замечтал\" .. ({ \"ся\", \"ась\" }) [male] .. \" и оказал\" .. ({ \"ся\", \"ась\" }) [male] .. \" за пределами города. А вот, кажется, и соперник приближается...\", name .. \" отправляется в поход, пускай даже и морально не готов\" .. ({ \"\", \"а\" }) [male] .. \".\", name .. \" хочет новое оружие, и лучший способ раздобыть его - это случайно найти после боя.\" }\nend",
        "text": "   отправка в бой"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local texNone1 = { name .. \" отсиживается в тени, пока никто не припахал к работе.\", name .. \" изучает новостную газету в разделе ''кроссворды''.\", \"Спорит с пьяницей, у кого ремень длиннее.\", name .. \" прячется от работодателя.\", name .. \" дожидается темноты, чтобы пойти спать.\", name .. \" мается дурью.\", name .. \" решил\" .. ({ \"\", \"а\" }) [male] .. \" не тратить время на полезные дела.\", name .. \" практикуется в магии, но таланта к ней нет.\", ({ \"Герою\", \"Героине\" }) [male] .. \" не хватило духа приступить к выполнению задания.\", name .. \" думает о всяких глупостях.\", ({ \"Герой повёлся\", \"Героиня повелась\" }) [male] .. \" на провокацию и не стал\" .. ({ \"\", \"а\" }) [male] .. \" ничего делать.\", \"Сделанного не воротишь, поэтому \" .. name .. \" ничего и не делает.\", \"Чтобы не махать кулаками после драки, можно эту драку и не затевать.\", name .. \" не лезет в чужие дела, поэтому \" .. ({ \"ему\", \"ей\" }) [male] .. \" и нечем заняться.\", name .. \" собирается с духом, но ничего не выходит.\", name .. \" хочет ринуться в бой, но что-то коленка зачесалась.\", \"На выходе из города поджидал \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" 999 уровня, поэтому \" .. ({ \"Герой решил\", \"Героиня решила\" }) [male] .. \" не рисковать и ещё немного отдохнуть.\", name .. \" рисует палкой на песке...\", name .. \" беседует с кошкой, но из неё не вышел достойный собеседник.\", name .. \" качается в гамаке и разглядывает облака...\", name .. \" вспоминает в каком он\" .. ({ \"\", \"а\" }) [male] .. \" сейчас городе.\", name .. \" кормит муравьёв крупинками сахара.\", name .. \" решил\" .. ({ \"\", \"а\" }) [male] .. \" подождать, пока другие герои зачистять окрестности от слабых монстров, чтобы с ними само\" .. ({ \"му\", \"й\" }) [male] .. \" не возиться.\" }\n   if not texNone then \n      texNone = texNone1 end\n   if #texNone1 ~= #texNone then \n      texNone = texNone1 end\nend",
        "calculate": true,
        "text": "    лень",
        "id": 28
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   texSkill = { name .. \" решил\" .. ({ \"\", \"а\" }) [male] .. \" заняться развитием тела, лишь бы не идти на задание.\", name .. \" хочет улучшить свои характеристики.\", name .. \" направляется в тренировочный зал.\", name .. \" заметил\" .. ({ \"\", \"а\" }) [male] .. \" тренажёры...\", name .. \" бежит к тренажёрам быстрее ветра.\", name .. \" оказал\" .. ({ \"ся\", \"ась\" }) [male] .. \" в тренировочный зоне, хотя ступал\" .. ({ \"\", \"а\" }) [male].. \" по шагам сильнейших.\", name .. \"не уверен\" .. ({ \"\", \"а\" }) [male] .. \" в собственных силах, но уверен\" .. ({ \"\", \"а\" }) [male] .. \", что тренировки сделают\" .. ({ \"его\", \"её\" }) [male] .. \" сильнее.\", \"Нужно сразу стать сильн\" .. ({ \"ым\", \"ой\" }) [male] .. \", чтобы потом больше времени проводить праздно.\", name .. \" получил\" .. ({ \"\", \"а\" }) [male] .. \" приглашение на бесплатную тренировку.\", name .. \" раздобыл\" .. ({ \"\", \"а\" }) [male] .. \" безлимитный абонемент на посещение тренажёрного зала 2 раза в неделю, но не более 8 визитов в месяц. Даже если помрёт, то всё равно можно будет приходить на тренировку.\", name .. \" вместо таверны оказывается в тренажёрке. Это какой-то знак?\", name .. \" видит очередь героев и героирь в спортзал, и решает встать в неё.\" }\nend",
        "calculate": true,
        "text": "   прокачка хар-к героя",
        "id": 28
      },
      {
        "super_calculate": false,
        "id": 28,
        "text": "   ",
        "calculate": true,
        "lua_do": "function lua_do()\n   local a = \"\"\n   if male == 2 then a = \"а\" end\n   texMission = { \"Что в сражении, что на задании - всё равно набивают морду, но на заданиях реже и не так сильно, так что вперёд!\", \"Путём рационального мышления и метода ''Чики-брики'', \" .. name .. \" решил\" .. a .. \" идти выполнять задание.\", name .. \" горазд\" .. a .. \" не только морды бить, но и поручения разные исполнять.\", name .. \" ищет цель по заданию.\", \"Применив теорию квантового туннелирования на формуле энтропии в термодинамике, \" .. name .. \" осознал\" .. a .. \" истину: задания выполнять проще.\", name .. \" одевает белые тапочки и берёт зонт, чтобы отправиться навстречу приключениям.\", \"Прямым рейсом к выполнению заданий.\", \"За задания платят больше, чем за шкуру льва, так что ищем работодателя.\", name .. \" хочет новое оружие, а денег больше дают за задания. Вперёд!\", name .. \" идёт за солнцем, а оказывается у работодателя...\", \"Стоило зазеваться, как нашёлся тот, что грузит своими проблемами других - и снова задание.\", name .. \" только успел\" .. a .. \" подумать о работе и нанимателе, как вот он, сам идёт на встречу!\", name .. \" спросил\" .. a .. \" путь до ближайшей таверны, но получил\" .. a .. \" задание.\", name .. \" договорил\" .. ({ \"ся\", \"ась\" }) [male] .. \" встретиться в таверне со знакомыми, но срочные задания превыше всего - за них платят!\" }\nend"
      },
      {
        "super_calculate": false,
        "id": 28,
        "calculate": true,
        "lua_do": "function lua_do()\n   shop1 = { \"Ампутирующий \", \"Ароматный \", \"Аннигилирующий \", \"Абсолютный \", \"Абсурдный \", \"Автономный \", \"Белый \", \"Бирюзовый \", \"Восьмигранный \", \"Ватный \", \"Восковый \", \"Вязаный \", \"Вульгарный \", \"Вакуумный \", \"Ветхий \", \"Выжигающий \", \"Голубой \", \"Глиняный \", \"Грязный \", \"Гнутый \", \"Газообразный \", \"Деревянный \", \"Дырявый \", \"Дрянной \", \"Жёлтый \", \"Зелёный \", \"Зигзагообразный \", \"Заточенный \", \"Золотой \", \"Зазубренный \", \"Изменчивый \", \"Испачканный \", \"Игрушечный \", \"Красный \", \"Кривой \", \"Крошечный \", \"Квадратный \", \"Круглый \", \"Колеблющийся \", \"Калёный \", \"Лёгкий \", \"Однородный \", \"Оловянный \", \"Огромный \", \"Обломанный \", \"Проросший \", \"Позорный \", \"Пламенный \", \"Пористый \", \"Перекошенный \", \"Розовый \", \"Ржавый \", \"Редкий \", \"Резиновый \", \"Ржавеющий \", \"Резной \", \"Рунический \", \"Разительный \", \"Синий \", \"Сиреневый \", \"Стеклянный \", \"Серебряный \", \"Странный \", \"Соломенный \", \"Сногсшибательный \", \"Тяжёлый \", \"Уникальный \", \"Увесистый \", \"Ужасающий \", \"Фиолетовый \", \"Хлипкий \", \"Чёрный \", \"Шестиугольный \" }\nend",
        "text": "   "
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   shop2 = { \"Арбалет\", \"Анкер\", \"Амулет\", \"Аквариум\", \"Алтарь\", \"Альманах\", \"Булыжник\", \"Бумеранг\", \"Болт\", \"Барабан\", \"Бак\", \"Батон\", \"Буклет\", \"Бивень\", \"Бур\", \"Бубенчик\", \"Башмак\", \"Бараний Рог\", \"Бордюр\", \"Ботинок\", \"Букет\", \"Бинт\", \"Веер\", \"Вентиль\", \"Веник\", \"Вантуз\", \"Валенок\", \"Вертел\", \"Воланчик\", \"Горшок\", \"Гвоздь\", \"Двуручник\", \"Дорожный Указатель\", \"Дуршлаг\", \"Зонтик\", \"Кортик\", \"Казан\", \"Котелок\", \"Ключ\", \"Клинок\", \"Крюк\", \"Кирпич\", \"Ковш\", \"Капкан\", \"Ковёр\", \"Камень\", \"Констебель\", \"Кастет\", \"Кол\", \"Костыль\", \"Канделябр\", \"Календарь\", \"Колокол\", \"Лук\", \"Лопух\", \"Лапоть\", \"Лом\", \"Молоток\", \"Матрас\", \"Мушкет\", \"Меч\", \"Напильник\", \"Носок\", \"Нож\", \"Пресс\", \"Прут\", \"Поскребок\", \"Палаш\", \"Посох\", \"Плуг\", \"Посох\",  \"Подсвечник\", \"Портрет\", \"Половник\", \"Ремень\", \"Стакан\", \"Сюрикен\", \"Сапог\", \"Серп\", \"Совок\", \"Стол\", \"Самовар\", \"Смычок\", \"Табурет\", \"Тесак\", \"Тапок\", \"Топор\", \"Факел\", \"Флагшток\", \"Чертополох\", \"Черенок\", \"Шестопёр\", \"Штык\", \"Шест\", \"Шампур\", \"Щит\", \"Якорь\" }\nend",
        "calculate": true,
        "text": "   ",
        "id": 28
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   shop3 = { \"Ампутирующая \", \"Ароматная \", \"Аннигилирующая \", \"Абсурдная \", \"Белая \", \"Бирюзовая \", \"Восьмигранная \", \"Ватная \", \"Восковая \", \"Вязаная \", \"Вульгарная \", \"Вакуумная \", \"Ветхая \", \"Выжигающая \", \"Голубая \", \"Глиняная \", \"Грязная \", \"Гнутая \", \"Газообразная \", \"Деревянная \", \"Дырявая \", \"Дрянная \", \"Жёлтая \", \"Зелёная \", \"Зигзагообразная \", \"Заточенная \", \"Золотая \", \"Зазубренная \", \"Испачканная \", \"Игрушечная \", \"Изменчивая \", \"Красная \", \"Кривая \", \"Крошечная \", \"Калёная \", \"Квадратная \", \"Круглая \", \"Колеблющаяся \", \"Лёгкая \", \"Однородная \", \"Оловянная \", \"Огромная \", \"Обломанная \", \"Проросшая \", \"Позорная \", \"Пламенная \", \"Пористая \", \"Перекошенная \", \"Ржавеющая \", \"Розовая \", \"Ржавая \", \"Редкая \", \"Резиновая \", \"Резная \", \"Разительная \",  \"Руническая \", \"Синяя \", \"Сиреневая \", \"Стеклянная \", \"Странная \", \"Серебряная \", \"Соломенная \", \"Сногсшибательная \", \"Тяжёлая \", \"Уникальная \", \"Увесистая \", \"Ужасающая \", \"Фиолетовая \", \"Хлипкая \", \"Чёрная \", \"Шестиугольная \" }\nend",
        "text": "   ",
        "id": 28,
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 28,
        "text": "   ",
        "calculate": true,
        "lua_do": "function lua_do()\n   shop4 = { \"Акула-молот\", \"Арматура\", \"Антресоль\", \"Балка\", \"Бадья\", \"Булава\", \"Бита\", \"Балалайка\", \"Баклуша\", \"Бритва\", \"Бутылка\", \"Безделушка\", \"Ветка Алоэ\", \"Ветка Вербы\", \"Воротина\", \"Вешалка\", \"Варежка\", \"Ваза\", \"Вуаль\", \"Волынка\", \"Гиря\", \"Гитара\", \"Гантеля\", \"Губка\", \"Дверь\", \"Дубина\", \"Доска\", \"Жердь\", \"Заколка\", \"Кочерга\", \"Клюка\", \"Клизма\", \"Кисть\", \"Кастрюля\", \"Коса\", \"Катана\", \"Крапива\", \"Коробка\", \"Книга\", \"Картина\", \"Кружка\", \"Калитка\", \"Ложка\", \"Лопата\", \"Лестница\", \"Лютня\", \"Лейка\", \"Мочалка\", \"Мачта\", \"Метла\", \"Мыльница\", \"Ножка Стола\", \"Прялка\", \"Прищепка\", \"Подушка\", \"Палица\", \"Подкова\", \"Рогатина\", \"Рапира\", \"Рыба-меч\", \"Ступа\", \"Сковородка\", \"Скалка\", \"Свеча\", \"Телега\", \"Трость\", \"Указка\", \"Чесалка\", \"Шестерёнка\", \"Шпага\", \"Швабра\", \"Шапка-ушанка\" }\nend"
      },
      {
        "super_calculate": false,
        "id": 28,
        "calculate": true,
        "lua_do": "function lua_do()\n   shop5 = { \" Ангела\", \" Архангела\", \" Бездны\", \" Боли\", \" Божества\", \" Бездельника\", \" Бури\", \" Бешенства\", \" Бедствия\", \" Ветра\", \" Воды\", \" Веры\", \" Викинга\", \" Горя\", \" Гнева\", \" Героя\", \" Гибели\", \" Глупости\", \" Гордости\", \" Гордыни\", \" Демона\", \" Дьявола\", \" Джентльмена\", \" Жажды\", \" Зависти\", \" Зимы\", \" Земли\", \" Каторжника\", \" Крестьянина\", \" Короля\", \" Капера\", \" Краха\", \" Льда\", \" Любви\", \" Мага\", \" Мороза\", \" Небес\", \" Надежды\", \" Ненависти\", \" Неудачника\", \" Некроманта\", \" Одержимого\", \" Огня\", \" Обжорства\", \" Побед\", \" Пирата\", \" Поражений\", \" Пламени\", \" Природы\", \" Преступника\", \" Преисподней\", \" Потрошителя\", \" Позора\", \" Разрушений\", \" Судьбы\", \" Света\", \" Стужи\", \" Стражника\", \" Страсти\", \" Спокойствия\", \" Тьмы\", \" Труса\", \" Трусости\", \" Убийцы\", \" Удачи\", \" Флибустьера\", \" Храбрости\", \" Хитрости\", \" Штиля\", \" Шторма\" }\nend",
        "text": "   "
      },
      {
        "id": 28,
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nlvl = lvl or 1\nstr = str or 5\nvit = vit or 5\nwell = well or 0\nkill = kill or 0\ndeath = death or 0\nheal = heal or 0\nmoney = money or 0\nmoney1 = money1 or 0\nmoney2 = money2 or 0\nevade = evade or 0\nmiss = miss or 0\nshot = shot or 0\nshot1 = shot1 or 0\nkillBoss = killBoss or 0\nquestKol = questKol or 0\nwell1 = (math.round ((shot / (shot <plus> miss) * 100) * 100)) / 100\nwell2 = (math.round ((evade / (evade <plus> shot1) * 100) * 100)) / 100\nwell3 = (math.round ((kill / (kill <plus> death) * 100) * 100)) / 100\nmassItem = massItem or 0\nbuyItem = buyItem or 0\n\nlocal texxxxx = \"<s>\nУничтожено чудищ: \" .. killBoss\nend",
        "calculate": true,
        "text": "   ",
        "merge": false
      },
      {
        "super_calculate": false,
        "id": 28,
        "text": "   ",
        "calculate": true,
        "lua_do": "function lua_do()\n   local heroes = \"Героя\"\n   local heroes1 = \"Герою\"\n   local heroes2 = \"него\"\n   if male == 2 then \n      heroes = \"Героини\" \n      heroes1 = \"Героине\" \n      heroes2 = \"неё\"\n   end\n   \n   texStat = { \"Из бюро статистики сообщили, что у \" .. heroes .. \" \", \"Проходивший житель сообщил, что у \" .. heroes .. \" \", heroes1 .. \" передали письмо от неизвестного, в котором говорится, что у \" .. heroes2 .. \" \"}\n   texStat1 = { kill .. \" побед\", \"было \" .. well .. \" встреч с противниками\", death .. \" поражений\", \"выживаемость составляет \" .. well3 .. \"%\", shot .. \" нанесённых ударов\", shot1 .. \" полученных ударов\", evade .. \" уклонений\", miss .. \" промахов\", \"меткость составляет \" .. well1 .. \"%\", \" реакция составляет \" .. well2 .. \"%\", questKol .. \" выполненных заданий.\", money1 .. \" монет полученных в боях\", money2 .. \" монет полученных на заданиях.\", heal .. \" визитов в больницу\", massItem .. \" полученных снаряжений в боях\", buyItem .. \" купленных снаряжений в магазине\", healEat .. \" здоровья восстановлено едой\", healHosp .. \" вылеченно здоровья в больнице\" }\n   texStat2 = { \". И кто же это всё считает?\", \". Не значит ли это, что за ним кто-то постоянно следит?\", \". Что-то маловато...\", \". Что-то многовато...\", \". А обнулить как-то можно?\", \". Надо бы увеличить.\", \". Стоит постараться и увеличить этот показатель.\", \". Надо бы снизить.\", \". Нормально...\", \". Вполне неплохо.\", \". А ведь чувствуется старание!\" }\nend"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local tyty = { \"розовая\", \"жёлтая\", \"ярко-красная\", \"перламутровая\", \"сиреневая\", \"голубая\", \"оранжевая\", \"зелёная\" }\n   local hyhy = { \"Уличный мальчишка\", \"Раздающий флайеры\", \"Рекламный агент\", \"Случайный прохожий\", \"Говорящий кот\", \"Проповедник\", \"Другой герой\" }\n   local gygy = { \"богатство\", \"супер-оружие\", \"боевой доспех\", \"сладости\", \"счастье\", \"здоровье\", \"радость\", \"мучения\", \"страдания\", \"разочарование\", \"боль\", \"лишения\", \"новую надежду\", \"непоколебимую веру\" }\n   texMag = { \"Чудесный образом прямо перед носом появилась Магическая лавка.\", \"На фоне серых домов и магазинов заметно выделяется Магическая лавка - вся в цветных гирляндах и \" .. tyty [math.random (#tyty)] .. \" краска.\", hyhy [math.random (#hyhy)] .. \" обещал \" .. gygy [math.random(#gygy)] .. \", а привёл в Магическую лавку.\" }\nend",
        "calculate": true,
        "text": "   ",
        "id": 28
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal sum = table.count (myItem)\n   for i = 1, sum do\n      if not myItem[i] then\n         myItem[i] = myItem[i<plus>1]\n         myItemKa4[i] = myItemKa4[i<plus>1]\n         myItem[i<plus>1] = nil\n         myItemKa4[i<plus>1] = nil\n      end\n   end\nend",
        "text": "   ",
        "id": 28,
        "calculate": true
      },
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   texRight = { \"Поединок проходит строго-настрого один на один. Но допустимо вмешательство посторонних.\", \"Запрещается кусать противника второй раз за один ход, либо вне своего хода, либо до поединка, либо уже после поединка.\", \"Оба соперника действуют единожды за один ход, если иное не оговорено в этих Правилах.\", \"Герой, или Героиня, имеет право на лишний ход, если с этим согласен адъютанта поединка. Способ получение его согласия не имеет значения.\", \"Если у Героя, или Героини, болит пальчик на ноге или руке, то в срочном порядке завершить ход, даже если противник еще не успел провести атаку.\", \"Если Герою, или Героине, кажется, что противника кто-то сглазил, то можно отвести сглаз простым тычком пальца в глаза противника, и потом уже честно продолжить бой.\", \"Противник имеет право дополнительного хода только если совпадут перечисленные факторы: падает звезда с неба, извергается вулкан, происходит наводнение, возродился Владыка зла, король Империи призвал более тысячи героев зм один день и не дал им денег на новые доспехи.\", \"В любое время боя можно взять паузу, чтобы помыть руки — гигиена привыше всего.\", \"Если противник захочет улететь на крыльях, как Икар, то Герою, или Героине, стоит его немного подождать — полюбому тот вскоре свалится с небес на землю, когда близко к Солнцу подлетит.\", \"Допускается обучение прохожих и противников изложенным тут правилам любым удобным способом, даже зазубриванием или прямым вдалбливанием в голову.\", \"Разрешается кусать только за левые пятки, так как в правой может располагаться ''ахиллесова пята'', и кто-либо из участников получит нечестное преимущество.\", \"Разрешено портить ландшафт крутыми приёмами и суперударами, но организация ''Зелёный Мир'' может потребовать компенсацию за приченение вреда их слабой морали.\", \"Допускается жульничество, если его никто не заметил. Или не хотят замечать. Или противник ослеплён.\", \"Допускается обед для участников посреди боя, если наступает обеденный перерыв.\", \"Если Герой, или Героиня, боится колущих или режущих предметов, то бой должен проходить на кулаках.\", \"Герой, или Героиня, и соперник вправе решить право хода посредством священной игры ''Цу-е-фа''.\", \"Все перечисленные правила в Правилах проведения боя действуют только в этом мире, и не распространяются на любые другие миры и реальности.\" }\nend",
        "text": "   Правила проведения боя",
        "id": 28,
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 28,
        "text": "  для пополнения сумки едой",
        "calculate": true,
        "lua_do": "function lua_do()\n\nlocal aa = math.floor (bagHero / maxBagHero * 100)\nlocal ab = \"\"\n   if aa < 1 then\n      ab = \"пустая.\"\n   elseif aa > 0 and aa <= 30 then \n      ab = \"почти пустая.\"\n   elseif aa > 30 and aa <= 45 then\n      ab = \"наполовину пустая.\"\n   elseif aa > 45 and aa <= 60 then\n      ab = \"наполовину заполненная.\"\n   elseif aa > 60 and aa <= 90 then\n      ab = \"полная.\"\n   elseif aa > 90 then\n      ab = \"битком забитая.\"\n   end\n\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he6 = \"его\"\n   if male == 2 then \n      a = \"\" \n      he1 = \"Героиня\"\n      he6 = \"её\"\n   end\n   texBagHero = { he1 .. \" решил\" .. a .. \" пополнить запас еды в своей сумке.\", name .. \" перебирает еду и соображает, хватит ли её для предстоящего похода...\", he1 .. \" заметил\" .. a .. \", что \" .. he6 .. \" сумка с едой \" .. ab, \"Нужно пополнять запасы еды...\", name .. \" хочет пополнить сумку едой.\", \"Без еды в походе долго не протянуть, поэтому \" .. he1 .. \" идёт в поля.\" }\nend"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he5 = \"ся\"\n   local he6 = \"его\"\n   if male == 2 then\n      a = \"а\"\n      he5 = \"ась\"\n      he6 = \"её\"\n   end\n   enKa4 = enKa4 or enemyKa4 [math.random (#ememyKa4)]\n   enName = enName or enemyName[1]\n   texMed = { name .. \" видит больницу и входит в неё.\", name .. \" ползёт мимо больницы, но заботливые медбратья заметили \" .. he6 .. \" и внесли в больницу.\", name .. \" делает вид, что полностью здоров\" .. a .. \", но медицинский патруль упёк \" .. he6 .. \" в лечебницу.\", name .. \" собирал\" .. he5 .. \" зайти в \" .. ({ \"магазин, чтобы купить новое оружие\", \"мастерскую к кузнецу, чтобы подлатать доспех\", \"магическую лавку, чтобы получить усиление\", \"тренажёрный зал, чтобы повысить характеристики\", \"таверну, чтобы потратить все деньги\" }) [math.random(5)] .. \", но ошиб\" .. he5 .. \" зданием и оказал\" .. he5 .. \" в очереди к врачу.\", name .. \" не хочет идти в поликлинику, поэтому идёт в здание напротив. А тут оказался госпиталь.\", name .. \" был\" .. a .. \" в санчасти, и оттуда \" .. he6 .. \" перевели прямиком в больницу.\", name .. \" написал\" .. a .. \" заявление в полиции, что \" .. he6 .. \" побил \" .. enKN .. \", и после снятия побоев наконец смог\" .. ({ \"\", \"ла\" }) [male] .. \" попасть в больницу.\", name .. \" притворяется \" .. ({ \"кактусом\", \"фикусом\", \"мертвецом\", \"опосумом\", \"коровой\", \"столбом\", \"дурачком\", \"лягушкой\", \"гориллой\", \"уличным певцом\" }) [math.random(10)] .. \", но \" .. he6 .. \" всё равно загребли на лечение.\", name .. \" не хочет в больницу, а вот в госпиталь - другое дело.\" }\nend",
        "calculate": true,
        "id": 28,
        "text": "   вход в больницу"
      }
    ]
  },
  {
    "id": 29,
    "text": "   Герой/Героиня очень хочет это сделать, но ему/ей не хватает силы воли! Сила Воли прибывает во время выполнения заданий и сражениями с монстрами, но Вы также можете подбодрить героя, купив силу воли за закладки.",
    "answers": [
      {
        "lua_if": "function lua_if()\nadControl = adControl or 0\nreturn adControl < 1\nend",
        "super_calculate": false,
        "id": 29,
        "calculate": true,
        "lua_do": "function lua_do()\n   if math.random(2) == 1 then\n      adItem1 = shop1 [math.random (#shop1)] .. shop2 [math.random (#shop2)] .. shop5 [math.random (#shop5)]\n   else \n      adItem1 = shop3 [math.random (#shop3)] .. shop4 [math.random (#shop4)] .. shop5 [math.random (#shop5)]\n   end\n\n   if math.random(2) == 1 then\n      adItem2 = ({ \"Отличный \", \"Могучий \", \"Шедевральный \", \"Волшебный \", \"Магический \", \"Причудливый \" }) [math.random (6)] .. shop2 [math.random (#shop2)] .. shop5 [math.random (#shop5)]\n   else \n      adItem2 = ({ \"Отличная \", \"Могучая \", \"Шедевральная \", \"Волшебная \", \"Магическая \", \"Причудливая \" }) [math.random (6)] .. shop4 [math.random (#shop4)] .. shop5 [math.random (#shop5)]\n   end\n\n   if math.random(2) == 1 then\n      adItem3 = ({ \"Могущественный \", \"Сказочный \", \"Былинный \", \"Фантастичный \", \"Призрачный \", \"Чудесный \" }) [math.random (6)] .. shop2 [math.random (#shop2)] .. shop5 [math.random (#shop5)]\n   else\n      adItem3 =  ({ \"Могущественная \", \"Сказочная \", \"Былинная \", \"Фантастичная \", \"Призрачная \", \"Чудесная \" }) [math.random (6)] .. shop4 [math.random (#shop4)] .. shop5 [math.random (#shop5)]\n   end\n\n   if math.random(2) == 1 then\n      adItem4 = ({ \"Эпичный \", \"Божественный \", \"Брутальный \", \"Великий \", \"Могущественный \", \"Мифический \" }) [math.random (6)] .. shop2 [math.random (#shop2)] .. shop5 [math.random (#shop5)]\n   else \n      adItem4 = ({ \"Эпичная \", \"Божественная \", \"Брутальная \", \"Великая \", \"Могущественная \", \"Мифическая \" }) [math.random (6)] .. shop4 [math.random (#shop4)] .. shop5 [math.random (#shop5)]\n   end\nend",
        "text": "   "
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nadControl = 1\nend",
        "instant": true,
        "no_transition": true,
        "authorsAd": "(10 силы воли)",
        "lua_text": "function lua_text()\nreturn \"Получить 10 силы воли <s>\nПросмотр рекламы\"\nend",
        "text": "   ",
        "id": 29,
        "var_add": [
          "volt",
          10
        ]
      },
      {
        "comment": false,
        "id": 29,
        "instant": true,
        "no_transition": true,
        "lua_text": "function lua_text()\nreturn \"Получить 100 силы воли и оружие: <s>\n\" .. adItem1 .. \" (<plus>\" .. (lvl <plus> 30) .. \"%)\"\nend",
        "text": "   ",
        "var_add": [
          "volt",
          30
        ],
        "lua_do": "function lua_do()\nadControl = 2\nend",
        "dlc": "capitan_promo_17"
      },
      {
        "comment": false,
        "id": 29,
        "instant": true,
        "no_transition": true,
        "lua_text": "function lua_text()\nreturn \"Получить 100 силы воли и оружие: <s>\n\" .. adItem2 .. \" (<plus>\" .. ((lvl * 2) <plus> 50) .. \"%)\"\nend",
        "text": "Получить 100 силы воли",
        "var_add": [
          "volt",
          100
        ],
        "lua_do": "function lua_do()\nadControl = 3\nend",
        "dlc": "capitan_promo_18"
      },
      {
        "comment": false,
        "id": 29,
        "instant": true,
        "no_transition": true,
        "lua_text": "function lua_text()\nreturn \"Получить 250 силы воли и оружие: <s>\n\" .. adItem3 .. \" (<plus>\" .. ((lvl * 3) <plus> 75) .. \"%)\"\nend",
        "text": "Получить 250 силы воли",
        "var_add": [
          "volt",
          250
        ],
        "lua_do": "function lua_do()\nadControl = 4\nend",
        "dlc": "capitan_promo_19"
      },
      {
        "comment": false,
        "id": 29,
        "instant": true,
        "no_transition": true,
        "lua_text": "function lua_text()\nreturn \"Получить 600 силы воли и оружие: <s>\n\" .. adItem4 .. \" (<plus>\" .. ((lvl * 4) <plus> 100) .. \"%)\"\nend",
        "text": "Получить 600 силы воли",
        "var_add": [
          "volt",
          600
        ],
        "lua_do": "function lua_do()\nadControl = 5\nend",
        "dlc": "capitan_promo_20"
      },
      {
        "lua_do": "function lua_do()\n   local aa = table.count (myItem)\n   local dropItemKa4 = 0\n   local item1 = \"\"\n   local itemChange = \"\"\n\nif adControl > 1 then\n   if adControl == 2 then\n      dropItemKa4 = lvl <plus> 30\n      item1 = adItem1\n   elseif adControl == 3 then\n      dropItemKa4 = (lvl * 2) <plus> 50\n      item1 = adItem2\n   elseif adControl == 4 then\n      dropItemKa4 = (lvl * 3) <plus> 75\n      item1 = adItem3\n   elseif adControl == 5 then\n      dropItemKa4 = (lvl * 4) <plus> 100\n      item1 = adItem4\n   end\n\n   if aa < 10 then\n      myItem [#myItem <plus> 1] = item1\n      myItemKa4 [#myItemKa4 <plus> 1] = dropItemKa4\n   elseif aa >= 10 then\n      local ab = 99999\n      local ac = 1\n      for i = 1, 10 do\n         if myItemKa4[i] < ab then\n            ab = myItemKa4[i] \n            ac = i end\n      end\n     itemChange = \". Оно заменило худшее: \" .. myItem[ac] .. \" (<plus>\" .. myItemKa4[ac] .. \"%).\"\n      myItem [ac] = item1\n      myItemKa4 [ac] = dropItemKa4\n   end\n\n   dialog(\n      {header = \"Получено оружие!\", \n      text = \"Герой получил снаряжение: \" .. item1 .. \" (<plus>\" .. dropItemKa4 .. \"%)\" .. itemChange, \n      answers = {\n         {text = \"Продолжить\",\n         pressListener = function() \n         hideDialog() end}\n      }})\nend\n\n   adControl = 0\n   if back == 30 then \n      exitTav = 1\n      message (name .. \" прощается со всеми и уходит из таверны.\")\n      showPage {id = 30, transition = \"instant\"}\n\n   elseif back == 26 then\n      showPage {id = 4, transition = \"instant\"}\n\n   elseif back == 5 then\n      if nextFi == 1 then \n         shock = 1\n         showPage {id = 5, transition = \"instant\"} \n      elseif nextFi == 2 then\n         shopG, bonusExp = 1, 0\n         bonusGold, bonusDmg = 0, 0\n         bonusMiss, bonusEvade = 0, 0\n         showPage {id = 4, transition = \"instant\"}\n      end\n\n   elseif back == 4 and nextFi < 3 then\n      lowHp = vit * 10\n      if hp < lowHp then\n         hp = math.floor(maxHp * 0.5)\n         message(\"Герой наспех подлечился и направился в путь для новых свершений.\")\n      end\n      killOnFight = 0\n      myDmg = str * 5\n      maxHp = vit * 20\n         if hp >= vit * 20 then hp = maxHp end\n      nextM, healProc = 1, 0\n      if nextFi == 1 then\n         maxItemUse = #myItem\n            if maxItemUse < 1 then\n               maxItemUse = 1 end\n         enterTav, enterBank, enterFond = 1, 1, 1\n         enterSmith, enterMagic = 1, 1\n         showPage {id = 5, transition = \"instant\"}\n      else\n         questR = questR or math.random(13) \n         questStep = questStep or 0\n         nagrada = math.random(99) <plus> (lvl * 100)\n         enterTav, enterSmith = 1, 1\n         enterBank, enterFond = 1, 1\n         showPage {id = 23, transition = \"instant\"} \n      end\n\n   elseif back == 4 and nextFi > 2 then\n      if nextFi == 3 then\n         showPage {id = 9, transition = \"instant\"}\n      elseif nextFi == 4 then\n         showPage {id = 34, transition = \"instant\"}\n      elseif nextFi == 5 then\n         enterSmith = 0\n         showPage {id = 12, transition = \"instant\"}\n      elseif nextFi == 6 then\n          noneBag = maxBagHero - bagHero\n          townMove = townMove - 1\n          if hp < (maxHp * 0.5) then\n             hp = math.floor (maxHp * 0.5)\n             message (\"Герой наспех подлечился и направился в путь.\")\n          end\n          showPage {id = 11, transition = \"instant\"}\n      elseif nextFi == 7 then\n         bankMove, procBank = 2, 2.5\n         showPage {id = 36, transition = \"instant\"}\n      elseif nextFi == 8 then\n         fondStart, fondMove = 1, 2\n         showPage {id = 37, transition = \"instant\"}\n      elseif nextFi == 9 then\n         showPage {id = 33, transition = \"instant\"} \n      end\n   \n   elseif back == 33 then\n      if nextFi == 1 then\n         hp = hp <plus> math.floor (maxHp * 0.3)\n         exitHospital = 1\n         showPage {id = 33, transition = \"instant\"}\n      elseif nextFi == 2 then\n         showPage {id = 4, transition = \"instant\"} \n       end\n\n   elseif back == 23 then\n      if nextFi == 1 then\n         nextSteper = nextSteper <plus> 1\n         showPage {id = 23, transition = \"instant\"} \n      elseif nextFi == 2 then\n         questStep = 0\n         questR = math.random(13)\n         nagrada = math.random(99) <plus> (lvl * 50)\n         showPage {id = 4, transition = \"instant\"}\n      end\n   \n   elseif back == 31 then\n      if nextFi == 1 then\n         message (\"Герой отказался от покупки снаряжения.\")\n         showPage {id = 4, transition = \"instant\"} \n      elseif nextFi == 2 then\n         local i = (#myItem <plus> 1)\n         myItem [i] = shopName\n         myItemKa4 [i] = shopKa4\n         gold = gold - shopPrice\n         message (\"Герой купил новое снаряжение.\")\n         showPage {id = 4, transition = \"instant\"} \n      elseif nextFi == 3 then\n         torgK = 1\n         showPage {id = 31, transition = \"instant\"}\n      end\n\n   elseif back == 32 then\n      if nextFi == 1 then\n         shopPriceSale = math.floor (shopPriceSale * 1.07)\n         torgN = torgN <plus> 1\n         showPage {id = 32, transition = \"instant\"}\n      elseif nextFi == 2 then\n         message (\"Герой передумал продавать снаряжение.\")\n         showPage {id = 4, transition = \"instant\"} \n      elseif nextFi == 3 then\n         torgN = 0\n         message (\"Герой продал снаряжение.\")\n         myItem[shopSale] = nil\n         myItemKa4[shopSale] = nil\n         gold = gold <plus> shopPriceSale\n         local sum1 = table.count (myItem)\n            for i = 1, sum1 do\n               if not myItem[i] then\n                  myItem[i] = myItem[i<plus>1]\n                  myItemKa4[i] = myItemKa4[i<plus>1]\n                  myItem[i<plus>1] = nil\n                  myItemKa4[i<plus>1] = nil\n               end\n            end\n         local aa = 99999\n         local bb = 0\n         local sum = table.count (myItem)\n            for i = 1, sum do\n               if myItemKa4[i] < aa then\n                  aa = myItemKa4[i]\n                  bb = i\n               end\n            end\n         shopSale = bb\n         shopPriceSale = math.floor ((((myItemKa4 [shopSale])) ^ 2) / 3)\n         showPage {id = 32, transition = \"instant\"}\n      elseif nextFi == 4 then\n         myItem[shopSale] = nil\n         myItemKa4[shopSale] = nil\n         gold = gold <plus> shopPriceSale\n         local sum1 = table.count (myItem)\n         for i = 1, sum1 do\n            if not myItem[i] then\n               myItem[i] = myItem[i<plus>1]\n               myItemKa4[i] = myItemKa4[i<plus>1]\n               myItem[i<plus>1] = nil\n               myItemKa4[i<plus>1] = nil\n            end\n         end\n      end\n\n   elseif back == 12 then\n      exitSmith = 0\n      if nextFi == 1 then\n         sss = sss <plus> 5\n         gold = gold - xB\n         showPage {id = 4, transition = \"instant\"} \n      elseif nextFi == 2 then\n         showPage {id = 4, transition = \"instant\"} \n      end\n\n   elseif back == 8 then\n      if nextFi == 1 then\n         hod = 1\n         showPage {id = 8, transition = \"instant\"}\n     elseif nextFi == 2 then\n         if stage > 50 then gorod = nextTown end\n         stage = stage <plus> 1\n         killPerStage = 0\n         showPage {id = 4, transition = \"instant\"}\n      end\n\n   elseif back == 9 then\n      pushTraining, exitTraining = 1, 0\n      if nextFi == 1 then\n         str = str <plus> 1\n      else \n         vit = vit <plus> 1\n      end\n      showPage {id = 9, transition = \"instant\"}\n\n   elseif back == 11 then\n      if nextFi == 1 then\n         sbor = 1\n        showPage {id = 11, transition = \"instant\"}\n      elseif nextFi == 2 then\n          showPage {id = 4, transition = \"instant\"}\n      end\n\n   elseif back == 34 then\n      if nextFi == 1 then\n         buffB = math.floor (buffB * 0.9)\n         showPage {id = 34, transition = \"instant\"} \n      elseif nextFi == 3 then\n         if buff == 1 and bonusExp < 3 then \n            bonusExp = bonusExp <plus> 1\n         elseif buff == 2 and bonusGold < 3 then \n            bonusGold = bonusGold <plus> 1\n         elseif buff == 3 and bonusDmg < 3 then \n            bonusDmg = bonusDmg <plus> 1\n         elseif buff == 4 and bonusMiss < 3 then \n            bonusMiss = bonusMiss <plus> 1\n         elseif buff == 5 and bonusEvade < 3 then \n            bonusEvade = bonusEvade <plus> 1\n         end\n         gold = gold - buffB\n         torgN = 0\n         buffB = lvl * 25\n         showPage {id = 34, transition = \"instant\"} \n      elseif nextFi == 2 then\n         showPage {id = 4, transition = \"instant\"}\n      end\n\n   elseif back == 18 then\n      local n18 = 4\n      heroSleep = 0\n      if dostup1 == 1 then n18 = 38 end\n      showPage {id = n18, transition = \"instant\"}\n\n   elseif back == 36 then\n      local aa = 0\n      if nextFi == 1 then\n         showPage {id = 4, transition = \"instant\"}\n      elseif nextFi >= 2 and nextFi <= 5 then\n         if nextFi == 2 then\n            aa = math.round (goldBank * 0.1)\n         elseif nextFi == 3 then \n            aa = math.round (goldBank * 0.3)\n         elseif nextFi == 4 then\n            aa = math.round (goldBank * 0.7)\n         elseif nextFi == 5 then\n            aa = goldBank\n         end\n         goldBank = goldBank - aa\n         gold = gold <plus> aa\n         showPage {id = 4, transition = \"instant\"}\n      elseif nextFi >= 6 and nextFi <= 8 then\n         if nextFi == 6 then\n            aa = math.round (gold * 0.5)\n         elseif nextFi == 7 then\n            aa = math.round (gold * 0.75)\n         elseif nextFi == 8 then\n            aa = gold\n         end\n         gold = gold - aa\n         goldBank = goldBank <plus> aa\n         showPage {id = 4, transition = \"instant\"}\n      end\n\n   end\nend",
        "comment": true,
        "super_calculate": false,
        "id": 29,
        "calculate": true,
        "text": "   ",
        "lua_if": "function lua_if()\nadControl = adControl or 0\nreturn adControl > 0\nend"
      },
      {
        "id": 29,
        "text": "   ",
        "comment": true
      },
      {
        "id": 40,
        "text": "Ввести промо-код",
        "lua_do": "function lua_do()\ng.image_part_of_screen = 0.25\nend"
      },
      {
        "id": 29,
        "text": "   ",
        "comment": true
      },
      {
        "id": 29,
        "text": "Вернуться",
        "go_to": [
          "back"
        ]
      }
    ]
  },
  {
    "id": 30,
    "text": "   Таверна.\n   \n   ",
    "answers": [
      {
        "comment": true,
        "super_calculate": false,
        "id": 30,
        "calculate": true,
        "lua_do": "function lua_do()\nheroSleep = heroSleep <plus> 1\nlocal stopTimer = timer.cancel (timer1)\n   statHpDrink = statHpDrink or 0\n   statGoldDrink = statGoldDrink or 0\n   statDrink = statDrink or { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,     0, 0, 0, 0, 0, 0, 0, 0, 0, 0,     0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }\n\n   texDrink = { \"пиво\", \"вино\", \"портвейн\", \"брагу\", \"терес\", \"малагу\", \"кагор\", \"вермут\", \"мускат\", \"перри\", \"сидр\", \"шампанское\", \"саке\", \"сато\", \"бренди\", \"коньяк\", \"кальвадос\", \"метаксу\", \"водку\", \"виски\", \"джин\", \"ром\", \"чачу\", \"шнапс\", \"кизлярку\", \"текилу\", \"самогон\", \"ликер\", \"настойку\", \"забродивший квас\" }\n\n   texTav1 = { \"Уныло наблюдает в окно на проплывающие облака.\", \"Щёлкает семечки, наблюдая за другими посетителями.\", name .. \" бесцельно расхаживает по таверне в ожидании неприятностей.\", \"Доказывает окружающим, что если отдать каждому по одной нитке, то на себе уже не останется рубахи.\", \"Плюёт в потолок, стараясь не попасть при этом в себя.\" } \n\nend",
        "text": "   "
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 30,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\ntext = \"\"\nlocal aa = math.random(5)\nlocal bb = math.random(30)\nlocal cc = math.random(15,22) \ntradeTav = 0\n\nif hp < 2 then \n   text = ({ \"Пьяного и беспомощного Героя\", \"Пьяную и беспомощную Героиню\"}) [male] ..\" выносят из таверны на улицу и бросают в грязной подворотне.\"\n   exitTav = 1\nelse\n\n   if gold >= 12 then\n      if aa <= 3 then\n         text = ({\"Герой\", \"Героиня\"}) [male] .. \" употребляет \" .. texDrink[bb] .. \".\"\n         gold = gold - cc\n         statGoldDrink = statGoldDrink <plus> cc\n         hp = hp - vit\n         statHpDrink = statHpDrink <plus> vit\n         exp = exp <plus> 2\n         statDrink[bb] = statDrink[bb] <plus> 1\n\n      elseif aa == 4 then\n         text = texTav1[math.random(#texTav1)]\n\n      else \n         text = ({ \"Герой\", \"Героиня\" }) [male] .. \" покидает таверну.\"\n         exitTav = 1\n      end\n   end\n\n\nlocal my1 = 0\n   for i = 1, 10 do\n      if myItem[i] then\n         my1 = my1 <plus> 1\n      end\n   end\n\n   if gold < 22 then\n      aa = math.random(3)\n         if my1 > 0 then\n            aa = math.random(5)\n         end\n\n      if aa == 1 or aa == 2 then\n         text = texTav1[math.random(#texTav1)]\n         exp = exp <plus> 1\n\n      elseif aa == 3 then \n         text = ({ \"Герой\", \"Героиня\" }) [male] .. \" покидает таверну.\"\n         exitTav = 1\n\n      else \n         text = ({ \"Герой\", \"Героиня\" }) [male] .. \" собирается продать худшее снаряжение для получения денег.\"\n         tradeTav = 1\n      end\n   end\nend\n\n   if exitTav == 1 then\n     text = ({ \"Герой\", \"Героиня\" }) [male] .. \" направляется на выход из таверны.\"\n   end\n\nend"
      },
      {
        "lua_text": "function lua_text()\nreturn \"<s>\n\" .. ({ \"Герой\", \"Героиня\" }) [male] .. \" постепенно тратит здоровье и деньги.\"\nend",
        "var_less": [
          "exitTav",
          1
        ],
        "id": 30,
        "text": "   ",
        "comment": true,
        "merge": false
      },
      {
        "lua_text": "function lua_text()\nreturn text\nend",
        "id": 30,
        "text": "   ",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde5.jpg"
        ],
        "comment": true
      },
      {
        "id": 30,
        "text": "   ",
        "lua_text": "function lua_text()\nlocal maxHp = vit * 20\n   if hp < 1 then hp = 1 end\nreturn \"Здоровье: \" .. hp .. \"/\" .. maxHp .. \"<s>\n   Денег: \" .. gold\nend",
        "merge": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal aa\nif exitTav == 1 then\n   aa = 4\nelse \n    aa = g.current_id\nend\n\n   local cc = 999999\n   local bb = 0\n   local sum = table.count (myItem)\n\nif sum > 0 then\n   for i = 1, sum do\n      if myItemKa4[i] < cc then\n         cc = myItemKa4[i]\n         bb = i\n      end\n   end\n\n   shopSale = bb\n   shopPriceSale = math.floor ((((myItemKa4 [bb])) ^ 2) / 3)\n   shopMove = math.random(3,4)\n\n   if tradeTav == 1 then\n      tradeTav = 0\n      aa = 32\n   end\nend\n\n   if spd == 1 then spdX = 1000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         showPage {id = aa, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "text": "    ",
        "id": 30,
        "calculate": true
      },
      {
        "id": 30,
        "text": "   ",
        "comment": true
      },
      {
        "comment": false,
        "middle_answer": true,
        "var_need": [
          "volt",
          1
        ],
        "no_transition": false,
        "var_less": [
          "exitTav",
          1
        ],
        "var_sub": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nexitTav = 1\nmessage (name .. \" прощается со всеми и уходит из таверны.\")\nlocal stopTimer = timer.cancel (timer1)\nend",
        "text": "Покинуть заведение",
        "instant": true,
        "id": 30
      },
      {
        "id": 29,
        "var_less": [
          "volt",
          1,
          "exitTav",
          1
        ],
        "comment": false,
        "text": "Покинуть заведение",
        "middle_answer": true,
        "instant": true,
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nend",
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "id": 30,
        "text": "   ",
        "middle_answer": true,
        "comment": true
      }
    ]
  },
  {
    "id": 31,
    "text": "      Магазин. Покупка.\n      Денег: ",
    "answers": [
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nheroSleep = heroSleep <plus> 1\ntorgK = torgK or 0\ntorgN = torgN or 0\nlocal stopTimer = timer.cancel (timer1)\nend",
        "text": "   ",
        "calculate": true,
        "id": 31
      },
      {
        "id": 31,
        "text": "   ",
        "lua_text": "function lua_text()\nreturn gold\nend",
        "merge": true
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 31,
        "calculate": true,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Герою\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героине\"\n   end\n   texShop1 = { name .. \" пускает слюни на предложенное снаряжение. \" .. he1 .. \" хотел\" .. a .. \" бы его купить.\", name .. \" осматривает желанное снаряжение вдоль и поперёк. Он\" .. a .. \" хотел\" .. a .. \" бы купить его.\", name .. \" не может отвести взгляд от предложенного снаряжения. Он\" .. a .. \" хотел\" .. a .. \" бы купить его.\" }\n   texShop2 = { he1 .. \" с опаской и недоверием смотрит на предлагаемое снаряжение. Он\" .. a .. \" не собирается его покупать.\", he1 .. \" кривится от предложенного снаряжения. Он\" .. a .. \" не будет его покупать.\", he2 .. \" не нравится предложенное снаряжение ни под каким соусом. Он\" .. a .. \" не будет его покупать.\" }\n\n   if shopType == 1 then\n      text = texShop1 [math.random (#texShop1)]\n   else\n      text = texShop2 [math.random (#texShop2)]\n   end\n\n   if torgK == 1 then\n      torgK = 0\n   \n   local s1 = shop1 [math.random (#shop1)]\n   local s2 = shop2 [math.random (#shop2)]\n   local s3 = shop3 [math.random (#shop3)]\n   local s4 = shop4 [math.random (#shop4)]\n   local s5 = shop5 [math.random (#shop5)]\n   \n   local typeS = 1\n   local uy = math.random(1 <plus> lvl, 40 <plus> lvl)\n   if uy < 40 then typeS = 1\n   elseif uy >= 40 and uy < 80 then typeS = 2\n   elseif uy >= 80 and uy < 120 then typeS = 3\n   elseif uy >= 120 then typeS = 4\n   end\n\n   if typeS == 1 then\n      shopName = ({ s2, s4 }) [math.random (2)]\n   elseif typeS == 2 then\n      shopName = ({ s1 .. s2, s3 .. s4 }) [math.random (2)]\n   elseif typeS == 3 then\n      shopName = ({ s2 .. s5, s4 .. s5 }) [math.random (2)]\n   elseif typeS == 4 then\n      shopName = ({ s1 .. s2 .. s5, s3 .. s4 .. s5 }) [math.random (2)]\n   end\n\n   if torgN > 5 then torgN = 5 end\n   local k = (0.5 <plus> (torgN * 0.09))\n      if torgN < 5 then\n         if math.random(3) == 1 then\n            shopKa4 = math.floor (math.sqrt (math.random (gold, gold * (2 - k))))\n         else\n            shopKa4 = math.floor (math.sqrt (math.random (gold * k, gold)))\n         end\n      else\n         shopKa4 = math.floor (math.sqrt (math.random (gold * 0.95, gold)))\n      end\n   shopPrice = shopKa4 ^ 2 \n   message (\"Торговец предлагает другое снаряжение.\")\n   end\nend",
        "text": "   "
      },
      {
        "comment": true,
        "id": 31,
        "text": "   ",
        "lua_text": "function lua_text()\nlocal aa = \"\"\nlocal bb = 0\n   for i = 1, 10 do\n      if myItem[i] then\n         bb = bb <plus> 1\n         aa = aa .. \"<s>\n\" .. bb .. \". \" .. myItem[i] .. \" (<plus>\" .. myItemKa4[i] .. \"%)\"\n      end\n   end\n   if bb < 1 then\n      aa = \"пусто.\"\n   end\nreturn \"   Текущее снаряжение: \" .. aa\nend",
        "merge": false
      },
      {
        "id": 31,
        "text": "   ",
        "comment": true,
        "lua_text": "function lua_text()\nreturn \"   Предлагаемое снаряжение:<s>\n\" .. shopName .. \" (<plus>\" .. shopKa4 .. \"%) - цена: \" .. shopPrice\nend"
      },
      {
        "lua_text": "function lua_text()\nlocal text = \"\"\n   if gold < shopPrice then \n      text = \"Недостаточно денег.\"\n   end\nreturn text\nend",
        "middle_answer": true,
        "text": "   ",
        "comment": true,
        "id": 31
      },
      {
        "lua_text": "function lua_text()\nreturn text\nend",
        "id": 31,
        "text": "   ",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde6.jpg"
        ],
        "comment": true
      },
      {
        "id": 31,
        "text": "   ",
        "comment": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   if spd == 1 then spdX = 2000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         if shopMove > 0 then\n            shopMove = shopMove - 1\n            showPage {id = 31, transition = \"instant\"}\n        elseif shopType == 1 and shopPrice <= gold then\n            message (\"Снаряжение куплено.\")\n            i = (#myItem <plus> 1)\n            myItem[i] = shopName\n            myItemKa4[i] = shopKa4\n            gold = gold - shopPrice\n         end\n         showPage {id = 4, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "text": "   ",
        "calculate": true,
        "id": 31
      },
      {
        "comment": false,
        "var_random": [
          "shopType",
          1,
          2
        ],
        "lua_do": "function lua_do()\n   local stopTimer = timer.cancel (timer1)\n   torgK = 1\nend",
        "text": "Смотреть другое оружие",
        "var_sub": [
          "volt",
          1
        ],
        "id": 31,
        "var_need": [
          "volt",
          1
        ],
        "middle_answer": true,
        "var_add": [
          "torgN",
          1
        ],
        "var_less": [
          "torgN",
          10
        ],
        "instant": true
      },
      {
        "lua_do": "function lua_do()\nnextFi = 3\nlocal stopTimer = timer.cancel (timer1)\nend",
        "var_add": [
          "torgN",
          1
        ],
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "text": "Смотреть другое оружие",
        "id": 29,
        "middle_answer": true
      },
      {
        "comment": false,
        "id": 4,
        "var_sub": [
          "volt",
          1
        ],
        "lua_if": "function lua_if()\nreturn gold >= shopPrice\nend",
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nlocal i = (#myItem <plus> 1)\nmyItem [i] = shopName\nmyItemKa4 [i] = shopKa4\ngold = gold - shopPrice\nmessage (\"Снаряжение куплено.\")\nend",
        "text": "Купить и уйти",
        "var_need": [
          "volt",
          1,
          "gold",
          "shopPrice"
        ],
        "middle_answer": true,
        "instant": true
      },
      {
        "id": 29,
        "var_less": [
          "volt",
          1
        ],
        "lua_if": "function lua_if()\nreturn gold >= shopPrice\nend",
        "instant": true,
        "middle_answer": true,
        "text": "Купить и уйти",
        "lua_do": "function lua_do()\nnextFi = 2\nlocal stopTimer = timer.cancel (timer1)\nend",
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "text": "Уйти",
        "id": 4,
        "comment": false,
        "var_sub": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nmessage (\"Отказ от покупки снаряжения.\")\nend",
        "var_need": [
          "volt",
          1
        ],
        "middle_answer": true,
        "instant": true
      },
      {
        "middle_answer": true,
        "lua_do": "function lua_do()\nnextFi = 1\nlocal stopTimer = timer.cancel (timer1)\nend",
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "text": "Уйти",
        "id": 29,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": true,
        "middle_answer": true,
        "text": "   ",
        "id": 31,
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend"
      }
    ]
  },
  {
    "id": 32,
    "text": "   Магазин. Продажа.\n   Денег: ",
    "answers": [
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\nheroSleep = heroSleep <plus> 1\nlocal stopTimer = timer.cancel (timer1)\n   local sum1 = table.count (myItem)\n   for i = 1, sum1 do\n      if not myItem[i] then\n         myItem[i] = myItem[i<plus>1]\n         myItemKa4[i] = myItemKa4[i<plus>1]\n         myItem[i<plus>1] = nil\n         myItemKa4[i<plus>1] = nil\n      end\n   end\nend",
        "text": "   ",
        "calculate": true,
        "id": 32
      },
      {
        "lua_text": "function lua_text()\nreturn gold\nend",
        "id": 32,
        "text": "   ",
        "comment": false,
        "merge": true
      },
      {
        "lua_text": "function lua_text()\nlocal aa = \"\"\nlocal bb = 0\n   for i = 1, 10 do\n      if myItem[i] then\n         bb = bb <plus> 1\n         aa = aa .. \"<s>\n\" .. bb .. \". \" .. myItem[i] .. \" (<plus>\" .. myItemKa4[i] .. \"%)\"\n      end\n   end\n   if bb < 1 then\n      aa = \"пусто.\"\n   end\nreturn \"Текущее снаряжение: \" .. aa\nend",
        "id": 32,
        "text": "   ",
        "comment": true,
        "merge": false
      },
      {
        "id": 32,
        "text": "   ",
        "comment": true,
        "lua_text": "function lua_text()\nreturn \"Продаваемое снаряжение:<s>\n\" .. myItem [shopSale] .. \" (<plus>\" .. myItemKa4 [shopSale] .. \"%) - цена: \" .. shopPriceSale\nend"
      },
      {
        "id": 32,
        "text": "   ",
        "comment": true
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 32,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Герою\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героине\"\n   end\n   texShop3 = { name .. \" хочет продать своё снаряжение. И он\" .. a .. \" это сделает.\", \"Торговец осматривает предложенное ему снаряжение вдоль и поперёк. Он хотел бы купить его.\", \"Скупщик не может отвести взгляд от предложенного снаряжения. Он хотел бы обменять его на монеты.\", he2 .. \" надоело это снаряжение и он\" .. a .. \" хочет его продать.\", he2 .. \" наскучил этот предмет и он\" .. a .. \" хочет избавиться от него.\", \"Деньги легче, чем \" .. myItem[shopSale] .. \", поэтому \" .. he1 .. \" хочет деньги.\", myItem[shopSale] .. \" плохо сидит в руке, совсем не годится в роли щита, и совершенно не пугает противника, поэтому \" .. name .. \" продаёт это.\", he1 .. \" хотел\" .. a .. \" бы себе \" .. shop1 [math.random (#shop1)] .. shop2 [math.random (#shop2) \n] .. \", а не \" .. myItem[shopSale] .. \". Он\" .. a .. \" решил\" .. a .. \" продать это.\" }\nend"
      },
      {
        "lua_text": "function lua_text()\ntext = texShop3[math.random(#texShop3)]\nreturn text\nend",
        "id": 32,
        "text": "   ",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde6.jpg"
        ],
        "comment": true
      },
      {
        "id": 32,
        "text": "   ",
        "comment": true
      },
      {
        "comment": false,
        "super_calculate": false,
        "id": 32,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 9000\n      elseif spdK == 5 then spdX = 11000\n      elseif spdK == 6 then spdX = 13000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         if shopMove > 0 then \n            shopMove = shopMove - 1\n            showPage {id = 32, transition = \"instant\"}\n         else\n            shopMove = 0\n            message (\"Герой продал снаряжение.\")\n            myItem[shopSale] = nil\n            myItemKa4[shopSale] = nil\n            gold = gold <plus> shopPriceSale\n            showPage {id = 4, transition = \"instant\"}\n         end\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend"
      },
      {
        "var_add": [
          "torgN",
          1
        ],
        "lua_do": "function lua_do()\n   local stopTimer = timer.cancel (timer1)\n   shopPriceSale = math.floor (shopPriceSale * 1.07)\nend",
        "var_sub": [
          "volt",
          1
        ],
        "instant": true,
        "text": "Торговаться",
        "lua_text": "function lua_text()\ntorgN = torgN or 0\nlocal aa = 10 - torgN\nreturn \"Торговаться (\" .. aa .. \"/10)\"\nend",
        "var_need": [
          "volt",
          1
        ],
        "id": 32,
        "comment": false,
        "middle_answer": true,
        "var_less": [
          "torgN",
          10
        ]
      },
      {
        "middle_answer": true,
        "comment": true,
        "var_equal": [
          "torgN",
          10
        ],
        "id": 32,
        "text": "Торговаться",
        "lua_text": "function lua_text()\ntorgN = torgN or 0\nlocal aa = 10 - torgN\nreturn \"[ Торговаться (\" .. aa .. \"/10) ]<s>\n\"\nend",
        "instant": true
      },
      {
        "id": 29,
        "var_less": [
          "volt",
          1,
          "torgN",
          10
        ],
        "lua_text": "function lua_text()\ntorgN = torgN or 0\nlocal aa = 10 - torgN\nreturn \"Торговаться (\" .. aa .. \"/10)\"\nend",
        "text": "Торговаться",
        "middle_answer": true,
        "instant": true,
        "lua_do": "function lua_do()\nnextFi = 1\nlocal stopTimer = timer.cancel (timer1)\nend",
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": false,
        "id": 32,
        "var_sub": [
          "volt",
          1
        ],
        "lua_if": "function lua_if()\nlocal aa = table.count (myItem)\nreturn aa > 3\nend",
        "instant": true,
        "var_need": [
          "volt",
          1
        ],
        "text": "Сразу продать и предложить другое худшее снаряжение",
        "lua_do": "function lua_do()\n   local stop = timer.cancel (timer1)\n   shopMove = 3\n   torgN = 0\n   message (\"Герой продал снаряжение.\")\n   myItem[shopSale] = nil\n   myItemKa4[shopSale] = nil\n   gold = gold <plus> shopPriceSale\n\n   local sum1 = table.count (myItem)\n   for i = 1, sum1 do\n      if not myItem[i] then\n         myItem[i] = myItem[i<plus>1]\n         myItemKa4[i] = myItemKa4[i<plus>1]\n         myItem[i<plus>1] = nil\n         myItemKa4[i<plus>1] = nil\n      end\n   end\n\n   local aa = 99999\n   local bb = 0\n   local sum = table.count (myItem)\n   for i = 1, sum do\n      if myItemKa4[i] < aa then\n         aa = myItemKa4[i]\n         bb = i\n      end\n   end\n\n   shopSale = bb\n   shopPriceSale = math.floor ((((myItemKa4 [shopSale])) ^ 2) / 3)\nend",
        "middle_answer": true
      },
      {
        "id": 29,
        "lua_do": "function lua_do()\nnextFi = 3\nlocal stopTimer = timer.cancel (timer1)\nend",
        "comment": false,
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "text": "Сразу продать и предложить другое худшее снаряжение",
        "middle_answer": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": false,
        "id": 4,
        "var_sub": [
          "volt",
          1
        ],
        "lua_if": "function lua_if()\nreturn #myItem == 3\nend",
        "text": "Продать и уйти",
        "var_need": [
          "volt",
          1
        ],
        "middle_answer": true,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nmyItem[shopSale] = nil\nmyItemKa4[shopSale] = nil\ngold = gold <plus> shopPriceSale\nmessage (\"Оружие продано.\")\n\n   local sum1 = table.count (myItem)\n   for i = 1, sum1 do\n      if not myItem[i] then\n         myItem[i] = myItem[i<plus>1]\n         myItemKa4[i] = myItemKa4[i<plus>1]\n         myItem[i<plus>1] = nil\n         myItemKa4[i<plus>1] = nil\n      end\n   end\nend",
        "instant": true
      },
      {
        "var_less": [
          "volt",
          1
        ],
        "middle_answer": true,
        "lua_if": "function lua_if()\nreturn #myItem == 3\nend",
        "text": "Продать и уйти",
        "id": 29,
        "instant": true,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nnextFi = 4\nend",
        "var_set": [
          "back",
          32
        ]
      },
      {
        "instant": true,
        "id": 4,
        "comment": false,
        "text": "Отказаться от продажи",
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nend",
        "var_need": [
          "volt",
          1
        ],
        "middle_answer": true,
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "lua_do": "function lua_do()\nnextFi = 2\nlocal stopTimer = timer.cancel (timer1)\nend",
        "middle_answer": true,
        "comment": false,
        "text": "Отказаться от продажи",
        "id": 29,
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": true,
        "id": 32,
        "text": "   ",
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "middle_answer": true
      }
    ]
  },
  {
    "id": 33,
    "text": "   Больница.\n   \n   ",
    "answers": [
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he1 = \"Герой\"\n   local he2 = \"Герою\"\n   local he3 = \"Героя\"\n   local he4 = \"Героя\"\n   local he5 = \"ся\"\n   local he6 = \"ему\"\n   local he7 = \"его\"\n   if male == 2 then\n      a = \"а\"\n      he1 = \"Героиня\"\n      he2 = \"Героине\"\n      he3 = \"Героини\"\n      he4 = \"Героиню\"\n      he5 = \"ась\"\n      he6 = \"ей\"\n      he7 = \"её\"\n   end\ntex5 = { name .. \" прикладывает подорожники к синякам и ранам, которые \" .. he6 .. \" дали медсёстры. А они его мыли или нет?\", \"Для \" .. he3 .. \" устроили солнечные ванны на крыше больницы. Фотосинтез лечит, но мало.\", \"Дали две баночки без этикеток: одна с лекарством, вторая с ядом - выпил\" .. a .. \" обе. Хорошо, аж хреново.\", \"Доктора проводят лечение желчью - напоминают \" .. he2 .. \", как король отправил \" .. he7 .. \" в путешествие без гроша в кармане.\", name .. \" требует у санитаров, чтобы они подлечили \" .. he7 .. \" перед тем, как он\" .. a .. \" попадёт к доктору, а то он\" .. a .. \" выглядит совсем плохо.\", \"Молитвы не помогли избавиться от боли, но от зеленки и бинтов \" .. he2 .. \" стало легче.\", name .. \" ловит магнитное поле, чтобы почистить свою энергетику и карму.\", name .. \" быстренько загадал\" .. a .. \" желание стать здоровее под падающую звезду.\", \"Вместо должного лечения \" .. he2 .. \" просто зализывают раны. Хорошо хоть, что это бесплатно.\", name .. \" доказывает случайному больному, что у н\" .. he7 .. \" есть Добровольная медицинская страховка...\", name ..\" прикладывает к телу кору дуба, ведь у неё есть целебный эффект.\", \"Отложив все дела на потом, \" .. name .. \" купается в минеральных ваннах. И пускай все врачи подождут.\", \"Как ни странно, но на 113 стук в дверь доктор наконец отозвался. Наверняка совпадение.\", \"Проходивший мимо \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \" сказал, что лечение пчелиными жалами эффективнее фотосинтеза. Кто ж знал, что он так шутит?\", \"Дежурный врач даёт микстуру от кашля. А ничего, что у \" .. he3 .. \" палец на ноге болит?\", \"Хирург уговаривал пришить шестой палец, якобы в Правилах это разрешено. Но \" .. he1 .. \" просто так не проведёшь!\", \"Священослужитель поцеловал в лоб и облил святой водой. Стоп! \" .. name .. \" же дол\" .. ({\"жен\", \"жна\"}) [male] .. \" быть в больнице, а не в храме.\", \"Доктор примотал к голове шалфей, розмарин, лавровый лист и полынь - не помогло. Зато когда сняли эту припарку, то так похорошело!\", \"Дежурный врач проводил крапивотерапию. Все пациенты в ужасе верещали и вырывались. Но \" .. he2 .. \" было нормально - \" .. he6 .. \" и раньше приходилось прятаться в зарослях крапивы от соперников.\", \"Костоправ - тот ещё зверь! \" .. name .. \" верещал\" .. a .. \" от ужаса и боли, но здоровье не даётся так легко и просто.\", \"За городом много грибов и ягод. Медбрат проводит обучающую лекцию, чтобы потянуть время.\", he1 .. \" выпрашивал\" .. a .. \" у доктора таблетки от боли, а получил\" .. a .. \" в итоге баночку йода и пластыри.\", \"Врач рекомендовал обильное пить и хороший отдых. \" ..name .. \" переставил\" .. a .. \" свою койку поближе к столовой.\", \"Бинты и лекарства стоят денег, а вот кора дуба и берёзы - бесплатна. Бесплатная медицина - бесплатные средства.\", \"Осматрев \" .. he4 .. \", доктор долго и громко ахал и охал, так что от страха неминуемой смерти \" .. name .. \" почувствовал\" .. a .. \" себя значительно здоровее.\", \"Принимающий лекарь только недавно начал медицинскую практику, так что сейчас \" .. he1 .. \" здоровее, чем можешь оказаться через минуту после лечения.\", name .. \" пытал\" .. he5 .. \" дать денег доктору за лечение, но тот не взял их из-за своих убеждений. Разве так доктора должны поступать?\", \"- Время лечит, - заявил врач и приложил здоровенные часы с кукушкой к груди \" .. he3 .. \". А что, прикольно, тикают!\", \"Представив морг и кладбище, \" .. name .. \" почувствовал\" .. a .. \" себя заметно здоровее. И боль в колене прошла.\", name .. \" заставил\" .. a .. \" других пациентов сделать \" .. he6 .. \" лечебный массаж взамен десятка собранных ранее шишек.\" }\n\nend",
        "calculate": true,
        "text": "   лечение",
        "id": 33
      },
      {
        "comment": false,
        "super_calculate": false,
        "id": 33,
        "text": "лечение 2",
        "calculate": true,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he2 = \"Героя\"\n   local he5 = \"ся\"\n   if male == 2 then \n      a = \"а\"\n      he2 = \"Героиню\"\n      he5 = \"ась\"\n   end\n   table.insert (tex5, name .. \" заказал\" .. a .. \" себе массажиста и косметолога, которые сейчас заботятся о \" .. ({ \"его\", \"её\" }) [male] .. \" здоровье. Счёт должны выписать на больницу.\")\n   table.insert (tex5, name .. \" нарисовал\" .. a .. \" йодом сеточку на пузе, и кажется, что живительная энергия начала поступать сквозь неё.\")\n   table.insert (tex5, name .. \" пожаловал\" .. he5 .. \" врачу на боли в животе. Вместо таблеток тот выбал два бутерброда. Посде их поглощения боль сразу прошла.\")\n   table.insert (tex5, \"Ожидая очереди на приём к врачу, \" .. name .. \" задремал\" .. a .. \", и очнул\" .. he5 .. \" в морге. По ошибке \" .. ({\"его\", \"её\" }) [male] .. \" приняли за мёртвеца и привезли сюда. Рановато, однако, но санитары сказали, что подождут.\") \n   table.insert (tex5, he2 .. \" уложили на койку и сказали ждать. Так как соседняя койка выглядит лучше, то он\" .. a .. \" пере\" .. ({\"лёг\", \"легла\" }) [male] ..\" туда. Был назначен анализ крови, а попал\" .. a .. \" к проктологу...\") \n   table.insert (tex5, name .. \" сказал\" .. a .. \" врачу, что у \" .. ({\"него\", \"неё\"}) [male] .. \" неизведанная экзотическая болезнь, отчего врач сразу принял \" .. ({\"его\", \"её\"}) [male] .. \", но всё это было обманом, и вместо пилюль он\" .. a .. \" получил\" .. a .. \" пятёрку уколов в зад.\") \n   table.insert (tex5, name .. \" собрал\" .. a .. \" консилиум и выслушал\" .. a .. \" врачей. Менее опасный диагноз поставил ортопед, поэтому он\" .. a .. \" лечиться будет у него.\") \n   table.insert (tex5, \"- Два глаза хорошо, а четыре - лучше, - сказал хирург, явно что-то задумав, поэтому \" .. name .. \" слегка паникует и боится.\") \n  \nend"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\" \n   if male == 2 then\n      a = \"а\" \n   end\n   texHospital = { name .. \" ожидает в очереди к травматологу. В огромной очереди...\", \"Идёт мойка кабинетов, поэтому остаётся только ждать продолжения приёма.\", \"Дали градусник и выставили на 5 минут за дверь - \" .. name .. \" мерит температуру.\", name .. \", пока ждал\" .. a .. \" в очереди на приём к врачу, сумел\".. a .. \" вылечить впередистоящего, чем приблизил\" .. a .. \" время своего приёма.\", \"В этой больнице так давно нет уборщицы, что накапливающейся грязью уже просто лечат пациентов, а не убирают её.\", \"Мимо прошёл рыдающий врач, который причитал, что пациенты мешают ему работать с документами.\", name .. \" увидел\".. a..\", что в соседнем отделении очередь короче. Он\".. a.. ({\" перешёл\",\" перешла\"}) [male].. \" в неё, но оказалось, что вместо терапевта попал\".. a..\" к психиатору.\", \"Наступает ночь. Все в больнице засыпают, и просыпается Сторож. Кто не будет спать - тот получит газетой по лбу.\", name .. \" из скуки начал\".. a.. \" спорить с больничным котом. Понял\".. a..\", что пора остановиться, когда медсёстры из психиатрического отдела начали перешёптываться между собой и указывать в \".. ({\"его\",\"её\"}) [male]..\" сторону.\", \"У главврача закончились чернила, поэтому на сегодня выздоровевших не будет.\", name .. \" рассказывал\".. a..\", что \".. ({\"его\", \"её\"}) [male]..\" избил \" .. enemyKa4 [math.random (#enemyKa4)] .. enemyName [math.random (10, #enemyName)] .. \", за что чуть было не был\".. a..\" отправлен\".. a..\" в психушку.\", \"В этой больнице всё лечение и операции - бесплатные. Пациентам - хорошо, а врачи потом стоят на улице с протянутой рукой и просят мелочи.\", \"Вне очереди пустили человека, который после того, как обгорел на пляже, обильно намазался сметаной и был зализан котиками до четвёртой степени травм.\", \"Вне очереди пустили химика, который пострадал из-за опечатки в учебнике.\", name .. \" спросил\".. a.. \" впередистоящего, как тот умудрился всадить гвоздь в ягодицу. Оказалось, что тот царапал гвоздём на новом телеге нецензурное слово и рука сама соскочила.\", name .. \" подслушал\".. a..\" разговор, что в больницу можно попасть не только, если тебя побьют, но и если просто выйти на дорогу под идущие повозки.\", \"Табличка на стене регистратуры гласит: ''Мы вам рады, но только если вы захватите свою одежду, еду, лекарства, бинты и йод.''\", \"В психиатрическое отделение доставили двух психов, которые называли себя Наполеон и Иванов. Наполеон действительно оказался психом, а Иванов просто под руку попался.\", \"В психиатрическое отделение прошел отряд детективов. Чуть позже стало известно, что из пяти называемых себя Наполеонами психов проводилось выявление настоящего и Лженапалеонов.\", name .. \" спросил\".. a..\" у рядомстоящего ''как дела?'', и получил развёрнутый, долгий, и со всеми подробностями ответ.\", \"Врач обещает поскорее выписать из больницы, но только после добровольного отречения от престола.\", name .. \" идёт на поправку, но только не по тому коридору.\" }\nend",
        "calculate": true,
        "text": "   ",
        "id": 33
      },
      {
        "super_calculate": false,
        "id": 33,
        "text": "   ",
        "calculate": true,
        "lua_do": "function lua_do()\n   local a = \"\"\n   local he5 = \"ся\" \n   if male == 2 then\n      a = \"а\"\n      he5 = \"ась\" \n   end\n   texLeaveHospital = { name .. \" испугал\".. he5.. \" назначенных уколов, точнее их количества, и поэтому втихушку покидает лечебницу.\", \"Ждать скучно, поэтому \".. name.. \" решил\".. a.. \" уйти из больницы.\", \"Через дорогу проводится акция и всем выдают по носовому платку. \" .. name .. \" тоже хочет взять платочек и поэтому сбежал\".. a..\" с больницы.\", \"Сказав на регистратуре, что здоров\".. a..\", \" ..name .. \" покинул\".. a.. \" больницу в поисках приключений.\", name .. \" поскользнул\".. he5 ..\" и упал\".. a..\", ударившись головой. Забыв, зачем он\".. a..\" находится в больнице, покидает это заведение и уходит прочь.\", \"В этой больнице нет решёток на окнах, поэтому \".. name.. \" в панике сбегает через окно.\", \"В этой больнице на окнах решётки, но они не остановили \".. ({\"Героя\",\"Героиню\"}) [male]..\" от побега.\", name.. \" оставил\".. a..\" в очереди вместо себя чучело, а сам\".. a..\" покинул\".. a..\" больницу.\", \"Спрыгнув с крыши, \" .. name .. \" приземлил\".. he5.. \" в повозку со стогом сена. Как чудесно!\", \"Сегодня в смену дежурным врачом заступил Свиридов, поэтому \".. name..\" решил\".. a.. \", что здоровее будет сиюминутно прекратить лечение в этой больнице.\", \"Дежурным врачом опять назначен Свиридов. Он что, в каждом городе работает? Срочно надо бежать...\" }\nend"
      },
      {
        "super_calculate": false,
        "id": 33,
        "calculate": true,
        "lua_do": "function lua_do()\nlocal aa = \"\"\n   if stage < 51 then aa = tStage [stage] \n   else aa = tStage [gorod] end\n\n   local a = \"\"\n   local he2 = \"Героя\" \n   if male == 2 then\n      a = \"а\"\n      he2 = \"Героиню\" \n   end\n   texExitHospital = { \"Болеющие, больные, врачи и медицинский персонал выгоняют \".. he2.. \" прочь из больницы.\", \"Раз \" .. name ..  \" здоров\".. a.. \", то делать тут больше нечего. Только вот где выход?\", \"У главврача закончились чернила, и нечем подписать справку о выздоровлении. \" .. name .. \" отдал\".. a..\" каракатицу, из которой их и добыли. Выписка!\", name .. \" хотел\".. a.. \" задержаться ещё на пару дней, но главврач непоколебимый человек. Что ж, можно просто покалечиться, и тогда он снова примет на лечение.\", name .. \" получает последний укол и со справкой направляется на выход из лечебницы.\", name .. \" собрал\".. a.. \" все свои вещи, и не только свои, и бодрым шагом направляется на выписку из палаты #\" .. math.random(9) .. \".\", name.. \" собрал\".. a..\" своих товарищей по палате и устроил\".. a..\" небольшой фуршет. Никто не плачет и не печалится, ведь скоро снова тут все встретятся.\", \"Один из понравившихся врачей дал на прощание пару ценных советов, как небольно ломать свои конечности, чтобы потом ещё можно было и дольше лечиться. Отличный специалист!\", name.. \" пытается навредить себе, лишь бы остаться в больнице, но медбратья вовремя остановили \".. ({\"его\",\"её\"}) [male]..\", выписали и выкинули прочь на улицу.\", \"Бесплатная медицина хороша там, где её нет. Но в городе \" .. aa .. \" платные больницы отсутствуют. Ну и ладно, зато кошелёк цел.\", name .. \" оставил\".. a..\" хорошие жалобы в книге отзывов и направил\".. ({\"ся\", \"ась\"}) [male]..\" на выход.\" }\nend",
        "text": "   "
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local a = \"\" \n   if male == 2 then \n      a = \"а\" end\n   texWaitHospital = { name.. \" моет руки без мыла...\", name.. \" прячется по углам...\", name.. \" пропускает вперёд позадистоящего пациента.\", name.. \" спит в кладовке...\", name.. \" шастает по коридорам.\", name.. \" играет в карты с другими пациентами...\", name.. \" бесстрашно прячется от врачей...\", \"Играет в прятки с медперсоналом...\", \"Пускает мыльные пузири на крыше больницы...\", \"Ожидает своего кислородного коктейля...\", name .. \" заказывал\".. a..\" йод и бинты, а получил\".. a..\" бесполезную кору осины и касторку.\", name .. \" ожидает приёма в процедурный кабинет...\", name .. \" сам\".. a..\" выписал\".. a..\" себе прививку от дифтерии, кори и паротита.\", name .. \" хотел\".. a.. \" сбежать из больницы, но заблудил\".. ({\"ся\",\"ась\"}) [male]..\" и оставил\".. a..\" эту идею.\", name .. \" ищет кого-либо из медперсонала - хорошо же они попрятались! Ну, ничего, потом будет и \".. ({\"его\",\"её\"}) [male]..\" очередь прятаться...\", ({\"Героя\", \"Героиню\"}) [male].. \" тащат через всю больницу на прививку манту, но он\".. a.. \" орёт и вырывается...\", name.. \" пинает подушку, желая стать сильнее, но на подушке не накачаешься...\" }\nend",
        "text": "   ",
        "id": 33,
        "calculate": true
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\n   texEnemyDefeat = texEnemyDefeat or { }\n   local aa = table.count (texEnemyDefeat)\n   if aa > 1 then\n      local a = \"\"\n      local he1 = \"Герой\" \n      local he2 = \"Героя\" \n      local he5 = \"ся\" \n      if male == 2 then\n         a = \"а\" \n         he1 = \"Героиня\" \n         he2 = \"Героиню\"\n         he5 = \"ась\" \n      end\n      texEnemyHospital = { \"Мимо прошёл \" .. texEnemyDefeat [math.random (aa)] .. \", но не заметил \".. he2.. \".\", name .. \" и \" .. texEnemyDefeat [math.random(aa)] .. \" встретились лицом к лицу. \".. he1.. \" долго извинял\".. he5.. \" за тот \" .. ({ \"подлый приём.\", \"коварный удар.\", \"финальный удар.\" }) [math.random (3)], \"Из кабинета терапевта вышел бодрый и здоровый \" .. texEnemyDefeat [math.random (aa)] .. \". Ничего, встретится ещё раз на поле боя!\", he1.. \" рубится в \" .. ({ \"шашки\", \"шахматы\", \"карты\" }) [math.random(3)] .. \" с бывшим соперником. \" .. texEnemyDefeat [math.random(aa)] .. ({ \" выигрывает.\", \" проигрывает.\" }) [math.random(2)], he1.. \" увидел\".. a.. \", что мимо прошёл выздоровевший \" .. texEnemyDefeat [math.random (aa)] .. \", и пригрозил\".. a.. \" ему новой встречей на поле боя. Тот спешно ретировался.\" }\n   end\nend",
        "text": "   ",
        "calculate": true,
        "id": 33
      },
      {
        "super_calculate": false,
        "id": 33,
        "calculate": true,
        "lua_do": "function lua_do()\nheroSleep = heroSleep <plus> 1\nlocal stopTimer = timer.cancel (timer1)\nlocal aa = \"\"\nmaxHp = vit * 20\nlocal bb = math.random(6)\ntexEnemyDefeat = texEnemyDefeat or { }\n\nlocal kk = 0\nif hp < maxHp then\n   exitHospital = 0\n   if bb <= 2 then\n      kk = math.floor (math.random (maxHp * 0.1, maxHp * 0.15))\n      hp = hp <plus> kk\n      healHosp = healHosp <plus> kk\n      text = tex5 [math.random (#tex5)]\n   elseif bb == 3 then\n      text = texHospital [math.random (#texHospital)]\n   elseif bb == 4 or bb == 5 then\n      if #texEnemyDefeat > 1 and math.random(2) == 1 then\n         text = texEnemyHospital [math.random (#texEnemyHospital)]\n      else\n         text = texWaitHospital [math.random (#texWaitHospital)]\n      end\n   elseif bb == 6 then\n      if hp > (maxHp * 0.5) then\n         text = texLeaveHospital [math.random (#texLeaveHospital)]\n         exitHospital = 1\n      else\n         text = tex5 [math.random(#tex5)]\n         kk = math.floor (math.random (maxHp * 0.1, maxHp * 0.15))\n        hp = hp <plus> kk\n        healHosp = healHosp <plus> kk\n      end\n   end\nelse \n   text = texExitHospital [math.random (#texExitHospital)]\n   exitHospital = 1\nend\nend",
        "text": "   "
      },
      {
        "id": 33,
        "text": "   ",
        "comment": true
      },
      {
        "lua_text": "function lua_text()\nreturn text\nend",
        "id": 33,
        "text": "   ",
        "comment": true,
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde7.png"
        ]
      },
      {
        "id": 33,
        "text": "   ",
        "lua_text": "function lua_text()\nmaxHp = vit * 20\n   if hp > maxHp then hp = maxHp end\nreturn name .. \"<s>\n   Здоровье: \" .. hp .. \"/\" .. maxHp\nend",
        "merge": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   local n = 33\n   if exitHospital == 1 then n = 4 end\n\n   if spd == 1 then spdX = 1000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 11000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         showPage {id = n, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "text": "Новый ответ. введите текст",
        "id": 33,
        "calculate": true
      },
      {
        "id": 33,
        "text": "   ",
        "comment": true
      },
      {
        "comment": false,
        "id": 33,
        "var_need": [
          "volt",
          1
        ],
        "text": "Влезть на лечение вне очереди",
        "var_sub": [
          "volt",
          1
        ],
        "instant": true,
        "var_less": [
          "hp",
          "maxHp"
        ],
        "middle_answer": true,
        "lua_do": "function lua_do()\nhealHosp = healHosp or 0\nlocal stopTimer = timer.cancel (timer1)\nlocal kk = math.floor (maxHp * 0.3)\nhp = hp <plus> kk\nhealHosp = healHosp <plus> kk\nexitHospital = 1\nend"
      },
      {
        "id": 29,
        "var_less": [
          "volt",
          1,
          "hp",
          "maxHp"
        ],
        "comment": false,
        "text": "Влезть на лечение вне очереди",
        "middle_answer": true,
        "instant": true,
        "lua_do": "function lua_do()\nnextFi = 1\nlocal stopTimer = timer.cancel (timer1)\nend",
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "middle_answer": true,
        "comment": false,
        "text": "Уйти из больницы ",
        "id": 4,
        "instant": true,
        "var_need": [
          "volt",
          1
        ],
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "lua_do": "function lua_do()\nnextFi = 2\nlocal stopTimer = timer.cancel (timer1)\nend",
        "middle_answer": true,
        "comment": false,
        "instant": true,
        "var_less": [
          "volt",
          1
        ],
        "text": "Уйти из больницы ",
        "id": 29,
        "var_set": [
          "back",
          33
        ]
      },
      {
        "comment": true,
        "middle_answer": true,
        "text": "   ",
        "id": 33,
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend"
      }
    ]
  },
  {
    "id": 34,
    "text": "   Магическая лавка.\n   Денег: ",
    "answers": [
      {
        "comment": false,
        "super_calculate": false,
        "lua_do": "function lua_do()\nheroSleep = heroSleep <plus> 1\nlocal stopTimer = timer.cancel (timer1)\nblockBuff1 = 0\n   if bonusExp > 2 and bonusGold > 2 and bonusDmg > 2 and bonusMiss > 2 and bonusEvade > 2 then \n      blockBuff1 = 1 \n   end\nend",
        "text": "   ",
        "calculate": true,
        "id": 34
      },
      {
        "lua_do": "function lua_do()\nlocal tabBon = { }\n   if bonusExp < 3 then \n      table.insert (tabBon, 1)\n   elseif lvl >= 30 and bonusGold < 3 then\n      table.insert (tabBon, 2)\n   elseif lvl >= 50 and bonusDmg < 3 then\n      table.insert (tabBon, 3)\n   elseif lvl >= 70 and bonusMiss < 3 then\n      table.insert (tabBon, 4)\n   elseif lvl >= 90 and bonusEvade < 3 then\n      table.insert (tabBon, 5)\n   end\n   if #tabBon > 0 then \n      buff = tabBon [math.random (#tabBon)]\n   else \n      blockBuff1 = 1\n   end\nend",
        "super_calculate": false,
        "id": 34,
        "text": "   ",
        "calculate": true,
        "merge": false
      },
      {
        "id": 34,
        "text": "   ",
        "lua_text": "function lua_text()\nreturn gold .. \"<s>\n\"\nend",
        "merge": true
      },
      {
        "id": 34,
        "text": "Все усиления действуют только на один поход.",
        "comment": true,
        "middle_answer": false
      },
      {
        "comment": true,
        "id": 34,
        "text": "  ",
        "lua_text": "function lua_text()\n  local text = \"Чародей может усилить героя за скромную плату: \" .. buffB .. \" монет. Герой хочет такое \" .. ({ \"усиление: увеличение получаемого опыта.\", \"усиление: увеличение получаемых денег.\", \"усиление:  увеличение наносимого урона.\", \"усиление: увеличение меткости.\", \"усиление: увеличение уклонения.\" }) [buff]\n   if blockBuff1 == 1 then text = \"Чародей не может усилить героя.\" end\nreturn text\nend",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde10.jpg"
        ]
      },
      {
        "lua_if": "function lua_if()\nreturn bonusExp < 3 or bonusGold < 3 or bonusDmg < 3 or bonusMiss < 3 or bonusEvade < 3\nend",
        "comment": true,
        "id": 34,
        "text": "  ",
        "lua_text": "function lua_text()\nlocal te = \"\"\nif torgN < 10 then\n   te = buffB\n   local aa = 10 - torgN\n   for i = 1, aa do\n      te = math.floor (te * 0.9)\n   end\n   te = \"Возможная минимальная стоимость: \" .. te .. \" монет.\"\nend\nreturn te\nend",
        "middle_answer": false
      },
      {
        "var_add": [
          "torgN",
          1
        ],
        "var_less": [
          "torgN",
          10
        ],
        "var_sub": [
          "volt",
          1
        ],
        "instant": true,
        "middle_answer": true,
        "lua_if": "function lua_if()\nreturn bonusExp < 3 or bonusGold < 3 or bonusDmg < 3 or bonusMiss < 3 or bonusEvade < 3\nend",
        "lua_text": "function lua_text()\ntorgN = torgN or 0\nlocal aa = 10 - torgN\nreturn \"Торговаться (\" .. aa .. \"/10)\"\nend",
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nbuffB = math.floor (buffB * 0.9)\nend",
        "var_need": [
          "volt",
          1
        ],
        "comment": false,
        "id": 34,
        "text": "Торговаться"
      },
      {
        "comment": false,
        "var_less": [
          "volt",
          1,
          "torgN",
          10
        ],
        "instant": true,
        "lua_text": "function lua_text()\ntorgN = torgN or 0\nlocal aa = 10 - torgN\nreturn \"Торговаться (\" .. aa .. \"/10)\"\nend",
        "text": "Торговаться",
        "lua_if": "function lua_if()\nreturn bonusExp < 3 or bonusGold < 3 or bonusDmg < 3 or bonusMiss < 3 or bonusEvade < 3\nend",
        "lua_do": "function lua_do()\nnextFi = 1\nlocal stop = timer.cancel (timer1)\nend",
        "middle_answer": true,
        "id": 29
      },
      {
        "lua_if": "function lua_if()\nreturn bonusExp < 3 or bonusGold < 3 or bonusDmg < 3 or bonusMiss < 3 or bonusEvade < 3\nend",
        "text": "Торговаться",
        "comment": true,
        "var_equal": [
          "torgN",
          10
        ],
        "id": 34,
        "instant": true,
        "middle_answer": true,
        "lua_text": "function lua_text()\ntorgN = torgN or 0\nlocal aa = 10 - torgN\nreturn \"[ Торговаться (\" .. aa .. \"/10) ]<s>\n\"\nend"
      },
      {
        "id": 34,
        "text": "  ",
        "comment": true,
        "lua_if": "function lua_if()\nreturn bonusExp < 3 or bonusGold < 3 or bonusDmg < 3 or bonusMiss < 3 or bonusEvade < 3\nend"
      },
      {
        "super_calculate": false,
        "id": 34,
        "calculate": true,
        "text": "   ",
        "lua_do": "function lua_do()\n   local textt = ({ \" Герою не хватило денег для покупки усиления.\", \"Герой хотел купить усиление, но у него нет столько денег.\", \"Герой решил, что в следующий раз заработает побольше денег, чтобы ему хватило на усиление.\", \"Жаль, но денег было недостаточно.\" }) [math.random (4)]\n\n   if spd == 1 then spdX = 2000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 8000\n      elseif spdK == 2 then spdX = 9000\n      elseif spdK == 3 then spdX = 10000\n      elseif spdK == 4 then spdX = 11000\n      elseif spdK == 5 then spdX = 13000\n      elseif spdK == 6 then spdX = 15000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         enterMagic = 0\n         if gold >= buffB and blockBuff1 < 1 then\n            if buff == 1 and bonusExp < 3 then \n               bonusExp = bonusExp <plus> 1\n               gold = gold - buffB\n            elseif buff == 2 and bonusGold < 3 then \n               bonusGold = bonusGold <plus> 1\n               gold = gold - buffB\n            elseif buff == 3 and bonusDmg < 3 then \n               bonusDmg = bonusDmg <plus> 1\n               gold = gold - buffB\n            elseif buff == 4 and bonusMiss < 3 then \n               bonusMiss = bonusMiss <plus> 1\n               gold = gold - buffB\n            elseif buff == 5 and bonusEvade < 3 then \n               bonusEvade = bonusEvade <plus> 1\n               gold = gold - buffB\n            end\n         elseif gold < buffB then\n            message (textt)\n         else\n            message (\"Герой уже имеет максимальный уровень бафа.\")\n         end\n         showPage {id = 4, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend"
      },
      {
        "comment": false,
        "id": 34,
        "text": "Повысить получение опыта",
        "left_answer": true,
        "instant": true,
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nbonusExp = bonusExp <plus> 1\ngold = gold - buffB\ntorgN = 0\nbuffB = lvl * 25\nend",
        "middle_answer": false,
        "var_less": [
          "bonusExp",
          3
        ],
        "var_sub": [
          "volt",
          1
        ],
        "var_need": [
          "volt",
          1,
          "gold",
          "buffB"
        ]
      },
      {
        "comment": false,
        "id": 29,
        "text": "Повысить получение опыта",
        "left_answer": true,
        "instant": true,
        "var_need": [
          "gold",
          "buffB"
        ],
        "var_less": [
          "bonusExp",
          3,
          "volt",
          1
        ],
        "middle_answer": false,
        "lua_do": "function lua_do()\nnextFi = 3\nlocal stop = timer.cancel (timer1)\nend",
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": false,
        "id": 34,
        "var_need": [
          "volt",
          1,
          "gold",
          "buffB",
          "lvl",
          30
        ],
        "left_answer": false,
        "right_answer": true,
        "var_less": [
          "bonusGold",
          3
        ],
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nbonusGold = bonusGold <plus> 1\ngold = gold - buffB\ntorgN = 0\nbuffB = lvl * 25\nend",
        "instant": true,
        "middle_answer": false,
        "var_sub": [
          "volt",
          1
        ],
        "text": "Повысить получение денег"
      },
      {
        "comment": false,
        "id": 29,
        "text": "Повысить получение денег",
        "left_answer": false,
        "right_answer": true,
        "middle_answer": false,
        "var_need": [
          "gold",
          "buffB",
          "lvl",
          30
        ],
        "lua_do": "function lua_do()\nnextFi = 3\nlocal stop = timer.cancel (timer1)\nend",
        "var_less": [
          "bonusGold",
          3,
          "volt",
          1
        ],
        "instant": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": false,
        "id": 34,
        "var_sub": [
          "volt",
          1
        ],
        "left_answer": true,
        "var_less": [
          "bonusDmg",
          3
        ],
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nbonusDmg = bonusDmg <plus> 1\ngold = gold - buffB\ntorgN = 0\nbuffB = lvl * 25\nend",
        "instant": true,
        "middle_answer": false,
        "text": "Повысить наносимый урон",
        "var_need": [
          "volt",
          1,
          "gold",
          "buffB",
          "lvl",
          50
        ]
      },
      {
        "comment": false,
        "id": 29,
        "text": "Повысить наносимый урон",
        "left_answer": true,
        "middle_answer": false,
        "var_need": [
          "gold",
          "buffB",
          "lvl",
          50
        ],
        "lua_do": "function lua_do()\nnextFi = 3\nlocal stop = timer.cancel (timer1)\nend",
        "var_less": [
          "bonusDmg",
          3,
          "volt",
          1
        ],
        "instant": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": false,
        "var_less": [
          "bonusMiss",
          3
        ],
        "var_sub": [
          "volt",
          1
        ],
        "right_answer": true,
        "id": 34,
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nbonusMiss = bonusMiss <plus> 1\ngold = gold - buffB\ntorgN = 0\nbuffB = lvl * 25\nend",
        "instant": true,
        "middle_answer": false,
        "text": "Повисить меткость героя",
        "var_need": [
          "volt",
          1,
          "gold",
          "buffB",
          "lvl",
          70
        ]
      },
      {
        "comment": false,
        "id": 29,
        "text": "Повисить меткость героя",
        "left_answer": false,
        "right_answer": true,
        "middle_answer": false,
        "var_need": [
          "gold",
          "buffB",
          "lvl",
          70
        ],
        "lua_do": "function lua_do()\nnextFi = 3\nlocal stop = timer.cancel (timer1)\nend",
        "var_less": [
          "bonusMiss",
          3,
          "volt",
          1
        ],
        "instant": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "comment": false,
        "id": 34,
        "text": "Повысить шансы уклонения",
        "left_answer": true,
        "var_less": [
          "bonusEvade",
          3
        ],
        "lua_do": "function lua_do()\nlocal stopTimer = timer.cancel (timer1)\nbonusEvade = bonusEvade <plus> 1\ngold = gold - buffB\ntorgN = 0\nbuffB = lvl * 25\nend",
        "instant": true,
        "middle_answer": false,
        "var_need": [
          "volt",
          1,
          "gold",
          "buffB",
          "lvl",
          90
        ],
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "comment": false,
        "id": 29,
        "text": "Повысить шансы уклонения",
        "left_answer": true,
        "middle_answer": false,
        "var_need": [
          "gold",
          "buffB",
          "lvl",
          90
        ],
        "lua_do": "function lua_do()\nnextFi = 3\nlocal stop = timer.cancel (timer1)\nend",
        "var_less": [
          "bonusEvade",
          3,
          "volt",
          1
        ],
        "instant": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "lua_text": "function lua_text()\n   local text = \"<s>\n      Текущие усиления: \" .. \"<s>\n   Повышение получаемого опыта \" .. bonusExp .. \" ур. <s>\n   \"\n   if lvl >= 30 then text = text .. \"Повышение получаемых денег \" .. bonusGold .. \" ур. <s>\n   \" end\n   if lvl >= 50 then text = text .. \"Повышение наносимого урона \" .. bonusDmg .. \" ур. <s>\n   \" end\n   if lvl >= 70 then text = text .. \"Повышение меткости \" .. bonusMiss .. \" ур. <s>\n   \" end\n   if lvl >= 90 then text = text .. \"Повышение уклонения \" .. bonusEvade .. \" ур. <s>\n   \" end\nreturn text\nend",
        "middle_answer": false,
        "text": "  ",
        "comment": true,
        "id": 34
      },
      {
        "var_need": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "var_sub": [
          "volt",
          1
        ],
        "id": 4,
        "middle_answer": true,
        "text": "Отказаться",
        "instant": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "var_less": [
          "volt",
          1
        ],
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nnextFi = 2\nend",
        "text": "Отказаться",
        "id": 29,
        "instant": true,
        "middle_answer": true,
        "var_set": [
          "back",
          "global current_id"
        ]
      },
      {
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "id": 34,
        "text": "   ",
        "middle_answer": true,
        "comment": true
      }
    ]
  },
  {
    "id": 35,
    "text": " ... начисление СВ и скорость игры ...",
    "answers": [
      {
        "super_calculate": false,
        "id": 35,
        "calculate": true,
        "lua_do": "function lua_do()\ntimeSV = timeSV or g.time\nlocal bronc = g.time - timeSV\n   if bronc > 72000 then\n      volt = volt <plus> 10\n      timeSV = g.time\n   elseif bronc > 64800 then\n      volt = volt <plus> 9\n      timeSV = timeSV <plus> 64800\n   elseif bronc > 57600 then\n      volt = volt <plus> 8\n      timeSV = timeSV <plus> 57600\n      elseif bronc > 50400 then\n      volt = volt <plus> 7\n      timeSV = timeSV <plus> 50400\n  elseif bronc > 43200 then\n      volt = volt <plus> 6\n      timeSV = timeSV <plus> 43200\n  elseif bronc > 36000 then\n      volt = volt <plus> 5\n      timeSV = timeSV <plus> 36000\n  elseif bronc > 28800 then\n      volt = volt <plus> 4\n      timeSV = timeSV <plus> 28800\n  elseif bronc > 21600 then\n      volt = volt <plus> 3\n      timeSV = timeSV <plus> 21600\n  elseif bronc > 14400 then\n      volt = volt <plus> 2\n      timeSV = timeSV <plus> 14400\n  elseif bronc > 7200 then\n      volt = volt <plus> 1\n      timeSV = timeSV <plus> 7200\n   end\nend",
        "text": "   "
      },
      {
        "super_calculate": false,
        "id": 35,
        "calculate": true,
        "lua_do": "function lua_do()\ncooldownDungeon = cooldownDungeon or 0\ntekTime = tekTime or g.time\n   if cooldownDungeon > 0 then\n      if tekTime <plus> 60 < g.time then\n         cooldownDungeon = cooldownDungeon - 1\n         tekTime = g.time\n      end\n   end\nend",
        "text": "   "
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\npointKill = pointKill or 1\n   if kill >= pointKill then\n      local aa = pointKill \n      volt = volt <plus> 10\n      pointKill = pointKill * 5\n   dialog({ header = \"Достижение\",\n   text = \"Выполнено: ''Победить соперников: \" .. aa .. \"''. Получено 10 Силы Воли. Для получения следущей награды нужно победить \" .. pointKill .. \" соперников.\",\n   answers = {\n      {text = \"Отлично!\",\n      pressListener = function()\n      hideDialog() end}\n   }})\n   end\nend",
        "text": "   ачивка на победы",
        "id": 35,
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 35,
        "text": "   ачивка на кол-во заданий",
        "calculate": true,
        "lua_do": "function lua_do()\npointQuestKol = pointQuestKol or 1\n   if questKol == pointQuestKol then\n      local aa = pointQuestKol \n      volt = volt <plus> 10\n      pointQuestKol = pointQuestKol * 5\n   dialog({ header = \"Достижение\",\n   text = \"Выполнено: ''Завершить задания: \" .. aa .. \" шт.''. Получено 10 Силы Воли. Для получения следущей награды нужно завершить \" .. pointQuestKol .. \" заданий.\",\n   answers = {\n      {text = \"Отлично!\",\n      pressListener = function()\n      hideDialog() end}\n   }})\n   end\nend"
      },
      {
        "super_calculate": false,
        "id": 35,
        "text": "  ачивка на лечение",
        "calculate": true,
        "lua_do": "function lua_do()\npointHealHosp = pointHealHosp or 50\n   if healHosp >= pointHealHosp then\n      local aa = pointHealHosp \n      volt = volt <plus> 10\n      pointHealHosp = pointHealHosp * 5\n   dialog({ header = \"Достижение\",\n   text = \"Выполнено: ''Восстановить очков здоровья в больнице: \" .. aa .. \"''. Получено 10 Силы Воли. Для получения следущей награды нужно восстановить \" .. pointHealHosp .. \" очков здоровья.\",\n   answers = {\n      {text = \"Отлично!\",\n      pressListener = function()\n      hideDialog() end}\n   }})\n   end\nend"
      },
      {
        "super_calculate": false,
        "id": 35,
        "calculate": true,
        "lua_do": "function lua_do()\npointHeal = pointHeal or 300\n   if healEat >= pointHeal then\n      local aa = pointHeal\n      volt = volt <plus> 10\n      pointHeal = pointHeal * 10\n   dialog({ header = \"Достижение\",\n   text = \"Выполнено: ''Восполнить очков здоровья едой: \" .. aa .. \"''. Получено 10 Силы Воли. Для получения следущей награды нужно восполнить едой \" .. pointHeal .. \" очков здоровья.\",\n   answers = {\n      {text = \"Отлично!\",\n      pressListener = function()\n      hideDialog() end}\n   }})\n   end\nend",
        "text": "  ачивка на восст едой"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\npointItem = pointItem or 3\n   if massItem >= pointItem then\n      local aa = pointItem\n      volt = volt <plus> 10\n      pointItem = pointItem * 5\n   dialog({ header = \"Достижение\",\n   text = \"Выполнено: ''Добыть оружие в бою: \" .. aa .. \" раз.''. Получено 10 Силы Воли. Для получения следущей награды нужно добыть оружие \" .. pointItem .. \" раз.\",\n   answers = {\n      {text = \"Отлично!\",\n      pressListener = function()\n      hideDialog() end}\n   }})\n   end\nend",
        "calculate": true,
        "text": "  ачивка на оружие",
        "id": 35
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\npointBank = pointBank or 1000\n   if goldBank >= pointBank then\n      local aa = pointBank\n      volt = volt <plus> 10\n      pointBank = pointBank * 10\n   dialog({ header = \"Достижение\",\n   text = \"Выполнено: ''Иметь вклад на сумму: \" .. aa .. \" монет.''. Получено 10 Силы Воли. Для получения следущей награды нужно иметь вклад в банке: \" .. pointBank .. \" монет.\",\n   answers = {\n      {text = \"Отлично!\",\n      pressListener = function()\n      hideDialog() end}\n   }})\n   end\nend",
        "text": "  ачивка на вклад банк",
        "id": 35,
        "calculate": true
      },
      {
        "super_calculate": false,
        "id": 35,
        "text": "  ачивка на переходы",
        "calculate": true,
        "lua_do": "function lua_do()\npointLoc = pointLoc or 2\n   if stage < 51 and stage == pointLoc and g.current_id == 4 then\n      local aa = pointLoc\n      volt = volt <plus> 10\n      message (\"Получено 10 Силы Воли за открытие нового города.\")\n      pointLoc = pointLoc <plus> 1\n   end\nend"
      },
      {
        "id": 35,
        "text": "   \n\n    \n  \n    \n\nУправление игровым временем.",
        "comment": true,
        "middle_answer": true
      },
      {
        "id": 12,
        "comment": false,
        "lua_do": "function lua_do()\n   if tP == 0 then\n      tP = 1\n      if timer1 then\n         local stop = timer.cancel (timer1)\n      end\n      message (\"Игровое время остановлено, пока вновь не будет возобновлено нажатием этой кнопки.\")\n   elseif tP == 1 then\n      tP = 0\n      timer1 = timer.performWithDelay (spdX, repeater)\n      message (\"Игровое время возобновлено.\")\n   end\nend",
        "middle_answer": true,
        "instant": true,
        "text": "Пауза/Возобновление",
        "no_transition": true
      },
      {
        "comment": false,
        "no_transition": true,
        "id": 35,
        "text": "Медленнее",
        "lua_do": "function lua_do()\n   spdK = spdK <plus> 1\n   if spdK <= 1 then\n      spdK = 1\n      message (\"Скорость игрового времени: максимально высокая.\")\n   elseif spdK == 2 then\n      message (\"Скорость игрового времени: увеличенная.\")\n   elseif spdK == 3 then\n      message (\"Скорость игрового времени: средняя.\")\n   elseif spdK == 4 then\n      message (\"Скорость игрового времени: сниженная.\")\n   elseif spdK == 5 then\n      message (\"Скорость игрового времени: сильно сниженная.\")\n   elseif spdK >= 6 then\n      spdK = 6\n      message (\"Скорость игрового времени: максимально низкая.\")\n   end\nend",
        "left_answer": true
      },
      {
        "right_answer": true,
        "comment": false,
        "id": 35,
        "text": "Быстрее",
        "lua_do": "function lua_do()\n   spdK = spdK - 1\n   if spdK <= 1 then\n      spdK = 1\n      message (\"Скорость игрового времени: максимально высокая.\")\n   elseif spdK == 2 then\n      message (\"Скорость игрового времени: увеличенная.\")\n   elseif spdK == 3 then\n      message (\"Скорость игрового времени: средняя.\")\n   elseif spdK == 4 then\n      message (\"Скорость игрового времени: сниженная.\")\n   elseif spdK == 5 then\n      message (\"Скорость игрового времени: сильно сниженная.\")\n   elseif spdK >= 6 then\n      spdK = 6\n      message (\"Скорость игрового времени: максимально низкая.\")\n   end\nend",
        "no_transition": true
      }
    ]
  },
  {
    "id": 36,
    "text": "   Банковская сеть.",
    "answers": [
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "calculate": true,
        "text": "  ",
        "id": 36
      },
      {
        "lua_text": "function lua_text()\nreturn \"Денег на руках:<s>\n\" .. gold\nend",
        "left_answer": true,
        "id": 36,
        "text": "    ",
        "comment": true,
        "merge": false
      },
      {
        "right_answer": true,
        "lua_text": "function lua_text()\ngoldBank = goldBank or 0\nreturn \"Денег на счету:<s>\n\" .. goldBank\nend",
        "id": 36,
        "text": "    ",
        "comment": true,
        "merge": false
      },
      {
        "lua_text": "function lua_text()\nprocBank = procBank or 2.5\nreturn \"<s>\nВклад составит \" .. (10 * procBank) .. \"% (\" .. (math.round (gold * procBank / 10)) .. \" монет)\"\nend",
        "comment": true,
        "middle_answer": true,
        "text": "  ",
        "id": 36,
        "var_need": [
          "gold",
          1
        ]
      },
      {
        "lua_do": "function lua_do()\nlocal aa = \"свой доспех\"\n   if myItem then\n      local ab = table.count (myItem)\n      if ab > 2 then \n         aa = myItem [math.random (ab)]\n     end\n   end\n   \n   texBank = { \"Герой задаёт много вопросов банкиру.\", \"Герой планирует оставить тут часть денег.\", \"Герой хочет пополнить счёт.\", \"Герой сверяется с банковскими документами.\", \"Герой хочет оставить тут \" .. aa .. \", но банкир принимает только деньги.\"}\nend",
        "comment": true,
        "super_calculate": false,
        "id": 36,
        "text": "  ",
        "calculate": true,
        "left_answer": false
      },
      {
        "comment": true,
        "lua_text": "function lua_text()\nlocal text = \"Герой зашёл посмотреть на свой счет.\"\n   if gold > 0 then text = texBank [math.random (#texBank)]end\nreturn text\nend",
        "id": 36,
        "text": "  ",
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde3.jpg"
        ],
        "left_answer": false
      },
      {
        "id": 36,
        "text": "  ",
        "comment": true,
        "left_answer": false
      },
      {
        "instant": true,
        "id": 4,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "text": "Уйти",
        "middle_answer": true,
        "left_answer": false
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nlocal aa = math.round (gold * 0.5)\ngoldBank = goldBank <plus> aa\ngold = gold - aa\nlocal stop = timer.cancel (timer1)\nend",
        "var_need": [
          "volt",
          1,
          "gold",
          1
        ],
        "left_answer": true,
        "right_answer": false,
        "lua_text": "function lua_text()\nlocal aa = math.round (gold * 0.5)\nreturn \"Положить на счёт<s>\n50% (\" .. aa .. \" монет)\"\nend",
        "instant": true,
        "id": 4,
        "text": "  ",
        "var_set": [
          "procBank",
          5
        ]
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\nlocal aa = math.round (gold * 1)\ngoldBank = goldBank <plus> aa\ngold = gold - aa\nlocal stop = timer.cancel (timer1)\nend",
        "var_need": [
          "volt",
          1,
          "gold",
          1
        ],
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal aa = math.round (gold * 1)\nreturn \"Положить на счёт<s>\nвсё (\" .. aa .. \" монет)\"\nend",
        "instant": true,
        "text": "  ",
        "id": 4,
        "var_set": [
          "procBank",
          10
        ]
      },
      {
        "id": 36,
        "text": "   ",
        "calculate": true,
        "super_calculate": false
      },
      {
        "lua_do": "function lua_do()\nnextFi = 1\nlocal stop = timer.cancel (timer1)\nend",
        "instant": true,
        "left_answer": false,
        "middle_answer": true,
        "id": 29,
        "var_less": [
          "volt",
          1
        ],
        "text": "Отказаться\n",
        "var_need": [
          "gold",
          1
        ],
        "var_set": [
          "back",
          36
        ]
      },
      {
        "var_less": [
          "volt",
          1
        ],
        "var_need": [
          "gold",
          1
        ],
        "left_answer": true,
        "right_answer": false,
        "lua_text": "function lua_text()\nlocal aa = math.round (gold * 0.5)\nreturn \"Положить на счёт<s>\n50% (\" .. aa .. \" монет)\"\nend",
        "text": "  ",
        "instant": true,
        "lua_do": "function lua_do()\nnextFi = 6\nlocal stop = timer.cancel (timer1)\nend",
        "id": 29,
        "var_set": [
          "back",
          36
        ]
      },
      {
        "var_less": [
          "volt",
          1
        ],
        "var_need": [
          "gold",
          1
        ],
        "left_answer": false,
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal aa = math.round (gold * 1)\nreturn \"Положить на счёт<s>\nвсё (\" .. aa .. \" монет)\"\nend",
        "text": "   ",
        "instant": true,
        "lua_do": "function lua_do()\nnextFi = 8\nlocal stop = timer.cancel (timer1)\nend",
        "id": 29,
        "var_set": [
          "back",
          36
        ]
      },
      {
        "id": 36,
        "text": "   ",
        "comment": true
      },
      {
        "instant": true,
        "var_need": [
          "volt",
          1,
          "goldBank",
          100
        ],
        "lua_text": "function lua_text()\nlocal aa = math.round (goldBank * 0.1)\nreturn \"Снять со счета 10%<s>\n(\" .. aa .. \" монет)\"\nend",
        "var_sub": [
          "volt",
          1
        ],
        "id": 4,
        "text": "   ",
        "lua_do": "function lua_do()\nlocal aa = math.round (goldBank * 0.1)\ngoldBank = goldBank - aa\ngold = gold <plus> aa\nlocal stop = timer.cancel (timer1)\nend",
        "left_answer": true
      },
      {
        "id": 4,
        "text": "   ",
        "left_answer": false,
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal aa = math.round (goldBank * 0.5)\nreturn \"Снять со счета 50%<s>\n(\" .. aa .. \" монет)\"\nend",
        "instant": true,
        "var_need": [
          "volt",
          1,
          "goldBank",
          100
        ],
        "lua_do": "function lua_do()\nlocal aa = math.round (goldBank * 0.5)\ngoldBank = goldBank - aa\ngold = gold <plus> aa\nlocal stop = timer.cancel (timer1)\nend",
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "middle_answer": true,
        "instant": true,
        "right_answer": false,
        "lua_text": "function lua_text()\nlocal aa = math.round (goldBank * 1)\nreturn \"Снять со счета всё (\" .. aa .. \" монет)\"\nend",
        "text": "   ",
        "id": 4,
        "var_need": [
          "volt",
          1,
          "goldBank",
          1
        ],
        "lua_do": "function lua_do()\nlocal aa = math.round (goldBank * 1)\ngoldBank = goldBank - aa\ngold = gold <plus> aa\nlocal stop = timer.cancel (timer1)\nend",
        "var_sub": [
          "volt",
          1
        ]
      },
      {
        "id": 36,
        "text": "   ",
        "calculate": true,
        "super_calculate": false
      },
      {
        "var_less": [
          "volt",
          1
        ],
        "instant": true,
        "left_answer": true,
        "lua_text": "function lua_text()\nlocal aa = math.round (goldBank * 0.1)\nreturn \"Снять со счета 10%<s>\n(\" .. aa .. \" монет)\"\nend",
        "var_need": [
          "goldBank",
          100
        ],
        "text": "   ",
        "lua_do": "function lua_do()\nnextFi = 2\nlocal stop = timer.cancel (timer1)\nend",
        "id": 29,
        "var_set": [
          "back",
          36
        ]
      },
      {
        "id": 29,
        "instant": true,
        "left_answer": false,
        "right_answer": true,
        "lua_text": "function lua_text()\nlocal aa = math.round (goldBank * 0.5)\nreturn \"Снять со счета 50%<s>\n(\" .. aa .. \" монет)\"\nend",
        "text": "   ",
        "lua_do": "function lua_do()\nnextFi = 4\nlocal stop = timer.cancel (timer1)\nend",
        "var_need": [
          "goldBank",
          100
        ],
        "var_less": [
          "volt",
          1
        ],
        "var_set": [
          "back",
          36
        ]
      },
      {
        "var_less": [
          "volt",
          1
        ],
        "instant": true,
        "var_need": [
          "goldBank",
          1
        ],
        "lua_text": "function lua_text()\nlocal aa = math.round (goldBank * 1)\nreturn \"Снять со счета всё<s>\n(\" .. aa .. \" монет)\"\nend",
        "lua_do": "function lua_do()\nnextFi = 5\nlocal stop = timer.cancel (timer1)\nend",
        "text": "   ",
        "id": 29,
        "middle_answer": true,
        "var_set": [
          "back",
          36
        ]
      },
      {
        "lua_text": "function lua_text()\nreturn \"Силы воли: \" .. volt\nend",
        "middle_answer": true,
        "text": "   ",
        "comment": true,
        "id": 36
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   bankMove = bankMove or 2\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 9000\n      elseif spdK == 5 then spdX = 11000\n      elseif spdK == 6 then spdX = 13000\n      end\n   end\n   \n   repeater = function()\n      if g.userInQuest == 1 then\n         if gold > 0 and bankMove < 1 then\n            goldBank = goldBank <plus> (math.round (gold * procBank / 10))\n            gold = gold - (math.round (gold * procBank / 10))\n            showPage {id = 4, transition = \"instant\"}\n\n         elseif gold < 1 then\n            showPage {id = 4, transition = \"instant\"}\n\n         elseif gold > 0 and bankMove > 0 then \n            bankMove = bankMove - 1\n            showPage {id = 36, transition = \"instant\"}\n         end\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "text": "  ",
        "id": 36,
        "calculate": true
      }
    ]
  },
  {
    "id": 37,
    "text": "   Фонд недвижимости.\n\n   ",
    "answers": [
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nenterFond = 0\nend",
        "text": "  ",
        "id": 37,
        "calculate": true
      },
      {
        "id": 37,
        "text": "    ",
        "lua_text": "function lua_text()\nreturn \"Денег на счету: \" .. goldBank .. \"<s>\n\"\nend",
        "merge": true
      },
      {
        "super_calculate": false,
        "id": 37,
        "text": "   ",
        "calculate": true,
        "lua_do": "function lua_do()\n   fondN = fondN or 1\n   fondPrice = { 10000 }\n   local fp = 10000\n      for i = 2, #fond do\n         table.insert (fondPrice, fondPrice[i-1] <plus> fp)\n         fp = fp <plus> 5000\n      end\n   \n   if not myFond then \n      myFond = { }\n      for i = 1, #fond do\n         table.insert (myFond, 0)\n      end\n   end\n   if not myCost then\n      myCost = { }\n      for i = 1, #fond do\n         table.insert (myCost, 0)\n      end\n   end\n   \n    if #myFond < #fond then\n      for i = (#myFond <plus> 1), #fond do\n         table.insert (myFond, 0)\n         table.insert (myCost, 0)\n      end\n   end\n\n   fondStart = fondStart or 1\n   local ff = { }\n   if fondStart == 1 then\n      fondStart = 0\n      for i = 1, #fond do\n         if myFond [i] < 1 then\n            table.insert (ff, i)\n         end\n      end\n      fondN = ff [1]\n   end\nend"
      },
      {
        "lua_text": "function lua_text()\nlocal text = \"\"\nlocal a = 1\nlocal rt = \"\"\nlocal rt1 = \"\"\nlocal rt2 = \"\"\nlocal rt3 = \"\"\n\n   rt = fondPrice[fondN]\n   if rt >= 1000 and rt < 1000000 then\n      rt1 = \"000\"\n      rt2 = rt / 1000\n      rt3 = \"\"\n   elseif rt >= 1000000 then\n      rt1 = \"000\"\n      rt2 = rt / 1000\n         for i = 1, 30 do\n            if rt2 >= 500000 then\n               rt2 = rt2 - 500000\n            elseif rt2 >= 200000 then\n               rt2 = rt2 - 200000\n            elseif rt2 >= 100000 then\n               rt2 = rt2 - 100000\n            elseif rt2 >= 50000 then\n               rt2 = rt2 - 50000\n            elseif rt2 >= 10000 then\n               rt2 = rt2 - 10000\n            elseif rt2 >= 1000 then\n               rt2 = rt2 - 1000\n            elseif rt2 < 1000 then\n               break\n            end\n         end\n         if rt2 < 10 then\n            rt2 = \"00\" .. rt2\n         elseif rt2 >= 10 and rt2 < 100 then\n            rt2 = \"0\" .. rt2\n         end\n         rt3 = math.floor (rt / 1000000)\n      end\n\n   rt = rt3 .. \" \" .. rt2 .. \" \" .. rt1\nreturn \"Предлагается: \" .. fond [fondN] .. \"<s>\n(цена: \" .. rt .. \" монет)\"\nend",
        "middle_answer": true,
        "text": "   ",
        "id": 37,
        "comment": true
      },
      {
        "lua_text": "function lua_text()\nlocal texFond = { \" Герой присматривается к возможным вариантам, но руками ничего не трогает.\", \"Брокер рассказывает герою о различной недвижимости в разных городах.\", \"Герой хочет иметь недвижимость и зарабатывать на этом, но он побаивается.\", \"Брокер поясняет, что оплата производится исключительно через банковский счёт, так как недвижимость в разных городах и невозможно просто сразу так отдать деньги в руки продавца.\" }\nreturn texFond [math.random (#texFond)]\nend",
        "id": 37,
        "text": "   ",
        "comment": true,
        "bgAnswerImage": [
          "http://188.120.236.127/autoRPG/abcde10.jpg"
        ]
      },
      {
        "id": 37,
        "text": "   ",
        "comment": true
      },
      {
        "comment": false,
        "lua_if": "function lua_if()\nreturn goldBank >= fondPrice [fondN]\nend",
        "id": 4,
        "middle_answer": true,
        "text": "Купить предлагаемую недвижимость",
        "instant": true,
        "lua_do": "function lua_do()\n   goldBank = goldBank - fondPrice [fondN]\n   myCost [fondN] = fondPrice [fondN]\n   myFond [fondN] = 1\n   message (\"Брокер поздравил героя с приобретением недвижимости!\")\nend"
      },
      {
        "lua_if": "function lua_if()\nreturn goldBank < fondPrice [fondN]\nend",
        "middle_answer": true,
        "text": "[ Не хватает денег на банковском счёте, чтобы купить предлагаемую недвижимость ]",
        "id": 37,
        "comment": true
      },
      {
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "middle_answer": true,
        "comment": false,
        "instant": true,
        "id": 4,
        "var_need": [
          "volt",
          1
        ],
        "var_sub": [
          "volt",
          1
        ],
        "text": "Уйти"
      },
      {
        "id": 37,
        "text": "   ",
        "comment": true
      },
      {
        "id": 37,
        "text": "  ",
        "comment": true,
        "lua_text": "function lua_text()\nlocal text = \"\"\nlocal a = 1\nlocal rt = \"\"\nlocal rt1 = \"\"\nlocal rt2 = \"\"\nlocal rt3 = \"\"\n   for i = table.maxn (myFond), 1, -1 do\n      if myFond [i] > 0 then\n         rt = fondPrice[i]\n         if rt >= 1000 and rt < 1000000 then\n            rt1 = \"000\"\n            rt2 = rt / 1000\n            rt3 = \"\"\n         elseif rt >= 1000000 then\n            rt1 = \"000\"\n            rt2 = rt / 1000\n               for i = 1, 30 do\n                  if rt2 >= 500000 then\n                     rt2 = rt2 - 500000\n                  elseif rt2 >= 200000 then\n                     rt2 = rt2 - 200000\n                  elseif rt2 >= 100000 then\n                     rt2 = rt2 - 100000\n                  elseif rt2 >= 50000 then\n                     rt2 = rt2 - 50000\n                  elseif rt2 >= 10000 then\n                     rt2 = rt2 - 10000\n                  elseif rt2 >= 1000 then\n                     rt2 = rt2 - 1000\n                  elseif rt2 < 1000 then\n                     break\n                  end\n               end\n               if rt2 < 10 then\n                  rt2 = \"00\" .. rt2\n               elseif rt2 >= 10 and rt2 < 100 then\n                  rt2 = \"0\" .. rt2\n               end\n            rt3 = math.floor (rt / 1000000)\n         end\n         rt = rt3 .. \" \" .. rt2 .. \" \" .. rt1\n         text = text .. a .. \". \" .. fond [i] .. \"<s>\n (стоимость: \" .. rt .. \")<s>\n\"\n         a = a <plus> 1\n      end\n   end\nreturn text\nend"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   fondMove = fondMove or 2\n   repeater = function()\n      if g.userInQuest == 1 then\n         if fondMove > 0 then\n            fondMove = fondMove - 1\n            showPage {id = 37, transition = \"instant\"}\n         else \n            showPage {id = 4, transition = \"instant\"}\n         end\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "text": "  ",
        "id": 37,
        "calculate": true
      },
      {
        "text": "      в авторе",
        "comment": true,
        "super_calculate": false,
        "id": 37,
        "calculate": false,
        "var_equal": [
          "global isAuthor",
          1
        ],
        "lua_text": "function lua_text()\nlocal text = \"\"\n   for i = 1, #fondPrice do\n      text = text .. i .. \". \" .. fondPrice [i] .. \"<s>\n\"\n   end\nreturn text\nend"
      }
    ]
  },
  {
    "id": 38,
    "text": "   Финансовый отчёт отражает изменения, связанные с владением собственности — она приносит регулярный доход.\n\n   ",
    "answers": [
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\nend",
        "calculate": true,
        "text": "   ",
        "id": 38
      },
      {
        "lua_text": "function lua_text()\n   local tabAa = { }\n   for i = 1, #myFond do\n      if myFond [i] == 1 then\n         table.insert (tabAa, i)\n      end\n   end\n\n   local ab = 0\n   for i = 1, #tabAa do\n      ab = math.round (math.random (fondPrice [tabAa [i]] * 0.01, fondPrice [tabAa [i]] * 0.08))\n   end\n   local ac = goldBank\n   goldBank = goldBank <plus> ab\nreturn \"Было на счету вчера: \" .. ac .. \"<s>\nИзменение баланса: \" .. ab .. \"<s>\n- - - - - - - - - - - <s>\nНовое состояние счёта: \" .. goldBank\nend",
        "middle_answer": true,
        "id": 38,
        "text": "   ",
        "comment": true,
        "merge": false
      },
      {
        "lua_do": "function lua_do()\nlocal stop = timer.cancel (timer1)\n  dialog({header = \"Событие дня\", text = texNews [math.random (#texNews)], answer = {{text = \"Ок\", pressListener = function() hideDialog() end}}})\nend",
        "text": "Продолжить",
        "comment": false,
        "super_calculate": false,
        "id": 4,
        "calculate": false,
        "instant": true,
        "middle_answer": true
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\n   if spd == 1 then spdX = 3000 \n   elseif spd == 0 then\n      if spdK == 1 then spdX = 5000\n      elseif spdK == 2 then spdX = 6000\n      elseif spdK == 3 then spdX = 7000\n      elseif spdK == 4 then spdX = 8000\n      elseif spdK == 5 then spdX = 9000\n      elseif spdK == 6 then spdX = 10000\n      end\n   end\n\n   repeater = function()\n      if g.userInQuest == 1 then\n         dialog({header = \"Событие дня\", text = texNews [math.random (#texNews)], answer = {{text = \"Ок\", pressListener = function() hideDialog() end}}})\n         showPage {id = 4, transition = \"instant\"}\n      else\n         timer1 = timer.performWithDelay (4000, repeater)\n      end\n   end\n   if tP == 0 then\n      timer1 = timer.performWithDelay (spdX, repeater)\n   end\nend",
        "calculate": true,
        "id": 38,
        "text": "   "
      },
      {
        "id": 38,
        "text": "  ",
        "comment": true,
        "lua_text": "function lua_text()\nlocal text = \"<s>\n   Список:<s>\n\"\nlocal a = 1\nlocal rt = \"\"\nlocal rt1 = \"\"\nlocal rt2 = \"\"\nlocal rt3 = \"\"\nlocal sum = 0\n   for i = table.maxn (myFond), 1, -1 do\n      if myFond [i] > 0 then\n         sum = sum <plus> fondPrice [i]\n         rt = fondPrice[i]\n         if rt >= 1000 and rt < 1000000 then\n            rt1 = \"000\"\n            rt2 = rt / 1000\n            rt3 = \"\"\n         elseif rt >= 1000000 then\n            rt1 = \"000\"\n            rt2 = rt / 1000\n               for i = 1, 30 do\n                  if rt2 >= 500000 then\n                     rt2 = rt2 - 500000\n                  elseif rt2 >= 200000 then\n                     rt2 = rt2 - 200000\n                  elseif rt2 >= 100000 then\n                     rt2 = rt2 - 100000\n                  elseif rt2 >= 50000 then\n                     rt2 = rt2 - 50000\n                  elseif rt2 >= 10000 then\n                     rt2 = rt2 - 10000\n                  elseif rt2 >= 1000 then\n                     rt2 = rt2 - 1000\n                  elseif rt2 < 1000 then\n                     break\n                  end\n               end\n               if rt2 < 10 then\n                  rt2 = \"00\" .. rt2\n               elseif rt2 >= 10 and rt2 < 100 then\n                  rt2 = \"0\" .. rt2\n               end\n            rt3 = math.floor (rt / 1000000)\n         end\n         rt = rt3 .. \" \" .. rt2 .. \" \" .. rt1\n         text = text .. a .. \". \" .. fond [i] .. \"<s>\n(стоимость: \" .. rt .. \")<s>\n\"\n         a = a <plus> 1\n      end\n   end\n\nlocal rt11 = \"\"\nlocal rt12 = \"\"\nlocal rt13 = \"\"\n   rt = sum\n   if rt >= 1000 and rt < 1000000 then\n      rt11 = \"000\"\n      rt12 = rt / 1000\n      rt13 = \"\"\n   elseif rt >= 1000000 then\n      rt11 = \"000\"\n      rt12 = rt / 1000\n         for i = 1, 30 do\n            if rt12 >= 500000 then\n               rt12 = rt12 - 500000\n            elseif rt12 >= 200000 then\n               rt12 = rt12 - 200000\n            elseif rt12 >= 100000 then\n               rt12 = rt12 - 100000\n            elseif rt12 >= 50000 then\n               rt12 = rt12 - 50000\n            elseif rt12 >= 10000 then\n               rt12 = rt12 - 10000\n            elseif rt12 >= 1000 then\n               rt12 = rt12 - 1000\n            elseif rt12 < 1000 then\n               break\n            end\n         end\n         if rt12 < 10 then\n            rt12 = \"00\" .. rt12\n         elseif rt12 >= 10 and rt12 < 100 then\n            rt12 = \"0\" .. rt12\n         end\n         rt13 = math.floor (rt / 1000000)\n      end\nlocal sum1 = rt13 .. \" \" .. rt12 .. \" \" .. rt11\n\nreturn \"<s>\n<s>\n   Стоимость всех зданий: \" .. sum1 .. text\nend"
      }
    ]
  },
  {
    "id": 39,
    "text": "   Тест — меню\n",
    "answers": [
      {
        "merge": true,
        "comment": true,
        "lua_text": "function lua_text()\nmaxHp = vit * 20\nif hp > maxHp then hp = maxHp end\nif hp < 1 then hp = 1 end\n\nif exp >= max_exp then\n   lvl = lvl <plus> 1\n   exp = exp - max_exp\n   max_exp = math.round (max_exp * 1.05) <plus>15\n   if math.random(2) == 1 then\n      str = str <plus> 2\n      vit = vit <plus> 1\n   else\n      str = str <plus> 1\n      vit = vit <plus> 2\n   end\nend\n\nlocal text = \"<s>\n   Герой: \" .. name .. \", \" .. lvl .. \" уровень, опыт: \" .. exp .. \"/\" .. max_exp .. \"<s>\n   Здоровье: \" .. hp .. \"/\" .. maxHp .. \"<s>\n   Денег: \" .. gold .. \"<s>\n   Сбережения: \" ..  goldBank .. \"<s>\n<s>\n   Сила: \" .. str .. \"<s>\n   Телосложение: \" .. vit\nreturn text\nend",
        "id": 39,
        "text": "  ",
        "middle_answer": false,
        "left_answer": false
      },
      {
        "var_add": [
          "exp",
          "max_exp"
        ],
        "id": 39,
        "text": "Повысить уровень <plus>1",
        "instant": true,
        "comment": false
      },
      {
        "var_add": [
          "gold",
          100000
        ],
        "id": 39,
        "text": "Денег <plus> 100.000",
        "instant": true,
        "comment": false
      },
      {
        "var_add": [
          "goldBank",
          100000
        ],
        "id": 39,
        "instant": true,
        "comment": false,
        "text": "На счёт <plus> 100.000"
      },
      {
        "comment": false,
        "id": 39,
        "instant": true,
        "text": "На счёт <plus> 10.000.000",
        "var_add": [
          "goldBank",
          10000000
        ]
      },
      {
        "var_add": [
          "volt",
          100
        ],
        "id": 39,
        "text": "<plus>100 СВ",
        "instant": true,
        "comment": false
      },
      {
        "comment": false,
        "id": 39,
        "instant": true,
        "text": "Св = 1",
        "var_set": [
          "volt",
          1
        ]
      },
      {
        "id": 39,
        "text": "  ",
        "comment": true
      },
      {
        "comment": false,
        "id": 39,
        "lua_do": "function lua_do()\nif spd == 0 then spd = 1\nelse spd = 0 end\nend",
        "text": "Сверхскорость",
        "lua_text": "function lua_text()\nlocal aa = \"выкл.\"\nif spd == 1 then aa = \"вкл.\" end\nreturn \"Сверхскорость: \" .. aa\nend",
        "instant": true
      },
      {
        "id": 39,
        "text": "  ",
        "comment": true
      },
      {
        "id": 4,
        "text": "Выйти",
        "instant": true
      }
    ]
  },
  {
    "id": 40,
    "text": "   ",
    "answers": [
      {
        "id": 40,
        "text": "nemo",
        "url": "http://188.120.236.127/autoRPG/abcde1.jpg"
      },
      {
        "super_calculate": false,
        "lua_do": "function lua_do()\ng.image_part_of_screen = 0.25\nimages.nemo.isVisible = false\ninputText = native.newTextBox(canvas.width / 2, canvas.height / 1, canvas.width / 1.3, canvas.height / 2.2)\ncanvasGroup:insert (inputText)\ninputText.isEditable = true\ninputText.placeholder = \"Введите промо-код\"\nend",
        "calculate": true,
        "text": "   ",
        "id": 40
      },
      {
        "comment": false,
        "lua_do": "function lua_do()\npromo()\nend",
        "middle_answer": true,
        "text": "Подтвердить",
        "id": 40,
        "no_transition": true
      },
      {
        "id": 29,
        "text": "Отказаться",
        "middle_answer": true
      },
      {
        "id": 40,
        "text": "Подтвердить",
        "comment": false,
        "super_calculate": false,
        "middle_answer": true,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction promo()\nlocal aa = inputText.text\nadmin = admin or 0\n\n   if aa == \"admin\" then\n      admin = 1\n      inputText.text = \"\"\n      message (\"Включены права администратора.\")\n\n   elseif aa == \"R2D2\" and admin == 1 then\n      volt = volt <plus> 1000\n      showPage {id = 29, transition = \"instant\"}\n   \n   elseif aa == \"will i be a jedi?\" and admin == 1 then\n      message (\"Yes, of course!\")\n      showPage {id = 29, transition = \"instant\"} \n      \n   elseif aa == \"money 10000\" and admin == 1 then\n      gold = gold <plus> 10000\n      showPage {id = 29, transition = \"instant\"} \n    elseif aa == \"money 100000\" and admin == 1 then\n      gold = gold <plus> 100000\n      showPage {id = 29, transition = \"instant\"} \n    elseif aa == \"money 1000000\" and admin == 1 then\n      gold = gold <plus> 1000000\n      showPage {id = 29, transition = \"instant\"}\n    elseif aa == \"money 10000000\" and admin == 1 then\n      gold = gold <plus> 10000000\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"ad\" and admin == 1 then\n      volt = volt <plus> 10\n      adControl = 1\n      showPage {id = 29, transition = \"instant\"} \n\n\n   elseif aa == \"X5g9A1\" and not promo1 then\n      volt = volt <plus> 20\n      promo1 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"X5m8A2\" and not promo2 then\n      volt = volt <plus> 20\n      promo2 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"X5a7A3\" and not promo3 then\n      volt = volt <plus> 30\n      promo3 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"X5h6A4\" and not promo4 then\n      volt = volt <plus> 30\n      promo4 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"X5z5A5\" and not promo5 then\n      volt = volt <plus> 40\n      promo5 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"X5x4A6\" and not promo6 then\n      volt = volt <plus> 40\n      promo6 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"X5d3A7\" and not promo7 then\n      volt = volt <plus> 50\n      promo7 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n elseif aa == \"X5c2A8\" and not promo8 then\n      volt = volt <plus> 50\n      promo8 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n elseif aa == \"X5e1A9\" and not promo9 then\n      volt = volt <plus> 50\n      promo9 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n elseif aa == \"X5y0A0\" and not promo10 then\n      volt = volt <plus> 50\n      promo10 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n\n   elseif aa == \"V2U9f0\" and not promo11 then\n      volt = volt <plus> 100\n      promo11 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"V2v8a1\" and not promo12 then\n      volt = volt <plus> 100\n      promo12 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n  elseif aa == \"V2o7D2\" and not promo13 then\n      volt = volt <plus> 100\n      promo13 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n  elseif aa == \"V2X6E3\" and not promo14 then\n      volt = volt <plus> 100\n      promo14 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"V2T5q4\" and not promo15 then\n      volt = volt <plus> 100\n      promo15 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"V2H4H5\" and not promo16 then\n      volt = volt <plus> 200\n      promo16 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"V2z36T\" and not promo17 then\n      volt = volt <plus> 200\n      promo17 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"V2K2N7\" and not promo18 then\n      volt = volt <plus> 200\n      promo18 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"V2f1m8\" and not promo19 then\n      volt = volt <plus> 300\n      promo19 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   elseif aa == \"V209Ss\" and not promo20 then\n      volt = volt <plus> 500\n      promo20 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n\n\n   elseif aa == \"i love autoRPG\" and not promo100 then\n      volt = volt <plus> 50\n      promo100 = 1\n      message (\"Бонус активирован.\")\n      showPage {id = 29, transition = \"instant\"} \n\n   else \n      message (\"Неверный промо-код или он уже был введён ранее.\")\n   end\nend\nend",
        "no_transition": true
      }
    ]
  },
  {
    "id": 41,
    "text": "",
    "answers": []
  },
  {
    "id": 42,
    "text": "",
    "answers": []
  },
  {
    "id": 43,
    "text": "",
    "answers": []
  },
  {
    "id": 44,
    "text": "",
    "answers": []
  },
  {
    "id": 45,
    "text": "",
    "answers": []
  },
  {
    "id": 46,
    "text": "",
    "answers": []
  },
  {
    "id": 47,
    "text": "",
    "answers": []
  },
  {
    "id": 48,
    "text": "",
    "answers": []
  },
  {
    "id": 49,
    "text": "",
    "answers": []
  },
  {
    "id": 50,
    "text": "",
    "answers": []
  },
  {
    "id": 51,
    "text": "",
    "answers": []
  },
  {
    "id": 52,
    "text": "",
    "answers": []
  },
  {
    "id": 53,
    "text": "",
    "answers": []
  },
  {
    "id": 54,
    "text": "",
    "answers": []
  },
  {
    "id": 55,
    "text": "",
    "answers": []
  },
  {
    "id": 56,
    "text": "",
    "answers": []
  },
  {
    "id": 57,
    "text": "",
    "answers": []
  },
  {
    "id": 58,
    "text": "",
    "answers": []
  },
  {
    "id": 59,
    "text": "",
    "answers": []
  },
  {
    "id": 60,
    "text": "",
    "answers": []
  },
  {
    "id": 61,
    "text": "",
    "answers": []
  },
  {
    "id": 62,
    "text": "",
    "answers": []
  },
  {
    "id": 63,
    "text": "",
    "answers": []
  },
  {
    "id": 64,
    "text": "",
    "answers": []
  },
  {
    "id": 65,
    "text": "",
    "answers": []
  },
  {
    "id": 66,
    "text": "",
    "answers": []
  },
  {
    "id": 67,
    "text": "",
    "answers": []
  },
  {
    "id": 68,
    "text": "",
    "answers": []
  },
  {
    "id": 69,
    "text": "",
    "answers": []
  },
  {
    "id": 70,
    "text": "",
    "answers": []
  },
  {
    "id": 71,
    "text": "",
    "answers": []
  },
  {
    "id": 72,
    "text": "",
    "answers": []
  }
]