[
  {
    "id": 1,
    "text": "Автор: Моnкеу\n\nЖанр: потеряшка\n\nУгрюмый особняк становится вашим пристанищем. Вы не помните ни собственного имени, ни как оказались здесь — только отчаянно ищите выход.\n\nА особняк ищет вас. \n",
    "answers": [
      {
        "id": 2,
        "text": "Начать"
      },
      {
        "id": 42,
        "text": "Достижения"
      }
    ]
  },
  {
    "id": 2,
    "text": "empty",
    "answers": [
      {
        "need_sometimes": false,
        "id": 2,
        "text": "Вы очнулись в незнакомом вам месте и огляделись по сторонам: кажется вы находитесь в старом доме, но даже смутно не догадываетесь, кому он может принадлежать. ",
        "need": [
          -3,
          -4,
          -5,
          -6,
          -7,
          -8,
          -9,
          -10,
          -11
        ],
        "merge": true
      },
      {
        "id": 2,
        "text": "\n\nПрямо перед вами полутемный коридор оканчивается уходящей вниз лестницей, но вы не можете разглядеть ее очертаний — она будто скрыта от глаз тонкой пеленой тумана. В коридор с обеих сторон выходят двери: четыре по правую от вас руку и две слева. Вы обращаете внимание, что пол коридора застлан ковровой дорожкой, но будучи в самом начале изумрудно-зеленой, она становилась все бледнее, чем ближе была к лестнице — последний метр совсем истлел.\n\nПервая дверь справа находится в обрамлении выкрашенных в салатовый цвет стен и освещается газовым рожком. Вторая и третья двери соседствовали с электрическими лампами, а стены рядом с ними оказались укрыты темно-зелеными обоями с причудливыми вензелями. Освещение у четвертой комнаты не работает — вы не смогли разглядеть подробностей. \n\nПозади вас оказалась массивная деревянная дверь в рамке из разноцветного витража. За стеклом было темно — вероятно, ночь. ",
        "merge": true
      },
      {
        "id": 2,
        "text": "\n\nПо левую руку вы обнаруживаете покрытый паутиной грубый рубильник — он задран в положении вверх. ",
        "need": [
          -8
        ],
        "merge": true
      },
      {
        "id": 2,
        "text": "\n\nПо левую руку вы обнаруживаете покрытый паутиной грубый рубильник — он находится в положении вниз. ",
        "need": [
          8
        ],
        "merge": true
      },
      {
        "id": 9,
        "text": "Дернуть рубильник",
        "need": [
          8
        ],
        "forget": [
          8
        ]
      },
      {
        "id": 8,
        "text": "Дернуть рубильник",
        "need": [
          -8
        ]
      },
      {
        "id": 3,
        "text": "Открыть дверь в рамке витража"
      },
      {
        "id": 86,
        "text": "Заметить что-то",
        "need": [
          -86
        ],
        "var_equal": [
          "финал",
          1
        ]
      },
      {
        "id": 4,
        "text": "Открыть первую дверь",
        "var_set": [
          "действие",
          0
        ]
      },
      {
        "var_equal": [
          "игра",
          1
        ],
        "id": 53,
        "text": "Открыть вторую дверь",
        "need": [
          36,
          21
        ],
        "var_set": [
          "действие",
          0
        ]
      },
      {
        "id": 5,
        "text": "Открыть вторую дверь",
        "var_less": [
          "этап",
          2
        ],
        "var_set": [
          "действие",
          0
        ]
      },
      {
        "id": 57,
        "text": "Открыть третью дверь",
        "need": [
          36,
          21
        ],
        "var_equal": [
          "игра",
          1
        ]
      },
      {
        "id": 6,
        "text": "Открыть третью дверь",
        "var_less": [
          "этап",
          2
        ]
      },
      {
        "id": 58,
        "text": "Открыть четвертую дверь",
        "need": [
          59
        ]
      },
      {
        "id": 7,
        "text": "Открыть четвертую дверь",
        "need": [
          -59
        ]
      },
      {
        "id": 10,
        "text": "Открыть первую дверь слева"
      },
      {
        "id": 11,
        "text": "Открыть вторую дверь слева"
      },
      {
        "id": 87,
        "text": "Идти в подвал",
        "need": [
          86
        ]
      }
    ]
  },
  {
    "id": 3,
    "text": "Вы беретесь за ручку в форме головы медведя и пытаетесь открыть дверь, но та не поддается — закрыто.",
    "answers": [
      {
        "isBack": true,
        "text": "Назад",
        "backstepCount": 1,
        "id": 3
      }
    ]
  },
  {
    "id": 4,
    "text": "Вы заглядываете в комнату. \n\n",
    "answers": [
      {
        "id": 4,
        "text": " Темно, слишком темно. Свет от газового рожка падает из коридора, но будто поглощается обитающей здесь тьмой. Не решившись блуждать в темноте, вы закрываете дверь и возвращаетесь в коридор.",
        "need": [
          -8
        ],
        "merge": true
      },
      {
        "id": 4,
        "text": " Комната тускло освещена висящей под потолком лампочкой. Стоит вам шагнуть внутрь помещения, как дверь с грохотом захлопывается позади вас.\n\nВ углу комнаты на кровати сидит темноволосая девочка лет шести и осоловело смотрит на вас. Кажется, она еще не привыкла к свету. Помимо кровати вы видите детский стол со стульчиком и плотно закрытое шторами окно. В комнате нет ни игрушек, ни книг.",
        "need": [
          8
        ],
        "merge": true
      },
      {
        "id": 12,
        "text": "Поговорить с девочкой",
        "need": [
          8
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "var_equal": [
          "кукла",
          0
        ],
        "id": 13,
        "text": "Открыть шторы",
        "need": [
          8
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_less": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "var_sub": [
          "шаг",
          1
        ],
        "id": 15,
        "text": "Закрыть шторы",
        "need": [
          8,
          27
        ],
        "forget": [
          27
        ]
      },
      {
        "var_add": [
          "действие",
          1,
          "шаг",
          1
        ],
        "var_equal": [
          "игра",
          1
        ],
        "id": 27,
        "text": "Открыть шторы",
        "need": [
          -27,
          8
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "need": [
          8
        ],
        "var_need": [
          "действие",
          2
        ]
      },
      {
        "id": 2,
        "text": "Выйти из комнаты",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 5,
    "text": "Вы заглядываете в комнату. ",
    "answers": [
      {
        "id": 5,
        "text": " Темно, слишком темно. Свет от лампы падает из коридора, но будто поглощается обитающей здесь тьмой. Не решившись блуждать в темноте, вы закрываете дверь и возвращаетесь в коридор.",
        "need": [
          -8
        ],
        "merge": true
      },
      {
        "id": 5,
        "text": " Комната тускло освещена висящей под потолком лампочкой. Стоит вам шагнуть внутрь помещения, как дверь с грохотом захлопывается позади вас.\n\nЗа письменным столом сидела девушка — на вид ей лет двадцать, не больше. Темные косы ложились по плечам и почти сливались с черной тканью платья. Барышня, казалось, вас не замечает. \n\nПомимо прочего, вы видите в комнате аккуратно убранную постель, шкаф и прикроватную тумбочку.",
        "need": [
          8
        ],
        "merge": true
      },
      {
        "id": 5,
        "text": " Единственное в комнате окно пряталось за тяжелыми шторами позади стола.",
        "need": [
          8,
          -27
        ],
        "merge": true
      },
      {
        "id": 5,
        "text": "Вы замечаете, что шторы широко распахнуты, а за окном виднеется ночной город. ",
        "need": [
          8,
          27
        ],
        "merge": true
      },
      {
        "id": 22,
        "text": "Поговорить с девушкой",
        "need": [
          8
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 23,
        "text": "Осмотреть шкаф",
        "need": [
          8
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 24,
        "text": "Осмотреть тумбочку",
        "need": [
          8
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 25,
        "text": "Осмотреть письменный стол",
        "need": [
          8
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 26,
        "text": "Открыть шторы",
        "need": [
          8,
          -27
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 2,
        "text": "Выйти в коридор",
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 6,
    "text": "Вы заглядываете в комнату. \n\nОна ярко освещена поднимающимися к потолку оранжевыми языками пламени. Вы видите огромную дыру в стене, через которую уходит в небо поток едкого дыма, а на полу — распростертое тело женщины в черном платье. \n\nТолком не разглядеть, но вы замечаете растущую темную лужу под грудью незнакомки.\n\nС улицы в комнату доносится леденящий душу вой.\n",
    "answers": [
      {
        "id": 37,
        "text": "Тушить огонь"
      },
      {
        "id": 38,
        "text": "Вынести девушку из комнаты"
      },
      {
        "id": 39,
        "text": "Осмотреть девушку"
      },
      {
        "id": 2,
        "text": "Выйти в коридор"
      }
    ]
  },
  {
    "id": 7,
    "text": "Здесь царит полумрак. Через огромную дыру в стене виднеется алеющая полоска горизонта. Пыль и паутина захватили здесь власть.\n\nВсе вещи здесь кажутся серыми — обугленная кровать с черными прожилками и шкаф. Обломки дерева и кирпича лежат причудливой мозаикой на полу. \n\nЭто царство тьмы и пауков.",
    "answers": [
      {
        "id": 40,
        "text": "Выглянуть из дыры в стене"
      },
      {
        "id": 2,
        "text": "Выйти в коридор"
      }
    ]
  },
  {
    "id": 8,
    "text": "Вы смахиваете паутину с рукоятки и, ухватившись покрепче, дергаете рычаг в положение \"вниз\". \n\nПо стенам тут же пронесся едва различимый треск, но больше ничего не произошло. ",
    "answers": [
      {
        "isBack": true,
        "text": "Отойти",
        "id": 8,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 9,
    "text": "Вы поднимаете рычаг в положение \"вверх\". Тишина служит вам ответом.",
    "answers": [
      {
        "isBack": true,
        "text": "Отойти",
        "id": 9,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 10,
    "text": "Это кухня. Посередине захламленного стола горит одинокая свеча.\n\nНа стене справа от входа висит календарь, а в глубине комнаты тянутся длинными рядами полки с продуктами — банки, коробки, мешки с крупами.\n\nНа плите вы замечаете кастрюлю — она грязная с толстым слоем сажи, но на самом дне плещутся остатки супа — кухней несомненно кто-то пользуется. И может быть этот кто-то сейчас здесь.\n",
    "answers": [
      {
        "id": 43,
        "text": "Позвать хозяев",
        "need": [
          -43
        ]
      },
      {
        "id": 10,
        "text": "*Похоже обе ваши руки заняты, и вы не можете взять новую вещь*",
        "comment": true,
        "var_equal": [
          "свеча",
          0,
          "вещь",
          2
        ]
      },
      {
        "id": 44,
        "text": "Взять свечу",
        "var_add": [
          "свеча",
          1
        ],
        "var_less": [
          "вещь",
          2
        ]
      },
      {
        "id": 45,
        "text": "Осмотреть полки с продуктами"
      },
      {
        "id": 46,
        "text": "Осмотреть календарь"
      },
      {
        "id": 2,
        "text": "Выйти в коридор",
        "var_set": [
          "свеча",
          0
        ]
      }
    ]
  },
  {
    "id": 11,
    "text": "За этой дверью вы обнаруживаете подсобку — маленькую, буквально метр на метр. Компактный ряд шкафчиков с множеством ящиков, а под ногами ведро, полное мутной жижи.",
    "answers": [
      {
        "id": 11,
        "text": "*Похоже обе ваши руки заняты, и вы не можете взять новую вещь*",
        "comment": true,
        "var_equal": [
          "вещь",
          2
        ]
      },
      {
        "var_add": [
          "ведро",
          1,
          "вещь",
          1
        ],
        "var_equal": [
          "ведро",
          0
        ],
        "var_less": [
          "вещь",
          2
        ],
        "text": "Взять ведро",
        "id": 11
      },
      {
        "id": 50,
        "text": "Осмотреть ящики"
      },
      {
        "id": 2,
        "text": "Выйти в коридор"
      }
    ]
  },
  {
    "id": 12,
    "text": "empty",
    "answers": [
      {
        "id": 12,
        "text": "— Вы папин друг? — девочка с недоверием глядит на вас исподлобья. — Пришли поиграть со мной?\n\nНа ней было надето простенькое ситцевое серое платье. Возможно, серым и слегка дырявым оно стало от многочисленных стирок.",
        "merge": true,
        "var_equal": [
          "игра",
          0
        ]
      },
      {
        "id": 12,
        "text": "— Это снова ты! — Эмма, увидев вас, радостно машет руками. — Я ждала тебя! Поиграем еще?",
        "merge": true,
        "var_equal": [
          "игра",
          1
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 16,
        "text": "Спросить как ее зовут",
        "need": [
          -16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 17,
        "text": "Спросить где вы находитесь",
        "need": [
          16,
          -17
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 18,
        "text": "Спросить где ее родители",
        "need": [
          16,
          -18
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 19,
        "text": "Спросить как можно покинуть дом",
        "need": [
          16,
          -19
        ]
      },
      {
        "var_not": [
          "действие",
          2,
          "игра",
          1
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 21,
        "text": "Поиграть вместе",
        "need": [
          16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 20,
        "text": "Спросить про Лили",
        "need": [
          28,
          16,
          -20
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 36,
        "text": "Попросить ее быть тише",
        "need": [
          32,
          16,
          -36
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "сказка",
          1
        ],
        "id": 52,
        "var_sub": [
          "вещь",
          1
        ],
        "need": [
          16,
          -52
        ],
        "text": "Прочитать сказку"
      },
      {
        "id": 4,
        "text": "Прекратить разговор",
        "var_not": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 13,
    "text": "Вы подходите к окну и распахиваете тяжелые портьеры. Похоже, они висели здесь так долго, что успели обрасти внушительным слоем пыли. \n\n— Нет, нет, — девочка запротестовала и подлетела к вам, повиснув на рукаве. — Пожалуйста, не делайте этого, папин друг! Папа запрещает открывать окна и очень очень ругается...\n\n— Но немного солнца не повредит тебе...\n\nОднако, увидев вставшие в глазах девочки слезы, вы вновь запахнули тяжелые шторы и не успели даже глазком взглянуть на открывающийся из окон вид.",
    "answers": [
      {
        "id": 4,
        "text": "Отойти"
      }
    ]
  },
  {
    "id": 14,
    "text": "Внезапно вы чувствуете сильное головокружение — вас будто затягивает в водоворот, и через несколько мгновений вы уже не чувствуете ни рук, ни ног...\n\nОчнулись вы уже в знакомом коридоре, где у ног ваших расстилается пушистый зеленый ковер.\n\nВы стоите там же, откуда начинали путь.",
    "answers": [
      {
        "id": 2,
        "text": "В коридор"
      }
    ]
  },
  {
    "id": 15,
    "text": "Вы задергиваете шторы. В комнате становится неуютно.",
    "answers": [
      {
        "id": 4,
        "text": "Отойти"
      }
    ]
  },
  {
    "id": 16,
    "text": "— Эмма, — бесхитростно ответила девочка. — А вас?\n\nВы не знаете как вас зовут, поэтому оставляете вопрос девочки без ответа.\n",
    "answers": [
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 16,
        "text": "Спросить как ее зовут",
        "need": [
          -16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 17,
        "text": "Спросить где вы находитесь",
        "need": [
          16,
          -17
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 18,
        "text": "Спросить где ее родители",
        "need": [
          16,
          -18
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 19,
        "text": "Спросить как можно покинуть дом",
        "need": [
          16,
          -19
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 21,
        "text": "Поиграть вместе",
        "need": [
          16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 20,
        "text": "Спросить про Лили",
        "need": [
          28,
          16,
          -20
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 36,
        "text": "Попросить ее быть тише",
        "need": [
          32,
          16,
          -36
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "сказка",
          1
        ],
        "id": 52,
        "var_sub": [
          "вещь",
          1
        ],
        "need": [
          16,
          -52
        ],
        "text": "Прочитать сказку"
      },
      {
        "id": 4,
        "text": "Прекратить разговор",
        "var_not": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 16,
        "text": "\n\n\nНо она, похоже, уже забыла о чем спрашивала — девочка напевает мотив неизвестной вам песни и хлопает в такт ладошками.",
        "need": [
          -36
        ],
        "merge": true
      }
    ]
  },
  {
    "id": 17,
    "text": "— Конечно, дома, — девочка обводит рукой комнату. — А это все моя спальня.",
    "answers": [
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 16,
        "text": "Спросить как ее зовут",
        "need": [
          -16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 17,
        "text": "Спросить где вы находитесь",
        "need": [
          16,
          -17
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 18,
        "text": "Спросить где ее родители",
        "need": [
          16,
          -18
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 19,
        "text": "Спросить как можно покинуть дом",
        "need": [
          16,
          -19
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 21,
        "text": "Поиграть вместе",
        "need": [
          16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 20,
        "text": "Спросить про Лили",
        "need": [
          28,
          16,
          -20
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 36,
        "text": "Попросить ее быть тише",
        "need": [
          32,
          16,
          -36
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "сказка",
          1
        ],
        "id": 52,
        "var_sub": [
          "вещь",
          1
        ],
        "need": [
          16,
          -52
        ],
        "text": "Прочитать сказку"
      },
      {
        "id": 4,
        "text": "Прекратить разговор",
        "var_not": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 17,
        "text": "\n\nБудто подтверждая свои слова, девочка вскочила с постели и понеслась вскачь по пустой комнате. Вернувшись к вам, она совершает невообразимый кульбит и, задыхаясь, падает на кровать.\n\n— Но где именно и чей это дом? — уточняете вы. Вы непомерно любопытны сегодня.\n\n— Какой странный вопрос. Дом моих родителей. Разве вы не знаете? \n\nДевочка рассмеялась и скорчила рожицу.",
        "need": [
          -36
        ],
        "merge": true
      },
      {
        "id": 17,
        "text": "\n\nЭмма улыбается уголками губ.\n\n— Но где именно и чей это дом? — уточняете вы. Вы непомерно любопытны сегодня.\n\n— Какой странный вопрос. Дом моих родителей. Разве вы не знаете? \n\nДевочка старательно хмурится, чтобы не пуститься в пляс. Она помнит вашу просьбу.",
        "need": [
          36
        ],
        "merge": true
      }
    ]
  },
  {
    "id": 18,
    "text": "Девочка встает и подходит к стене. Она прижимается к ней лицом и раскидывает руки в стороны, будто для объятий, и прикрывает в неге глаза.\n\n— Здесь. Папа и мама здесь, — полушепотом выдохнула она.",
    "answers": [
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 16,
        "text": "Спросить как ее зовут",
        "need": [
          -16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 17,
        "text": "Спросить где вы находитесь",
        "need": [
          16,
          -17
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 18,
        "text": "Спросить где ее родители",
        "need": [
          16,
          -18
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 19,
        "text": "Спросить как можно покинуть дом",
        "need": [
          16,
          -19
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 21,
        "text": "Поиграть вместе",
        "need": [
          16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 20,
        "text": "Спросить про Лили",
        "need": [
          28,
          16,
          -20
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 36,
        "text": "Попросить ее быть тише",
        "need": [
          32,
          16,
          -36
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "сказка",
          1
        ],
        "id": 52,
        "var_sub": [
          "вещь",
          1
        ],
        "need": [
          16,
          -52
        ],
        "text": "Прочитать сказку"
      },
      {
        "id": 4,
        "text": "Прекратить разговор",
        "var_not": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 19,
    "text": "— Зачем нужно уходить? — искренне удивилась девочка. — Здесь тепло и кормят. Из дома никто никогда не уходит. ",
    "answers": [
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 16,
        "text": "Спросить как ее зовут",
        "need": [
          -16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 17,
        "text": "Спросить где вы находитесь",
        "need": [
          16,
          -17
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 18,
        "text": "Спросить где ее родители",
        "need": [
          16,
          -18
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 19,
        "text": "Спросить как можно покинуть дом",
        "need": [
          16,
          -19
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 21,
        "text": "Поиграть вместе",
        "need": [
          16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 20,
        "text": "Спросить про Лили",
        "need": [
          28,
          16,
          -20
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 36,
        "text": "Попросить ее быть тише",
        "need": [
          32,
          16,
          -36
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "сказка",
          1
        ],
        "id": 52,
        "var_sub": [
          "вещь",
          1
        ],
        "need": [
          16,
          -52
        ],
        "text": "Прочитать сказку"
      },
      {
        "id": 4,
        "text": "Прекратить разговор",
        "var_not": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 20,
    "text": "— Я не знаю никакой Лили, — нахмурилась девочка и смерила вас внимательным взглядом. — Вы путаете. Я у мамы и папы единственная девочка, и никто здесь больше не живет. ",
    "answers": [
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 16,
        "text": "Спросить как ее зовут",
        "need": [
          -16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 17,
        "text": "Спросить где вы находитесь",
        "need": [
          16,
          -17
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 18,
        "text": "Спросить где ее родители",
        "need": [
          16,
          -18
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 19,
        "text": "Спросить как можно покинуть дом",
        "need": [
          16,
          -19
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 21,
        "text": "Поиграть вместе",
        "need": [
          16
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "действие",
          1
        ],
        "id": 20,
        "text": "Спросить про Лили",
        "need": [
          28,
          16,
          -20
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 36,
        "text": "Попросить ее быть тише",
        "need": [
          32,
          16,
          -36
        ]
      },
      {
        "var_not": [
          "действие",
          2
        ],
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "сказка",
          1
        ],
        "id": 52,
        "var_sub": [
          "вещь",
          1
        ],
        "need": [
          16,
          -52
        ],
        "text": "Прочитать сказку"
      },
      {
        "id": 4,
        "text": "Прекратить разговор",
        "var_not": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 21,
    "text": "empty",
    "answers": [
      {
        "id": 21,
        "text": "— Здорово! — воскликнула девочка и радостно подпрыгнула на месте. — Во что мы будем играть? Я никогда ни с кем не играла!\n\nВы оглядываетесь по сторонам. В комнате нет ни одной игрушки. У вас нет идей во что можно поиграть с девочкой.",
        "merge": true,
        "var_equal": [
          "кукла",
          0
        ]
      },
      {
        "id": 21,
        "text": "— Здорово! — воскликнула девочка и радостно подпрыгнула на месте. — Во что мы будем играть? Я никогда ни с кем не играла!",
        "merge": true,
        "var_equal": [
          "игра",
          0,
          "кукла",
          1
        ]
      },
      {
        "id": 21,
        "text": "\n\n— В куклы! — вы протягиваете девочке найденную во второй комнате игрушку, и глаза ребенка загораются подобно двум огонькам. — Правда она у нас только одна, но как-нибудь выкрутимся.\n\n— Вот это да! — восклицает девочка. — Какая красивая!\n\nВы с сомнением поглядываете на кое-как перевязанный пучок соломы, призванный стать куклой — мало кто счел бы это красивым. Однако вы затеваете игру.\n\nКуклу помещаете на детский стул, а стул в свою очередь на стол. Получается башня, где заточена прекрасная принцесса. Вы вызываетесь стать драконом-охранником, а Эмма — храбрым принцем.\n\nПосле недолгой перепалки, вы -дракон- побеждены, а принцесса обретает свободу. Девочка в восторге. ",
        "merge": true,
        "var_equal": [
          "игра",
          1
        ]
      },
      {
        "var_not": [
          "игра",
          1
        ],
        "var_add": [
          "шаг",
          1,
          "игра",
          1,
          "этап",
          1
        ],
        "var_equal": [
          "кукла",
          1
        ],
        "id": 21,
        "var_sub": [
          "вещь",
          1
        ],
        "text": "Играть с куклой"
      },
      {
        "id": 67,
        "text": "Далее",
        "var_equal": [
          "шаг",
          2,
          "игра",
          1
        ]
      },
      {
        "id": 68,
        "text": "Далее",
        "var_equal": [
          "шаг",
          4,
          "игра",
          1
        ]
      },
      {
        "id": 69,
        "text": "Далее",
        "var_equal": [
          "шаг",
          6,
          "игра",
          1
        ]
      },
      {
        "id": 12,
        "text": "Далее",
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ],
        "var_equal": [
          "игра",
          1
        ]
      },
      {
        "id": 12,
        "text": "Далее",
        "var_equal": [
          "кукла",
          0
        ]
      }
    ]
  },
  {
    "id": 22,
    "text": "Девушка поднимает на вас безразличный взгляд. Она не спешит с приветствиями — ваше появление, казалось, не вызвало в ней даже любопытства. ",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_add": [
          "действие",
          1
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_add": [
          "действие",
          1
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 23,
    "text": "В шкафу  висит пара платьев, очень похожих на то, что было сейчас на девушке. Вы обращаете внимание, что шкаф слишком просторный для такого скудного гардероба.",
    "answers": [
      {
        "id": 5,
        "text": "Закрыть шкаф"
      }
    ]
  },
  {
    "id": 24,
    "text": "Девушка не обращает на вас никакого внимания. Вы подходите к тумбочке и  открываете первый же ящик.\n\nВнутри лежит простая соломенная кукла в грубо пошитой одежде.\n\n— Это я ее сделала, — отозвалась девушка из-за вашего плеча. — Можете ее взять, если хотите. Мне она уже ни к чему.\n\nОстальные ящики оказались пусты.",
    "answers": [
      {
        "id": 24,
        "text": "*Похоже обе ваши руки заняты, и вы не можете взять новую вещь*",
        "comment": true,
        "var_equal": [
          "вещь",
          2
        ]
      },
      {
        "id": 24,
        "text": "Взять куклу",
        "var_add": [
          "кукла",
          1,
          "вещь",
          1
        ],
        "var_no_more": [
          "кукла",
          0,
          "вещь",
          1
        ]
      },
      {
        "id": 5,
        "text": "Закрыть тумбочку"
      }
    ]
  },
  {
    "id": 25,
    "text": "На поверхности стола покоятся лишь локти девушки — барышня отбивала ноготком размеренный такт по дереву.\n\nВы не можете осмотреть ящики стола, пока здесь сидит хозяйка.",
    "answers": [
      {
        "id": 5,
        "text": "Отойти от стола"
      }
    ]
  },
  {
    "id": 26,
    "text": "Приглядевшись, вы поняли, что это невозможно — подойти к окну мешал длинный письменный стол, и, вдобавок ко всему, нижний край штор был зажат между подоконником и столешницей. \n\nСтол нельзя отодвинуть, пока за ним сидит хозяйка.",
    "answers": [
      {
        "id": 5,
        "text": "Отойти"
      }
    ]
  },
  {
    "id": 27,
    "text": "Эмма не возражает, а наоборот провожает вас любопытным взглядом. Похоже, она вам доверяет.\n\nВы распахиваете тяжелые пыльные портьеры и вглядываетесь в царящую за окном тьму. Там, из мрака ночи, выступали слабо освещенные фонарями скаты черепичных и железных крыш, кое-где виднелись залитые оранжевым светом перекрестки дорог.\n\n— Это так прекрасно... — шепчет Эмма откуда-то из-под вашего локтя. В ее глазах заплясали рыжие огоньки городских фонарей. — Кто-то рассыпал все эти бусины за окном... \n\nПока Эмма завороженно смотрит в окно, вы оглядели раму — открыть можно, но только наружу и не сильно, ибо рама упиралась в стальную решетку за окном.\n\n— Оно не открывается, — качает Эмма головой. — Окно и не должно открываться. Хоть бы папа не узнал...\n\nВы бросаете последний долгий взгляд на город и отходите от окна.\n\n",
    "answers": [
      {
        "id": 67,
        "text": "Далее",
        "var_equal": [
          "шаг",
          2
        ]
      },
      {
        "id": 68,
        "text": "Далее",
        "var_equal": [
          "шаг",
          4
        ]
      },
      {
        "id": 69,
        "text": "Далее",
        "var_equal": [
          "шаг",
          6
        ]
      },
      {
        "id": 4,
        "text": "Отойти",
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ]
      }
    ]
  },
  {
    "id": 28,
    "text": "— Лилит. Родные зовут Лили, — девушка опустила взгляд на столешницу и подперла щеку рукой.\n\nОна не спросила как зовут вас.",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28,
          -35
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38,
          28,
          -47
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 29,
    "text": "— Здесь. Дома. Правда, мамы давно уже не было ни слышно, ни видно. Я думаю, что она умерла, — голос девушки звучит холодно. — А папа в подвале, конечно же. Из коридора вниз по лестнице — его можно найти там.\n",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28,
          -35
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38,
          28,
          -47
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 30,
    "text": "— В моей спальне. Вас не интересуют подробности? Лондон, Великобритания. \n\nОна упрямо отводит взгляд, будто вас здесь нет на самом деле. ",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28,
          -35
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38,
          28,
          -47
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 31,
    "text": "— Через входную дверь, конечно же, или так же, как явились в этот дом, — девушка равнодушно пожимает плечами. Похоже, даже она сама не порадовалось собственной шутке. — Никто не покидает дом, но никто и не приходит. Только отец — по четвергам. Он покупает продукты.",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28,
          -35
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38,
          28,
          -47
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 32,
    "text": "— Ах, Эмма, — девушка печально вздыхает и впервые поднимает на вас полный нежности взгляд. — Моя младшая сестра... Она в соседней комнате, я знаю. Но Эмма будто не догадывается о моем существовании. Мы виделись слишком давно в последний раз... Постойте. Вы будете еще у Эммы? Заклинаю вас, передайте ей... Пусть будет потише. ",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28,
          -35
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38,
          28,
          -47
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 33,
    "text": "— Я не могу покидать своей комнаты. Никто не может, — откликнулась девушка. — Но если бы даже я могла... То все равно не пошла бы. И мой вам совет — не спускайтесь в подвал.",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28,
          -35
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38,
          28,
          -47
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 34,
    "text": "— Никакой дымки нет, — возражает девушка. — Этот дом самый обычный. Дом.\n\nНе имея доказательств, вы не спорите. ",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28,
          -35
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38,
          28,
          -47
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 35,
    "text": "— Мне здесь нравится, — отмахивается девушка. — Навевает воспоминания о школе. О письмах для подруг...\n\nОна погрузилась в собственные мысли.",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28,
          -35
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38,
          28,
          -47
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 36,
    "text": "Эмма сначала очень удивляется, но, поняв, что вы не шутите, кивает.\n\nОбычная энергичная Эмма отныне уступает место скромной и тихой Эмме — девочка старается изо всех сил по вашей просьбе, вы это видите.",
    "answers": [
      {
        "id": 67,
        "text": "Далее",
        "var_add": [
          "этап",
          1
        ],
        "var_equal": [
          "шаг",
          2
        ]
      },
      {
        "id": 68,
        "text": "Далее",
        "var_add": [
          "этап",
          1
        ],
        "var_equal": [
          "шаг",
          4
        ]
      },
      {
        "id": 69,
        "text": "Далее",
        "var_add": [
          "этап",
          1
        ],
        "var_equal": [
          "шаг",
          6
        ]
      },
      {
        "id": 12,
        "text": "Далее",
        "var_add": [
          "этап",
          1
        ],
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ]
      }
    ]
  },
  {
    "id": 37,
    "text": "Вы бросаетесь к огню, но быстро понимаете, что ничего не можете сделать — ",
    "answers": [
      {
        "id": 14,
        "text": "Далее"
      },
      {
        "id": 37,
        "text": " под рукой совсем нет подходящих вещей. Пятясь задом, вы вынуждены отступить. ",
        "merge": true,
        "var_equal": [
          "ведро",
          0
        ]
      },
      {
        "id": 37,
        "text": " огонь разбушевался слишком сильно, и в одиночку с ним вам не совладать.\n\nПятясь задом, вы вынуждены отступить. ",
        "merge": true,
        "var_equal": [
          "ведро",
          1
        ]
      }
    ]
  },
  {
    "id": 38,
    "text": "Вы подхватываете незнакомку на руки и бежите к двери. Голова женщины безвольно соскальзывает по вашей руке, откидываясь назад. Туго стянутые черные косы обвили шею, окрашенную бурым.\n\nВы дергаете дверную ручку и понимаете — дверь заперта. Вы наваливаетесь на нее всем телом, но она лишь скрипит и не поддается. Сзади подбирается огонь.\n\nВнезапно вы чувствуете сильное головокружение — вас будто затягивает в водоворот, и через несколько мгновений вы уже не чувствуете ни рук, ни ног...\n\n",
    "answers": [
      {
        "id": 2,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 39,
    "text": "Вы подбегаете к женщине и переворачиваете ее на спину. Туго стянутые чёрные косы прилипли к шее, окрашенной в бурый. Из груди незнакомки торчал острый деревянный обломок оконной рамы.\n\nВы можете только догадываться о том, как это произошло.\n\nЖенщина была мертва. ",
    "answers": [
      {
        "id": 14,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 40,
    "text": "Вы находитесь на уровне второго или третьего этажа — так трудно определить высоту. Внизу на земле уродливой кучей лежат обломки дома — камни и деревяшки.\n\nЗдесь можно спуститься, но не без риска.",
    "answers": [
      {
        "id": 41,
        "text": "Прыгнуть вниз"
      },
      {
        "id": 2,
        "text": "Выйти в коридор"
      }
    ]
  },
  {
    "id": 41,
    "text": "Примерившись, вы прыгаете. Внизу вас встречает гора обломков, и вы чувствуете как обе ноги вдруг разворачиваются под неестественным углом.\n\nВы кричите от боли и зовете на помощь, но никто не откликается.\n\nВы свободны от оков дома. Но ничего не можете сделать с этой свободой.",
    "answers": [
      {
        "id": 41,
        "text": "Получено достижение:\n\n\"Прыжок веры\"",
        "comment": true,
        "middle_answer": true
      },
      {
        "id": 1,
        "text": "Конец"
      }
    ]
  },
  {
    "id": 42,
    "text": "Здесь находятся ваши достижения. Пять особых событий ждут вас.",
    "answers": [
      {
        "need_ever": true,
        "comment": true,
        "id": 42,
        "text": "\"Прыжок веры\"",
        "need": [
          41
        ],
        "middle_answer": true
      },
      {
        "need_ever": true,
        "comment": true,
        "id": 42,
        "text": "\"Мой ангел\"",
        "need": [
          58
        ],
        "middle_answer": true
      },
      {
        "need_ever": true,
        "comment": true,
        "id": 42,
        "text": "\"Своя шкурка ближе к телу\"",
        "need": [
          82
        ],
        "middle_answer": true
      },
      {
        "need_ever": true,
        "comment": true,
        "id": 42,
        "text": "\"Кушать подано\"",
        "need": [
          78
        ],
        "middle_answer": true
      },
      {
        "need_ever": true,
        "comment": true,
        "id": 42,
        "text": "\"Я начинаю жить\"",
        "need": [
          92
        ],
        "middle_answer": true
      },
      {
        "id": 1,
        "text": "Назад"
      }
    ]
  },
  {
    "id": 43,
    "text": "Вы кричите. Сначала робко, а потом громче.\n\nВдруг тишину прорезает грохот слева от вас — железная кастрюля, громыхая, покатилась по полу.\n\nМожно ли считать, что на ваш зов никто не откликнулся?",
    "answers": [
      {
        "isBack": true,
        "text": "Назад",
        "id": 43,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 44,
    "text": "Огонь только начал поедать восковое тело — его света должно было хватить на долго.\n\nНо стоило вам приблизиться к выходу из кухни, как свеча вдруг затухала. Должно быть, здесь тянется сквозняк, который вы не почувствовали. ",
    "answers": [
      {
        "id": 10,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 45,
    "text": "empty",
    "answers": [
      {
        "id": 49,
        "text": "Поджечь полки",
        "need": [
          -49
        ],
        "var_equal": [
          "свеча",
          1
        ]
      },
      {
        "id": 10,
        "text": "Отойти"
      },
      {
        "id": 45,
        "text": "Запасов было так много, что, несомненно, семья из нескольких человек могла долгое время ни в чем не нуждаться. \n\nВы внимательно осматриваете запасы, но не находите в них ничего необычного.",
        "need": [
          -49
        ],
        "merge": true
      },
      {
        "id": 45,
        "text": "Самый голодный зверь - огонь - уничтожил запасы подчистую. Вместо забитых продовольствием полок вы теперь наблюдаете горы пепла и обломков.",
        "need": [
          49
        ],
        "merge": true
      }
    ]
  },
  {
    "id": 46,
    "text": "empty",
    "answers": [
      {
        "id": 48,
        "text": "Перевернуть календарь!",
        "need": [
          -48,
          31
        ]
      },
      {
        "id": 10,
        "text": "Отойти"
      },
      {
        "id": 46,
        "text": "Перед вами старый отрывной календарь. Смотрящий на вас лист сообщает: третье сентября, вторник.",
        "need": [
          -48
        ],
        "merge": true
      },
      {
        "id": 46,
        "text": "Перед вами старый отрывной календарь. Смотрящий на вас лист сообщает: пятое сентября, четверг.",
        "need": [
          48
        ],
        "merge": true
      }
    ]
  },
  {
    "id": 47,
    "text": "Вы рассказываете ей об увиденном за третьей дверью и просите уйти, но та отворачивается от вас:\n\n— Не хочу.\n\nКак бы вы ни убеждали ее, как бы ни описывали в красках увиденное, она только недоверчиво качала головой.",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 28,
        "text": "Спросить как ее зовут",
        "need": [
          -28
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 29,
        "text": "Спросить где ее родители",
        "need": [
          28,
          -29
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 30,
        "text": "Спросить где вы находитесь",
        "need": [
          28,
          -30
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 31,
        "text": "Спросить как можно покинуть дом",
        "need": [
          28,
          -31
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 32,
        "text": "Спросить про Эмму",
        "need": [
          28,
          16,
          -32
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 34,
        "text": "Спросить как пройти в подвал",
        "need": [
          28,
          -34
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 33,
        "text": "Попросить девушку проводить вас к отцу",
        "need": [
          29,
          28,
          -33
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 35,
        "text": "Попросить пересесть",
        "need": [
          26,
          27,
          28,
          -35
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "need_sometimes": true,
        "var_less": [
          "действие",
          2
        ],
        "id": 47,
        "text": "Попросить девушку уйти из комнаты",
        "need": [
          39,
          38,
          28,
          -47
        ],
        "var_add": [
          "действие",
          1
        ]
      },
      {
        "var_add": [
          "сказка",
          1,
          "шаг",
          1,
          "действие",
          1
        ],
        "var_equal": [
          "бумага",
          1
        ],
        "id": 51,
        "text": "Отдать ей бумагу",
        "need": [
          28,
          -51
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      },
      {
        "id": 5,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 48,
    "text": "Вы точно знаете, чего хотите. Один за одним падают на пол листки.\n\nТеперь каждый обитатель дома, бросив взгляд на календарь, мог увидеть: пятое сентября, четверг.",
    "answers": [
      {
        "id": 46,
        "text": "Отойти",
        "var_add": [
          "победа",
          1
        ]
      }
    ]
  },
  {
    "id": 49,
    "text": "Идея кощунственная. Если не сказать безумная. \n\nВы подносите оранжевый язычок к уголку холщового мешка и, стоит ему заняться, отходите от полок. Дым быстро заволакивает комнату, а огонь перебрасывается с одного предмета на другой.\n\nПодавляя кашель, вы вываливаетесь в коридор и плотно притворяете за собой дверь, но обнаруживаете, что дым и огонь не следуют за вами. Коридор оказался нетронут, а вы — в безопасности. ",
    "answers": [
      {
        "id": 2,
        "text": "Далее",
        "var_add": [
          "победа",
          1
        ]
      }
    ]
  },
  {
    "id": 50,
    "text": "Помимо разной хозяйственной всячины, вы обнаруживаете стопку помятых, но чистых листов бумаги, а так же чернила с пером.\n\nВы не уверены, что чернила еще можно использовать.",
    "answers": [
      {
        "id": 50,
        "text": "*Похоже обе ваши руки заняты, и вы не можете взять новую вещь*",
        "comment": true,
        "var_equal": [
          "вещь",
          2
        ]
      },
      {
        "var_add": [
          "бумага",
          1,
          "вещь",
          1
        ],
        "var_equal": [
          "бумага",
          0
        ],
        "id": 50,
        "text": "Взять бумагу и чернила",
        "var_less": [
          "вещь",
          2
        ]
      },
      {
        "id": 11,
        "text": "Отойти"
      }
    ]
  },
  {
    "id": 51,
    "text": "Лицо Лилит оживляется — она протягивает руки вам навстречу и с нежностью берет бумагу и чернила.\n\n— Как я по вам скучала, — шепчет девушка, обмакивая в чернильницу перо.\n\nНе обращая на вас внимания, Лилит склоняется над белым полотном и усердно выводит ровным почерком слова. Вы же садитесь на кровать, не решаясь вмешаться в этот сакральный процесс, и смотрите как парит серое перо в тонких пальцах.\n\nТрудно сказать, сколько прошло времени — Лилит протягивает вам стопку исписанных листков.\n\n— Вот, возьми. Это сказка.\n\nДевушка не собирается объяснять зачем вам нужна сказка. ",
    "answers": [
      {
        "id": 51,
        "text": " Она отворачивается в ту сторону, где должно быть окно, и подпирает щеку рукой. ",
        "need": [
          -27
        ],
        "merge": true
      },
      {
        "id": 51,
        "text": " Она отворачивается к окну, откуда виднеется ночной город, и подпирает щеку рукой. ",
        "need": [
          27
        ],
        "merge": true
      },
      {
        "id": 67,
        "text": "Далее",
        "var_equal": [
          "шаг",
          2
        ]
      },
      {
        "id": 68,
        "text": "Далее",
        "var_equal": [
          "шаг",
          4
        ]
      },
      {
        "id": 69,
        "text": "Далее",
        "var_equal": [
          "шаг",
          6
        ]
      },
      {
        "id": 22,
        "text": "Далее",
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ]
      }
    ]
  },
  {
    "id": 52,
    "text": "Эмма с радостью соглашается. Вдвоем вы садитесь на кровать, и вы начинаете читать.\n\nОчень скоро любопытная девочка начинает задавать вопросы, но не о сказке, и вы понимаете — ваша подруга не умеет читать.\n\n— Ты ведь меня научишь? — девочка молитвенно сложила руки, и вам ничего не осталось как согласиться.\n\nШаг за шагом Эмма благодаря вам освоила грамоту.",
    "answers": [
      {
        "id": 67,
        "text": "Далее",
        "var_equal": [
          "шаг",
          2
        ]
      },
      {
        "id": 68,
        "text": "Далее",
        "var_equal": [
          "шаг",
          4
        ]
      },
      {
        "id": 69,
        "text": "Далее",
        "var_equal": [
          "шаг",
          6
        ]
      },
      {
        "id": 12,
        "text": "Далее",
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ]
      }
    ]
  },
  {
    "id": 53,
    "text": "Вы заглядываете в комнату.  ",
    "answers": [
      {
        "id": 54,
        "text": "Поговорить с девушкой",
        "need": [
          8
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 53,
        "text": "Темно, слишком темно. Свет от газового рожка падает из коридора, но будто поглощается обитающей здесь тьмой. Не решившись блуждать в темноте, вы закрываете дверь и возвращаетесь в коридор.",
        "need": [
          -8
        ],
        "merge": true
      },
      {
        "id": 53,
        "text": "Внутри комнаты уже знакомый вам шкаф, письменный стол и кровать. ",
        "need": [
          8
        ],
        "merge": true
      },
      {
        "id": 53,
        "text": "Прямо за столом прячется плотно зашторенное окно.\n\nНа постели сидит девушка с распущенными пышными волосами и задумчиво болтает ногами в воздухе.",
        "need": [
          8,
          -27
        ],
        "merge": true
      },
      {
        "id": 53,
        "text": "Но шторы распахнуты и пускают внутрь комнаты дневной свет, а стол стоит на почтительном от них расстоянии.\n\nНа постели сидит девушка с распущенными пышными волосами и задумчиво болтает ногами в воздухе.",
        "need": [
          8,
          27
        ],
        "merge": true
      },
      {
        "id": 2,
        "text": "Выйти в коридор",
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 54,
    "text": "empty",
    "answers": [
      {
        "id": 54,
        "text": "Увидев вас, она расцветает в улыбке и встает навстречу:\n\n— Неужели это ты? Я столько лет тебя ждала, так мечтала увидеться вновь!",
        "need": [
          -61
        ],
        "merge": true
      },
      {
        "id": 54,
        "text": "В этот свой визит вы находите Эмму прекрасной: она кружится перед окном в черном бархатном платье с пышной юбкой, а такие же черные распущенные волосы игриво струятся по спине. \n",
        "need": [
          61,
          -62
        ],
        "merge": true
      },
      {
        "id": 54,
        "text": "Эмма сжимается в комок на постели: ее больше не радуют ни алые лепестки, ни кокетливая шляпка — веселый огонек в глазах потух.",
        "need": [
          62,
          -64
        ],
        "merge": true
      },
      {
        "id": 54,
        "text": "Эмма бежит к вам и заключает в сердечные объятия:\n\n— О, как я рада, что ты здесь! Мне так хотелось разделить с тобой свою радость. Он откликнулся! Стоял там внизу, как сумасшедший, и держал над головой ответ с признанием, выведенным огромными и невероятно милыми буквами! Я так счастлива... Так бесконечно счастлива!",
        "need": [
          64
        ],
        "merge": true
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 55,
        "text": "Спросить ее имя",
        "need": [
          -55
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 56,
        "text": "Просить Эмму покинуть дом",
        "need": [
          55,
          -56,
          -64
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 61,
        "text": "Подозвать Эмму к окну",
        "need": [
          27,
          55,
          -61
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 62,
        "text": "Осмотреть наряд девушки",
        "need": [
          61,
          -62,
          55
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 63,
        "text": "Спросить о причине печали",
        "need": [
          62,
          -63
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 64,
        "text": "Предложить написать юноше письмо",
        "need": [
          63,
          -64
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 65,
        "text": "Просить Эмму покинуть дом",
        "need": [
          64
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 53,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 55,
    "text": "Девушка вскидывает брови в немом изумлении, но отвечает:\n\n— Эмма. Я Эмма. Как же ты не помнишь наши игры? У драконов должна быть отличная память!\n\nДевушка скромно улыбнулась. Черты лица и пляшущие в глазах искорки и в самом деле напоминали ту шестилетнюю девочку, но теперь перед вами стоит юная особа примерно двадцати лет от роду. Пышные волосы, округлые мягкие формы бедер под ситцевым платьем. Возможно ли, чтобы это была она?\n\n— А где же Лилит? — спрашиваете вы — В этой комнате раньше жила она.\n\nЭмма снова удивилась:\n\n— Ты, верно, что-то путаешь, друг мой дракон. Я живу в этой комнате уже много-много лет. Именно здесь мы встретились впервые, и здесь ты отчаянно защищал башню принцессы.  Видно, тебя смутили вещи? Они появились однажды ночью. Похоже, их принес отец, — и следующие слова Эмма произнесла с расстановкой, будто ставила точку после каждого. — Никакой. Лилит. Здесь. Не было.",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 55,
        "text": "Спросить ее имя",
        "need": [
          -55
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 56,
        "text": "Просить Эмму покинуть дом",
        "need": [
          55,
          -56,
          -64
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 61,
        "text": "Подозвать Эмму к окну",
        "need": [
          27,
          55,
          -61
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 62,
        "text": "Осмотреть наряд девушки",
        "need": [
          61,
          -62,
          55
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 63,
        "text": "Спросить о причине печали",
        "need": [
          62,
          -63
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 64,
        "text": "Предложить написать юноше письмо",
        "need": [
          63,
          -64
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 65,
        "text": "Просить Эмму покинуть дом",
        "need": [
          64,
          -65
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 53,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 56,
    "text": "Девушка вновь села и потупила взор.\n\n— Уходить? Куда, зачем? Ради чего? Я не ведаю жизни вне этих стен. Они не только моя крепость — они и есть я. Нет... Не уйду.",
    "answers": [
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 55,
        "text": "Спросить ее имя",
        "need": [
          -55
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 56,
        "text": "Просить Эмму покинуть дом",
        "need": [
          55,
          -56,
          -64
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 61,
        "text": "Подозвать Эмму к окну",
        "need": [
          27,
          55,
          -61
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 62,
        "text": "Осмотреть наряд девушки",
        "need": [
          61,
          -62,
          55
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 63,
        "text": "Спросить о причине печали",
        "need": [
          62,
          -63
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "шаг",
          1,
          "действие",
          1
        ],
        "id": 64,
        "text": "Предложить написать юноше письмо",
        "need": [
          63,
          -64
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "var_add": [
          "действие",
          1
        ],
        "id": 65,
        "text": "Просить Эмму покинуть дом",
        "need": [
          64,
          -65
        ],
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 53,
        "text": "Закончить разговор",
        "var_less": [
          "действие",
          2
        ]
      },
      {
        "id": 14,
        "text": "Далее",
        "var_equal": [
          "действие",
          2
        ]
      }
    ]
  },
  {
    "id": 57,
    "text": "Вы заглядываете в комнату. \n\nОна ярко освещена поднимающимися к потолку оранжевыми языками пламени. Вы видите огромную дыру в стене, через которую уходит в небо поток едкого дыма, а на полу, уткнувшись лицом в колени, сидит женщина. Распущенные волосы рассыпались по плечам, укрыли кисти и лоб незнакомки.\n\nУслышав скрип двери, она встрепенулась:\n\n— Ты, это ты! О, какое счастье!\n\nЖенщина бросается к вам, и вы замечаете длинную продольную рану на ее лице, только затем поняв, что перед вами...\n\n— Эмма!\n\nОна постарела, осунулась, но вы сразу ее узнали.\n\n— Ты помнишь, ты помнишь... — едва не плача, сказала она. — Забери меня отсюда, пожалуйста, забери! \n\nЭмма схватила вас обеими руками за предплечья, и впилась в вас взглядом. Кровь на щеках смешалась со слезами. Из дыры в стене донесся душераздирающий вой. Огонь подкрадывался к вам.",
    "answers": [
      {
        "id": 59,
        "text": "Тушить огонь",
        "var_sub": [
          "вещь",
          1
        ],
        "var_equal": [
          "ведро",
          1
        ]
      },
      {
        "id": 60,
        "text": "Вывести Эмму в коридор"
      },
      {
        "id": 2,
        "text": "Выйти в коридор"
      }
    ]
  },
  {
    "id": 58,
    "text": "Вы нерешительно отворяете дверь.\n\nЗа огромной дырой в стене занимается рассвет, а в кресле-качалке лицом к солнцу сидит женщина. Ее длинные белые волосы спускаются вдоль спинки стола и едва ли не касаются пола. Женщина укрыта лоскутным одеялом и недвижима.\n\nВы медленно приближаетесь и заглядываете ей в лицо. Темный безобразный рубец пересекал щеку и спускался по подбородку к горлу. Старуха поднимает на вас взгляд блеклых глаз.\n\n— Спустя столько лет... Ты снова здесь, — ее шепот едва различим. — Ты... Ангел. Ведь так? Мой ангел... Почему я не пошла с тобой...\n\nОна помолчала некоторое время, как и вы, а затем снова заговорила.\n\n— Той ночью Лондон подвергся бомбардировке. Снаряд упал даже не на наш дом... Он стукнулся о соседнюю крышу, как спелый плод. И разорвался. Его силы хватило, чтобы раскрошить эту стену и вырвать окно. Осколок прочертил на моем лице след, о котором я никогда не забуду.\n\nЭмма снова молчит и горько ухмыляется.\n\n— Я никогда не покидала своей комнаты... Все, что у меня было — это ты. Теперь я готова уйти с тобой...\n\nОдин отрывистый вдох. Медленно сомкнулись веки.",
    "answers": [
      {
        "id": 58,
        "text": "Получено достижение:\n\n\"Мой ангел\"",
        "comment": true,
        "middle_answer": true
      },
      {
        "id": 2,
        "text": "В коридор"
      }
    ]
  },
  {
    "id": 59,
    "text": "Вы стали расплескивать вонючую жижу вокруг, а Эмма, вдохновившись вашим примером, пыталась сбить пламя одеждой из шкафа. \n\nИ борьба ваша увенчалась успехом. Огонь, не успевший охватить еще всей комнаты, затрещал и стих под вашим натиском. \n\nЭмма обессиленно опустилась на корточки и заплакала в голос, прикрывая рукой рану на лице.\n\n— Уходи, — выдыхает она, подавляя рыдания. — Не смотри на меня, только не смотри...\n\nВы пытаетесь возразить и помочь девушке, но она кричит и прогоняет вас прочь.",
    "answers": [
      {
        "id": 2,
        "text": "В коридор"
      }
    ]
  },
  {
    "id": 60,
    "text": "Вы перехватили руки Эммы и потащили женщину к двери. ",
    "answers": [
      {
        "id": 2,
        "text": "Далее"
      },
      {
        "id": 60,
        "text": "\n\nЗатем дергаете дверную ручку и понимаете — дверь заперта. Вы наваливаетесь на нее всем телом, но она лишь скрипит и не поддается. Сзади подбирается огонь.\n\nВнезапно вы чувствуете сильное головокружение — вас будто затягивает в водоворот, и через несколько мгновений вы уже не чувствуете ни рук, ни ног...",
        "merge": true,
        "var_equal": [
          "ключ",
          0
        ]
      },
      {
        "id": 60,
        "text": "\n\nЗатем вы пытаетесь вставить ключ в замок, но ваши пальцы так сильно дрожат, что ключ выпадает из рук и теряется в темноте. Сзади подбирается огонь.\n\nВнезапно вы чувствуете сильное головокружение — вас будто затягивает в водоворот, и через несколько мгновений вы уже не чувствуете ни рук, ни ног...",
        "merge": true,
        "var_equal": [
          "ключ",
          1
        ]
      }
    ]
  },
  {
    "id": 61,
    "text": "Вы замечаете, что за окном уже вовсю светит солнце, и зовете Эмму полюбоваться на город вместе с вами, как это было когда-то. Девушка с готовностью подходит к вам.\n\nПо тихим улочкам скользят немногочисленные прохожие — никто из них не глядит вверх на ваше окно. Вдруг Эмма почти прижимается лицом к стеклу и вскрикивает:\n\n— Вы только посмотрите какой на ней прекрасный наряд! \n\nВы следите за взглядом спутницы и видите женщину в черном пышном платье, усеянном алыми цветками роз. Голову дамы венчала такая же шляпка с чувственным цветком. Эмма, носившая серое ситцевое платье, была так неожиданно поражена, что следит за незнакомкой, не отрывая глаз. Вы решаете не тревожить пока девушку.",
    "answers": [
      {
        "id": 2,
        "text": "В коридор ",
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ]
      },
      {
        "id": 67,
        "text": "Далее",
        "var_equal": [
          "шаг",
          2
        ]
      },
      {
        "id": 68,
        "text": "Далее",
        "var_equal": [
          "шаг",
          4
        ]
      },
      {
        "id": 69,
        "text": "Далее",
        "var_equal": [
          "шаг",
          6
        ]
      }
    ]
  },
  {
    "id": 62,
    "text": "— Мне к лицу? — девушка кокетливо улыбается и приподнимает над головой черную шляпку, украшенную алой розой. — Я осмелилась просить отца. Ночью он прислал мне это. Правда невероятно? — восхищению не было предела. — Совсем как у той дамы.\n\nВы говорите какие-то слова, вызывая улыбку собеседницы, а после собираетесь уходить. Слова Эммы нагоняют вас в дверях:\n\n— Только приходи еще, хорошо? Я всегда тебя очень жду...",
    "answers": [
      {
        "id": 2,
        "text": "В коридор",
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ]
      },
      {
        "id": 67,
        "text": "Далее",
        "var_equal": [
          "шаг",
          2
        ]
      },
      {
        "id": 68,
        "text": "Далее",
        "var_equal": [
          "шаг",
          4
        ]
      },
      {
        "id": 69,
        "text": "Далее",
        "var_equal": [
          "шаг",
          6
        ]
      }
    ]
  },
  {
    "id": 63,
    "text": "— Ах, — Эмма опустилась на постель и отложила в сторону шляпку. — Распахнутое окно сыграло со мною злую шутку... Вот почему папа не хотел, чтобы оно было открыто, — и девушка мягко добавила, встретив ваш взгляд. — Я увидела на улице юношу. Он был так прекрасен и светел, что сразу захватил все мои мысли. Каждое утро я поднималась с постели и выглядывала его фигуру на мостовой, а потом мне показалось... Что он меня тоже увидел. В окне. А я с этой дурацкой шляпкой... Вечером, проходя мимо нашего дома, он поднимает глаза к моему окну и иногда подолгу стоит под деревом... Что если...\n\nОна замолкает и перебирает пальцами лепестки роз на подоле.\n\n— Что если он тоже чувствует это ко мне?\n\nВы мельком выглядываете в окно и замечаете юношу у забора. Он мечтательно прислонился к ограде спиной и поглядывал в вашу сторону.  Решетка мешала окну полностью открыться — влюбленные не смогли бы услышать друг друга, даже если бы захотели.\n\n",
    "answers": [
      {
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ],
        "var_add": [
          "шаг",
          1
        ],
        "id": 64,
        "text": "Предложить написать ему письмо",
        "var_set": [
          "финал",
          1
        ]
      },
      {
        "id": 2,
        "text": "Выйти в коридор",
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ]
      },
      {
        "id": 67,
        "text": "Далее",
        "var_equal": [
          "шаг",
          2
        ]
      },
      {
        "id": 68,
        "text": "Далее",
        "var_equal": [
          "шаг",
          4
        ]
      },
      {
        "id": 69,
        "text": "Далее",
        "var_equal": [
          "шаг",
          6
        ]
      }
    ]
  },
  {
    "id": 64,
    "text": "Румянец окрасил щеки девушки.\n\n— Как же я сама не подумала! — воскликнула она. — С нашей последней встречи я перечитывала принесенную тобой сказку много-много раз. И писала бы сама, будь у меня чернила.\n\nВы направляетесь в подсобку и приносите Эмме чернила с бумагой, как делали это когда-то для Лилит. Девушка сразу садится за стол. Мечтательные вздохи прерывались лишь скрипом пера, а вы наблюдали. Вскоре Эмма взволнованно сжала в руках записку.\n\nДевушка подошла к окну, отворила раму как можно шире и, поймав взгляд возлюбленного, опустила в щелочку листок бумаги. Тот соскользнул вниз, как голубка, и нашел приветливые руки.",
    "answers": [
      {
        "id": 2,
        "text": "В коридор",
        "var_not": [
          "шаг",
          2,
          "шаг",
          4,
          "шаг",
          6
        ],
        "var_set": [
          "финал",
          1
        ]
      },
      {
        "id": 67,
        "text": "Далее",
        "var_equal": [
          "шаг",
          2
        ]
      },
      {
        "id": 68,
        "text": "Далее",
        "var_equal": [
          "шаг",
          4
        ]
      },
      {
        "id": 69,
        "text": "Далее",
        "var_equal": [
          "шаг",
          6
        ]
      }
    ]
  },
  {
    "id": 65,
    "text": "Эмма едва дышала.\n\n— Там за окном несметные просторы, яркие огни, прекрасные наряды. О, как много мне может предложить этот мир! А самое главное — там ждет меня он, мой возлюбленный. Да, я всей душой алчу этого! Пожалуйста, давай уйдем отсюда вместе?\n\nВдвоем вы тянитесь к заветной дверной ручке — пальцы Эммы дрожат.  Дверь скрипнула, но не поддалась.\n\n— Заперто, — шепчет Эмма и едва не валится с ног.\n",
    "answers": [
      {
        "id": 91,
        "text": "Использовать ключ",
        "var_equal": [
          "ключ от комнаты",
          1
        ]
      },
      {
        "id": 66,
        "text": "Использовать ключ",
        "var_not": [
          "ключ от комнаты",
          1
        ],
        "var_equal": [
          "ключ",
          1
        ]
      },
      {
        "id": 2,
        "text": "Уйти без Эммы"
      }
    ]
  },
  {
    "id": 66,
    "text": "Вы достаете украденный из подвала ключ, и глаза девушки вновь загораются надеждой.\n\nОднако на пробу выясняется — ключ не подходит к замку. Ни один из связки.\n\nДевушка разочарована, но не удивлена.",
    "answers": [
      {
        "id": 2,
        "text": "Уйти без Эммы"
      }
    ]
  },
  {
    "id": 67,
    "text": "Внезапно вы чувствуете сильное головокружение — вас будто затягивает в водоворот, и через несколько мгновений вы уже не чувствуете ни рук, ни ног...\n\nОчнулись вы уже в знакомом коридоре, где у ног ваших расстилается пушистый зеленый ковер. Только в этот раз вас окутала тьма. Будучи почти кромешной, она прорезалась единственным огоньком — в дальнем конце коридора, там, где совсем истлел ковер, на первой ступени лестницы стоял серебряный канделябр. Из четырех свечей горит одна. \n\nВы оглядываетесь. Пламя свечи задрожало и, взвившись в последний раз, потухло. Вы погрузились во тьму. \n\nВдруг по стенам побежал глухой треск, с каждым мгновением приближаясь к вам все ближе, а потом так же внезапно стих. Вы прислушиваетесь. Отчетливо слышен стук вашего сердца. \n\nНад самым ухом раздался шелест:\n\n— Ходит, ходит... Бродит по этажам, хлопает дверьми... И думает что я не вижу, что я не слышу. \n\nДоски пола рядом с вами стонали и прогинались, будто кто-то шагал вокруг вас.\n\n— Спрячься в норку лучше, зайчик, — внушает хриплый голос. — Иначе я тебя найду!\n\nПоследний крик зазвененл у вас в ушах, так что вы вдруг за них схватились и зажмурились, но в следующее мгновение тьма отступила — зажглись лампы на стенах. Вы стоите в коридоре в полном диночестве.\n",
    "answers": [
      {
        "id": 2,
        "text": "Далее"
      },
      {
        "id": 67,
        "text": "Укажите команды для картинки",
        "url": "https://i.postimg.cc/7LST9KWm/IMG-20241015-185949-502.jpg"
      }
    ]
  },
  {
    "id": 68,
    "text": "Внезапно вы чувствуете сильное головокружение — вас будто затягивает в водоворот, и через несколько мгновений вы уже не чувствуете ни рук, ни ног...\n\nОчнулись вы вновь в коридоре — позади дверь в витражном обрамлении, а впереди длинный коридор с рядом дверей.\n\nТолько все было как-то иначе.\n\nТягучий голос эхом разлетелся по этажу, отскакивая от стен:\n\n— Раз, два, три, четыре, пять,\nЯ иду тебя искать,\nСпрячься, но не закричи,\nСкроюсь я в ночи.\n\nИзменчиво замигали огни ламп.",
    "answers": [
      {
        "id": 70,
        "text": "Бежать через витражную дверь!"
      },
      {
        "id": 71,
        "text": "В первую комнату!"
      },
      {
        "id": 72,
        "text": "Во вторую комнату!"
      },
      {
        "id": 73,
        "text": "В третью комнату!"
      },
      {
        "id": 74,
        "text": "В четвертую комнату!"
      },
      {
        "id": 75,
        "text": "В первую дверь слева!"
      },
      {
        "id": 76,
        "text": "Во вторую дверь слева!"
      },
      {
        "need_sometimes": true,
        "forget": [
          8
        ],
        "text": "Рубильник вверх!",
        "need": [
          8
        ],
        "id": 9
      },
      {
        "id": 8,
        "text": "Рубильник вниз!",
        "need": [
          -8
        ]
      },
      {
        "id": 68,
        "text": "Укажите команды для картинки",
        "url": "https://i.postimg.cc/9Xgzd3fc/IMG-20241015-185955-839.jpg"
      }
    ]
  },
  {
    "id": 69,
    "text": "Внезапно вы чувствуете сильное головокружение — вас будто затягивает в водоворот, и через несколько мгновений вы уже не чувствуете ни рук, ни ног...\n\nОчнулись вы вновь в коридоре — позади дверь в витражном обрамлении, а впереди длинный коридор с рядом дверей.\n\nВ конце пути вы замечаете уже виденный вами канделябр — в этот раз горело три свечи из четырех. Появляется и голос:\n\n— Чего ты добиваешься, маленький зайчик? — он начал вкрадчиво. — Все скачешь и скачешь по дому, грызешь провода. Тебе хотелось уйти? Так уходи. Прямо сейчас.\n\nИз витражного обрамления двери позади вас полился мягкий свет, будто снаружи наконец-то встало солнце.\n\n— Я даю тебе эту возможность. Уходи и не возвращайся.",
    "answers": [
      {
        "id": 82,
        "text": "Пройти через витражную дверь"
      },
      {
        "id": 83,
        "text": "Отказаться"
      },
      {
        "id": 69,
        "text": "Укажите команды для картинки",
        "url": "https://i.postimg.cc/Rh2MjB3f/IMG-20241015-190000-215.jpg"
      }
    ]
  },
  {
    "id": 70,
    "text": "Вы трясете ручку — дверь не поддалась.\n\nВремя уходит!\n\n",
    "answers": [
      {
        "isBack": true,
        "text": "Отойти",
        "id": 70,
        "backstepCount": 1
      }
    ]
  },
  {
    "id": 71,
    "text": "Вы ныряете в первую дверь. ",
    "answers": [
      {
        "id": 77,
        "text": "Спрятаться под кроватью"
      },
      {
        "id": 77,
        "text": "Спрятаться под столом"
      },
      {
        "id": 77,
        "text": "Спрятаться под одеялом"
      },
      {
        "id": 71,
        "text": "\n\nЗдесь темно, но вы точно помните как была расставлена в комнате мебель. От кровати доносится звук — кажется девочка прячется под одеялом.",
        "need": [
          -8
        ],
        "merge": true
      },
      {
        "id": 71,
        "text": "\n\nТусклый свет лампочки освещает комнату — вся обстановка как на ладони. Вы замечаете испуганные глаза, что таращатся на вас из-под одеяла. Хозяйка комнаты пряталась.",
        "need": [
          8
        ],
        "merge": true
      },
      {
        "id": 71,
        "text": "\n\nВ коридоре уже гораздо ближе вновь прозвучал насмешливый голос: \n\n— Четыре, три, два, раз,\nЯ найду тебя сейчас.\nНо тебя нигде нет,\nОтменяется обед...",
        "merge": true
      }
    ]
  },
  {
    "id": 72,
    "text": "Вы ныряете во вторую дверь. ",
    "answers": [
      {
        "id": 77,
        "text": "Спрятаться под кроватью"
      },
      {
        "id": 77,
        "text": "Спрятаться под столом"
      },
      {
        "id": 84,
        "text": "Спрятаться в шкафу"
      },
      {
        "id": 77,
        "text": "Спрятаться под одеялом"
      },
      {
        "id": 72,
        "text": "\n\nЗдесь темно, но вы точно помните как была расставлена в комнате мебель. От кровати доносится звук — кажется девушка прячется под одеялом.",
        "need": [
          -8
        ],
        "merge": true
      },
      {
        "id": 72,
        "text": "\n\nТусклый свет лампочки освещает комнату — все обстановка как на ладони. Вы замечаете бледное обескровленное лицо, исчезающее под одеялом. Хозяйка комнаты пряталась.",
        "need": [
          8
        ],
        "merge": true
      },
      {
        "id": 72,
        "text": "\n\nВ коридоре уже гораздо ближе вновь прозвучал насмешливый голос: \n\n— Поищу тебя в кладовке,\nИ приступим мы к готовке!\nДевочек люблю поесть,\nСколько съел я и не счесть!",
        "need": [
          -8
        ],
        "merge": true
      }
    ]
  },
  {
    "id": 73,
    "text": "Вы вваливаетесь в комнату, охваченную пламенем. Задыхаясь от едкого дыма, вы едва различаете чей-то тихий плач, а затем и насмешливый голос за спиной:\n\n— Обернись!",
    "answers": [
      {
        "id": 78,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 74,
    "text": "Вы вбегаете в комнату, резко захлопываете за собой дверь, подпирая ее спиной, и оглядываетесь. Комната освещалась предрассветным солнцем и все, на что падал взгляд, было либо изуродовано пожаром, либо изничтожено временем. \n\nВ коридоре уже гораздо ближе вновь прозвучал насмешливый голос: \n\n— Четыре, три, два, раз,\nЯ найду тебя сейчас.\nНо тебя нигде нет,\nОтменяется обед...",
    "answers": [
      {
        "id": 80,
        "text": "Прятаться в шкафу"
      },
      {
        "id": 80,
        "text": "Прятаться под столом"
      },
      {
        "id": 80,
        "text": "Прятаться под кроватью"
      }
    ]
  },
  {
    "id": 75,
    "text": "Перед вами кухня. Вы оцениваете взглядом длинные стеллажи с продуктами и другие возможные укрытия. \n\nВ коридоре уже гораздо ближе вновь прозвучал насмешливый голос: \n\n— Четыре, три, два, раз,\nЯ найду тебя сейчас.\nНо тебя нигде нет,\nОтменяется обед...",
    "answers": [
      {
        "id": 79,
        "text": "Спрятаться между стеллажей"
      },
      {
        "id": 79,
        "text": "Спрятаться под столом"
      },
      {
        "id": 81,
        "text": "Спрятаться за плитой"
      }
    ]
  },
  {
    "id": 76,
    "text": "Вы ныряете в подсобку. Прятаться здесь особо негде, поэтому вы аккуратно прикрываете дверь и замираете, прислушиваясь.\n\nНасмешливый голос раздается в коридоре гораздо ближе:\n\n— Поищу тебя в кладовке,\nИ приступим мы к готовке!\nДевочек люблю поесть,\nСколько съел я и не счесть!\n\nВ то же мгновение дверь распахивается и вам в глаза бьет яркий свет — нечеткий мужской силуэт нависает над вами.",
    "answers": [
      {
        "id": 78,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 77,
    "text": "Вы направляетесь к укрытию и замираете там. Хозяйка не проронила ни слова.\n\nКомната охвачена противоестественной тишиной. А потом над вашим ухом раздается голос:\n\n— Четыре, три, два, раз\nСъем я тебя сейчас!\nОбернись!",
    "answers": [
      {
        "id": 78,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 78,
    "text": "Вас хватают грубые руки, волокут по полу. Вы брыкаетесь, а затем ваша голова ударяется о ступеньку, и вы теряете сознание.\n\nПервым вы чувствуете запах влаги и плесени. Открыв глаза, вы обнаруживаете себя в подвешенной к потолку клетке — она оказалось такой маленькой, что лучше подошла бы птице.\n\nСерые бетонные полы и стены подсказывают вам — вы в подвале. Оглядевшись, вы замечаете и хозяина дома.\n\nОн стоит к вам спиной, напевая вслух какую-то детскую песенку, но руки его движутся с пугающей точностью.\n\nВжих-вжих.\n\nХолодно блестит сталь.\n\n— Зайчик попался, — мужчина поворачивается к вам, поигрывая тесаком мясника в руке. — Сиди он в своей норке — не попался бы охотнику на стол. \n\nТесак знал свое дело, как и державшие его руки.",
    "answers": [
      {
        "id": 78,
        "text": "Получено достижение:\n\n\"Кушать подано\"",
        "comment": true,
        "middle_answer": true
      },
      {
        "id": 1,
        "text": "Конец"
      },
      {
        "id": 68,
        "text": "Вернуться к контрольной точке"
      }
    ]
  },
  {
    "id": 79,
    "text": "Вы ныряете в свое убежище и зажмуриваетесь, стараясь выровнять дыхание. \n\nПроходят мгновения. Кухня окутана поразительной тишиной. А затем над самым ухом раздается голос:\n\n— Четыре, три, два, раз\nСъем я тебя сейчас!\nОбернись!",
    "answers": [
      {
        "id": 78,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 80,
    "text": "Вы перебегаете от одного укрытия к другому, но всякий раз вещи от ваших прикосновений рассыпаются серой трухой. И вот, когда надежды, казалось бы, уже не было, над самым вашим ухом прозвучал вкрадчивый голос:\n\n— Четыре, три, два, раз\nСъем я тебя сейчас!\nОбернись!",
    "answers": [
      {
        "id": 78,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 81,
    "text": "Вы пролезаете в узкое пространство между плитой и шкафом, и замираете там, стараясь выровнять дыхание.\n\nПроходят мгновения. Вдруг вы отчетливо слышите шаги, звучащие неподалеку. Они прошаркали неподалеку — подошли к столу. Повременели. И вновь звуки шагов стали отдаляться.\n\nВы облегченно выдыхаете и расслабляете напряженное тело. И это становится ошибкой. Сдвинув плиту буквально на сантиметр, вы качнули стоявшую на ней кастрюлю — та с грохотом покатилась по кафельным полам кухни. \n\nВы не успели решить — бежать вам или прятться, как совсем рядом зазвучал насмешливый голос: \n\n— Четыре, три, два, раз\nСъем я тебя сейчас!\nОбернись!",
    "answers": [
      {
        "id": 78,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 82,
    "text": "Вы поворачиваетесь спиной к полутемному коридору и беретесь за ручку в форме головы. Эта дверь всегда была заперта. Будет ли она закрыта и сейчас?\n\nВы осторожно поворачиваете ручку.\n\nМеханизм скрипнул, и дверь приоткрылась.\n\nТеплый дневной свет бьет вам в лицо, вы чувствуете поток свежего бодрящего осеннего воздуха и шагаете на каменные ступени крыльца. Мимо дома с шумом проносятся громоздкие невиданные автомобили, бегут по своим делам прохожие — никто из них не обращает никакого внимания на вас, будучи занятыми разговорами или собственными мыслями.  \n\nДверь позади вас звучно захлопывается.\n\nВы спускаетесь на тротуар и окидываете взглядом мрачный викторианский особняк, видавший виды, и здания кирпичных многоэтажек рядом. Какое причудливое соседство.\n\nНо с каждым новым вдохом воспоминания о запертых комнатах, о затхлом воздухе коридора особняка все больше уходят от вас. На смену им являлись одно за другим ваши утраченные воспоминания...\n\n— Ох, кажется я опаздываю на работу! — восклицаете вы и бежите против людского потока, поглядывая на часы Биг Бена.",
    "answers": [
      {
        "id": 82,
        "text": "Получено достижение: \n\n\"Своя шкурка ближе к телу\"",
        "comment": true,
        "middle_answer": true
      },
      {
        "id": 1,
        "text": "Конец"
      }
    ]
  },
  {
    "id": 83,
    "text": "Голос рычит, голос угрожает вам. Стены и пол стали трястись как в приступе старческой ярости руки сумасшедшего. Но вы не дрожите.\n\nУ вас еще есть неоконченное дело.",
    "answers": [
      {
        "id": 2,
        "text": "В коридор"
      }
    ]
  },
  {
    "id": 84,
    "text": "Вы распахиваете створки шкафа и скрываетесь в нем, укутываясь в висящие наряды. Через щелку между дверок вы наблюдаете часть комнаты и слишком поздно замечаете — край вашей одежды предательски высовывался наружу. ",
    "answers": [
      {
        "id": 78,
        "text": "Далее",
        "need": [
          8
        ]
      },
      {
        "id": 2,
        "text": "Выйти в коридор",
        "need": [
          -8
        ]
      },
      {
        "id": 84,
        "text": "\n\nС тихим скрипом открылась ведущая в комнату дверь. Неспешные, но твердые шаги раздались следом. Вы стараетесь выровнять дыхание и не сводите глаз с щели, из которой падал свет. Там вы видите темный силуэт мужчины — он встал, оглянулся... \n\nИ с ядовитым смехом потянулся к шкафу! Было слишком светло, и ваша ошибка стала заметна! Еще до того, как вы успеваете вдохнуть, дверцы распахиваются...",
        "need": [
          8
        ],
        "merge": true
      },
      {
        "id": 84,
        "text": "\n\nС тихим скрипом открылась ведущая в комнату дверь. Неспешные, но твердые шаги раздались следом. Вы стараетесь выровнять дыхание и не своди глаз с щели, из которой едва сочился свет коридора. Там вы видите темный силуэт мужчины — он встал, оглянулся...\n\n— Четыре, три, два, раз,\nЯ найду тебя сейчас.\nНо тебя нигде нет,\nОтменяется обед...\n\nВы вновь слышите эти шаги, но они уже удаляются. Вновь скрипнула дверь. Вы отсиживаетесь в своем укрытии еще какое-то время, и только убедившись в безопасности решаете выйти. Спрятавшаяся в постели девушка провожает вас испуганным взглядом.\n\nКоридор снова пуст и светел. Даже дышать стало легче.",
        "need": [
          -8
        ],
        "merge": true
      }
    ]
  },
  {
    "id": 85,
    "text": "",
    "answers": [
      {
        "id": 2,
        "text": "Символы разбиения текста",
        "comment": true,
        "middle_answer": true
      },
      {
        "lua_do": "function lua_do()\nnewTitleSeparator = \"::\"\nendTitleSeparator = \"<s>\n\"\nendPageSeparator = \"<s>\n<s>\n\"\nnewParagraphSeparator = \"<s>\n\"\nnewButtonSeparator = \"[[\"\nendButtonSeparator = \"]]\"\nnewLinkSeparator = \"|\"\ntab = \"     \" -- в ТК не работает табуляция, она может быть заменена пробелами\n\nfunction getMask(separator)\n   return string.gsub(separator, \"<s>\n\", \"<s><s><s>\n\")\nend\n\nfunction ltrim(textWithSpaces)\n   return utf8.match((textWithSpaces or \"\"), \"^[%s]*(.-)$\")\nend\n\nend",
        "comment": true,
        "super_calculate": false,
        "middle_answer": false,
        "text": "Символы разбиения текста",
        "calculate": true,
        "id": 2
      },
      {
        "id": 2,
        "text": "Вывод разделителей",
        "comment": true,
        "lua_text": "function lua_text()\nlocal text = \"Начало заголовка: \" .. getMask(newTitleSeparator) .. \n                   \"<s>\nКонец заголовка: \" .. getMask(endTitleSeparator) .. \n                   \"<s>\nКонец страницы: \" .. getMask(endPageSeparator) .. \n                   \"<s>\nНовый абзац: \" .. getMask(newParagraphSeparator) .. \n                   \"<s>\n<s>\nНовая кнопка: \" .. getMask(newButtonSeparator) .. \n                   \"<s>\nНачало ссылки: \" .. getMask(newLinkSeparator) .. \n                    \"<s>\nКонец кнопки: \" .. getMask(endButtonSeparator)\n\nif unloadTabs then\n   text = text .. \"<s>\nВыгружать пробелы табуляции.\"\nelse\n   text = text .. \"<s>\nНе выгружать пробелы табуляции.\"\nend\n\nif unloadLinks then\n   text = text .. \"<s>\n<s>\nВключена выгрузка связей между страницами. <s>\n\"\nelse\n   text = text .. \"<s>\n<s>\nВыгрузка связей между страницами отключена.\"\nend\n\nif isWindows then\n   text = text .. \"<s>\n<s>\nСпособ выгрузки: \"\n   if needUnloadToFile then text = text .. \"в файл\"\n   else text = text .. \"в текст страницы\"\n   end\nend\nreturn text\nend"
      },
      {
        "instant": true,
        "id": 9,
        "text": "Включить / выключить выгрузку пробелов табуляции",
        "lua_do": "function lua_do()\nunloadTabs = not unloadTabs\nend",
        "go_to": [
          "global current_id"
        ]
      },
      {
        "instant": true,
        "id": 9,
        "text": "Включить / выключить выгрузку связей между страницами",
        "lua_do": "function lua_do()\nunloadLinks = not unloadLinks\nend",
        "go_to": [
          "global current_id"
        ]
      },
      {
        "comment": true,
        "super_calculate": false,
        "id": 3,
        "calculate": true,
        "lua_do": "function lua_do()\n   isWindows = false\n   if system.getInfo(\"platform\") == \"win32\" then\n      isWindows = true\n   end\nend",
        "text": "  "
      },
      {
        "comment": false,
        "lua_if": "function lua_if()\nreturn isWindows\nend",
        "instant": true,
        "id": 3,
        "text": "Изменить способ выгрузки",
        "lua_do": "function lua_do()\n   needUnloadToFile = not needUnloadToFile\nend",
        "go_to": [
          "global current_id"
        ]
      },
      {
        "id": 2,
        "text": "  ",
        "comment": true
      },
      {
        "answerIcon": [
          "http://188.120.236.127/aleks_otter/load_unload_quest/fantasy.png"
        ],
        "comment": false,
        "text": "Выгрузить квест",
        "lua_do": "function lua_do()\n   -- укажите в переменной pages номера и/или диапазоны страниц через запятую\n   -- диапазоны указываются через \"-\"\n\n   local pageNumsStr = \"1-100\"   \n   \n   local filename \n   if needUnloadToFile then filename = getFilename() end\n   if (not needUnloadToFile) or filename then\n      local pageNumbers = preparePagesNums(pageNumsStr)   -- подготовка\n      local questContent = getQuestContent(pageNumbers)   -- получение содержимого страниц\n      unloadQuest(questContent, filename) -- непосредственно выгрузка\n   end\nend",
        "instant": true,
        "id": 19,
        "go_to": [
          "global current_id"
        ]
      },
      {
        "text": "Непосредственно выгрузка",
        "comment": true,
        "super_calculate": false,
        "id": 2,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction unloadQuest(questContent, filename)\n   if filename then\n      local file, errorString = io.open(filename, \"w\" )\n      if not file then\n         local exception = native.showAlert(\"Ошибка\", \"File error: \" .. errorString, {\"ОК\"})\n      else\n         file:write(questContent)\n         io.close( file )\n         local mess = native.showAlert(\"Выгрузка завершена\", filename, {\"ОК\"})\n      end\n   else\n      pages[g.current_id].text = questContent\n   end\nend\nend",
        "instant": false
      },
      {
        "text": "Проверка имени файла",
        "comment": true,
        "super_calculate": false,
        "id": 2,
        "calculate": true,
        "lua_do": "function lua_do()\nfunction getFilename()\n   local path, fileName, ext\n   local fullFileName = pages[g.current_id].text .. \"\"\n   path,fileName = fullFileName:match(\"^%s*(.-)([^<s><s><s><s>/]*)$\")\n   if fileName then\n      ext = fileName:match(\"[^%.]*%.?(.*)$\")\n   end\n\n   local exception\n   if ext == \"txt\" then\n      local file, errorString = io.open(fullFileName, \"w\" )\n      if not file then\n         exception = native.showAlert(\"Ошибка\", \"Недопустимый путь к файлу. <s>\n File error: \" .. errorString, {\"ОК\"})\n      else\n         io.close( file )\n      end\n   else\n      fullFileName = nil\n      exception = native.showAlert(\"Ошибка\", \"Некорректное расширение файла. Загружаемый файл должен иметь расширение .txt\", {\"ОК\"})\n   end\n   return fullFileName\nend\nend",
        "instant": false
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction preparePagesNums(pageNumsStr)\n   local pageNumbers = {}\n   local startPage, endPage, num = -1\n   local startPageStr, endPageStr =\"\"\n   for numStr in utf8.gmatch(\" \" .. pageNumsStr .. \",\", \"(.-),\") do\n\n      -- если указан диапазон страниц, \n      if utf8.find(numStr, \"-\") then\n         startPageStr, endPageStr = utf8.match(numStr, \"(%d<plus>)-(%d<plus>)\")\n         startPage, endPage = -1\n         if startPageStr and endPageStr then\n            startPage = tonumber(startPageStr)\n            endPage = tonumber(endPageStr)\n         end\n\n         -- если удалось определить границы диапазона, добавляем в массив каждую из них\n         if startPage and endPage and startPage > 0 and endPage > startPage then\n            for i = startPage, endPage do\n               table.insert(pageNumbers, i)\n            end\n         end\n      else\n         -- отдельная страница\n         num = tonumber(numStr)\n         if num then table.insert(pageNumbers, num) end\n      end\n   end\n   return pageNumbers\nend\nend",
        "calculate": true,
        "text": "Определяем номера страниц, которые нужно выгружать\nаргумент - строка, содержащая номера и/или диапазоны страниц через запятую\n",
        "id": 2
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction getQuestContent(pageNums)\n   local content = \"\"\n   local curPage = {}\n   local x = 1\n   local y = 1 \n   for i, curNum in ipairs(pageNums) do\n      curPage = pages[curNum]\n      if curPage then\n         content = unloadPage(content, curPage, x*100, y*100)\n         \n         if math.fmod(x, 10) == 0 then\n            y = y <plus> 1\n            x = 1\n         else\n            x = x <plus> 1\n         end\n      end\n   end\n   return content\nend\nend",
        "calculate": true,
        "id": 2,
        "text": "Перебор страниц и их поочерёдная выгрузка\nаргумент pageNums - массив чисел\n"
      },
      {
        "comment": true,
        "super_calculate": false,
        "lua_do": "function lua_do()\nfunction unloadPage(resultText, currentPage, x, y)\n   if not currentPage then return end\n   -- начало новой страницы\n   if resultText ~= \"\" then\n      resultText = resultText .. endPageSeparator\n   end\n\n   -- номер страницы - в качестве заголовка\n   resultText = resultText .. newTitleSeparator .. currentPage.id .. \" <\" .. x .. \",\" .. y .. \">\" .. endTitleSeparator\n   \n   -- текст страницы\n   if unloadTabs then\n      resultText = resultText .. currentPage.text\n   else\n      resultText = resultText .. utf8.gsub (ltrim(currentPage.text), (newParagraphSeparator .. tab), newParagraphSeparator)\n   end\n   \n   -- кнопки\n   local buttons = currentPage.answers\n   for i, curButton in ipairs(buttons) do\n      resultText = resultText .. newParagraphSeparator .. newButtonSeparator .. curButton.text\n      -- ссылки на страницы, если надо\n      if unloadLinks then\n         resultText = resultText .. newLinkSeparator .. curButton.id\n      end\n      resultText = resultText .. endButtonSeparator\n   end\n\n   return resultText\nend\nend",
        "calculate": true,
        "id": 2,
        "text": "Выгрузка одной страницы\nаргумент resultText - суммарное содержимое выгружаемых страниц\nаргумент currentPage - таблица выгружаемой страницы\nаргументы X и Y - координаты параграфа в Twine\n"
      },
      {
        "id": 1,
        "text": "На первую страницу"
      }
    ]
  },
  {
    "id": 86,
    "text": "Перед вами тот же коридор, что и прежде, но в этот раз вы замечаете одиноко стоящий у лестницы канделябр. Все четыре его свечи горят ярким пламенем.\n\nВы подходите и поднимаете его с пола. Туман, окутывавший лестницу, расступается перед вами.\n\nДорога в подвал свободна.\n\n",
    "answers": [
      {
        "id": 87,
        "text": "Идти в подвал"
      },
      {
        "id": 2,
        "text": "Вернуться в коридор"
      }
    ]
  },
  {
    "id": 87,
    "text": "Старая каменная лестница порой осыпается под вашими ногами. Она уводит вас по спирали под землю, и спустя некоторое время наконец в поле вашего зрения появляется дверь — такая же старая и немного прогнившая.\n\nВы осторожно входите в помещение. Здесь пахнет сыростью и плесенью, а воздух, казалось, застояся здесь со времен короля Вильгельма. Принесенный вами свет разгоняет обитавшую здесь тьму.",
    "answers": [
      {
        "var_not": [
          "победа",
          2
        ],
        "need_sometimes": true,
        "id": 87,
        "text": "\n\nГлаз торопливо выхватывает разные предметы обстановки — клетки, цепи у стен... И силуэт мужчины в глубине комнаты. Тот замечает вас раньше.  \n\nМужчина с рычанием бросается к вам, а вы — назад к лестнице.",
        "merge": true
      },
      {
        "id": 87,
        "text": "\n\nГлаз торопливо выхватывает разные предметы обстановки — клетки, цепи у стен, в глубине комнаты стол... В нескольких местах пол обрывался ямой. Кто бы ни хозяйничал здесь — сейчас его не было видно.",
        "need": [
          49,
          48
        ],
        "merge": true
      },
      {
        "id": 88,
        "text": "Осмотреть стол",
        "need": [
          49,
          48
        ]
      },
      {
        "id": 89,
        "text": "Осмотреть клетки",
        "need": [
          49,
          48
        ]
      },
      {
        "id": 90,
        "text": "Осмотреть неприметную тумбочку",
        "need": [
          49,
          48
        ]
      },
      {
        "id": 2,
        "text": "Выйти из подвала",
        "need": [
          49,
          48
        ]
      },
      {
        "id": 78,
        "text": "Далее",
        "var_not": [
          "победа",
          2
        ]
      }
    ]
  },
  {
    "id": 88,
    "text": "На столе вы находите множество инструментов — они будто упорядочены по какому-то признаку, но вы не можете разгадать по какому. В остальном эта смесь напоминала свалку из садовых, хирургических и кухонных инструментов.\n\nНад столом вы обнаруживаете вбитые в стену металлические крюки, на каждом из которых болталась связка ключей.",
    "answers": [
      {
        "id": 88,
        "text": "Взять связку из двух ключей",
        "var_add": [
          "ключ от комнаты",
          1,
          "ключ",
          1
        ],
        "var_equal": [
          "ключ",
          0
        ]
      },
      {
        "id": 88,
        "text": "Взять связку из четырех ключей",
        "var_add": [
          "ключ",
          1
        ],
        "var_equal": [
          "ключ",
          0
        ]
      },
      {
        "id": 88,
        "text": "Взять связку из трех ключей",
        "var_add": [
          "ключ",
          1
        ],
        "var_equal": [
          "ключ",
          0
        ]
      },
      {
        "id": 88,
        "text": "*Ранее вы взяли ключ*",
        "comment": true,
        "var_equal": [
          "ключ",
          1
        ]
      },
      {
        "var_equal": [
          "ключ",
          1
        ],
        "id": 88,
        "text": "Вернуть ключ и выбрать другой",
        "var_sub": [
          "ключ",
          1
        ],
        "var_set": [
          "ключ от комнаты",
          0
        ]
      },
      {
        "id": 87,
        "text": "Отойти от стола"
      }
    ]
  },
  {
    "id": 89,
    "text": "Клети ржавые и сильно пахнут железом. Сейчас они открыты, а внутри ничего нет.",
    "answers": [
      {
        "id": 87,
        "text": "Отойти"
      }
    ]
  },
  {
    "id": 90,
    "text": "Вы шарите по ящикам и вскоре обнаруживаете лист бумаги.\n\nЭто записка:\n\n\"Что ты рассчитывал здесь найти, маленький зайчик?\"",
    "answers": [
      {
        "id": 87,
        "text": "Отойти"
      }
    ]
  },
  {
    "id": 91,
    "text": "Вы достаете украденный из подвала ключ, и глаза девушки вновь загораются надеждой.\n\nПервый же ключ из связки плавно входит в личинку замка и... проворачивается с легким щелчком.\n\nВы с Эммой, озираясь, выходите в коридор. Судя по реакции девушки, ей никогда не доводилось здесь бывать. Вы ведете ее к входной двери.\n\nОт витражного обрамления исходит мягкий свет. \n\nВдруг Эмма падает на колени перед дверью и тянется к ней рукой, а затем отдергивает ее назад, будто обжегшись. По щекам девушки скользят крупные слезы.\n\n— Я и мечтать о подобном не смела...\n\nВнезапно она разворачивается к вам и обнимает руками вокруг талии, прижимаясь заплаканным лицом к животу.\n\n— Прости меня, прости... Прости меня, Лилит! — она поднимает на вас красные глаза. — Неужели ты думала, что я не узнаю тебя, сестренка? После того, как ты тихо проскальзывала ко мне по ночам, чтобы читать вместе написанную тобой сказку? Вопреки наказу отца ты выбиралась из комнаты, рискуя всем... Я должна была уйти с тобой еще тогда, будучи малышкой. Ах, прости меня за все, что довелось тебе пережить, Лилит!\n\nУтраченные воспомиания проносятся в вашей голове с ужасающей скоростью. Вы хотите ответить, но дом позади вас заскрипел, как разъяренный старик. Вы поднимаете Эмму за руки и с силой дергаете ручку в форме головы медведя.",
    "answers": [
      {
        "id": 92,
        "text": "Далее"
      }
    ]
  },
  {
    "id": 92,
    "text": "Механизм скрипнул, и дверь приоткрылась.\n\nТеплый дневной свет бьет вам в лицо, вы чувствуете поток свежего бодрящего осеннего воздуха и шагаете на каменные ступени крыльца, ведя за собой Эмму. Мимо дома с шумом проносятся громоздкие невиданные автомобили, бегут по своим делам прохожие — никто из них не обращает никакого внимания на вас, будучи занятыми разговорами или собственными мыслями.  \n\nДверь позади вас звучно захлопывается.\n\nВы спускаетесь на тротуар и окидываете взглядом мрачный викторианский особняк, видавший виды, и здания кирпичных многоэтажек рядом. Какое причудливое соседство.\n\nЭмма щурится от яркого света и прижимается к вам лицом. Вы сторонитесь, чтобы пропустить большую группу людей и улавливаете  несколько фраз, брошенных женщиной с бейджиком:\n\n— Особняк викторианской эпохи также пострадал во времена первой мировой войны. Несколько снарядов угодили в его стены и создали брешь, которую заделали уже при реставрации. В подвале особняка исследователи обнаружили порядка восемнадцати скелетов, принадлежавщих неизвстным людям. Большинство из них — женские. Особенно хорошо сохранились два — матери и дочери. О них ничего не известно, только что девушка при жизни собирала волосы в косы. Предположительно, именно в этом доме проживал печально известный Лондонский Мясник. Давайте посмотрим на убранство дома. Проходите. Осторожно, ступенька.\n\nНе обращая на вас внимания, группа пестро одетых людей прошла в те двери, из которых вы так мечтали выйти.\n\n— Папа лишь хотел нас защитить... Он не был...\n\nЭмма выронила из рук черную шляпку с алой розой — головной убор покатился по тротуару.\n\nВы молчите некоторое время, а затем Эмма спрашивает:\n\n— Что дальше, Лилит?\n\n— Дальше... Жизнь.",
    "answers": [
      {
        "id": 92,
        "text": "Получено достижение:\n\n\"Я начинаю жить\"",
        "comment": true,
        "middle_answer": true
      },
      {
        "id": 1,
        "text": "КОНЕЦ"
      }
    ]
  },
  {
    "id": 93,
    "text": "",
    "answers": []
  },
  {
    "id": 94,
    "text": "",
    "answers": []
  },
  {
    "id": 95,
    "text": "",
    "answers": []
  }
]